(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[418],{52064:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Agent=void 0;let n=r(21233),i=r(19734),o=r(55090),a=r(91478),s=r(61508),l=r(99997),c=r(90978),u=r(90944),d=r(71555),f=r(65600),p=r(84269),h=r(72899),y=r(88959),g=r(42707),v=r(26852),m=r(59078),b=r(30183),_=r(86865),w=r(3632),S=r(24446),O=r(79275),M=r(39269);class R extends h.BaseAgent{constructor(e,t=new c.DependencyManager){let r=new f.AgentConfig(e.config,e.dependencies),i=(0,p.extendModulesWithDefaultModules)(e.modules);if(t.registerSingleton(_.MessageHandlerRegistry),t.registerSingleton(v.EventEmitter),t.registerSingleton(S.MessageSender),t.registerSingleton(w.MessageReceiver),t.registerSingleton(O.TransportService),t.registerSingleton(y.Dispatcher),t.registerSingleton(g.EnvelopeService),t.registerSingleton(b.FeatureRegistry),t.registerSingleton(s.JwsService),t.registerSingleton(u.DidCommMessageRepository),t.registerSingleton(u.StorageVersionRepository),t.registerSingleton(u.StorageUpdateService),t.registerInstance(a.SigningProviderToken,"default"),t.registerInstance(f.AgentConfig,r),t.registerInstance(o.InjectionSymbols.AgentDependencies,r.agentDependencies),t.registerInstance(o.InjectionSymbols.Stop$,new n.Subject),t.registerInstance(o.InjectionSymbols.FileSystem,new r.agentDependencies.FileSystem),t.registerModules(i),!t.isRegistered(o.InjectionSymbols.Wallet))throw new l.AriesFrameworkError("Missing required dependency: 'Wallet'. You can register it using one of the provided modules such as the AskarModule or the IndySdkModule, or implement your own.");if(t.isRegistered(o.InjectionSymbols.Logger)||t.registerInstance(o.InjectionSymbols.Logger,r.logger),!t.isRegistered(o.InjectionSymbols.StorageService))throw new l.AriesFrameworkError("Missing required dependency: 'StorageService'. You can register it using one of the provided modules such as the AskarModule or the IndySdkModule, or implement your own.");t.isRegistered(o.InjectionSymbols.MessageRepository)||t.registerSingleton(o.InjectionSymbols.MessageRepository,d.InMemoryMessageRepository),t.registerInstance(M.AgentContext,new M.AgentContext({dependencyManager:t,contextCorrelationId:"default"})),t.isRegistered(o.InjectionSymbols.AgentContextProvider)||t.registerSingleton(o.InjectionSymbols.AgentContextProvider,M.DefaultAgentContextProvider),super(r,t)}registerInboundTransport(e){this.messageReceiver.registerInboundTransport(e)}async unregisterInboundTransport(e){await this.messageReceiver.unregisterInboundTransport(e)}get inboundTransports(){return this.messageReceiver.inboundTransports}registerOutboundTransport(e){this.messageSender.registerOutboundTransport(e)}async unregisterOutboundTransport(e){await this.messageSender.unregisterOutboundTransport(e)}get outboundTransports(){return this.messageSender.outboundTransports}get events(){return this.eventEmitter}get features(){return this.featureRegistry}async initialize(){let e=this.dependencyManager.resolve(o.InjectionSymbols.Stop$);for(let[,t]of(this.messageSubscription=this.eventEmitter.observable(m.AgentEventTypes.AgentMessageReceived).pipe((0,i.takeUntil)(e),(0,i.concatMap)(e=>this.messageReceiver.receiveMessage(e.payload.message,{connection:e.payload.connection,contextCorrelationId:e.payload.contextCorrelationId}).catch(e=>{this.logger.error("Failed to process message",{error:e})}))).subscribe(),await super.initialize(),Object.entries(this.dependencyManager.registeredModules)))t.initialize&&await t.initialize(this.agentContext);for(let e of this.inboundTransports)await e.start(this);for(let e of this.outboundTransports)await e.start(this);if(this.mediationRecipient.config.mediatorInvitationUrl){this.logger.debug("Provision mediation with invitation",{mediatorInvitationUrl:this.mediationRecipient.config.mediatorInvitationUrl});let e=await this.getMediationConnection(this.mediationRecipient.config.mediatorInvitationUrl);await this.mediationRecipient.provision(e)}await this.mediator.initialize(),await this.mediationRecipient.initialize(),this._isInitialized=!0}async shutdown(){let e=this.dependencyManager.resolve(o.InjectionSymbols.Stop$);e.next(!0);let t=[...this.inboundTransports,...this.outboundTransports],r=t.map(e=>e.stop());await Promise.all(r),this.wallet.isInitialized&&await this.wallet.close(),this._isInitialized=!1}async getMediationConnection(e){let t=await this.oob.parseInvitation(e),r=await this.oob.findByReceivedInvitationId(t.id),[n]=r?await this.connections.findAllByOutOfBandId(r.id):[];if(!n){this.logger.debug("Mediation connection does not exist, creating connection");let e=await this.mediationRecipient.getRouting({useDefaultMediator:!1});this.logger.debug("Routing created",e);let{connectionRecord:r}=await this.oob.receiveInvitation(t,{routing:e});if(this.logger.debug("Mediation invitation processed",{outOfBandInvitation:t}),!r)throw new l.AriesFrameworkError("No connection record to provision mediation.");return this.connections.returnWhenIsConnected(r.id)}return n.isReady?n:this.connections.returnWhenIsConnected(n.id)}}t.Agent=R},65600:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentConfig=void 0;let n=r(55090),i=r(78492),o=r(91696);class a{constructor(e,t){var r;this.initConfig=e,this._endpoints=e.endpoints,this.label=e.label,this.logger=null!==(r=e.logger)&&void 0!==r?r:new i.ConsoleLogger(i.LogLevel.off),this.agentDependencies=t}get walletConfig(){return this.initConfig.walletConfig}get didCommMimeType(){var e;return null!==(e=this.initConfig.didCommMimeType)&&void 0!==e?e:o.DidCommMimeType.V1}get useDidKeyInProtocols(){var e;return null===(e=this.initConfig.useDidKeyInProtocols)||void 0===e||e}get endpoints(){return this._endpoints&&0!==this._endpoints.length?this._endpoints:[n.DID_COMM_TRANSPORT_QUEUE]}set endpoints(e){this._endpoints=e}get useDidSovPrefixWhereAllowed(){var e;return null!==(e=this.initConfig.useDidSovPrefixWhereAllowed)&&void 0!==e&&e}get connectionImageUrl(){return this.initConfig.connectionImageUrl}get autoUpdateStorageOnStartup(){var e;return null!==(e=this.initConfig.autoUpdateStorageOnStartup)&&void 0!==e&&e}extend(e){return new a(Object.assign(Object.assign(Object.assign({},this.initConfig),{logger:this.logger,label:this.label}),e),this.agentDependencies)}toJSON(){var e,t,r,n;return Object.assign(Object.assign({},this.initConfig),{walletConfig:Object.assign(Object.assign({},this.walletConfig),{key:(null===(e=this.walletConfig)||void 0===e?void 0:e.key)?"[*****]":void 0,storage:Object.assign(Object.assign({},null===(t=this.walletConfig)||void 0===t?void 0:t.storage),{credentials:(null===(n=null===(r=this.walletConfig)||void 0===r?void 0:r.storage)||void 0===n?void 0:n.credentials)?"[*****]":void 0})}),logger:this.logger.logLevel,agentDependencies:!!this.agentDependencies,label:this.label})}}t.AgentConfig=a},92583:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AgentMessage=void 0;let o=r(5902),a=r(21500),s=r(58956),l=r(14251),c=r(70913),u=r(57151),d=r(98018),f=r(76586),p=r(9905),h=r(51465),y=r(51071),g=(0,u.ThreadDecorated)((0,l.L10nDecorated)((0,f.TransportDecorated)((0,d.TimingDecorated)((0,a.AckDecorated)((0,s.AttachmentDecorated)((0,c.ServiceDecorated)(y.BaseMessage)))))));class v extends g{constructor(){super(...arguments),this.allowDidSovPrefix=!1}toJSON({useDidSovPrefixWhereAllowed:e}={}){let t=p.JsonTransformer.toJSON(this);return this.allowDidSovPrefix&&e&&(0,h.replaceNewDidCommPrefixWithLegacyDidSovOnMessage)(t),t}is(e){return this.type===e.type.messageTypeUri}}n([(0,o.Exclude)(),i("design:type",Boolean)],v.prototype,"allowDidSovPrefix",void 0),t.AgentMessage=v},84269:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentApi=t.extendModulesWithDefaultModules=void 0;let n=r(33003),i=r(12609),o=r(52560),a=r(75954),s=r(83296),l=r(12398),c=r(52414),u=r(37761),d=r(40446),f=r(52729),p=r(34601),h=r(76826),y=r(43141);t.extendModulesWithDefaultModules=function(e){let t=Object.assign({},e);for(let[r,g]of Object.entries({connections:()=>new o.ConnectionsModule,credentials:()=>new a.CredentialsModule,proofs:()=>new f.ProofsModule,mediator:()=>new p.MediatorModule,mediationRecipient:()=>new p.MediationRecipientModule,messagePickup:()=>new u.MessagePickupModule,basicMessages:()=>new n.BasicMessagesModule,genericRecords:()=>new c.GenericRecordsModule,discovery:()=>new l.DiscoverFeaturesModule,dids:()=>new s.DidsModule,wallet:()=>new y.WalletModule,oob:()=>new d.OutOfBandModule,w3cCredentials:()=>new h.W3cCredentialsModule,cache:()=>new i.CacheModule}))e&&e[r]||(t[r]=g());return t},t.getAgentApi=function(e,t=[]){let r=Object.entries(e.registeredModules).reduce((r,[n,i])=>{if(!i.api)return r;let o=e.resolve(i.api);return t.includes(o)?r:Object.assign(Object.assign({},r),{[n]:o})},{});return r}},72899:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAgent=void 0;let n=r(99997),i=r(33003),o=r(52560),a=r(75954),s=r(83296),l=r(12398),c=r(52414),u=r(60428),d=r(40446),f=r(52729),p=r(34601),h=r(4674),y=r(90944),g=r(83144),v=r(24451),m=r(43141),b=r(79102),_=r(84269),w=r(26852),S=r(30183),O=r(3632),M=r(24446),R=r(79275),P=r(39269);class E{constructor(e,t){this._isInitialized=!1,this.dependencyManager=t,this.agentConfig=e,this.logger=this.agentConfig.logger,this.logger.info("Creating agent with config",{agentConfig:e.toJSON()}),this.agentConfig.walletConfig||this.logger.warn("Wallet config has not been set on the agent config. Make sure to initialize the wallet yourself before initializing the agent, or provide the required wallet configuration in the agent constructor"),this.eventEmitter=this.dependencyManager.resolve(w.EventEmitter),this.featureRegistry=this.dependencyManager.resolve(S.FeatureRegistry),this.messageSender=this.dependencyManager.resolve(M.MessageSender),this.messageReceiver=this.dependencyManager.resolve(O.MessageReceiver),this.transportService=this.dependencyManager.resolve(R.TransportService),this.agentContext=this.dependencyManager.resolve(P.AgentContext),this.connections=this.dependencyManager.resolve(o.ConnectionsApi),this.credentials=this.dependencyManager.resolve(a.CredentialsApi),this.proofs=this.dependencyManager.resolve(f.ProofsApi),this.mediator=this.dependencyManager.resolve(p.MediatorApi),this.mediationRecipient=this.dependencyManager.resolve(p.MediationRecipientApi),this.messagePickup=this.dependencyManager.resolve(u.MessagePickupApi),this.basicMessages=this.dependencyManager.resolve(i.BasicMessagesApi),this.genericRecords=this.dependencyManager.resolve(c.GenericRecordsApi),this.discovery=this.dependencyManager.resolve(l.DiscoverFeaturesApi),this.dids=this.dependencyManager.resolve(s.DidsApi),this.wallet=this.dependencyManager.resolve(m.WalletApi),this.oob=this.dependencyManager.resolve(d.OutOfBandApi),this.w3cCredentials=this.dependencyManager.resolve(h.W3cCredentialsApi);let r=[this.connections,this.credentials,this.proofs,this.mediator,this.mediationRecipient,this.messagePickup,this.basicMessages,this.genericRecords,this.discovery,this.dids,this.wallet,this.oob,this.w3cCredentials];this.modules=(0,_.getAgentApi)(this.dependencyManager,r)}get isInitialized(){return this._isInitialized&&this.wallet.isInitialized}async initialize(){let{walletConfig:e}=this.agentConfig;if(this._isInitialized)throw new n.AriesFrameworkError("Agent already initialized. Currently it is not supported to re-initialize an already initialized agent.");if(!this.wallet.isInitialized&&e)await this.wallet.initialize(e);else if(!this.wallet.isInitialized)throw new b.WalletError("Wallet config has not been set on the agent config. Make sure to initialize the wallet yourself before initializing the agent, or provide the required wallet configuration in the agent constructor");let t=this.dependencyManager.resolve(y.StorageUpdateService),r=await t.isUpToDate(this.agentContext);if(this.logger.info(`Agent storage is ${r?"":"not "}up to date.`),!r&&this.agentConfig.autoUpdateStorageOnStartup){let e=new g.UpdateAssistant(this,v.DEFAULT_UPDATE_CONFIG);await e.initialize(),await e.update()}else if(!r){let e=await t.getCurrentStorageVersion(this.agentContext);throw await this.wallet.close(),new n.AriesFrameworkError(`Current agent storage is not up to date. To prevent the framework state from getting corrupted the agent initialization is aborted. Make sure to update the agent storage (currently at ${e}) to the latest version (${g.UpdateAssistant.frameworkStorageVersion}). You can also downgrade your version of Aries Framework JavaScript.`)}}async receiveMessage(e,t){return await this.messageReceiver.receiveMessage(e,{session:t,contextCorrelationId:this.agentContext.contextCorrelationId})}get config(){return this.agentConfig}get context(){return this.agentContext}}t.BaseAgent=E},51071:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMessage=t.MessageTypeRegExp=t.MessageIdRegExp=void 0;let o=r(5902),a=r(56988),s=r(15169);t.MessageIdRegExp=/[-_./a-zA-Z0-9]{8,64}/,t.MessageTypeRegExp=/(.*?)([a-zA-Z0-9._-]+)\/(\d[^/]*)\/([a-zA-Z0-9._-]+)$/;class l{generateId(){return(0,s.uuid)()}}n([(0,a.Matches)(t.MessageIdRegExp),(0,o.Expose)({name:"@id"}),i("design:type",String)],l.prototype,"id",void 0),n([(0,o.Expose)({name:"@type"}),(0,a.Matches)(t.MessageTypeRegExp),i("design:type",String)],l.prototype,"type",void 0),t.BaseMessage=l},88959:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Dispatcher=void 0;let a=r(55090),s=r(32236),l=r(90978),c=r(51465),u=r(10796),d=r(26852),f=r(59078),p=r(86865),h=r(24446),y=r(36849),g=class{constructor(e,t,r,n){this.messageSender=e,this.eventEmitter=t,this.messageHandlerRegistry=r,this.logger=n}async dispatch(e){let t;let{agentContext:r,connection:n,senderKey:i,recipientKey:o,message:a}=e,l=this.messageHandlerRegistry.getHandlerForMessageType(a.type);if(!l)throw new s.AriesFrameworkError(`No handler for message type "${a.type}" found`);try{t=await l.handle(e)}catch(l){let s=l.problemReport;if(s instanceof u.ProblemReportMessage&&e.connection){let{protocolUri:n}=(0,c.parseMessageType)(s.type),{protocolUri:i}=(0,c.parseMessageType)(e.message.type);i===n?s.setThread({threadId:a.threadId}):s.setThread({parentThreadId:a.id}),t=new y.OutboundMessageContext(s,{agentContext:r,connection:e.connection,inboundMessageContext:e})}else throw this.logger.error(`Error handling message with type ${a.type}`,{message:a.toJSON(),error:l,senderKey:null==i?void 0:i.fingerprint,recipientKey:null==o?void 0:o.fingerprint,connectionId:null==n?void 0:n.id}),l}t&&(t.inboundMessageContext||(t.inboundMessageContext=e),t.isOutboundServiceMessage()?await this.messageSender.sendMessageToService(t):await this.messageSender.sendMessage(t)),this.eventEmitter.emit(r,{type:f.AgentEventTypes.AgentMessageProcessed,payload:{message:a,connection:n}})}};g=n([(0,l.injectable)(),o(3,(0,l.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[h.MessageSender,d.EventEmitter,p.MessageHandlerRegistry,Object])],g),t.Dispatcher=g},42707:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnvelopeService=void 0;let a=r(55090),s=r(91478),l=r(80962),c=r(90978),u=class{constructor(e){this.logger=e}async packMessage(e,t,r){let{recipientKeys:n,routingKeys:i,senderKey:o}=r,a=n.map(e=>e.publicKeyBase58),s=i.map(e=>e.publicKeyBase58),c=o&&o.publicKeyBase58,u=t.toJSON({useDidSovPrefixWhereAllowed:e.config.useDidSovPrefixWhereAllowed});this.logger.debug(`Pack outbound message ${u["@type"]}`);let d=await e.wallet.pack(u,a,null!=c?c:void 0);for(let t of s){let r=new l.ForwardMessage({to:a[0],message:d});a=[t],this.logger.debug("Forward message created",r);let n=r.toJSON({useDidSovPrefixWhereAllowed:e.config.useDidSovPrefixWhereAllowed});d=await e.wallet.pack(n,[t],void 0)}return d}async unpackMessage(e,t){let r=await e.wallet.unpack(t),{recipientKey:n,senderKey:i,plaintextMessage:o}=r;return{recipientKey:n?s.Key.fromPublicKeyBase58(n,s.KeyType.Ed25519):void 0,senderKey:i?s.Key.fromPublicKeyBase58(i,s.KeyType.Ed25519):void 0,plaintextMessage:o}}};u=n([(0,c.injectable)(),o(0,(0,c.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[Object])],u),t.EnvelopeService=u},26852:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.EventEmitter=void 0;let a=r(21233),s=r(19734),l=r(55090),c=r(90978),u=class{constructor(e,t){this.eventEmitter=new e.EventEmitterClass,this.stop$=t}emit(e,t){this.eventEmitter.emit(t.type,Object.assign(Object.assign({},t),{metadata:{contextCorrelationId:e.contextCorrelationId}}))}on(e,t){this.eventEmitter.on(e,t)}off(e,t){this.eventEmitter.off(e,t)}observable(e){return(0,a.fromEventPattern)(t=>this.on(e,t),t=>this.off(e,t)).pipe((0,s.takeUntil)(this.stop$))}};u=n([(0,c.injectable)(),o(0,(0,c.inject)(l.InjectionSymbols.AgentDependencies)),o(1,(0,c.inject)(l.InjectionSymbols.Stop$)),i("design:paramtypes",[Object,a.Subject])],u),t.EventEmitter=u},59078:function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.AgentEventTypes=t.filterContextCorrelationId=void 0;let i=r(21233);t.filterContextCorrelationId=function(e){return t=>t.pipe((0,i.filter)(t=>t.metadata.contextCorrelationId===e))},(n=t.AgentEventTypes||(t.AgentEventTypes={})).AgentMessageReceived="AgentMessageReceived",n.AgentMessageProcessed="AgentMessageProcessed",n.AgentMessageSent="AgentMessageSent"},30183:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureRegistry=void 0;let i=r(42984),o=class{constructor(){this.features=[]}register(...e){for(let t of e){let e=this.features.findIndex(e=>e.type===t.type&&e.id===t.id);e>-1?this.features[e]=this.features[e].combine(t):this.features.push(t)}}query(...e){let t=[];for(let r of e){let e=this.features.filter(e=>e.type===r.featureType);if("*"===r.match)t.push(...e);else if(r.match.endsWith("*")){let n=r.match.slice(0,-1);t.push(...e.filter(e=>e.id.startsWith(n)))}else t.push(...e.filter(e=>e.id===r.match))}return t}};o=n([(0,i.injectable)()],o),t.FeatureRegistry=o},86865:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandlerRegistry=void 0;let i=r(42984),o=r(51465),a=class{constructor(){this.messageHandlers=[]}registerMessageHandler(e){this.messageHandlers.push(e)}getHandlerForMessageType(e){let t=(0,o.parseMessageType)(e);for(let e of this.messageHandlers)for(let r of e.supportedMessages)if((0,o.canHandleMessageType)(r,t))return e}getMessageClassForMessageType(e){let t=(0,o.parseMessageType)(e);for(let e of this.messageHandlers)for(let r of e.supportedMessages)if((0,o.canHandleMessageType)(r,t))return r}get supportedMessageTypes(){return this.messageHandlers.reduce((e,t)=>[...e,...t.supportedMessages],[]).map(e=>e.type)}get supportedProtocols(){return Array.from(new Set(this.supportedMessageTypes.map(e=>e.protocolUri)))}filterSupportedProtocolsByMessageFamilies(e){return this.supportedProtocols.filter(t=>e.find(e=>t.startsWith(e)))}};a=n([(0,i.injectable)()],a),t.MessageHandlerRegistry=a},3632:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageReceiver=void 0;let a=r(55090),s=r(99997),l=r(52560),c=r(17423),u=r(90978),d=r(15064),f=r(9905),p=r(51465),h=r(88959),y=r(42707),g=r(86865),v=r(24446),m=r(79275),b=r(36849),_=class{constructor(e,t,r,n,i,o,a,s){this._inboundTransports=[],this.envelopeService=e,this.transportService=t,this.messageSender=r,this.connectionService=n,this.dispatcher=i,this.messageHandlerRegistry=o,this.agentContextProvider=a,this.logger=s,this._inboundTransports=[]}get inboundTransports(){return this._inboundTransports}registerInboundTransport(e){this._inboundTransports.push(e)}async unregisterInboundTransport(e){this._inboundTransports=this._inboundTransports.filter(t=>t!==e),await e.stop()}async receiveMessage(e,{session:t,connection:r,contextCorrelationId:n}={}){this.logger.debug("Agent received message");let i=await this.agentContextProvider.getContextForInboundMessage(e,{contextCorrelationId:n});try{if(this.isEncryptedMessage(e))await this.receiveEncryptedMessage(i,e,t);else if(this.isPlaintextMessage(e))await this.receivePlaintextMessage(i,e,r);else throw new s.AriesFrameworkError("Unable to parse incoming message: unrecognized format")}finally{await i.endSession()}}async receivePlaintextMessage(e,t,r){let n=await this.transformAndValidate(e,t),i=new b.InboundMessageContext(n,{connection:r,agentContext:e});await this.dispatcher.dispatch(i)}async receiveEncryptedMessage(e,t,r){let n=await this.decryptMessage(e,t),{plaintextMessage:i,senderKey:o,recipientKey:a}=n;this.logger.info(`Received message with type '${i["@type"]}', recipient key ${null==a?void 0:a.fingerprint} and sender key ${null==o?void 0:o.fingerprint}`,i);let s=await this.findConnectionByMessageKeys(e,n),l=await this.transformAndValidate(e,i,s),c=new b.InboundMessageContext(l,{connection:(null==s?void 0:s.isReady)?s:void 0,senderKey:o,recipientKey:a,agentContext:e});o&&a&&l.hasAnyReturnRoute()&&r?(this.logger.debug(`Storing session for inbound message '${l.id}'`),r.keys={recipientKeys:[o],routingKeys:[],senderKey:a},r.inboundMessage=l,r.connectionId=null==s?void 0:s.id,c.sessionId=r.id,this.transportService.saveSession(r)):r&&await r.close(),await this.dispatcher.dispatch(c)}async decryptMessage(e,t){try{return await this.envelopeService.unpackMessage(e,t)}catch(e){throw this.logger.error("Error while decrypting message",{error:e,encryptedMessage:t,errorMessage:e instanceof Error?e.message:e}),e}}isPlaintextMessage(e){return"object"==typeof e&&null!=e&&"@type"in e}isEncryptedMessage(e){return(0,d.isValidJweStructure)(e)}async transformAndValidate(e,t,r){let n;try{n=await this.transformMessage(t)}catch(n){throw r&&await this.sendProblemReportMessage(e,n.message,r,t),n}return n}async findConnectionByMessageKeys(e,{recipientKey:t,senderKey:r}){return t&&r?this.connectionService.findByKeys(e,{senderKey:r,recipientKey:t}):null}async transformMessage(e){let t;(0,p.replaceLegacyDidSovPrefixOnMessage)(e);let r=e["@type"],n=this.messageHandlerRegistry.getMessageClassForMessageType(r);if(!n)throw new c.ProblemReportError(`No message class found for message type "${r}"`,{problemCode:c.ProblemReportReason.MessageParseFailure});try{t=f.JsonTransformer.fromJSON(e,n)}catch(t){throw this.logger.error(`Error validating message ${e.type}`,{errors:t,message:JSON.stringify(e)}),new c.ProblemReportError(`Error validating message ${e.type}`,{problemCode:c.ProblemReportReason.MessageParseFailure})}return t}async sendProblemReportMessage(e,t,r,n){let i=(0,p.parseMessageType)(n["@type"]);if((0,p.canHandleMessageType)(c.ProblemReportMessage,i))throw new s.AriesFrameworkError(`Not sending problem report in response to problem report: ${t}`);let o=new c.ProblemReportMessage({description:{en:t,code:c.ProblemReportReason.MessageParseFailure}});o.setThread({parentThreadId:n["@id"]});let a=new b.OutboundMessageContext(o,{agentContext:e,connection:r});a&&await this.messageSender.sendMessage(a)}};_=n([(0,u.injectable)(),o(6,(0,u.inject)(a.InjectionSymbols.AgentContextProvider)),o(7,(0,u.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[y.EnvelopeService,m.TransportService,v.MessageSender,l.ConnectionService,h.Dispatcher,g.MessageHandlerRegistry,Object,Object])],_),t.MessageReceiver=_},24446:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},a=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}};Object.defineProperty(t,"__esModule",{value:!0}),t.isDidCommTransportQueue=t.MessageSender=void 0;let s=r(55090),l=r(40946),c=r(99997),u=r(30376),d=r(89056),f=r(78278),p=r(45765),h=r(90978),y=r(90890),g=r(79522),v=r(42707),m=r(26852),b=r(59078),_=r(79275),w=r(36849),S=class{constructor(e,t,r,n,i,o,a){this._outboundTransports=[],this.envelopeService=e,this.transportService=t,this.messageRepository=r,this.logger=n,this.didResolverService=i,this.didCommDocumentService=o,this.eventEmitter=a,this._outboundTransports=[]}get outboundTransports(){return this._outboundTransports}registerOutboundTransport(e){this._outboundTransports.push(e)}async unregisterOutboundTransport(e){this._outboundTransports=this.outboundTransports.filter(t=>t!==e),await e.stop()}async packMessage(e,{keys:t,message:r,endpoint:n}){let i=await this.envelopeService.packMessage(e,r,t);return{payload:i,responseRequested:r.hasAnyReturnRoute(),endpoint:n}}async sendMessageToSession(e,t,r){if(this.logger.debug(`Packing message and sending it via existing session ${t.type}...`),!t.keys)throw new c.AriesFrameworkError(`There are no keys for the given ${t.type} transport session.`);let n=await this.envelopeService.packMessage(e,r,t.keys);this.logger.debug("Sending message"),await t.send(e,n)}async sendPackage(e,{connection:t,encryptedMessage:r,options:n}){let i=[],o=this.transportService.findSessionByConnectionId(t.id);if(null===(h=null==o?void 0:o.inboundMessage)||void 0===h?void 0:h.hasReturnRouting())try{await o.send(e,r);return}catch(e){i.push(e),this.logger.debug(`Sending packed message via session failed with error: ${e.message}.`,e)}let{services:s,queueService:l}=await this.retrieveServicesByConnection(e,t,null==n?void 0:n.transportPriority);if(0===this.outboundTransports.length&&!l)throw new c.AriesFrameworkError("Agent has no outbound transport!");try{for(var u,d,f,p,h,y,v=!0,m=a(s);!(u=(y=await m.next()).done);){p=y.value,v=!1;try{this.logger.debug("Sending outbound message to service:",{service:p});try{let e=(0,g.getProtocolScheme)(p.serviceEndpoint);for(let n of this.outboundTransports)if(n.supportedSchemes.includes(e)){await n.sendMessage({payload:r,endpoint:p.serviceEndpoint,connectionId:t.id});break}return}catch(e){this.logger.debug(`Sending outbound message to service with id ${p.id} failed with the following error:`,{message:e.message,error:e})}}finally{v=!0}}}catch(e){d={error:e}}finally{try{!v&&!u&&(f=m.return)&&await f.call(m)}finally{if(d)throw d.error}}if(l){this.logger.debug(`Queue packed message for connection ${t.id} (${t.theirLabel})`),await this.messageRepository.add(t.id,r);return}throw this.logger.error(`Message is undeliverable to connection ${t.id} (${t.theirLabel})`,{message:r,errors:i,connection:t}),new c.AriesFrameworkError(`Message is undeliverable to connection ${t.id} (${t.theirLabel})`)}async sendMessage(e,t){let r,n;let{agentContext:i,connection:o,outOfBand:s,message:l}=e,u=[];if(e.isOutboundServiceMessage())return this.sendMessageToService(e);if(!o)throw this.logger.error("Outbound message has no associated connection"),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError("Outbound message has no associated connection",{outboundMessageContext:e});this.logger.debug("Send outbound message",{message:l,connectionId:o.id});let f=this.findSessionForOutboundContext(e);if(f){this.logger.debug(`Found session with return routing for message '${l.id}' (connection '${o.id}'`);try{await this.sendMessageToSession(i,f,l),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.SentToSession);return}catch(e){u.push(e),this.logger.debug(`Sending an outbound message via session failed with error: ${e.message}.`,e)}}let p=[];try{({services:p,queueService:r}=await this.retrieveServicesByConnection(i,o,null==t?void 0:t.transportPriority,s))}catch(t){throw this.logger.error(`Unable to retrieve services for connection '${o.id}. ${t.message}`),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError(`Unable to retrieve services for connection '${o.id}`,{outboundMessageContext:e,cause:t})}if(!o.did)throw this.logger.error(`Unable to send message using connection '${o.id}' that doesn't have a did`),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError(`Unable to send message using connection '${o.id}' that doesn't have a did`,{outboundMessageContext:e});try{n=await this.didResolverService.resolveDidDocument(i,o.did)}catch(t){throw this.logger.error(`Unable to resolve DID Document for '${o.did}`),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError(`Unable to resolve DID Document for '${o.did}`,{outboundMessageContext:e,cause:t})}let h=null!==(b=null===(m=(v=n).authentication)||void 0===m?void 0:m.map(e=>{let t="string"==typeof e?v.dereferenceVerificationMethod(e):e,r=(0,d.getKeyFromVerificationMethod)(t);return r}))&&void 0!==b?b:[],[y]=h,g=(null===(R=l.transport)||void 0===R?void 0:R.returnRoute)===void 0&&!this.transportService.hasInboundEndpoint(n);try{for(var v,m,b,_,S,O,M,R,P,E=!0,I=a(p);!(_=(P=await I.next()).done);){M=P.value,E=!1;try{try{await this.sendToService(new w.OutboundMessageContext(l,{agentContext:i,serviceParams:{service:M,senderKey:y,returnRoute:g},connection:o})),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.SentToTransport);return}catch(e){u.push(e),this.logger.debug(`Sending outbound message to service with id ${M.id} failed with the following error:`,{message:e.message,error:e})}}finally{E=!0}}}catch(e){S={error:e}}finally{try{!E&&!_&&(O=I.return)&&await O.call(I)}finally{if(S)throw S.error}}if(r){this.logger.debug(`Queue message for connection ${o.id} (${o.theirLabel})`);let t={recipientKeys:r.recipientKeys,routingKeys:r.routingKeys,senderKey:y},n=await this.envelopeService.packMessage(i,l,t);await this.messageRepository.add(o.id,n),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.QueuedForPickup);return}throw this.logger.error(`Message is undeliverable to connection ${o.id} (${o.theirLabel})`,{message:l,errors:u,connection:o}),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError(`Message is undeliverable to connection ${o.id} (${o.theirLabel})`,{outboundMessageContext:e})}async sendMessageToService(e){var t,r;let n=this.findSessionForOutboundContext(e);if(n){this.logger.debug(`Found session with return routing for message '${e.message.id}'`);try{await this.sendMessageToSession(e.agentContext,n,e.message),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.SentToSession);return}catch(e){this.logger.debug(`Sending an outbound message via session failed with error: ${e.message}.`,e)}}try{await this.sendToService(e),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.SentToTransport)}catch(n){throw this.logger.error(`Message is undeliverable to service with id ${null===(t=e.serviceParams)||void 0===t?void 0:t.service.id}: ${n.message}`,{message:e.message,error:n}),this.emitMessageSentEvent(e,w.OutboundMessageSendStatus.Undeliverable),new c.MessageSendingError(`Message is undeliverable to service with id ${null===(r=e.serviceParams)||void 0===r?void 0:r.service.id}: ${n.message}`,{outboundMessageContext:e})}}async sendToService(e){let{agentContext:t,message:r,serviceParams:n,connection:i}=e;if(!n)throw new c.AriesFrameworkError("No service parameters found in outbound message context");let{service:o,senderKey:a,returnRoute:s}=n;if(0===this.outboundTransports.length)throw new c.AriesFrameworkError("Agent has no outbound transport!");this.logger.debug("Sending outbound message to service:",{messageId:r.id,service:Object.assign(Object.assign({},o),{recipientKeys:"omitted...",routingKeys:"omitted..."})});let u={recipientKeys:o.recipientKeys,routingKeys:o.routingKeys,senderKey:a};s&&r.setReturnRouting(l.ReturnRouteTypes.all);try{y.MessageValidator.validateSync(r)}catch(e){throw this.logger.error(`Aborting sending outbound message ${r.type} to ${o.serviceEndpoint}. Message validation failed`,{errors:e,message:r.toJSON()}),e}let d=await this.packMessage(t,{message:r,keys:u,endpoint:o.serviceEndpoint});for(let e of(d.endpoint=o.serviceEndpoint,d.connectionId=null==i?void 0:i.id,this.outboundTransports)){let t=(0,g.getProtocolScheme)(o.serviceEndpoint);if(t){if(e.supportedSchemes.includes(t)){await e.sendMessage(d);return}}else this.logger.warn("Service does not have a protocol scheme.")}throw new c.MessageSendingError(`Unable to send message to service: ${o.serviceEndpoint}`,{outboundMessageContext:e})}findSessionForOutboundContext(e){var t,r,n,i;let o;let a=null!==(t=e.sessionId)&&void 0!==t?t:null===(r=e.inboundMessageContext)||void 0===r?void 0:r.sessionId;return a&&(o=this.transportService.findSessionById(a)),!o&&(null===(n=e.connection)||void 0===n?void 0:n.id)&&(o=this.transportService.findSessionByConnectionId(e.connection.id)),o&&(null===(i=o.inboundMessage)||void 0===i?void 0:i.hasAnyReturnRoute())?o:null}async retrieveServicesByConnection(e,t,r,n){var i;this.logger.debug(`Retrieving services for connection '${t.id}' (${t.theirLabel})`,{transportPriority:r,connection:t});let o=[];if(t.theirDid)this.logger.debug(`Resolving services for connection theirDid ${t.theirDid}.`),o=await this.didCommDocumentService.resolveServicesFromDid(e,t.theirDid);else if(n&&(this.logger.debug(`Resolving services from out-of-band record ${n.id}.`),t.isRequester))for(let t of n.outOfBandInvitation.getServices())"string"==typeof t?(this.logger.debug(`Resolving services for did ${t}.`),o.push(...await this.didCommDocumentService.resolveServicesFromDid(e,t))):o.push({id:t.id,recipientKeys:t.recipientKeys.map(f.didKeyToInstanceOfKey),routingKeys:(null===(i=t.routingKeys)||void 0===i?void 0:i.map(f.didKeyToInstanceOfKey))||[],serviceEndpoint:t.serviceEndpoint});let a=o.filter(e=>!O(e.serviceEndpoint)),s=o.find(e=>O(e.serviceEndpoint));return(null==r?void 0:r.restrictive)&&(a=a.filter(e=>{let t=(0,g.getProtocolScheme)(e.serviceEndpoint);return r.schemes.includes(t)})),(null==r?void 0:r.schemes)&&(a=a.sort(function(e,t){let n=(0,g.getProtocolScheme)(e.serviceEndpoint),i=(0,g.getProtocolScheme)(t.serviceEndpoint);return(null==r?void 0:r.schemes.indexOf(n))-(null==r?void 0:r.schemes.indexOf(i))})),this.logger.debug(`Retrieved ${a.length} services for message to connection '${t.id}'(${t.theirLabel})'`,{hasQueueService:void 0!==s}),{services:a,queueService:s}}emitMessageSentEvent(e,t){let{agentContext:r}=e;this.eventEmitter.emit(r,{type:b.AgentEventTypes.AgentMessageSent,payload:{message:e,status:t}})}};function O(e){return e===s.DID_COMM_TRANSPORT_QUEUE}S=n([(0,h.injectable)(),o(2,(0,h.inject)(s.InjectionSymbols.MessageRepository)),o(3,(0,h.inject)(s.InjectionSymbols.Logger)),i("design:paramtypes",[v.EnvelopeService,_.TransportService,Object,Object,p.DidResolverService,u.DidCommDocumentService,m.EventEmitter])],S),t.MessageSender=S,t.isDidCommTransportQueue=O},79275:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.TransportService=void 0;let i=r(55090),o=r(99997),a=r(90978),s=class{constructor(){this.transportSessionTable={}}saveSession(e){if(e.connectionId){let t=this.getExistingSessionsForConnectionIdAndType(e.connectionId,e.type);t.forEach(e=>{e&&this.removeSession(e)})}this.transportSessionTable[e.id]=e}findSessionByConnectionId(e){return Object.values(this.transportSessionTable).find(t=>(null==t?void 0:t.connectionId)===e)}setConnectionIdForSession(e,t){let r=this.findSessionById(e);if(!r)throw new o.AriesFrameworkError(`Session not found with id ${e}`);r.connectionId=t,this.saveSession(r)}hasInboundEndpoint(e){var t;return!!(null===(t=e.service)||void 0===t?void 0:t.find(e=>e.serviceEndpoint!==i.DID_COMM_TRANSPORT_QUEUE))}findSessionById(e){return this.transportSessionTable[e]}removeSession(e){delete this.transportSessionTable[e.id]}getExistingSessionsForConnectionIdAndType(e,t){return Object.values(this.transportSessionTable).filter(r=>(null==r?void 0:r.connectionId)===e&&r.type===t)}};s=n([(0,a.injectable)()],s),t.TransportService=s},86726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentContext=void 0;let n=r(55090),i=r(65600);class o{constructor({dependencyManager:e,contextCorrelationId:t}){this.dependencyManager=e,this.contextCorrelationId=t}get config(){return this.dependencyManager.resolve(i.AgentConfig)}get wallet(){return this.dependencyManager.resolve(n.InjectionSymbols.Wallet)}async endSession(){let e=this.dependencyManager.resolve(n.InjectionSymbols.AgentContextProvider);await e.endSessionForAgentContext(this)}toJSON(){return{contextCorrelationId:this.contextCorrelationId}}}t.AgentContext=o},48616:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},29113:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultAgentContextProvider=void 0;let o=r(99997),a=r(90978),s=r(86726),l=class{constructor(e){this.agentContext=e}async getAgentContextForContextCorrelationId(e){if(e!==this.agentContext.contextCorrelationId)throw new o.AriesFrameworkError(`Could not get agent context for contextCorrelationId '${e}'. Only contextCorrelationId '${this.agentContext.contextCorrelationId}' is supported.`);return this.agentContext}async getContextForInboundMessage(e,t){return(null==t?void 0:t.contextCorrelationId)?this.getAgentContextForContextCorrelationId(t.contextCorrelationId):this.agentContext}async endSessionForAgentContext(e){if(e.contextCorrelationId!==this.agentContext.contextCorrelationId)throw new o.AriesFrameworkError(`Could not end session for agent context with contextCorrelationId '${e.contextCorrelationId}'. Only contextCorrelationId '${this.agentContext.contextCorrelationId}' is provided by this provider.`)}};l=n([(0,a.injectable)(),i("design:paramtypes",[s.AgentContext])],l),t.DefaultAgentContextProvider=l},39269:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(86726),t),i(r(48616),t),i(r(29113),t)},89642:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConnectionlessOutboundMessageContext=t.getOutboundMessageContext=void 0;let n=r(91478),i=r(11938),o=r(99997),a=r(40446),s=r(35381),l=r(34601),c=r(90944),u=r(15169),d=r(36849);async function f(e,{message:t,connectionRecord:r,associatedRecord:n,lastReceivedMessage:i,lastSentMessage:a}){if(r)return e.config.logger.debug(`Creating outbound message context for message ${t.id} with connection ${r.id}`),new d.OutboundMessageContext(t,{agentContext:e,associatedRecord:n,connection:r});if(!i)throw new o.AriesFrameworkError("No connection record and no lastReceivedMessage was supplied. For connection-less exchanges the lastReceivedMessage is required.");if(!n)throw new o.AriesFrameworkError("No associated record was supplied. This is required for connection-less exchanges to store the associated ~service decorator on the message.");return p(e,{message:t,associatedRecord:n,lastReceivedMessage:i,lastSentMessage:a})}async function p(e,{message:t,lastReceivedMessage:r,lastSentMessage:n,associatedRecord:i}){e.config.logger.debug(`Creating outbound message context for message ${t.id} using connection-less exchange`);let a=await h(e,t),{recipientService:s,ourService:l}=await y(e,{lastReceivedMessage:r,lastSentMessage:n,message:t,outOfBandRecord:a});if(n||(l=await g(e,{outOfBandRecord:a,message:t})),!l)throw new o.AriesFrameworkError(`Could not determine our service for connection-less exchange for message ${t.id}.`);if(!s)throw new o.AriesFrameworkError(`Could not determine recipient service for connection-less exchange for message ${t.id}.`);return await v(e,{message:t,ourService:l,outOfBandRecord:a,associatedRecord:i}),new d.OutboundMessageContext(t,{agentContext:e,associatedRecord:i,serviceParams:{service:s,senderKey:l.recipientKeys[0],returnRoute:!0}})}async function h(e,t){e.config.logger.debug(`Looking for out-of-band record for message ${t.id} with thread id ${t.threadId}`);let r=e.dependencyManager.resolve(a.OutOfBandRepository),n=await r.findSingleByQuery(e,{invitationRequestsThreadIds:[t.threadId]});return null!=n?n:void 0}async function y(e,{lastSentMessage:t,lastReceivedMessage:r,message:n,outOfBandRecord:i}){var s,l;let c=null===(s=null==t?void 0:t.service)||void 0===s?void 0:s.resolvedDidCommService,u=null===(l=r.service)||void 0===l?void 0:l.resolvedDidCommService,d=e.dependencyManager.resolve(a.OutOfBandService);if((null==i?void 0:i.role)===a.OutOfBandRole.Sender){if(c||(c=await d.getResolvedServiceForOutOfBandServices(e,i.outOfBandInvitation.getServices())),!u)throw new o.AriesFrameworkError("Could not find a service to send the message to. Please make sure the connection has a service or provide a service to send the message to.");if(!t)throw new o.AriesFrameworkError("Must have lastSentMessage when out of band record has role Sender")}else if((null==i?void 0:i.role)===a.OutOfBandRole.Receiver){if(u||(u=await d.getResolvedServiceForOutOfBandServices(e,i.outOfBandInvitation.getServices())),t&&!c)throw new o.AriesFrameworkError("Could not find a service to send the message to. Please make sure the connection has a service or provide a service to send the message to.")}else{if(t&&!c)throw e.config.logger.error(`No out of band record associated and missing our service for connection-less exchange for message ${n.id}, while previous message has already been sent.`),new o.AriesFrameworkError(`No out of band record associated and missing our service for connection-less exchange for message ${n.id}, while previous message has already been sent.`);if(!u)throw e.config.logger.error(`No out of band record associated and missing recipient service for connection-less exchange for message ${n.id}.`),new o.AriesFrameworkError(`No out of band record associated and missing recipient service for connection-less exchange for message ${n.id}.`)}return{ourService:c,recipientService:u}}async function g(e,{outOfBandRecord:t,message:r}){let i;e.config.logger.debug(`No previous sent message in thread for outbound message ${r.id}, setting up routing`);let o=null==t?void 0:t.metadata.get(s.OutOfBandRecordMetadataKeys.RecipientRouting);if(o&&(i={recipientKey:n.Key.fromFingerprint(o.recipientKeyFingerprint),routingKeys:o.routingKeyFingerprints.map(e=>n.Key.fromFingerprint(e)),endpoints:o.endpoints,mediatorId:o.mediatorId}),!i){let r=e.dependencyManager.resolve(l.RoutingService);i=await r.getRouting(e,{mediatorId:null==t?void 0:t.mediatorId})}return{id:(0,u.uuid)(),serviceEndpoint:i.endpoints[0],recipientKeys:[i.recipientKey],routingKeys:i.routingKeys}}async function v(e,{message:t,ourService:r,outOfBandRecord:n,associatedRecord:o}){let l=null==n?void 0:n.metadata.get(s.OutOfBandRecordMetadataKeys.LegacyInvitation);n&&(null==l?void 0:l.legacyInvitationType)!==a.InvitationType.Connectionless&&(t.thread?t.thread.parentThreadId=n.outOfBandInvitation.id:t.setThread({parentThreadId:n.outOfBandInvitation.id})),t.service=i.ServiceDecorator.fromResolvedDidCommService(r),await e.dependencyManager.resolve(c.DidCommMessageRepository).saveOrUpdateAgentMessage(e,{agentMessage:t,role:c.DidCommMessageRole.Sender,associatedRecordId:o.id})}t.getOutboundMessageContext=f,t.getConnectionlessOutboundMessageContext=p},77858:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(39269),t)},10771:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InboundMessageContext=void 0;let n=r(99997);class i{constructor(e,t){this.message=e,this.recipientKey=t.recipientKey,this.senderKey=t.senderKey,this.connection=t.connection,this.sessionId=t.sessionId,this.agentContext=t.agentContext}assertReadyConnection(){if(!this.connection)throw new n.AriesFrameworkError(`No connection associated with incoming message ${this.message.type}`);return this.connection.assertReady(),this.connection}toJSON(){var e,t;return{message:this.message,recipientKey:null===(e=this.recipientKey)||void 0===e?void 0:e.fingerprint,senderKey:null===(t=this.senderKey)||void 0===t?void 0:t.fingerprint,sessionId:this.sessionId,agentContext:this.agentContext.toJSON()}}}t.InboundMessageContext=i},81347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutboundMessageContext=void 0;let n=r(99997);class i{constructor(e,t){this.message=e,this.connection=t.connection,this.sessionId=t.sessionId,this.outOfBand=t.outOfBand,this.serviceParams=t.serviceParams,this.associatedRecord=t.associatedRecord,this.inboundMessageContext=t.inboundMessageContext,this.agentContext=t.agentContext}assertReadyConnection(){if(!this.connection)throw new n.AriesFrameworkError(`No connection associated with outgoing message ${this.message.type}`);return this.connection.assertReady(),this.connection}isOutboundServiceMessage(){var e;return(null===(e=this.serviceParams)||void 0===e?void 0:e.service)!==void 0}toJSON(){return{message:this.message,outOfBand:this.outOfBand,associatedRecord:this.associatedRecord,sessionId:this.sessionId,serviceParams:this.serviceParams,agentContext:this.agentContext.toJSON(),connection:this.connection}}}t.OutboundMessageContext=i},84020:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OutboundMessageSendStatus=void 0,(r=t.OutboundMessageSendStatus||(t.OutboundMessageSendStatus={})).SentToSession="SentToSession",r.SentToTransport="SentToTransport",r.QueuedForPickup="QueuedForPickup",r.Undeliverable="Undeliverable"},31683:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0;let o=r(5902),a=r(56988),s=r(99997),l=r(9905);class c{constructor(e){e&&(this.id=e.id,this.type=e.type)}combine(e){if(e.id!==this.id)throw new s.AriesFrameworkError("Can only combine with a feature with the same id");let t=l.JsonTransformer.toJSON(this),r=l.JsonTransformer.toJSON(e);for(let e in r)try{Array.isArray(r[e])?t[e]=[...new Set([...t[e],...r[e]])]:t[e]=r[e]}catch(n){t[e]=r[e]}return l.JsonTransformer.fromJSON(t,c)}toJSON(){return l.JsonTransformer.toJSON(this)}}n([(0,a.IsString)(),(0,o.Expose)({name:"feature-type"}),i("design:type",String)],c.prototype,"type",void 0),t.Feature=c},44541:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.FeatureQuery=void 0;let o=r(5902),a=r(56988);class s{constructor(e){e&&(this.featureType=e.featureType,this.match=e.match)}}n([(0,o.Expose)({name:"feature-type"}),(0,a.IsString)(),i("design:type",String)],s.prototype,"featureType",void 0),n([(0,a.IsString)(),i("design:type",String)],s.prototype,"match",void 0),t.FeatureQuery=s},17334:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoalCode=void 0;let n=r(31683);class i extends n.Feature{constructor(e){super(Object.assign(Object.assign({},e),{type:i.type}))}}t.GoalCode=i,i.type="goal-code"},53183:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GovernanceFramework=void 0;let n=r(31683);class i extends n.Feature{constructor(e){super(Object.assign(Object.assign({},e),{type:i.type}))}}t.GovernanceFramework=i,i.type="gov-fw"},70620:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Protocol=void 0;let o=r(56988),a=r(31683);class s extends a.Feature{constructor(e){super(Object.assign(Object.assign({},e),{type:s.type})),e&&(this.roles=e.roles)}}s.type="protocol",n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"roles",void 0),t.Protocol=s},39691:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(31683),t),i(r(44541),t),i(r(17334),t),i(r(53183),t),i(r(70620),t)},36849:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(39691),t),i(r(10771),t),i(r(81347),t),i(r(84020),t)},55090:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DID_COMM_TRANSPORT_QUEUE=t.InjectionSymbols=void 0,t.InjectionSymbols={MessageRepository:Symbol("MessageRepository"),StorageService:Symbol("StorageService"),Logger:Symbol("Logger"),AgentContextProvider:Symbol("AgentContextProvider"),AgentDependencies:Symbol("AgentDependencies"),Stop$:Symbol("Stop$"),FileSystem:Symbol("FileSystem"),Wallet:Symbol("Wallet")},t.DID_COMM_TRANSPORT_QUEUE="didcomm:transport/queue"},61508:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.JwsService=void 0;let i=r(99997),o=r(90978),a=r(23333),s=r(79102),l=r(84067),c=r(91994),u=r(34745),d=class{async createJwsBase(e,t){let{jwk:r,alg:n}=t.protectedHeaderOptions,o=(0,c.getJwkFromKey)(t.key);if(r&&(r.key.keyType!==t.key.keyType||!r.key.publicKey.equals(t.key.publicKey)))throw new i.AriesFrameworkError("Protected header JWK does not match key for signing.");if(o&&!o.supportsSignatureAlgorithm(n))throw new i.AriesFrameworkError(`alg '${n}' is not a valid JWA signature algorithm for this jwk with keyType ${o.keyType}. Supported algorithms are ${o.supportedSignatureAlgorithms.join(", ")}`);let s=t.payload instanceof u.JwtPayload?a.JsonEncoder.toBuffer(t.payload.toJson()):t.payload,l=a.TypedArrayEncoder.toBase64URL(s),d=a.JsonEncoder.toBase64URL(this.buildProtected(t.protectedHeaderOptions)),f=a.TypedArrayEncoder.toBase64URL(await e.wallet.sign({data:a.TypedArrayEncoder.fromString(`${d}.${l}`),key:t.key}));return{base64Payload:l,base64UrlProtectedHeader:d,signature:f}}async createJws(e,{payload:t,key:r,header:n,protectedHeaderOptions:i}){let{base64UrlProtectedHeader:o,signature:a,base64Payload:s}=await this.createJwsBase(e,{payload:t,key:r,protectedHeaderOptions:i});return{protected:o,signature:a,header:n,payload:s}}async createJwsCompact(e,{payload:t,key:r,protectedHeaderOptions:n}){let{base64Payload:i,base64UrlProtectedHeader:o,signature:a}=await this.createJwsBase(e,{payload:t,key:r,protectedHeaderOptions:n});return`${o}.${i}.${a}`}async verifyJws(e,{jws:t,jwkResolver:r}){let n,o=[];if("string"==typeof t){if(!l.JWS_COMPACT_FORMAT_MATCHER.test(t))throw new i.AriesFrameworkError(`Invalid JWS compact format for value '${t}'.`);let[e,r,a]=t.split(".");n=r,o.push({header:{},protected:e,signature:a})}else"signatures"in t?o=t.signatures:o.push(t),n=t.payload;if(0===o.length)throw new i.AriesFrameworkError("Unable to verify JWS, no signatures present in JWS.");let c=[];for(let t of o){let o=a.JsonEncoder.fromBase64(t.protected);if(!(0,a.isJsonObject)(o))throw new i.AriesFrameworkError("Unable to verify JWS, protected header is not a valid JSON object.");if(!o.alg||"string"!=typeof o.alg)throw new i.AriesFrameworkError("Unable to verify JWS, protected header alg is not provided or not a string.");let l=await this.jwkFromJws({jws:t,payload:n,protectedHeader:Object.assign(Object.assign({},o),{alg:o.alg}),jwkResolver:r});if(!l.supportsSignatureAlgorithm(o.alg))throw new i.AriesFrameworkError(`alg '${o.alg}' is not a valid JWA signature algorithm for this jwk with keyType ${l.keyType}. Supported algorithms are ${l.supportedSignatureAlgorithms.join(", ")}`);let u=a.TypedArrayEncoder.fromString(`${t.protected}.${n}`),d=a.TypedArrayEncoder.fromBase64(t.signature);c.push(l.key);try{let t=await e.wallet.verify({key:l.key,data:u,signature:d});if(!t)return{isValid:!1,signerKeys:[]}}catch(e){if(e instanceof s.WalletError)return{isValid:!1,signerKeys:[]};throw e}}return{isValid:!0,signerKeys:c}}buildProtected(e){var t;if(!e.jwk&&!e.kid)throw new i.AriesFrameworkError("Both JWK and kid are undefined. Please provide one or the other.");if(e.jwk&&e.kid)throw new i.AriesFrameworkError("Both JWK and kid are provided. Please only provide one of the two.");return Object.assign(Object.assign({},e),{alg:e.alg,jwk:null===(t=e.jwk)||void 0===t?void 0:t.toJson(),kid:e.kid})}async jwkFromJws(e){let{protectedHeader:t,jwkResolver:r,jws:n,payload:o}=e;if(t.jwk&&t.kid)throw new i.AriesFrameworkError("Both JWK and kid are defined in the protected header. Only one of the two is allowed.");if(t.jwk){if(!(0,a.isJsonObject)(t.jwk))throw new i.AriesFrameworkError("JWK is not a valid JSON object.");return(0,c.getJwkFromJson)(t.jwk)}if(!r)throw new i.AriesFrameworkError("jwkResolver is required when the JWS protected header does not contain a 'jwk' property.");try{let e=await r({jws:n,protectedHeader:t,payload:o});return e}catch(e){throw new i.AriesFrameworkError(`Error when resolving JWK for JWS in jwkResolver. ${e.message}`,{cause:e})}}};d=n([(0,o.injectable)()],d),t.JwsService=d},84067:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JWS_COMPACT_FORMAT_MATCHER=void 0,t.JWS_COMPACT_FORMAT_MATCHER=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/},51271:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Key=void 0;let n=r(23333),i=r(40743),o=r(30209);class a{constructor(e,t){this.publicKey=n.Buffer.from(e),this.keyType=t}static fromPublicKey(e,t){return new a(n.Buffer.from(e),t)}static fromPublicKeyBase58(e,t){let r=n.TypedArrayEncoder.fromBase58(e);return a.fromPublicKey(r,t)}static fromFingerprint(e){let{data:t}=n.MultiBaseEncoder.decode(e),[r,i]=n.VarintEncoder.decode(t),s=n.Buffer.from(t.slice(i)),l=(0,o.getKeyTypeByMultiCodecPrefix)(r);return new a(s,l)}get prefixedPublicKey(){let e=(0,o.getMultiCodecPrefixByKeyType)(this.keyType),t=n.VarintEncoder.encode(e);return n.Buffer.concat([t,this.publicKey])}get fingerprint(){return`z${n.TypedArrayEncoder.toBase58(this.prefixedPublicKey)}`}get publicKeyBase58(){return n.TypedArrayEncoder.toBase58(this.publicKey)}get supportsEncrypting(){return(0,i.isEncryptionSupportedForKeyType)(this.keyType)}get supportsSigning(){return(0,i.isSigningSupportedForKeyType)(this.keyType)}}t.Key=a},24750:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.KeyType=void 0,(r=t.KeyType||(t.KeyType={})).Ed25519="ed25519",r.Bls12381g1g2="bls12381g1g2",r.Bls12381g1="bls12381g1",r.Bls12381g2="bls12381g2",r.X25519="x25519",r.P256="p256",r.P384="p384",r.P521="p521"},5018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createWalletKeyPairClass=void 0;let n=r(83296),i=r(2594),o=r(27073),a=r(23333),s=r(90890),l=r(9804);t.createWalletKeyPairClass=function(e){return class t extends o.LdKeyPair{constructor(e){super(e),this.wallet=e.wallet,this.key=e.key,this.type=e.key.keyType}static async generate(){throw Error("Not implemented")}fingerprint(){throw Error("Method not implemented.")}verifyFingerprint(e){throw Error("Method not implemented.")}static async from(r){let o=a.JsonTransformer.fromJSON(r,n.VerificationMethod);s.MessageValidator.validateSync(o);let l=(0,i.getKeyFromVerificationMethod)(o);return new t({id:o.id,controller:o.controller,wallet:e,key:l})}signer(){let t=async t=>{let r=[];r=Array.isArray(t.data)?t.data.map(e=>l.Buffer.from(e)):l.Buffer.from(t.data);let n=await e.sign({data:r,key:this.key});return Uint8Array.from(n)};return{sign:t.bind(this)}}verifier(){let t=async t=>{let r=[];return r=Array.isArray(t.data)?t.data.map(e=>l.Buffer.from(e)):l.Buffer.from(t.data),e.verify({data:r,signature:l.Buffer.from(t.signature),key:this.key})};return{verify:t.bind(this)}}get publicKeyBuffer(){return new Uint8Array(this.key.publicKey)}}}},91478:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.Key=t.KeyType=t.JwsService=void 0;var o=r(61508);Object.defineProperty(t,"JwsService",{enumerable:!0,get:function(){return o.JwsService}}),i(r(40743),t);var a=r(24750);Object.defineProperty(t,"KeyType",{enumerable:!0,get:function(){return a.KeyType}});var s=r(51271);Object.defineProperty(t,"Key",{enumerable:!0,get:function(){return s.Key}}),i(r(35947),t),i(r(7192),t)},35947:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8273),t),i(r(91994),t),i(r(34745),t)},57787:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.JwaEncryptionAlgorithm=t.JwaSignatureAlgorithm=void 0,(r=t.JwaSignatureAlgorithm||(t.JwaSignatureAlgorithm={})).HS256="HS256",r.HS384="HS384",r.HS512="HS512",r.RS256="RS256",r.RS384="RS384",r.RS512="RS512",r.ES256="ES256",r.ES384="ES384",r.ES512="ES512",r.PS256="PS256",r.PS384="PS384",r.PS512="PS512",r.EdDSA="EdDSA",r.None="none",(n=t.JwaEncryptionAlgorithm||(t.JwaEncryptionAlgorithm={})).RSA15="RSA1_5",n.RSAOAEP="RSA-OAEP",n.RSAOAEP256="RSA-OAEP-256",n.A128KW="A128KW",n.A192KW="A192KW",n.A256KW="A256KW",n.Dir="dir",n.ECDHES="ECDH-ES",n.ECDHESA128KW="ECDH-ES+A128KW",n.ECDHESA192KW="ECDH-ES+A192KW",n.ECDHESA256KW="ECDH-ES+A256KW",n.A128GCMKW="A128GCMKW",n.A192GCMKW="A192GCMKW",n.A256GCMKW="A256GCMKW",n.PBES2HS256A128KW="PBES2-HS256+A128KW",n.PBES2HS384A192KW="PBES2-HS384+A192KW",n.PBES2HS512A256KW="PBES2-HS512+A256KW"},66680:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.JwaCurve=void 0,(r=t.JwaCurve||(t.JwaCurve={})).P256="P-256",r.P384="P-384",r.P521="P-521",r.Ed25519="Ed25519",r.X25519="X25519"},8273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwaCurve=t.JwaKeyType=t.JwaSignatureAlgorithm=t.JwaEncryptionAlgorithm=void 0;var n=r(57787);Object.defineProperty(t,"JwaEncryptionAlgorithm",{enumerable:!0,get:function(){return n.JwaEncryptionAlgorithm}}),Object.defineProperty(t,"JwaSignatureAlgorithm",{enumerable:!0,get:function(){return n.JwaSignatureAlgorithm}});var i=r(36792);Object.defineProperty(t,"JwaKeyType",{enumerable:!0,get:function(){return i.JwaKeyType}});var o=r(66680);Object.defineProperty(t,"JwaCurve",{enumerable:!0,get:function(){return o.JwaCurve}})},36792:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.JwaKeyType=void 0,(r=t.JwaKeyType||(t.JwaKeyType={})).EC="EC",r.RSA="RSA",r.oct="oct",r.OKP="OKP"},53823:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519Jwk=void 0;let n=r(23333),i=r(24750),o=r(8273),a=r(57787),s=r(12347),l=r(27550);class c extends s.Jwk{constructor({x:e}){super(),this.x=e}get kty(){return o.JwaKeyType.OKP}get crv(){return o.JwaCurve.Ed25519}get publicKey(){return n.TypedArrayEncoder.fromBase64(this.x)}get keyType(){return c.keyType}get supportedEncryptionAlgorithms(){return c.supportedEncryptionAlgorithms}get supportedSignatureAlgorithms(){return c.supportedSignatureAlgorithms}toJson(){return Object.assign(Object.assign({},super.toJson()),{crv:this.crv,x:this.x})}static fromJson(e){if(!((0,l.hasKty)(e,o.JwaKeyType.OKP)&&(0,l.hasCrv)(e,o.JwaCurve.Ed25519)&&(0,l.hasX)(e)&&(0,l.hasValidUse)(e,{supportsEncrypting:!1,supportsSigning:!0})))throw Error("Invalid 'Ed25519' JWK.");return new c({x:e.x})}static fromPublicKey(e){return new c({x:n.TypedArrayEncoder.toBase64URL(e)})}}t.Ed25519Jwk=c,c.supportedEncryptionAlgorithms=[],c.supportedSignatureAlgorithms=[a.JwaSignatureAlgorithm.EdDSA],c.keyType=i.KeyType.Ed25519},12347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jwk=void 0;let n=r(51271);class i{toJson(){return{kty:this.kty,use:this.use}}get key(){return new n.Key(this.publicKey,this.keyType)}supportsSignatureAlgorithm(e){return this.supportedSignatureAlgorithms.includes(e)}supportsEncryptionAlgorithm(e){return this.supportedEncryptionAlgorithms.includes(e)}}t.Jwk=i},32790:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidP256JwkPublicKey=t.P256Jwk=void 0;let n=r(23333),i=r(24750),o=r(8273),a=r(57787),s=r(12347),l=r(68384),c=r(27550);class u extends s.Jwk{constructor({x:e,y:t}){super(),this.x=e,this.y=t}get kty(){return o.JwaKeyType.EC}get crv(){return o.JwaCurve.P256}get publicKey(){let e=n.Buffer.concat([n.TypedArrayEncoder.fromBase64(this.x),n.TypedArrayEncoder.fromBase64(this.y)]),t=(0,l.compress)(e);return n.Buffer.from(t)}get keyType(){return u.keyType}get supportedEncryptionAlgorithms(){return u.supportedEncryptionAlgorithms}get supportedSignatureAlgorithms(){return u.supportedSignatureAlgorithms}toJson(){return Object.assign(Object.assign({},super.toJson()),{crv:this.crv,x:this.x,y:this.y})}static fromJson(e){if(!d(e))throw Error("Invalid 'P-256' JWK.");return new u({x:e.x,y:e.y})}static fromPublicKey(e){let t=(0,l.expand)(e,o.JwaCurve.P256),r=t.slice(0,t.length/2),i=t.slice(t.length/2);return new u({x:n.TypedArrayEncoder.toBase64URL(r),y:n.TypedArrayEncoder.toBase64URL(i)})}}function d(e){return(0,c.hasKty)(e,o.JwaKeyType.EC)&&(0,c.hasCrv)(e,o.JwaCurve.P256)&&(0,c.hasX)(e)&&(0,c.hasY)(e)&&(0,c.hasValidUse)(e,{supportsEncrypting:!0,supportsSigning:!0})}t.P256Jwk=u,u.supportedEncryptionAlgorithms=[],u.supportedSignatureAlgorithms=[a.JwaSignatureAlgorithm.ES256],u.keyType=i.KeyType.P256,t.isValidP256JwkPublicKey=d},52916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidP384JwkPublicKey=t.P384Jwk=void 0;let n=r(23333),i=r(24750),o=r(8273),a=r(57787),s=r(12347),l=r(68384),c=r(27550);class u extends s.Jwk{constructor({x:e,y:t}){super(),this.x=e,this.y=t}get kty(){return o.JwaKeyType.EC}get crv(){return o.JwaCurve.P384}get keyType(){return u.keyType}get supportedEncryptionAlgorithms(){return u.supportedEncryptionAlgorithms}get supportedSignatureAlgorithms(){return u.supportedSignatureAlgorithms}get publicKey(){let e=n.Buffer.concat([n.TypedArrayEncoder.fromBase64(this.x),n.TypedArrayEncoder.fromBase64(this.y)]),t=(0,l.compress)(e);return n.Buffer.from(t)}toJson(){return Object.assign(Object.assign({},super.toJson()),{crv:this.crv,x:this.x,y:this.y})}static fromJson(e){if(!d(e))throw Error("Invalid 'P-384' JWK.");return new u({x:e.x,y:e.y})}static fromPublicKey(e){let t=(0,l.expand)(e,o.JwaCurve.P384),r=t.slice(0,t.length/2),i=t.slice(t.length/2);return new u({x:n.TypedArrayEncoder.toBase64URL(r),y:n.TypedArrayEncoder.toBase64URL(i)})}}function d(e){return(0,c.hasKty)(e,o.JwaKeyType.EC)&&(0,c.hasCrv)(e,o.JwaCurve.P384)&&(0,c.hasX)(e)&&(0,c.hasY)(e)&&(0,c.hasValidUse)(e,{supportsEncrypting:!0,supportsSigning:!0})}t.P384Jwk=u,u.supportedEncryptionAlgorithms=[],u.supportedSignatureAlgorithms=[a.JwaSignatureAlgorithm.ES384],u.keyType=i.KeyType.P384,t.isValidP384JwkPublicKey=d},62250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidP521JwkPublicKey=t.P521Jwk=void 0;let n=r(23333),i=r(24750),o=r(8273),a=r(57787),s=r(12347),l=r(68384),c=r(27550);class u extends s.Jwk{constructor({x:e,y:t}){super(),this.x=e,this.y=t}get kty(){return o.JwaKeyType.EC}get crv(){return o.JwaCurve.P521}get keyType(){return u.keyType}get supportedEncryptionAlgorithms(){return u.supportedEncryptionAlgorithms}get supportedSignatureAlgorithms(){return u.supportedSignatureAlgorithms}get publicKey(){let e=n.Buffer.concat([n.TypedArrayEncoder.fromBase64(this.x),n.TypedArrayEncoder.fromBase64(this.y)]),t=(0,l.compress)(e);return n.Buffer.from(t)}toJson(){return Object.assign(Object.assign({},super.toJson()),{crv:this.crv,x:this.x,y:this.y})}static fromJson(e){if(!d(e))throw Error("Invalid 'P-521' JWK.");return new u({x:e.x,y:e.y})}static fromPublicKey(e){let t=(0,l.expand)(e,o.JwaCurve.P521),r=t.slice(0,t.length/2),i=t.slice(t.length/2);return new u({x:n.TypedArrayEncoder.toBase64URL(r),y:n.TypedArrayEncoder.toBase64URL(i)})}}function d(e){return(0,c.hasKty)(e,o.JwaKeyType.EC)&&(0,c.hasCrv)(e,o.JwaCurve.P521)&&(0,c.hasX)(e)&&(0,c.hasY)(e)&&(0,c.hasValidUse)(e,{supportsEncrypting:!0,supportsSigning:!0})}t.P521Jwk=u,u.supportedEncryptionAlgorithms=[],u.supportedSignatureAlgorithms=[a.JwaSignatureAlgorithm.ES512],u.keyType=i.KeyType.P521,t.isValidP521JwkPublicKey=d},5478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.X25519Jwk=void 0;let n=r(23333),i=r(24750),o=r(8273),a=r(12347),s=r(27550);class l extends a.Jwk{constructor({x:e}){super(),this.x=e}get kty(){return o.JwaKeyType.OKP}get crv(){return o.JwaCurve.X25519}get keyType(){return l.keyType}get supportedEncryptionAlgorithms(){return l.supportedEncryptionAlgorithms}get supportedSignatureAlgorithms(){return l.supportedSignatureAlgorithms}get publicKey(){return n.TypedArrayEncoder.fromBase64(this.x)}toJson(){return Object.assign(Object.assign({},super.toJson()),{crv:this.crv,x:this.x})}static fromJson(e){if(!((0,s.hasKty)(e,o.JwaKeyType.OKP)&&(0,s.hasCrv)(e,o.JwaCurve.X25519)&&(0,s.hasX)(e)&&(0,s.hasValidUse)(e,{supportsEncrypting:!0,supportsSigning:!1})))throw Error("Invalid 'X25519' JWK.");return new l({x:e.x})}static fromPublicKey(e){return new l({x:n.TypedArrayEncoder.toBase64URL(e)})}}t.X25519Jwk=l,l.supportedEncryptionAlgorithms=[o.JwaEncryptionAlgorithm.ECDHESA128KW,o.JwaEncryptionAlgorithm.ECDHESA192KW,o.JwaEncryptionAlgorithm.ECDHESA256KW,o.JwaEncryptionAlgorithm.ECDHES],l.supportedSignatureAlgorithms=[],l.keyType=i.KeyType.X25519},68384:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.expand=t.compress=void 0;let i=n(r(19682)),o=r(9804),a={"P-256":64,"P-384":96,"P-521":132};function s(e,t){let r=""+e;for(;r.length<t;)r="0"+r;return r}t.compress=function(e){let t=o.Buffer.from(e).toString("hex"),r=t.slice(0,t.length/2),n=t.slice(t.length/2,t.length),i=Uint8Array.from(o.Buffer.from(r,"hex")),a=Uint8Array.from(o.Buffer.from(n,"hex"));return function(e,t){let r=new Uint8Array(e.length+1);return r[0]=2+(1&t[t.length-1]),r.set(e,1),r}(i,a)},t.expand=function(e,t){let r=o.Buffer.from(e).toString("hex"),{prime:n,b:l,pIdent:c}=function(e){let t,r,n,o;if("P-256"===e&&(o=(r=(t=(0,i.default)(2)).pow(256).subtract(t.pow(224)).add(t.pow(192)).add(t.pow(96)).subtract(1)).add(1).divide(4),n=(0,i.default)("5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b",16)),"P-384"===e&&(o=(r=(t=(0,i.default)(2)).pow(384).subtract(t.pow(128)).subtract(t.pow(96)).add(t.pow(32)).subtract(1)).add(1).divide(4),n=(0,i.default)("b3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef",16)),"P-521"===e&&(r=(t=(0,i.default)(2)).pow(521).subtract(1),n=(0,i.default)("00000051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00",16),o=r.add(1).divide(4)),!r||!n||!o)throw Error(`Unsupported curve ${e}`);return{prime:r,b:n,pIdent:o}}(t),u=new Number(r[1]).valueOf()-2,d=(0,i.default)(r.substring(2),16),f=d.pow(3).subtract(d.multiply(3)).add(l).modPow(c,n);return f.mod(2).toJSNumber()!==u&&(f=n.subtract(f)),o.Buffer.from(s(d.toString(16),a[t])+s(f.toString(16),a[t]),"hex")}},91994:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jwk=t.P521Jwk=t.P384Jwk=t.P256Jwk=t.X25519Jwk=t.Ed25519Jwk=t.getJwkClassFromKeyType=t.getJwkClassFromJwaSignatureAlgorithm=t.getJwkFromKey=t.getJwkFromJson=void 0;var n=r(25657);Object.defineProperty(t,"getJwkFromJson",{enumerable:!0,get:function(){return n.getJwkFromJson}}),Object.defineProperty(t,"getJwkFromKey",{enumerable:!0,get:function(){return n.getJwkFromKey}}),Object.defineProperty(t,"getJwkClassFromJwaSignatureAlgorithm",{enumerable:!0,get:function(){return n.getJwkClassFromJwaSignatureAlgorithm}}),Object.defineProperty(t,"getJwkClassFromKeyType",{enumerable:!0,get:function(){return n.getJwkClassFromKeyType}});var i=r(53823);Object.defineProperty(t,"Ed25519Jwk",{enumerable:!0,get:function(){return i.Ed25519Jwk}});var o=r(5478);Object.defineProperty(t,"X25519Jwk",{enumerable:!0,get:function(){return o.X25519Jwk}});var a=r(32790);Object.defineProperty(t,"P256Jwk",{enumerable:!0,get:function(){return a.P256Jwk}});var s=r(52916);Object.defineProperty(t,"P384Jwk",{enumerable:!0,get:function(){return s.P384Jwk}});var l=r(62250);Object.defineProperty(t,"P521Jwk",{enumerable:!0,get:function(){return l.P521Jwk}});var c=r(12347);Object.defineProperty(t,"Jwk",{enumerable:!0,get:function(){return c.Jwk}})},25657:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJwkClassFromKeyType=t.getJwkClassFromJwaSignatureAlgorithm=t.getJwkFromKey=t.getJwkFromJson=void 0;let n=r(24750),i=r(8273),o=r(53823),a=r(32790),s=r(52916),l=r(62250),c=r(5478),u=r(27550),d=[o.Ed25519Jwk,a.P256Jwk,s.P384Jwk,l.P521Jwk,c.X25519Jwk];t.getJwkFromJson=function(e){if(e.kty===i.JwaKeyType.OKP){if((0,u.hasCrv)(e,i.JwaCurve.Ed25519))return o.Ed25519Jwk.fromJson(e);if((0,u.hasCrv)(e,i.JwaCurve.X25519))return c.X25519Jwk.fromJson(e)}if(e.kty===i.JwaKeyType.EC){if((0,u.hasCrv)(e,i.JwaCurve.P256))return a.P256Jwk.fromJson(e);if((0,u.hasCrv)(e,i.JwaCurve.P384))return s.P384Jwk.fromJson(e);if((0,u.hasCrv)(e,i.JwaCurve.P521))return l.P521Jwk.fromJson(e)}throw Error(`Cannot create JWK from JSON. Unsupported JWK with kty '${e.kty}'.`)},t.getJwkFromKey=function(e){if(e.keyType===n.KeyType.Ed25519)return o.Ed25519Jwk.fromPublicKey(e.publicKey);if(e.keyType===n.KeyType.X25519)return c.X25519Jwk.fromPublicKey(e.publicKey);if(e.keyType===n.KeyType.P256)return a.P256Jwk.fromPublicKey(e.publicKey);if(e.keyType===n.KeyType.P384)return s.P384Jwk.fromPublicKey(e.publicKey);if(e.keyType===n.KeyType.P521)return l.P521Jwk.fromPublicKey(e.publicKey);throw Error(`Cannot create JWK from key. Unsupported key with type '${e.keyType}'.`)},t.getJwkClassFromJwaSignatureAlgorithm=function(e){return d.find(t=>t.supportedSignatureAlgorithms.includes(e))},t.getJwkClassFromKeyType=function(e){return d.find(t=>t.keyType===e)}},27550:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasValidUse=t.hasY=t.hasX=t.hasKty=t.hasCrv=void 0,t.hasCrv=function(e,t){return"crv"in e&&e.crv===t},t.hasKty=function(e,t){return"kty"in e&&e.kty===t},t.hasX=function(e){return"x"in e&&void 0!==e.x},t.hasY=function(e){return"y"in e&&void 0!==e.y},t.hasValidUse=function(e,{supportsSigning:t,supportsEncrypting:r}){return void 0===e.use||t&&"sig"===e.use||r&&"enc"===e.use}},93118:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Jwt=void 0;let n=r(99997),i=r(23333),o=r(47490);class a{constructor(e){this.serializedJwt=e.serializedJwt,this.payload=e.payload,this.header=e.header,this.signature=e.signature}static fromSerializedJwt(e){if("string"!=typeof e||!a.format.test(e))throw new n.AriesFrameworkError(`Invalid JWT. '${e}' does not match JWT regex`);let[t,r,s]=e.split(".");try{return new a({header:i.JsonEncoder.fromBase64(t),payload:o.JwtPayload.fromJson(i.JsonEncoder.fromBase64(r)),signature:i.TypedArrayEncoder.fromBase64(s),serializedJwt:e})}catch(e){throw new n.AriesFrameworkError(`Invalid JWT. ${e instanceof Error?e.message:JSON.stringify(e)}`)}}}t.Jwt=a,a.format=/^[A-Za-z0-9-_=]+\.[A-Za-z0-9-_=]+\.?[A-Za-z0-9-_.+/=]*$/},47490:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.JwtPayload=void 0;let i=r(99997);class o{constructor(e){var t;this.iss=null==e?void 0:e.iss,this.sub=null==e?void 0:e.sub,this.aud=null==e?void 0:e.aud,this.exp=null==e?void 0:e.exp,this.nbf=null==e?void 0:e.nbf,this.iat=null==e?void 0:e.iat,this.jti=null==e?void 0:e.jti,this.additionalClaims=null!==(t=null==e?void 0:e.additionalClaims)&&void 0!==t?t:{}}validate(e){let{nowSkewedFuture:t,nowSkewedPast:r}=function(e,t){let r="number"==typeof e?e:Math.floor(Date.now()/1e3),n=void 0!==t&&t>=0?t:300;return{nowSkewedPast:r-n,nowSkewedFuture:r+n}}(null==e?void 0:e.now,null==e?void 0:e.skewTime);if("number"!=typeof this.nbf&&void 0!==this.nbf)throw new i.AriesFrameworkError(`JWT payload 'nbf' must be a number if provided. Actual type is ${typeof this.nbf}`);if("number"==typeof this.nbf&&this.nbf>t)throw new i.AriesFrameworkError(`JWT not valid before ${this.nbf}`);if("number"!=typeof this.iat&&void 0!==this.iat)throw new i.AriesFrameworkError(`JWT payload 'iat' must be a number if provided. Actual type is ${typeof this.iat}`);if("number"==typeof this.iat&&this.iat>t)throw new i.AriesFrameworkError(`JWT issued in the future at ${this.iat}`);if("number"!=typeof this.exp&&void 0!==this.exp)throw new i.AriesFrameworkError(`JWT payload 'exp' must be a number if provided. Actual type is ${typeof this.exp}`);if("number"==typeof this.exp&&this.exp<r)throw new i.AriesFrameworkError(`JWT expired at ${this.exp}`)}toJson(){return Object.assign(Object.assign({},this.additionalClaims),{iss:this.iss,sub:this.sub,aud:this.aud,exp:this.exp,nbf:this.nbf,iat:this.iat,jti:this.jti})}static fromJson(e){let{iss:t,sub:r,aud:a,exp:s,nbf:l,iat:c,jti:u}=e,d=n(e,["iss","sub","aud","exp","nbf","iat","jti"]);if(t&&"string"!=typeof t)throw new i.AriesFrameworkError("JWT payload iss must be a string");if(r&&"string"!=typeof r)throw new i.AriesFrameworkError("JWT payload sub must be a string");if(a&&"string"!=typeof a&&!(Array.isArray(a)&&a.every(e=>"string"==typeof e)))throw new i.AriesFrameworkError("JWT payload aud must be a string or an array of strings");if(s&&("number"!=typeof s||s<0))throw new i.AriesFrameworkError("JWT payload exp must be a positive number");if(l&&("number"!=typeof l||l<0))throw new i.AriesFrameworkError("JWT payload nbf must be a positive number");if(c&&("number"!=typeof c||c<0))throw new i.AriesFrameworkError("JWT payload iat must be a positive number");if(u&&"string"!=typeof u)throw new i.AriesFrameworkError("JWT payload jti must be a string");let f=new o({iss:t,sub:r,aud:a,exp:s,nbf:l,iat:c,jti:u,additionalClaims:d});return f}}t.JwtPayload=o},34745:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwtPayload=t.Jwt=void 0;var n=r(93118);Object.defineProperty(t,"Jwt",{enumerable:!0,get:function(){return n.Jwt}});var i=r(47490);Object.defineProperty(t,"JwtPayload",{enumerable:!0,get:function(){return i.JwtPayload}})},40743:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEncryptionSupportedForKeyType=t.isSigningSupportedForKeyType=t.isValidPrivateKey=t.isValidSeed=void 0;let n=r(23333),i=r(24750);t.isValidSeed=function(e,t){let r={[i.KeyType.Ed25519]:32,[i.KeyType.X25519]:32,[i.KeyType.Bls12381g1]:32,[i.KeyType.Bls12381g2]:32,[i.KeyType.Bls12381g1g2]:32,[i.KeyType.P256]:64,[i.KeyType.P384]:64,[i.KeyType.P521]:64};return n.Buffer.isBuffer(e)&&e.length>=r[t]},t.isValidPrivateKey=function(e,t){let r={[i.KeyType.Ed25519]:32,[i.KeyType.X25519]:32,[i.KeyType.Bls12381g1]:32,[i.KeyType.Bls12381g2]:32,[i.KeyType.Bls12381g1g2]:32,[i.KeyType.P256]:32,[i.KeyType.P384]:48,[i.KeyType.P521]:66};return n.Buffer.isBuffer(e)&&e.length===r[t]},t.isSigningSupportedForKeyType=function(e){let t={[i.KeyType.Ed25519]:!0,[i.KeyType.X25519]:!1,[i.KeyType.P256]:!0,[i.KeyType.P384]:!0,[i.KeyType.P521]:!0,[i.KeyType.Bls12381g1]:!0,[i.KeyType.Bls12381g2]:!0,[i.KeyType.Bls12381g1g2]:!0};return t[e]},t.isEncryptionSupportedForKeyType=function(e){let t={[i.KeyType.Ed25519]:!1,[i.KeyType.X25519]:!0,[i.KeyType.P256]:!0,[i.KeyType.P384]:!0,[i.KeyType.P521]:!0,[i.KeyType.Bls12381g1]:!1,[i.KeyType.Bls12381g2]:!1,[i.KeyType.Bls12381g1g2]:!1};return t[e]}},30209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMultiCodecPrefixByKeyType=t.getKeyTypeByMultiCodecPrefix=void 0;let n=r(24750),i={234:n.KeyType.Bls12381g1,235:n.KeyType.Bls12381g2,236:n.KeyType.X25519,237:n.KeyType.Ed25519,238:n.KeyType.Bls12381g1g2,4608:n.KeyType.P256,4609:n.KeyType.P384,4610:n.KeyType.P521};t.getKeyTypeByMultiCodecPrefix=function(e){let t=i[e];if(!t)throw Error(`Unsupported key type from multicodec code '${e}'`);return t},t.getMultiCodecPrefixByKeyType=function(e){let t=Object.keys(i),r=t.find(t=>i[t]===e);if(!r)throw Error(`Could not find multicodec prefix for key type '${e}'`);return Number(r)}},61257:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},42794:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigningProviderError=void 0;let n=r(99997);class i extends n.AriesFrameworkError{}t.SigningProviderError=i},41542:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SigningProviderRegistry=t.SigningProviderToken=void 0;let a=r(99997),s=r(90978);t.SigningProviderToken=Symbol("SigningProviderToken");let l=class{constructor(e){this.signingKeyProviders=e.filter(e=>"default"!==e)}hasProviderForKeyType(e){let t=this.signingKeyProviders.find(t=>t.keyType===e);return void 0!==t}getProviderForKeyType(e){let t=this.signingKeyProviders.find(t=>t.keyType===e);if(!t)throw new a.AriesFrameworkError(`No signing key provider for key type: ${e}`);return t}get supportedKeyTypes(){return Array.from(new Set(this.signingKeyProviders.map(e=>e.keyType)))}};l=n([(0,s.injectable)(),o(0,(0,s.injectAll)(t.SigningProviderToken)),i("design:paramtypes",[Array])],l),t.SigningProviderRegistry=l},7192:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(61257),t),i(r(41542),t),i(r(42794),t)},78557:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AckDecorator=t.AckValues=void 0;let s=r(56988);(n=i=t.AckValues||(t.AckValues={})).Receipt="RECEIPT",n.Outcome="OUTCOME";class l{constructor(e){this.on=[i.Receipt],e&&(this.on=e.on)}}o([(0,s.IsEnum)(i,{each:!0}),(0,s.IsArray)(),a("design:type",Array)],l.prototype,"on",void 0),t.AckDecorator=l},21500:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AckDecorated=void 0;let o=r(5902),a=r(56988),s=r(78557);t.AckDecorated=function(e){class t extends e{setPleaseAck(e=[s.AckValues.Receipt]){this.pleaseAck=new s.AckDecorator({on:e})}getPleaseAck(){return this.pleaseAck}requiresAck(){return void 0!==this.pleaseAck}}return n([(0,o.Expose)({name:"~please_ack"}),(0,o.Type)(()=>s.AckDecorator),(0,a.ValidateNested)(),(0,a.IsInstance)(s.AckDecorator),(0,a.IsOptional)(),i("design:type",s.AckDecorator)],t.prototype,"pleaseAck",void 0),t}},22548:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.Attachment=t.AttachmentData=void 0;let a=r(5902),s=r(56988),l=r(99997),c=r(72589),u=r(15169);class d{constructor(e){e&&(this.base64=e.base64,this.json=e.json,this.links=e.links,this.jws=e.jws,this.sha256=e.sha256)}}n([(0,s.IsOptional)(),(0,s.IsString)(),i("design:type",String)],d.prototype,"base64",void 0),n([(0,s.IsOptional)(),i("design:type",Object)],d.prototype,"json",void 0),n([(0,s.IsOptional)(),(0,s.IsString)({each:!0}),i("design:type",Array)],d.prototype,"links",void 0),n([(0,s.IsOptional)(),i("design:type",Object)],d.prototype,"jws",void 0),n([(0,s.IsOptional)(),(0,s.IsHash)("sha256"),i("design:type",String)],d.prototype,"sha256",void 0),t.AttachmentData=d;class f{constructor(e){var t;e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,u.uuid)(),this.description=e.description,this.filename=e.filename,this.mimeType=e.mimeType,this.lastmodTime=e.lastmodTime,this.byteCount=e.byteCount,this.data=new d(e.data))}getDataAsJson(){if("string"==typeof this.data.base64)return c.JsonEncoder.fromBase64(this.data.base64);if(this.data.json)return this.data.json;throw new l.AriesFrameworkError("No attachment data found in `json` or `base64` data fields.")}addJws(e){let{payload:t}=e,r=o(e,["payload"]);this.data.jws?"signatures"in this.data.jws?this.data.jws.signatures.push(r):this.data.jws={signatures:[this.data.jws,r]}:this.data.jws=r}}n([(0,a.Expose)({name:"@id"}),i("design:type",String)],f.prototype,"id",void 0),n([(0,s.IsOptional)(),(0,s.IsString)(),i("design:type",String)],f.prototype,"description",void 0),n([(0,s.IsOptional)(),(0,s.IsString)(),i("design:type",String)],f.prototype,"filename",void 0),n([(0,a.Expose)({name:"mime-type"}),(0,s.IsOptional)(),(0,s.IsMimeType)(),i("design:type",String)],f.prototype,"mimeType",void 0),n([(0,a.Expose)({name:"lastmod_time"}),(0,a.Type)(()=>Date),(0,s.IsOptional)(),(0,s.IsDate)(),i("design:type",Date)],f.prototype,"lastmodTime",void 0),n([(0,a.Expose)({name:"byte_count"}),(0,s.IsOptional)(),(0,s.IsInt)(),i("design:type",Number)],f.prototype,"byteCount",void 0),n([(0,a.Type)(()=>d),(0,s.ValidateNested)(),(0,s.IsInstance)(d),i("design:type",d)],f.prototype,"data",void 0),t.Attachment=f},58956:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentDecorated=void 0;let o=r(5902),a=r(56988),s=r(22548);t.AttachmentDecorated=function(e){class t extends e{getAppendedAttachmentById(e){var t;return null===(t=this.appendedAttachments)||void 0===t?void 0:t.find(t=>t.id===e)}addAppendedAttachment(e){this.appendedAttachments?this.appendedAttachments.push(e):this.appendedAttachments=[e]}}return n([(0,o.Expose)({name:"~attach"}),(0,o.Type)(()=>s.Attachment),(0,a.ValidateNested)(),(0,a.IsInstance)(s.Attachment,{each:!0}),(0,a.IsOptional)(),i("design:type",Array)],t.prototype,"appendedAttachments",void 0),t}},62001:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.L10nDecorator=void 0;class r{constructor(e){this.locale=null==e?void 0:e.locale}}t.L10nDecorator=r},14251:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.L10nDecorated=void 0;let o=r(5902),a=r(56988),s=r(62001);t.L10nDecorated=function(e){class t extends e{addLocale(e){this.l10n=new s.L10nDecorator({locale:e})}getLocale(){var e;if(null===(e=this.l10n)||void 0===e?void 0:e.locale)return this.l10n.locale}}return n([(0,o.Expose)({name:"~l10n"}),(0,o.Type)(()=>s.L10nDecorator),(0,a.ValidateNested)(),(0,a.IsOptional)(),(0,a.IsInstance)(s.L10nDecorator),i("design:type",s.L10nDecorator)],t.prototype,"l10n",void 0),t}},11938:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceDecorator=void 0;let o=r(56988),a=r(78278),s=r(15169);class l{constructor(e){e&&(this.recipientKeys=e.recipientKeys,this.routingKeys=e.routingKeys,this.serviceEndpoint=e.serviceEndpoint)}get resolvedDidCommService(){var e,t;return{id:(0,s.uuid)(),recipientKeys:this.recipientKeys.map(a.verkeyToInstanceOfKey),routingKeys:null!==(t=null===(e=this.routingKeys)||void 0===e?void 0:e.map(a.verkeyToInstanceOfKey))&&void 0!==t?t:[],serviceEndpoint:this.serviceEndpoint}}static fromResolvedDidCommService(e){return new l({recipientKeys:e.recipientKeys.map(e=>e.publicKeyBase58),routingKeys:e.routingKeys.map(e=>e.publicKeyBase58),serviceEndpoint:e.serviceEndpoint})}}n([(0,o.IsArray)(),(0,o.IsString)({each:!0}),i("design:type",Array)],l.prototype,"recipientKeys",void 0),n([(0,o.IsArray)(),(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],l.prototype,"routingKeys",void 0),n([(0,o.IsString)(),i("design:type",String)],l.prototype,"serviceEndpoint",void 0),t.ServiceDecorator=l},70913:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceDecorated=void 0;let o=r(5902),a=r(56988),s=r(11938);t.ServiceDecorated=function(e){class t extends e{setService(e){this.service=new s.ServiceDecorator(e)}}return n([(0,o.Expose)({name:"~service"}),(0,o.Type)(()=>s.ServiceDecorator),(0,a.IsOptional)(),(0,a.ValidateNested)(),i("design:type",s.ServiceDecorator)],t.prototype,"service",void 0),t}},98970:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureDecorator=void 0;let o=r(5902),a=r(56988),s=r(51071),l=r(51465);class c{constructor(e){e&&(this.signatureType=e.signatureType,this.signatureData=e.signatureData,this.signer=e.signer,this.signature=e.signature)}}n([(0,o.Expose)({name:"@type"}),(0,o.Transform)(({value:e})=>(0,l.replaceLegacyDidSovPrefix)(e),{toClassOnly:!0}),(0,a.Matches)(s.MessageTypeRegExp),i("design:type",String)],c.prototype,"signatureType",void 0),n([(0,o.Expose)({name:"sig_data"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"signatureData",void 0),n([(0,o.Expose)({name:"signer"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"signer",void 0),n([(0,o.Expose)({name:"signature"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"signature",void 0),t.SignatureDecorator=c},90743:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.signData=t.unpackAndVerifySignatureDecorator=void 0;let i=r(91478),o=r(99997),a=r(72589),s=r(87055),l=r(9804),c=n(r(26687)),u=r(98970);async function d(e,t){let r=e.signer,n=i.Key.fromPublicKeyBase58(r,i.KeyType.Ed25519),l=s.TypedArrayEncoder.fromBase64(e.signatureData),c=s.TypedArrayEncoder.fromBase64(e.signature),u=await t.verify({signature:c,data:l,key:n});if(!u)throw new o.AriesFrameworkError("Signature is not valid");return a.JsonEncoder.fromBuffer(l.slice(8))}async function f(e,t,r){let n=l.Buffer.concat([(0,c.default)(),a.JsonEncoder.toBuffer(e)]),o=i.Key.fromPublicKeyBase58(r,i.KeyType.Ed25519),d=await t.sign({key:o,data:n}),f=new u.SignatureDecorator({signatureType:"https://didcomm.org/signature/1.0/ed25519Sha512_single",signature:s.TypedArrayEncoder.toBase64URL(d),signatureData:s.TypedArrayEncoder.toBase64URL(n),signer:r});return f}t.unpackAndVerifySignatureDecorator=d,t.signData=f},49606:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadDecorator=void 0;let o=r(5902),a=r(56988),s=r(51071);class l{constructor(e){this.threadId=null==e?void 0:e.threadId,this.parentThreadId=null==e?void 0:e.parentThreadId,this.senderOrder=null==e?void 0:e.senderOrder,this.receivedOrders=null==e?void 0:e.receivedOrders}}n([(0,o.Expose)({name:"thid"}),(0,a.Matches)(s.MessageIdRegExp),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"threadId",void 0),n([(0,o.Expose)({name:"pthid"}),(0,a.Matches)(s.MessageIdRegExp),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"parentThreadId",void 0),n([(0,o.Expose)({name:"sender_order"}),(0,a.IsOptional)(),(0,a.IsInt)(),i("design:type",Number)],l.prototype,"senderOrder",void 0),n([(0,o.Expose)({name:"received_orders"}),(0,a.IsOptional)(),i("design:type",Object)],l.prototype,"receivedOrders",void 0),t.ThreadDecorator=l},57151:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ThreadDecorated=void 0;let o=r(5902),a=r(56988),s=r(49606);t.ThreadDecorated=function(e){class t extends e{get threadId(){var e,t;return null!==(t=null===(e=this.thread)||void 0===e?void 0:e.threadId)&&void 0!==t?t:this.id}setThread(e){this.thread=new s.ThreadDecorator(e)}}return n([(0,o.Expose)({name:"~thread"}),(0,a.IsOptional)(),(0,o.Type)(()=>s.ThreadDecorator),(0,a.ValidateNested)(),(0,a.IsInstance)(s.ThreadDecorator),i("design:type",s.ThreadDecorator)],t.prototype,"thread",void 0),t}},80162:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimingDecorator=void 0;let o=r(5902),a=r(56988);class s{constructor(e){this.inTime=null==e?void 0:e.inTime,this.outTime=null==e?void 0:e.outTime,this.staleTime=null==e?void 0:e.staleTime,this.expiresTime=null==e?void 0:e.expiresTime,this.delayMilli=null==e?void 0:e.delayMilli,this.waitUntilTime=null==e?void 0:e.waitUntilTime}}n([(0,o.Expose)({name:"in_time"}),(0,o.Type)(()=>Date),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],s.prototype,"inTime",void 0),n([(0,o.Expose)({name:"out_time"}),(0,o.Type)(()=>Date),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],s.prototype,"outTime",void 0),n([(0,o.Expose)({name:"stale_time"}),(0,o.Type)(()=>Date),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],s.prototype,"staleTime",void 0),n([(0,o.Expose)({name:"expires_time"}),(0,o.Type)(()=>Date),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],s.prototype,"expiresTime",void 0),n([(0,o.Expose)({name:"delay_milli"}),(0,a.IsNumber)(),(0,a.IsOptional)(),i("design:type",Number)],s.prototype,"delayMilli",void 0),n([(0,o.Expose)({name:"wait_until_time"}),(0,o.Type)(()=>Date),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],s.prototype,"waitUntilTime",void 0),t.TimingDecorator=s},98018:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TimingDecorated=void 0;let o=r(5902),a=r(56988),s=r(80162);t.TimingDecorated=function(e){class t extends e{setTiming(e){this.timing=new s.TimingDecorator(e)}}return n([(0,o.Expose)({name:"~timing"}),(0,o.Type)(()=>s.TimingDecorator),(0,a.ValidateNested)(),(0,a.IsInstance)(s.TimingDecorator),(0,a.IsOptional)(),i("design:type",s.TimingDecorator)],t.prototype,"timing",void 0),t}},40946:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TransportDecorator=t.ReturnRouteTypes=void 0;let s=r(5902),l=r(56988),c=r(51071);(n=i=t.ReturnRouteTypes||(t.ReturnRouteTypes={})).none="none",n.all="all",n.thread="thread";class u{constructor(e){this.returnRoute=null==e?void 0:e.returnRoute,this.returnRouteThread=null==e?void 0:e.returnRouteThread}}o([(0,s.Expose)({name:"return_route"}),(0,l.IsEnum)(i),(0,l.IsOptional)(),a("design:type",String)],u.prototype,"returnRoute",void 0),o([(0,s.Expose)({name:"return_route_thread"}),(0,l.ValidateIf)(e=>e.returnRoute===i.thread),(0,l.Matches)(c.MessageIdRegExp),a("design:type",String)],u.prototype,"returnRouteThread",void 0),t.TransportDecorator=u},76586:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TransportDecorated=void 0;let o=r(5902),a=r(56988),s=r(40946);t.TransportDecorated=function(e){class t extends e{setReturnRouting(e,t){this.transport=new s.TransportDecorator({returnRoute:e,returnRouteThread:t})}hasReturnRouting(e){return!!this.transport&&!!this.transport.returnRoute&&this.transport.returnRoute!==s.ReturnRouteTypes.none&&(this.transport.returnRoute===s.ReturnRouteTypes.all||this.transport.returnRoute===s.ReturnRouteTypes.thread&&this.transport.returnRouteThread===e)}hasAnyReturnRoute(){var e;let t=null===(e=this.transport)||void 0===e?void 0:e.returnRoute;return t===s.ReturnRouteTypes.all||t===s.ReturnRouteTypes.thread}}return n([(0,o.Expose)({name:"~transport"}),(0,o.Type)(()=>s.TransportDecorator),(0,a.ValidateNested)(),(0,a.IsOptional)(),(0,a.IsInstance)(s.TransportDecorator),i("design:type",s.TransportDecorator)],t.prototype,"transport",void 0),t}},32236:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AriesFrameworkError=void 0;let n=r(5573);class i extends n.BaseError{constructor(e,{cause:t}={}){super(e,t)}}t.AriesFrameworkError=i},5573:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fullStack=t.BaseError=t.SEPARATOR_TEXT=void 0;let i=n(r(73725)),o=n(r(19063));t.SEPARATOR_TEXT=`

The following exception was the direct cause of the above exception:

`;class a extends i.default.BaseError{constructor(e,t){super(e),this.cause=t,Object.defineProperty(this,"cause",{value:t,writable:!1,enumerable:!1,configurable:!1})}inspect(){return s(this)}}function s(e){let r=[],n=e;for(;n;)r.push(n),n=n.cause;return r.map(e=>(0,o.default)(e,{customInspect:!1})).join(t.SEPARATOR_TEXT)}t.BaseError=a,t.fullStack=s},64802:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClassValidationError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{validationErrorsToString(){var e,t;return null!==(t=null===(e=this.validationErrors)||void 0===e?void 0:e.map(e=>e.toString(!0)).join("\n"))&&void 0!==t?t:""}constructor(e,{classType:t,cause:r,validationErrors:n}){let i=null==n?void 0:n.map(e=>e.toString(void 0,void 0,void 0,!0)).join("\n");super(`${t}: ${e}
${i}`,{cause:r}),this.validationErrors=null!=n?n:[]}}t.ClassValidationError=i},52592:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageSendingError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{constructor(e,{outboundMessageContext:t,cause:r}){super(e,{cause:r}),this.outboundMessageContext=t}}t.MessageSendingError=i},57134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordDuplicateError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{constructor(e,{recordType:t,cause:r}){super(`${t}: ${e}`,{cause:r})}}t.RecordDuplicateError=i},8781:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecordNotFoundError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{constructor(e,{recordType:t,cause:r}){super(`${t}: ${e}`,{cause:r})}}t.RecordNotFoundError=i},97552:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidationErrorArray=void 0;let n=r(56988);t.isValidationErrorArray=function(e){if(Array.isArray(e)){let t=e.length>0&&e.every(e=>e instanceof n.ValidationError);return t}return!1}},99997:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32236),t),i(r(8781),t),i(r(57134),t),i(r(64802),t),i(r(52592),t)},25529:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.LinkedAttachment=t.MessageValidator=t.Hasher=t.isLinkedAttachment=t.encodeAttachment=t.replaceLegacyDidSovPrefix=t.IsValidMessageType=t.parseMessageType=t.Buffer=t.TypedArrayEncoder=t.isValidJweStructure=t.isJsonObject=t.JsonTransformer=t.JsonEncoder=t.ReturnRouteTypes=t.ServiceDecorator=t.AttachmentData=t.Attachment=t.TransportService=t.InjectionSymbols=t.getDirFromFilePath=t.Repository=t.InMemoryMessageRepository=t.DidCommMessageRepository=t.DidCommMessageRole=t.DidCommMessageRecord=t.KeyDerivationMethod=t.DidCommMimeType=t.getOutboundMessageContext=t.MessageSender=t.Dispatcher=t.AgentMessage=t.AgentConfig=t.MessageHandlerRegistry=t.FeatureRegistry=t.EventEmitter=t.BaseAgent=t.Agent=t.MessageReceiver=void 0,r(51570);var o=r(3632);Object.defineProperty(t,"MessageReceiver",{enumerable:!0,get:function(){return o.MessageReceiver}});var a=r(52064);Object.defineProperty(t,"Agent",{enumerable:!0,get:function(){return a.Agent}});var s=r(72899);Object.defineProperty(t,"BaseAgent",{enumerable:!0,get:function(){return s.BaseAgent}}),i(r(77858),t);var l=r(26852);Object.defineProperty(t,"EventEmitter",{enumerable:!0,get:function(){return l.EventEmitter}});var c=r(30183);Object.defineProperty(t,"FeatureRegistry",{enumerable:!0,get:function(){return c.FeatureRegistry}});var u=r(86865);Object.defineProperty(t,"MessageHandlerRegistry",{enumerable:!0,get:function(){return u.MessageHandlerRegistry}}),i(r(36849),t);var d=r(65600);Object.defineProperty(t,"AgentConfig",{enumerable:!0,get:function(){return d.AgentConfig}});var f=r(92583);Object.defineProperty(t,"AgentMessage",{enumerable:!0,get:function(){return f.AgentMessage}});var p=r(88959);Object.defineProperty(t,"Dispatcher",{enumerable:!0,get:function(){return p.Dispatcher}});var h=r(24446);Object.defineProperty(t,"MessageSender",{enumerable:!0,get:function(){return h.MessageSender}});var y=r(89642);Object.defineProperty(t,"getOutboundMessageContext",{enumerable:!0,get:function(){return y.getOutboundMessageContext}});var g=r(91696);Object.defineProperty(t,"DidCommMimeType",{enumerable:!0,get:function(){return g.DidCommMimeType}}),Object.defineProperty(t,"KeyDerivationMethod",{enumerable:!0,get:function(){return g.KeyDerivationMethod}}),i(r(79493),t);var v=r(21961);Object.defineProperty(t,"DidCommMessageRecord",{enumerable:!0,get:function(){return v.DidCommMessageRecord}}),Object.defineProperty(t,"DidCommMessageRole",{enumerable:!0,get:function(){return v.DidCommMessageRole}}),Object.defineProperty(t,"DidCommMessageRepository",{enumerable:!0,get:function(){return v.DidCommMessageRepository}});var m=r(71555);Object.defineProperty(t,"InMemoryMessageRepository",{enumerable:!0,get:function(){return m.InMemoryMessageRepository}});var b=r(29371);Object.defineProperty(t,"Repository",{enumerable:!0,get:function(){return b.Repository}}),i(r(96912),t),i(r(87086),t);var _=r(84273);Object.defineProperty(t,"getDirFromFilePath",{enumerable:!0,get:function(){return _.getDirFromFilePath}});var w=r(55090);Object.defineProperty(t,"InjectionSymbols",{enumerable:!0,get:function(){return w.InjectionSymbols}}),i(r(43141),t);var S=r(79275);Object.defineProperty(t,"TransportService",{enumerable:!0,get:function(){return S.TransportService}});var O=r(22548);Object.defineProperty(t,"Attachment",{enumerable:!0,get:function(){return O.Attachment}}),Object.defineProperty(t,"AttachmentData",{enumerable:!0,get:function(){return O.AttachmentData}});var M=r(11938);Object.defineProperty(t,"ServiceDecorator",{enumerable:!0,get:function(){return M.ServiceDecorator}});var R=r(40946);Object.defineProperty(t,"ReturnRouteTypes",{enumerable:!0,get:function(){return R.ReturnRouteTypes}}),i(r(90978),t),i(r(59440),t),i(r(33003),t),i(r(70347),t),i(r(75954),t),i(r(12398),t),i(r(17423),t),i(r(52729),t),i(r(52560),t),i(r(34601),t),i(r(40446),t),i(r(83296),t),i(r(76826),t),i(r(12609),t);var P=r(23333);Object.defineProperty(t,"JsonEncoder",{enumerable:!0,get:function(){return P.JsonEncoder}}),Object.defineProperty(t,"JsonTransformer",{enumerable:!0,get:function(){return P.JsonTransformer}}),Object.defineProperty(t,"isJsonObject",{enumerable:!0,get:function(){return P.isJsonObject}}),Object.defineProperty(t,"isValidJweStructure",{enumerable:!0,get:function(){return P.isValidJweStructure}}),Object.defineProperty(t,"TypedArrayEncoder",{enumerable:!0,get:function(){return P.TypedArrayEncoder}}),Object.defineProperty(t,"Buffer",{enumerable:!0,get:function(){return P.Buffer}}),i(r(78492),t),i(r(99997),t),i(r(79102),t);var E=r(51465);Object.defineProperty(t,"parseMessageType",{enumerable:!0,get:function(){return E.parseMessageType}}),Object.defineProperty(t,"IsValidMessageType",{enumerable:!0,get:function(){return E.IsValidMessageType}}),Object.defineProperty(t,"replaceLegacyDidSovPrefix",{enumerable:!0,get:function(){return E.replaceLegacyDidSovPrefix}}),i(r(59078),t),i(r(91478),t);var I=r(84979);Object.defineProperty(t,"encodeAttachment",{enumerable:!0,get:function(){return I.encodeAttachment}}),Object.defineProperty(t,"isLinkedAttachment",{enumerable:!0,get:function(){return I.isLinkedAttachment}});var x=r(56791);Object.defineProperty(t,"Hasher",{enumerable:!0,get:function(){return x.Hasher}});var A=r(90890);Object.defineProperty(t,"MessageValidator",{enumerable:!0,get:function(){return A.MessageValidator}});var C=r(25577);Object.defineProperty(t,"LinkedAttachment",{enumerable:!0,get:function(){return C.LinkedAttachment}});let j=r(9522),T=r(15169),$={uuid:T.uuid,isValidUuid:T.isValidUuid,parseInvitationUrl:j.parseInvitationUrl};t.utils=$},36631:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLogger=void 0;let n=r(95386);class i{constructor(e=n.LogLevel.off){this.logLevel=e}isEnabled(e){return e>=this.logLevel}}t.BaseLogger=i},19870:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLogger=void 0;let n=r(36631),i=r(95386),o=r(27532);class a extends n.BaseLogger{constructor(){super(...arguments),this.consoleLogMap={[i.LogLevel.test]:"log",[i.LogLevel.trace]:"log",[i.LogLevel.debug]:"debug",[i.LogLevel.info]:"info",[i.LogLevel.warn]:"warn",[i.LogLevel.error]:"error",[i.LogLevel.fatal]:"error"}}log(e,t,r){let n=this.consoleLogMap[e],a=i.LogLevel[e].toUpperCase();this.isEnabled(e)&&(r?console[n](`${a}: ${t}`,JSON.stringify(r,o.replaceError,2)):console[n](`${a}: ${t}`))}test(e,t){this.log(i.LogLevel.test,e,t)}trace(e,t){this.log(i.LogLevel.trace,e,t)}debug(e,t){this.log(i.LogLevel.debug,e,t)}info(e,t){this.log(i.LogLevel.info,e,t)}warn(e,t){this.log(i.LogLevel.warn,e,t)}error(e,t){this.log(i.LogLevel.error,e,t)}fatal(e,t){this.log(i.LogLevel.fatal,e,t)}}t.ConsoleLogger=a},95386:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0,(r=t.LogLevel||(t.LogLevel={}))[r.test=0]="test",r[r.trace=1]="trace",r[r.debug=2]="debug",r[r.info=3]="info",r[r.warn=4]="warn",r[r.error=5]="error",r[r.fatal=6]="fatal",r[r.off=7]="off"},78492:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(19870),t),i(r(36631),t),i(r(95386),t)},27532:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceError=void 0,t.replaceError=function(e,t){if(t instanceof Error){let e=Object.getOwnPropertyNames(t).reduce((e,r)=>(e[r]=t[r],e),{name:t.name});return e}return t}},92570:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageEventTypes=void 0,(t.BasicMessageEventTypes||(t.BasicMessageEventTypes={})).BasicMessageStateChanged="BasicMessageStateChanged"},50658:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageRole=void 0,(r=t.BasicMessageRole||(t.BasicMessageRole={})).Sender="sender",r.Receiver="receiver"},82617:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessagesApi=void 0;let o=r(77858),a=r(86865),s=r(24446),l=r(36849),c=r(90978),u=r(52560),d=r(1467),f=r(51760),p=class{constructor(e,t,r,n,i){this.basicMessageService=t,this.messageSender=r,this.connectionService=n,this.agentContext=i,this.registerMessageHandlers(e)}async sendMessage(e,t,r){let n=await this.connectionService.getById(this.agentContext,e),{message:i,record:o}=await this.basicMessageService.createMessage(this.agentContext,t,n,r),a=new l.OutboundMessageContext(i,{agentContext:this.agentContext,connection:n,associatedRecord:o});return await this.messageSender.sendMessage(a),o}async findAllByQuery(e){return this.basicMessageService.findAllByQuery(this.agentContext,e)}async getById(e){return this.basicMessageService.getById(this.agentContext,e)}async getByThreadId(e){return this.basicMessageService.getByThreadId(this.agentContext,e)}async deleteById(e){await this.basicMessageService.deleteById(this.agentContext,e)}registerMessageHandlers(e){e.registerMessageHandler(new d.BasicMessageHandler(this.basicMessageService))}};p=n([(0,c.injectable)(),i("design:paramtypes",[a.MessageHandlerRegistry,f.BasicMessageService,s.MessageSender,u.ConnectionService,o.AgentContext])],p),t.BasicMessagesApi=p},68338:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessagesModule=void 0;let n=r(36849),i=r(50658),o=r(82617),a=r(22971),s=r(51760);class l{constructor(){this.api=o.BasicMessagesApi}register(e,t){e.registerContextScoped(o.BasicMessagesApi),e.registerSingleton(s.BasicMessageService),e.registerSingleton(a.BasicMessageRepository),t.register(new n.Protocol({id:"https://didcomm.org/basicmessage/1.0",roles:[i.BasicMessageRole.Sender,i.BasicMessageRole.Receiver]}))}}t.BasicMessagesModule=l},10452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageHandler=void 0;let n=r(827);class i{constructor(e){this.supportedMessages=[n.BasicMessage],this.basicMessageService=e}async handle(e){let t=e.assertReadyConnection();await this.basicMessageService.save(e,t)}}t.BasicMessageHandler=i},1467:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(10452),t)},33003:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(827),t),i(r(51760),t),i(r(22971),t),i(r(92570),t),i(r(82617),t),i(r(50658),t),i(r(68338),t)},84777:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465),c=r(26086);class u extends s.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.sentTime=e.sentTime||new Date,this.content=e.content,this.addLocale(e.locale||"en"))}}u.type=(0,l.parseMessageType)("https://didcomm.org/basicmessage/1.0/message"),n([(0,l.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,o.Expose)({name:"sent_time"}),(0,o.Transform)(({value:e})=>(0,c.DateParser)(e)),(0,a.IsDate)(),i("design:type",Date)],u.prototype,"sentTime",void 0),n([(0,o.Expose)({name:"content"}),(0,a.IsString)(),i("design:type",String)],u.prototype,"content",void 0),t.BasicMessage=u},827:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(84777),t)},65432:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageRecord=void 0;let n=r(79493),i=r(15169);class o extends n.BaseRecord{constructor(e){var t,r,n;super(),this.type=o.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,i.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.content=e.content,this.sentTime=e.sentTime,this.connectionId=e.connectionId,this._tags=null!==(n=e.tags)&&void 0!==n?n:{},this.role=e.role,this.threadId=e.threadId,this.parentThreadId=e.parentThreadId)}getTags(){return Object.assign(Object.assign({},this._tags),{connectionId:this.connectionId,role:this.role,threadId:this.threadId,parentThreadId:this.parentThreadId})}}t.BasicMessageRecord=o,o.type="BasicMessageRecord"},33199:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(65432),d=class extends c.Repository{constructor(e,t){super(u.BasicMessageRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.BasicMessageRepository=d},22971:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65432),t),i(r(33199),t)},93176:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicMessageService=void 0;let o=r(26852),a=r(90978),s=r(92570),l=r(50658),c=r(827),u=r(22971),d=class{constructor(e,t){this.basicMessageRepository=e,this.eventEmitter=t}async createMessage(e,t,r,n){let i=new c.BasicMessage({content:t});n&&i.setThread({parentThreadId:n});let o=new u.BasicMessageRecord({sentTime:i.sentTime.toISOString(),content:i.content,connectionId:r.id,role:l.BasicMessageRole.Sender,threadId:i.threadId,parentThreadId:n});return await this.basicMessageRepository.save(e,o),this.emitStateChangedEvent(e,o,i),{message:i,record:o}}async save({message:e,agentContext:t},r){var n;let i=new u.BasicMessageRecord({sentTime:e.sentTime.toISOString(),content:e.content,connectionId:r.id,role:l.BasicMessageRole.Receiver,threadId:e.threadId,parentThreadId:null===(n=e.thread)||void 0===n?void 0:n.parentThreadId});await this.basicMessageRepository.save(t,i),this.emitStateChangedEvent(t,i,e)}emitStateChangedEvent(e,t,r){this.eventEmitter.emit(e,{type:s.BasicMessageEventTypes.BasicMessageStateChanged,payload:{message:r,basicMessageRecord:t.clone()}})}async findAllByQuery(e,t){return this.basicMessageRepository.findByQuery(e,t)}async getById(e,t){return this.basicMessageRepository.getById(e,t)}async getByThreadId(e,t){return this.basicMessageRepository.getSingleByQuery(e,{threadId:t})}async findAllByParentThreadId(e,t){return this.basicMessageRepository.findByQuery(e,{parentThreadId:t})}async deleteById(e,t){let r=await this.getById(e,t);return this.basicMessageRepository.delete(e,r)}};d=n([(0,a.injectable)(),i("design:paramtypes",[u.BasicMessageRepository,o.EventEmitter])],d),t.BasicMessageService=d},51760:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93176),t)},25480:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CacheModule=void 0;let n=r(6851),i=r(11378),o=r(7233);class a{constructor(e){var t;this.config=new n.CacheModuleConfig(Object.assign(Object.assign({},e),{cache:null!==(t=null==e?void 0:e.cache)&&void 0!==t?t:new o.SingleContextStorageLruCache({limit:500})}))}register(e){e.registerInstance(n.CacheModuleConfig,this.config),this.config.cache instanceof o.SingleContextStorageLruCache&&e.registerSingleton(i.SingleContextLruCacheRepository)}}t.CacheModule=a},6851:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CacheModuleConfig=void 0;class r{constructor(e){this.options=e}get cache(){return this.options.cache}}t.CacheModuleConfig=r},76515:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryLruCache=void 0;let n=r(44400);class i{constructor({limit:e}){this.cache=new n.LRUMap(e)}async get(e,t){this.removeExpiredItems();let r=this.cache.get(t);return r?r.value:null}async set(e,t,r,n){let i;this.removeExpiredItems(),n&&(i=new Date).setSeconds(i.getSeconds()+n),this.cache.set(t,{expiresAt:null==i?void 0:i.getTime(),value:r})}clear(){this.cache.clear()}async remove(e,t){this.removeExpiredItems(),this.cache.delete(t)}removeExpiredItems(){this.cache.forEach((e,t)=>{e.expiresAt&&Date.now()>e.expiresAt&&this.cache.delete(t)})}}t.InMemoryLruCache=i},12609:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleContextStorageLruCache=t.InMemoryLruCache=t.CacheModuleConfig=t.CacheModule=void 0;var n=r(25480);Object.defineProperty(t,"CacheModule",{enumerable:!0,get:function(){return n.CacheModule}});var i=r(6851);Object.defineProperty(t,"CacheModuleConfig",{enumerable:!0,get:function(){return i.CacheModuleConfig}});var o=r(76515);Object.defineProperty(t,"InMemoryLruCache",{enumerable:!0,get:function(){return o.InMemoryLruCache}});var a=r(81363);Object.defineProperty(t,"SingleContextStorageLruCache",{enumerable:!0,get:function(){return a.SingleContextStorageLruCache}})},10680:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.SingleContextLruCacheRecord=void 0;let o=r(5902),a=r(79493),s=r(15169);class l extends a.BaseRecord{constructor(e){var t,r,n;super(),this.type=l.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,s.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.entries=e.entries,this._tags=null!==(n=e.tags)&&void 0!==n?n:{})}getTags(){return Object.assign({},this._tags)}}l.type="SingleContextLruCacheRecord",n([(0,o.Type)(()=>Object),i("design:type",Map)],l.prototype,"entries",void 0),t.SingleContextLruCacheRecord=l},11378:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SingleContextLruCacheRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(10680),d=class extends c.Repository{constructor(e,t){super(u.SingleContextLruCacheRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.SingleContextLruCacheRepository=d},7233:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleContextStorageLruCache=void 0;let n=r(44400),i=r(99997),o=r(10680),a=r(11378),s="CONTEXT_STORAGE_LRU_CACHE_ID";class l{constructor({limit:e}){this.limit=e}async get(e,t){this.assertContextCorrelationId(e);let r=await this.getCache(e);this.removeExpiredItems(r);let n=r.get(t);return n?n.expiresAt&&Date.now()>n.expiresAt?(r.delete(t),await this.persistCache(e),null):n.value:null}async set(e,t,r,n){let i;this.assertContextCorrelationId(e),n&&(i=new Date).setSeconds(i.getSeconds()+n);let o=await this.getCache(e);this.removeExpiredItems(o),o.set(t,{expiresAt:null==i?void 0:i.getTime(),value:r}),await this.persistCache(e)}async remove(e,t){this.assertContextCorrelationId(e);let r=await this.getCache(e);this.removeExpiredItems(r),r.delete(t),await this.persistCache(e)}async getCache(e){if(!this._cache){let t=await this.fetchCacheRecord(e);this._cache=this.lruFromRecord(t)}return this._cache}lruFromRecord(e){return new n.LRUMap(this.limit,e.entries.entries())}async fetchCacheRecord(e){let t=e.dependencyManager.resolve(a.SingleContextLruCacheRepository),r=await t.findById(e,s);if(!r){r=new o.SingleContextLruCacheRecord({id:s,entries:new Map});try{await t.save(e,r)}catch(r){if(r instanceof i.RecordDuplicateError)return t.getById(e,s);throw r}}return r}removeExpiredItems(e){e.forEach((t,r)=>{t.expiresAt&&Date.now()>t.expiresAt&&e.delete(r)})}async persistCache(e){let t=e.dependencyManager.resolve(a.SingleContextLruCacheRepository),r=await this.getCache(e);await t.update(e,new o.SingleContextLruCacheRecord({entries:new Map(r.toJSON().map(({key:e,value:t})=>[e,t])),id:s}))}assertContextCorrelationId(e){if(this._contextCorrelationId||(this._contextCorrelationId=e.contextCorrelationId),this._contextCorrelationId!==e.contextCorrelationId)throw new i.AriesFrameworkError("SingleContextStorageLruCache can not be used with multiple agent context instances. Register a custom cache implementation in the CacheModule.")}}t.SingleContextStorageLruCache=l},81363:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingleContextStorageLruCache=void 0;var n=r(7233);Object.defineProperty(t,"SingleContextStorageLruCache",{enumerable:!0,get:function(){return n.SingleContextStorageLruCache}})},70347:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82885),t)},82885:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.AckMessage=t.AckStatus=void 0;let s=r(56988),l=r(92583),c=r(51465);(n=i=t.AckStatus||(t.AckStatus={})).OK="OK",n.PENDING="PENDING";class u extends l.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.status=e.status,this.setThread({threadId:e.threadId}))}}u.type=(0,c.parseMessageType)("https://didcomm.org/notification/1.0/ack"),o([(0,c.IsValidMessageType)(u.type),a("design:type",String)],u.prototype,"type",void 0),o([(0,s.IsEnum)(i),a("design:type",String)],u.prototype,"status",void 0),t.AckMessage=u},23935:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEventTypes=void 0,(t.ConnectionEventTypes||(t.ConnectionEventTypes={})).ConnectionStateChanged="ConnectionStateChanged"},52197:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionsApi=void 0;let o=r(77858),a=r(86865),s=r(24446),l=r(36849),c=r(40946),u=r(99997),d=r(90978),f=r(83296),p=r(38974),h=r(50197),y=r(61428),g=r(47328),v=r(20485),m=r(5942),b=r(18448),_=r(26577),w=r(10371),S=class{constructor(e,t,r,n,i,o,a,s,l,c,u){this.didExchangeProtocol=t,this.connectionService=r,this.outOfBandService=n,this.trustPingService=i,this.routingService=o,this.didRepository=a,this.messageSender=l,this.didResolverService=s,this.agentContext=c,this.config=u,this.registerMessageHandlers(e)}async acceptOutOfBandInvitation(e,t){let r;let{protocol:n,label:i,alias:o,imageUrl:a,autoAcceptConnection:s}=t,c=t.routing||await this.routingService.getRouting(this.agentContext,{mediatorId:e.mediatorId});if(n===b.HandshakeProtocol.DidExchange)r=await this.didExchangeProtocol.createRequest(this.agentContext,e,{label:i,alias:o,routing:c,autoAcceptConnection:s});else if(n===b.HandshakeProtocol.Connections)r=await this.connectionService.createRequest(this.agentContext,e,{label:i,alias:o,imageUrl:a,routing:c,autoAcceptConnection:s});else throw new u.AriesFrameworkError(`Unsupported handshake protocol ${n}.`);let{message:d,connectionRecord:f}=r,p=new l.OutboundMessageContext(d,{agentContext:this.agentContext,connection:f,outOfBand:e});return await this.messageSender.sendMessage(p),f}async acceptRequest(e){let t;let r=await this.connectionService.findById(this.agentContext,e);if(!r)throw new u.AriesFrameworkError(`Connection record ${e} not found.`);if(!r.outOfBandId)throw new u.AriesFrameworkError(`Connection record ${e} does not have out-of-band record.`);let n=await this.outOfBandService.findById(this.agentContext,r.outOfBandId);if(!n)throw new u.AriesFrameworkError(`Out-of-band record ${r.outOfBandId} not found.`);let i=n.reusable?await this.routingService.getRouting(this.agentContext):void 0;if(r.protocol===b.HandshakeProtocol.DidExchange){let e=await this.didExchangeProtocol.createResponse(this.agentContext,r,n,i);t=new l.OutboundMessageContext(e,{agentContext:this.agentContext,connection:r})}else{let{message:e}=await this.connectionService.createResponse(this.agentContext,r,n,i);t=new l.OutboundMessageContext(e,{agentContext:this.agentContext,connection:r})}return await this.messageSender.sendMessage(t),r}async acceptResponse(e){let t;let r=await this.connectionService.getById(this.agentContext,e);if(r.protocol===b.HandshakeProtocol.DidExchange){if(!r.outOfBandId)throw new u.AriesFrameworkError(`Connection ${r.id} does not have outOfBandId!`);let e=await this.outOfBandService.findById(this.agentContext,r.outOfBandId);if(!e)throw new u.AriesFrameworkError(`OutOfBand record for connection ${r.id} with outOfBandId ${r.outOfBandId} not found!`);let n=await this.didExchangeProtocol.createComplete(this.agentContext,r,e);n.setReturnRouting(c.ReturnRouteTypes.none),t=new l.OutboundMessageContext(n,{agentContext:this.agentContext,connection:r})}else{let{message:e}=await this.connectionService.createTrustPing(this.agentContext,r,{responseRequested:!1});e.setReturnRouting(c.ReturnRouteTypes.none),t=new l.OutboundMessageContext(e,{agentContext:this.agentContext,connection:r})}return await this.messageSender.sendMessage(t),r}async sendPing(e,{responseRequested:t=!0,withReturnRouting:r}){let n=await this.getById(e),{message:i}=await this.connectionService.createTrustPing(this.agentContext,n,{responseRequested:t});return!0===r&&i.setReturnRouting(c.ReturnRouteTypes.all),!1===r&&i.setReturnRouting(c.ReturnRouteTypes.none),await this.messageSender.sendMessage(new l.OutboundMessageContext(i,{agentContext:this.agentContext,connection:n})),i}async returnWhenIsConnected(e,t){return this.connectionService.returnWhenIsConnected(this.agentContext,e,null==t?void 0:t.timeoutMs)}getAll(){return this.connectionService.getAll(this.agentContext)}findAllByQuery(e){return this.connectionService.findAllByQuery(this.agentContext,e)}async addConnectionType(e,t){let r=await this.getById(e);return await this.connectionService.addConnectionType(this.agentContext,r,t),r}async removeConnectionType(e,t){let r=await this.getById(e);return await this.connectionService.removeConnectionType(this.agentContext,r,t),r}async getConnectionTypes(e){let t=await this.getById(e);return this.connectionService.getConnectionTypes(t)}async findAllByConnectionTypes(e){return this.connectionService.findAllByConnectionTypes(this.agentContext,e)}getById(e){return this.connectionService.getById(this.agentContext,e)}findById(e){return this.connectionService.findById(this.agentContext,e)}async deleteById(e){let t=await this.connectionService.getById(this.agentContext,e);if(t.mediatorId&&t.did){let e=await this.didResolverService.resolve(this.agentContext,t.did);e.didDocument&&await this.routingService.removeRouting(this.agentContext,{recipientKeys:e.didDocument.recipientKeys,mediatorId:t.mediatorId})}return this.connectionService.deleteById(this.agentContext,e)}async findAllByOutOfBandId(e){return this.connectionService.findAllByOutOfBandId(this.agentContext,e)}getByThreadId(e){return this.connectionService.getByThreadId(this.agentContext,e)}async findByDid(e){return this.connectionService.findByTheirDid(this.agentContext,e)}async findByInvitationDid(e){return this.connectionService.findByInvitationDid(this.agentContext,e)}registerMessageHandlers(e){e.registerMessageHandler(new m.ConnectionRequestHandler(this.connectionService,this.outOfBandService,this.routingService,this.didRepository,this.config)),e.registerMessageHandler(new m.ConnectionResponseHandler(this.connectionService,this.outOfBandService,this.didResolverService,this.config)),e.registerMessageHandler(new m.AckMessageHandler(this.connectionService)),e.registerMessageHandler(new m.ConnectionProblemReportHandler(this.connectionService)),e.registerMessageHandler(new m.TrustPingMessageHandler(this.trustPingService,this.connectionService)),e.registerMessageHandler(new m.TrustPingResponseMessageHandler(this.trustPingService)),e.registerMessageHandler(new m.DidExchangeRequestHandler(this.didExchangeProtocol,this.outOfBandService,this.routingService,this.didRepository,this.config)),e.registerMessageHandler(new m.DidExchangeResponseHandler(this.didExchangeProtocol,this.outOfBandService,this.connectionService,this.didResolverService,this.config)),e.registerMessageHandler(new m.DidExchangeCompleteHandler(this.didExchangeProtocol,this.outOfBandService))}};S=n([(0,d.injectable)(),i("design:paramtypes",[a.MessageHandlerRegistry,v.DidExchangeProtocol,_.ConnectionService,h.OutOfBandService,w.TrustPingService,y.RoutingService,p.DidRepository,f.DidResolverService,s.MessageSender,o.AgentContext,g.ConnectionsModuleConfig])],S),t.ConnectionsApi=S},61637:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionsModule=void 0;let n=r(36849),i=r(52197),o=r(47328),a=r(20485),s=r(18448),l=r(1728),c=r(83564);class u{constructor(e){this.api=i.ConnectionsApi,this.config=new o.ConnectionsModuleConfig(e)}register(e,t){e.registerContextScoped(i.ConnectionsApi),e.registerInstance(o.ConnectionsModuleConfig,this.config),e.registerSingleton(c.ConnectionService),e.registerSingleton(a.DidExchangeProtocol),e.registerSingleton(c.TrustPingService),e.registerSingleton(l.ConnectionRepository),t.register(new n.Protocol({id:"https://didcomm.org/connections/1.0",roles:[s.ConnectionRole.Invitee,s.ConnectionRole.Inviter]}),new n.Protocol({id:"https://didcomm.org/didexchange/1.0",roles:[s.DidExchangeRole.Requester,s.DidExchangeRole.Responder]}))}}t.ConnectionsModule=u},47328:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionsModuleConfig=void 0;class o{constructor(e){r.set(this,void 0),this.options=null!=e?e:{},n(this,r,this.options.autoAcceptConnections,"f")}get autoAcceptConnections(){var e;return null!==(e=i(this,r,"f"))&&void 0!==e&&e}set autoAcceptConnections(e){n(this,r,e,"f")}}t.ConnectionsModuleConfig=o,r=new WeakMap},20485:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeProtocol=void 0;let a=r(55090),s=r(91478),l=r(61508),c=r(8273),u=r(91994),d=r(22548),f=r(99997),p=r(90978),h=r(23333),y=r(72589),g=r(9905),v=r(50334),m=r(83296),b=r(89056),_=r(47025),w=r(78278),S=r(38974),O=r(61771),M=r(17155),R=r(76779),P=r(76506),E=r(83935),I=r(56803),x=r(86209),A=r(18448),C=r(83564),j=class{constructor(e,t,r,n,i){this.connectionService=e,this.didRegistrarService=t,this.didRepository=r,this.jwsService=n,this.logger=i}async createRequest(e,t,r){var n;this.logger.debug(`Create message ${I.DidExchangeRequestMessage.type.messageTypeUri} start`,{outOfBandRecord:t,params:r});let{outOfBandInvitation:i}=t,{alias:o,goal:a,goalCode:s,routing:l,autoAcceptConnection:c}=r,[u]=i.invitationDids,d=await this.connectionService.createConnection(e,{protocol:A.HandshakeProtocol.DidExchange,role:A.DidExchangeRole.Requester,alias:o,state:A.DidExchangeState.InvitationReceived,theirLabel:i.label,mediatorId:l.mediatorId,autoAcceptConnection:t.autoAcceptConnection,outOfBandId:t.id,invitationDid:u,imageUrl:i.imageUrl});R.DidExchangeStateMachine.assertCreateMessageState(I.DidExchangeRequestMessage.type,d);let f=null!==(n=r.label)&&void 0!==n?n:e.config.label,p=await this.createPeerDidDoc(e,this.routingToServices(l)),h=t.outOfBandInvitation.id,y=new I.DidExchangeRequestMessage({label:f,parentThreadId:h,did:p.id,goal:a,goalCode:s});if((0,m.getNumAlgoFromPeerDid)(p.id)===m.PeerDidNumAlgo.GenesisDoc){let t=await this.createSignedAttachment(e,p,[l.recipientKey.publicKeyBase58]);y.didDoc=t}return d.did=p.id,d.threadId=y.id,(void 0!==c||null!==c)&&(d.autoAcceptConnection=c),await this.updateState(e,I.DidExchangeRequestMessage.type,d),this.logger.debug(`Create message ${I.DidExchangeRequestMessage.type.messageTypeUri} end`,{connectionRecord:d,message:y}),{message:y,connectionRecord:d}}async processRequest(e,t){var r;this.logger.debug(`Process message ${I.DidExchangeRequestMessage.type.messageTypeUri} start`,{message:e.message}),t.assertRole(O.OutOfBandRole.Sender),t.assertState(M.OutOfBandState.AwaitResponse);let{message:n}=e,i=null===(r=n.thread)||void 0===r?void 0:r.parentThreadId;if(!i||!(0,_.tryParseDid)(i)&&i!==t.getTags().invitationId)throw new P.DidExchangeProblemReportError("Missing reference to invitation.",{problemCode:P.DidExchangeProblemReportReason.RequestNotAccepted});if(!(0,h.isDid)(n.did,"peer"))throw new P.DidExchangeProblemReportError(`Message contains unsupported did ${n.did}. Supported dids are [did:peer]`,{problemCode:P.DidExchangeProblemReportReason.RequestNotAccepted});let o=(0,m.getNumAlgoFromPeerDid)(n.did);if(o!==m.PeerDidNumAlgo.GenesisDoc)throw new P.DidExchangeProblemReportError(`Unsupported numalgo ${o}. Supported numalgos are [${m.PeerDidNumAlgo.GenesisDoc}]`,{problemCode:P.DidExchangeProblemReportReason.RequestNotAccepted});let a=await this.extractDidDocument(e.agentContext,n),s=new S.DidRecord({did:n.did,role:m.DidDocumentRole.Received,didDocument:a,tags:{recipientKeyFingerprints:a.recipientKeys.map(e=>e.fingerprint)}});this.logger.debug("Saving DID record",{id:s.id,did:s.did,role:s.role,tags:s.getTags(),didDocument:"omitted..."}),await this.didRepository.save(e.agentContext,s);let l=await this.connectionService.createConnection(e.agentContext,{protocol:A.HandshakeProtocol.DidExchange,role:A.DidExchangeRole.Responder,state:A.DidExchangeState.RequestReceived,alias:t.alias,theirDid:n.did,theirLabel:n.label,threadId:n.threadId,mediatorId:t.mediatorId,autoAcceptConnection:t.autoAcceptConnection,outOfBandId:t.id});return await this.updateState(e.agentContext,I.DidExchangeRequestMessage.type,l),this.logger.debug(`Process message ${I.DidExchangeRequestMessage.type.messageTypeUri} end`,l),l}async createResponse(e,t,r,n){this.logger.debug(`Create message ${x.DidExchangeResponseMessage.type.messageTypeUri} start`,t),R.DidExchangeStateMachine.assertCreateMessageState(x.DidExchangeResponseMessage.type,t);let{threadId:i}=t;if(!i)throw new f.AriesFrameworkError("Missing threadId on connection record.");let o=[];if(n)o=this.routingToServices(n);else if(r){let e=r.outOfBandInvitation.getInlineServices();o=e.map(e=>{var t,r;return{id:e.id,serviceEndpoint:e.serviceEndpoint,recipientKeys:e.recipientKeys.map(w.didKeyToInstanceOfKey),routingKeys:null!==(r=null===(t=e.routingKeys)||void 0===t?void 0:t.map(w.didKeyToInstanceOfKey))&&void 0!==r?r:[]}})}let a=await this.createPeerDidDoc(e,o),s=new x.DidExchangeResponseMessage({did:a.id,threadId:i});if((0,m.getNumAlgoFromPeerDid)(a.id)===m.PeerDidNumAlgo.GenesisDoc){let t=await this.createSignedAttachment(e,a,Array.from(new Set(o.map(e=>e.recipientKeys).reduce((e,t)=>e.concat(t),[]).map(e=>e.publicKeyBase58))));s.didDoc=t}return t.did=a.id,await this.updateState(e,x.DidExchangeResponseMessage.type,t),this.logger.debug(`Create message ${x.DidExchangeResponseMessage.type.messageTypeUri} end`,{connectionRecord:t,message:s}),s}async processResponse(e,t){var r,n;this.logger.debug(`Process message ${x.DidExchangeResponseMessage.type.messageTypeUri} start`,{message:e.message});let{connection:i,message:o}=e;if(!i)throw new f.AriesFrameworkError("No connection record in message context.");if(R.DidExchangeStateMachine.assertProcessMessageState(x.DidExchangeResponseMessage.type,i),!(null===(r=o.thread)||void 0===r?void 0:r.threadId)||(null===(n=o.thread)||void 0===n?void 0:n.threadId)!==i.threadId)throw new P.DidExchangeProblemReportError("Invalid or missing thread ID.",{problemCode:P.DidExchangeProblemReportReason.ResponseNotAccepted});if(!(0,h.isDid)(o.did,"peer"))throw new P.DidExchangeProblemReportError(`Message contains unsupported did ${o.did}. Supported dids are [did:peer]`,{problemCode:P.DidExchangeProblemReportReason.ResponseNotAccepted});let a=(0,m.getNumAlgoFromPeerDid)(o.did);if(a!==m.PeerDidNumAlgo.GenesisDoc)throw new P.DidExchangeProblemReportError(`Unsupported numalgo ${a}. Supported numalgos are [${m.PeerDidNumAlgo.GenesisDoc}]`,{problemCode:P.DidExchangeProblemReportReason.ResponseNotAccepted});let l=await this.extractDidDocument(e.agentContext,o,t.getTags().recipientKeyFingerprints.map(e=>s.Key.fromFingerprint(e).publicKeyBase58)),c=new S.DidRecord({did:o.did,role:m.DidDocumentRole.Received,didDocument:l,tags:{recipientKeyFingerprints:l.recipientKeys.map(e=>e.fingerprint)}});return this.logger.debug("Saving DID record",{id:c.id,did:c.did,role:c.role,tags:c.getTags(),didDocument:"omitted..."}),await this.didRepository.save(e.agentContext,c),i.theirDid=o.did,await this.updateState(e.agentContext,x.DidExchangeResponseMessage.type,i),this.logger.debug(`Process message ${x.DidExchangeResponseMessage.type.messageTypeUri} end`,i),i}async createComplete(e,t,r){this.logger.debug(`Create message ${E.DidExchangeCompleteMessage.type.messageTypeUri} start`,t),R.DidExchangeStateMachine.assertCreateMessageState(E.DidExchangeCompleteMessage.type,t);let n=t.threadId,i=r.outOfBandInvitation.id;if(!n)throw new f.AriesFrameworkError(`Connection record ${t.id} does not have 'threadId' attribute.`);if(!i)throw new f.AriesFrameworkError(`Connection record ${t.id} does not have 'parentThreadId' attribute.`);let o=new E.DidExchangeCompleteMessage({threadId:n,parentThreadId:i});return await this.updateState(e,E.DidExchangeCompleteMessage.type,t),this.logger.debug(`Create message ${E.DidExchangeCompleteMessage.type.messageTypeUri} end`,{connectionRecord:t,message:o}),o}async processComplete(e,t){var r;this.logger.debug(`Process message ${E.DidExchangeCompleteMessage.type.messageTypeUri} start`,{message:e.message});let{connection:n,message:i}=e;if(!n)throw new f.AriesFrameworkError("No connection record in message context.");if(R.DidExchangeStateMachine.assertProcessMessageState(E.DidExchangeCompleteMessage.type,n),i.threadId!==n.threadId)throw new P.DidExchangeProblemReportError("Invalid or missing thread ID.",{problemCode:P.DidExchangeProblemReportReason.CompleteRejected});let o=null===(r=i.thread)||void 0===r?void 0:r.parentThreadId;if(!o||o!==t.outOfBandInvitation.id)throw new P.DidExchangeProblemReportError("Invalid or missing parent thread ID referencing to the invitation.",{problemCode:P.DidExchangeProblemReportReason.CompleteRejected});return await this.updateState(e.agentContext,E.DidExchangeCompleteMessage.type,n),this.logger.debug(`Process message ${E.DidExchangeCompleteMessage.type.messageTypeUri} end`,{connectionRecord:n}),n}async updateState(e,t,r){this.logger.debug("Updating state",{connectionRecord:r});let n=R.DidExchangeStateMachine.nextState(t,r);return this.connectionService.updateState(e,r,n)}async createPeerDidDoc(e,t){var r;let n=(0,m.createPeerDidDocumentFromServices)(t),i=await this.didRegistrarService.create(e,{method:"peer",didDocument:n,options:{numAlgo:m.PeerDidNumAlgo.GenesisDoc}});if((null===(r=i.didState)||void 0===r?void 0:r.state)!=="finished")throw new f.AriesFrameworkError(`Did document creation failed: ${JSON.stringify(i.didState)}`);return this.logger.debug(`Did document with did ${i.didState.did} created.`,{did:i.didState.did,didDocument:i.didState.didDocument}),i.didState.didDocument}async createSignedAttachment(e,t,r){let n=new d.Attachment({mimeType:"application/json",data:new d.AttachmentData({base64:y.JsonEncoder.toBase64(t)})});return await Promise.all(r.map(async r=>{let i=s.Key.fromPublicKeyBase58(r,s.KeyType.Ed25519),o=new m.DidKey(i).did,a=y.JsonEncoder.toBuffer(t),l=await this.jwsService.createJws(e,{payload:a,key:i,header:{kid:o},protectedHeaderOptions:{alg:c.JwaSignatureAlgorithm.EdDSA,jwk:(0,u.getJwkFromKey)(i)}});n.addJws(l)})),n}async extractDidDocument(e,t,r=[]){var n;if(!t.didDoc){let e=t instanceof I.DidExchangeRequestMessage?P.DidExchangeProblemReportReason.RequestNotAccepted:P.DidExchangeProblemReportReason.ResponseNotAccepted;throw new P.DidExchangeProblemReportError("DID Document attachment is missing.",{problemCode:e})}let i=t.didDoc,o=i.data.jws;if(!o){let e=t instanceof I.DidExchangeRequestMessage?P.DidExchangeProblemReportReason.RequestNotAccepted:P.DidExchangeProblemReportReason.ResponseNotAccepted;throw new P.DidExchangeProblemReportError("DID Document signature is missing.",{problemCode:e})}if(!i.data.base64)throw new f.AriesFrameworkError("DID Document attachment is missing base64 property for signed did document.");let a=(0,v.base64ToBase64URL)(i.data.base64),s=y.JsonEncoder.fromBase64(i.data.base64),{isValid:l,signerKeys:c}=await this.jwsService.verifyJws(e,{jws:Object.assign(Object.assign({},o),{payload:a}),jwkResolver:({jws:{header:e}})=>{if("string"!=typeof e.kid||!(0,h.isDid)(e.kid,"key"))throw new f.AriesFrameworkError("JWS header kid must be a did:key DID.");let t=m.DidKey.fromDid(e.kid);return(0,u.getJwkFromKey)(t.key)}}),d=g.JsonTransformer.fromJSON(s,m.DidDocument),p=null===(n=d.authentication)||void 0===n?void 0:n.map(e=>{let t="string"==typeof e?d.dereferenceVerificationMethod(e):e,r=(0,b.getKeyFromVerificationMethod)(t);return r.publicKeyBase58}).concat(r);if(this.logger.trace("JWS verification result",{isValid:l,signerKeys:c,didDocumentKeysBase58:p}),!l||!c.every(e=>null==p?void 0:p.includes(e.publicKeyBase58))){let e=t instanceof I.DidExchangeRequestMessage?P.DidExchangeProblemReportReason.RequestNotAccepted:P.DidExchangeProblemReportReason.ResponseNotAccepted;throw new P.DidExchangeProblemReportError("DID Document signature is invalid.",{problemCode:e})}return d}routingToServices(e){return e.endpoints.map((t,r)=>({id:`#inline-${r}`,serviceEndpoint:t,recipientKeys:[e.recipientKey],routingKeys:e.routingKeys}))}};j=n([(0,p.injectable)(),o(4,(0,p.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[C.ConnectionService,m.DidRegistrarService,S.DidRepository,l.JwsService,Object])],j),t.DidExchangeProtocol=j},76779:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeStateMachine=void 0;let n=r(99997),i=r(51465),o=r(4290),a=r(18448);class s{static assertCreateMessageState(e,t){let r=this.createMessageStateRules.find(t=>(0,i.canHandleMessageType)(t.message,e));if(!r)throw new n.AriesFrameworkError(`Could not find create message rule for ${e}`);if(r.state!==t.state||r.role!==t.role)throw new n.AriesFrameworkError(`Record with role ${t.role} is in invalid state ${t.state} to create ${e}. Expected state for role ${r.role} is ${r.state}.`)}static assertProcessMessageState(e,t){let r=this.processMessageStateRules.find(t=>(0,i.canHandleMessageType)(t.message,e));if(!r)throw new n.AriesFrameworkError(`Could not find create message rule for ${e}`);if(r.state!==t.state||r.role!==t.role)throw new n.AriesFrameworkError(`Record with role ${t.role} is in invalid state ${t.state} to process ${e}. Expected state for role ${r.role} is ${r.state}.`)}static nextState(e,t){let r=this.createMessageStateRules.concat(this.processMessageStateRules).find(r=>(0,i.canHandleMessageType)(r.message,e)&&r.role===t.role);if(!r)throw new n.AriesFrameworkError(`Could not find create message rule for messageType ${e}, state ${t.state} and role ${t.role}`);return r.nextState}}t.DidExchangeStateMachine=s,s.createMessageStateRules=[{message:o.DidExchangeRequestMessage,state:a.DidExchangeState.InvitationReceived,role:a.DidExchangeRole.Requester,nextState:a.DidExchangeState.RequestSent},{message:o.DidExchangeResponseMessage,state:a.DidExchangeState.RequestReceived,role:a.DidExchangeRole.Responder,nextState:a.DidExchangeState.ResponseSent},{message:o.DidExchangeCompleteMessage,state:a.DidExchangeState.ResponseReceived,role:a.DidExchangeRole.Requester,nextState:a.DidExchangeState.Completed}],s.processMessageStateRules=[{message:o.DidExchangeRequestMessage,state:a.DidExchangeState.InvitationSent,role:a.DidExchangeRole.Responder,nextState:a.DidExchangeState.RequestReceived},{message:o.DidExchangeResponseMessage,state:a.DidExchangeState.RequestSent,role:a.DidExchangeRole.Requester,nextState:a.DidExchangeState.ResponseReceived},{message:o.DidExchangeCompleteMessage,state:a.DidExchangeState.ResponseSent,role:a.DidExchangeRole.Responder,nextState:a.DidExchangeState.Completed}]},50660:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingEventTypes=void 0,(r=t.TrustPingEventTypes||(t.TrustPingEventTypes={})).TrustPingReceivedEvent="TrustPingReceivedEvent",r.TrustPingResponseReceivedEvent="TrustPingResponseReceivedEvent"},42514:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionProblemReportError=void 0;let n=r(17423),i=r(4290);class o extends n.ProblemReportError{constructor(e,{problemCode:t}){super(e,{problemCode:t}),this.message=e,this.problemReport=new i.ConnectionProblemReportMessage({description:{en:e,code:t}})}}t.ConnectionProblemReportError=o},44353:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionProblemReportReason=void 0,(r=t.ConnectionProblemReportReason||(t.ConnectionProblemReportReason={})).RequestNotAccepted="request_not_accepted",r.RequestProcessingError="request_processing_error",r.ResponseNotAccepted="response_not_accepted",r.ResponseProcessingError="response_processing_error"},33506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeProblemReportError=void 0;let n=r(17423),i=r(4290);class o extends n.ProblemReportError{constructor(e,{problemCode:t}){super(e,{problemCode:t}),this.message=e,this.problemReport=new i.DidExchangeProblemReportMessage({description:{en:e,code:t}})}}t.DidExchangeProblemReportError=o},37820:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeProblemReportReason=void 0,(r=t.DidExchangeProblemReportReason||(t.DidExchangeProblemReportReason={})).RequestNotAccepted="request_not_accepted",r.RequestProcessingError="request_processing_error",r.ResponseNotAccepted="response_not_accepted",r.ResponseProcessingError="response_processing_error",r.CompleteRejected="complete_rejected"},76506:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(42514),t),i(r(44353),t),i(r(33506),t),i(r(37820),t)},17437:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AckMessageHandler=void 0;let n=r(70347);class i{constructor(e){this.supportedMessages=[n.AckMessage],this.connectionService=e}async handle(e){await this.connectionService.processAck(e)}}t.AckMessageHandler=i},96960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionProblemReportHandler=void 0;let n=r(4290);class i{constructor(e){this.supportedMessages=[n.ConnectionProblemReportMessage],this.connectionService=e}async handle(e){await this.connectionService.processProblemReport(e)}}t.ConnectionProblemReportHandler=i},75418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionRequestHandler=void 0;let n=r(79275),i=r(36849),o=r(32236),a=r(47025),s=r(4290),l=r(18448);class c{constructor(e,t,r,n,i){this.supportedMessages=[s.ConnectionRequestMessage],this.connectionService=e,this.outOfBandService=t,this.routingService=r,this.didRepository=n,this.connectionsModuleConfig=i}async handle(e){var t,r;let{agentContext:s,connection:c,recipientKey:u,senderKey:d,message:f,sessionId:p}=e;if(!u||!d)throw new o.AriesFrameworkError("Unable to process connection request without senderVerkey or recipientKey");let h=null===(t=f.thread)||void 0===t?void 0:t.parentThreadId,y=h&&(0,a.tryParseDid)(h)?await this.outOfBandService.createFromImplicitInvitation(s,{did:h,threadId:f.threadId,recipientKey:u,handshakeProtocols:[l.HandshakeProtocol.Connections]}):await this.outOfBandService.findCreatedByRecipientKey(s,u);if(!y)throw new o.AriesFrameworkError(`Out-of-band record for recipient key ${u.fingerprint} was not found.`);if(c&&!y.reusable)throw new o.AriesFrameworkError(`Connection record for non-reusable out-of-band ${y.id} already exists.`);let g=await this.didRepository.findReceivedDidByRecipientKey(s,d);if(g)throw new o.AriesFrameworkError(`A received did record for sender key ${d.fingerprint} already exists.`);let v=await this.connectionService.processRequest(e,y);if(p){let e=s.dependencyManager.resolve(n.TransportService);e.setConnectionIdForSession(p,v.id)}if(null!==(r=null==v?void 0:v.autoAcceptConnection)&&void 0!==r?r:this.connectionsModuleConfig.autoAcceptConnections){let e=y.reusable?await this.routingService.getRouting(s):void 0,{message:t}=await this.connectionService.createResponse(s,v,y,e);return new i.OutboundMessageContext(t,{agentContext:s,connection:v,outOfBand:y})}}}t.ConnectionRequestHandler=c},15716:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionResponseHandler=void 0;let n=r(36849),i=r(40946),o=r(99997),a=r(4290),s=r(18448);class l{constructor(e,t,r,n){this.supportedMessages=[a.ConnectionResponseMessage],this.connectionService=e,this.outOfBandService=t,this.didResolverService=r,this.connectionsModuleConfig=n}async handle(e){var t;let{recipientKey:r,senderKey:a,message:l}=e;if(!r||!a)throw new o.AriesFrameworkError("Unable to process connection response without senderKey or recipientKey");let c=await this.connectionService.getByRoleAndThreadId(e.agentContext,s.DidExchangeRole.Requester,l.threadId);if(!c)throw new o.AriesFrameworkError(`Connection for thread ID ${l.threadId} not found!`);if(!c.did)throw new o.AriesFrameworkError(`Connection record ${c.id} has no 'did'`);let u=await this.didResolverService.resolveDidDocument(e.agentContext,c.did);if(!u)throw new o.AriesFrameworkError(`Did document for did ${c.did} was not resolved!`);if(!u.recipientKeys.find(e=>e.fingerprint===r.fingerprint))throw new o.AriesFrameworkError(`Recipient key ${r.fingerprint} not found in did document recipient keys.`);let d=c.outOfBandId&&await this.outOfBandService.findById(e.agentContext,c.outOfBandId);if(!d)throw new o.AriesFrameworkError(`Out-of-band record ${c.outOfBandId} was not found.`);e.connection=c;let f=await this.connectionService.processResponse(e,d);if(null!==(t=f.autoAcceptConnection)&&void 0!==t?t:this.connectionsModuleConfig.autoAcceptConnections){let{message:t}=await this.connectionService.createTrustPing(e.agentContext,f,{responseRequested:!1});return t.setReturnRouting(i.ReturnRouteTypes.none),new n.OutboundMessageContext(t,{agentContext:e.agentContext,connection:f})}}}t.ConnectionResponseHandler=l},20863:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeCompleteHandler=void 0;let n=r(99997),i=r(47025),o=r(17155),a=r(4290),s=r(18448);class l{constructor(e,t){this.supportedMessages=[a.DidExchangeCompleteMessage],this.didExchangeProtocol=e,this.outOfBandService=t}async handle(e){var t,r;let{connection:a}=e;if(!a)throw new n.AriesFrameworkError("Connection is missing in message context");let{protocol:l}=a;if(l!==s.HandshakeProtocol.DidExchange)throw new n.AriesFrameworkError(`Connection record protocol is ${l} but handler supports only ${s.HandshakeProtocol.DidExchange}.`);let{message:c}=e,u=null===(t=c.thread)||void 0===t?void 0:t.parentThreadId;if(!u)throw new n.AriesFrameworkError("Message does not contain pthid attribute");let d=await this.outOfBandService.findByCreatedInvitationId(e.agentContext,u,(0,i.tryParseDid)(u)?c.threadId:void 0);if(!d)throw new n.AriesFrameworkError(`OutOfBand record for message ID ${null===(r=c.thread)||void 0===r?void 0:r.parentThreadId} not found!`);d.reusable||await this.outOfBandService.updateState(e.agentContext,d,o.OutOfBandState.Done),await this.didExchangeProtocol.processComplete(e,d)}}t.DidExchangeCompleteHandler=l},9625:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeRequestHandler=void 0;let n=r(79275),i=r(36849),o=r(32236),a=r(47025),s=r(17155),l=r(4290),c=r(18448);class u{constructor(e,t,r,n,i){this.supportedMessages=[l.DidExchangeRequestMessage],this.didExchangeProtocol=e,this.outOfBandService=t,this.routingService=r,this.didRepository=n,this.connectionsModuleConfig=i}async handle(e){var t,r;let{agentContext:l,recipientKey:u,senderKey:d,message:f,connection:p,sessionId:h}=e;if(!u||!d)throw new o.AriesFrameworkError("Unable to process connection request without senderKey or recipientKey");let y=null===(t=f.thread)||void 0===t?void 0:t.parentThreadId;if(!y)throw new o.AriesFrameworkError("Message does not contain 'pthid' attribute");let g=(0,a.tryParseDid)(y)?await this.outOfBandService.createFromImplicitInvitation(l,{did:y,threadId:f.threadId,recipientKey:u,handshakeProtocols:[c.HandshakeProtocol.DidExchange]}):await this.outOfBandService.findByCreatedInvitationId(l,y);if(!g)throw new o.AriesFrameworkError(`OutOfBand record for message ID ${y} not found!`);if(p&&!g.reusable)throw new o.AriesFrameworkError(`Connection record for non-reusable out-of-band ${g.id} already exists.`);let v=await this.didRepository.findReceivedDidByRecipientKey(l,d);if(v)throw new o.AriesFrameworkError(`A received did record for sender key ${d.fingerprint} already exists.`);if(g.state===s.OutOfBandState.Done)throw new o.AriesFrameworkError("Out-of-band record has been already processed and it does not accept any new requests");let m=await this.didExchangeProtocol.processRequest(e,g);if(h){let e=l.dependencyManager.resolve(n.TransportService);e.setConnectionIdForSession(h,m.id)}if(null!==(r=m.autoAcceptConnection)&&void 0!==r?r:this.connectionsModuleConfig.autoAcceptConnections){let e=g.reusable?await this.routingService.getRouting(l):void 0,t=await this.didExchangeProtocol.createResponse(l,m,g,e);return new i.OutboundMessageContext(t,{agentContext:l,connection:m,outOfBand:g})}}}t.DidExchangeRequestHandler=u},37269:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeResponseHandler=void 0;let n=r(36849),i=r(40946),o=r(99997),a=r(17155),s=r(4290),l=r(18448);class c{constructor(e,t,r,n,i){this.supportedMessages=[s.DidExchangeResponseMessage],this.didExchangeProtocol=e,this.outOfBandService=t,this.connectionService=r,this.didResolverService=n,this.connectionsModuleConfig=i}async handle(e){var t;let{agentContext:r,recipientKey:s,senderKey:c,message:u}=e;if(!s||!c)throw new o.AriesFrameworkError("Unable to process connection response without sender key or recipient key");let d=await this.connectionService.getByRoleAndThreadId(r,l.DidExchangeRole.Requester,u.threadId);if(!d)throw new o.AriesFrameworkError(`Connection for thread ID ${u.threadId} not found!`);if(!d.did)throw new o.AriesFrameworkError(`Connection record ${d.id} has no 'did'`);let f=await this.didResolverService.resolveDidDocument(r,d.did);if(!f)throw new o.AriesFrameworkError(`Did document for did ${d.did} was not resolved`);if(!f.recipientKeys.find(e=>e.fingerprint===s.fingerprint))throw new o.AriesFrameworkError(`Recipient key ${s.fingerprint} not found in did document recipient keys.`);let{protocol:p}=d;if(p!==l.HandshakeProtocol.DidExchange)throw new o.AriesFrameworkError(`Connection record protocol is ${p} but handler supports only ${l.HandshakeProtocol.DidExchange}.`);if(!d.outOfBandId)throw new o.AriesFrameworkError(`Connection ${d.id} does not have outOfBandId!`);let h=await this.outOfBandService.findById(r,d.outOfBandId);if(!h)throw new o.AriesFrameworkError(`OutOfBand record for connection ${d.id} with outOfBandId ${d.outOfBandId} not found!`);e.connection=d;let y=await this.didExchangeProtocol.processResponse(e,h);if(null!==(t=y.autoAcceptConnection)&&void 0!==t?t:this.connectionsModuleConfig.autoAcceptConnections){let e=await this.didExchangeProtocol.createComplete(r,y,h);return e.setReturnRouting(i.ReturnRouteTypes.none),h.reusable||await this.outOfBandService.updateState(r,h,a.OutOfBandState.Done),new n.OutboundMessageContext(e,{agentContext:r,connection:y})}}}t.DidExchangeResponseHandler=c},26712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingMessageHandler=void 0;let n=r(99997),i=r(4290),o=r(18448);class a{constructor(e,t){this.supportedMessages=[i.TrustPingMessage],this.trustPingService=e,this.connectionService=t}async handle(e){let{connection:t,recipientKey:r}=e;if(!t)throw new n.AriesFrameworkError(`Connection for verkey ${null==r?void 0:r.fingerprint} not found!`);return t.state===o.DidExchangeState.ResponseSent&&await this.connectionService.updateState(e.agentContext,t,o.DidExchangeState.Completed),this.trustPingService.processPing(e,t)}}t.TrustPingMessageHandler=a},90713:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingResponseMessageHandler=void 0;let n=r(4290);class i{constructor(e){this.supportedMessages=[n.TrustPingResponseMessage],this.trustPingService=e}async handle(e){return this.trustPingService.processPingResponse(e)}}t.TrustPingResponseMessageHandler=i},5942:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17437),t),i(r(75418),t),i(r(15716),t),i(r(26712),t),i(r(90713),t),i(r(9625),t),i(r(37269),t),i(r(20863),t),i(r(96960),t)},52560:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4290),t),i(r(18448),t),i(r(1728),t),i(r(83564),t),i(r(23935),t),i(r(50660),t),i(r(52197),t),i(r(20485),t),i(r(47328),t),i(r(61637),t)},1901:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionInvitationMessage=void 0;let o=r(5902),a=r(56988),s=r(89291),l=r(92583),c=r(99997),u=r(72589),d=r(9905),f=r(51465);class p extends l.AgentMessage{constructor(e){if(super(),this.allowDidSovPrefix=!0,this.type=p.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.label=e.label,this.imageUrl=e.imageUrl,this.appendedAttachments=e.appendedAttachments,void 0!==e.did?this.did=e.did:(this.recipientKeys=e.recipientKeys,this.serviceEndpoint=e.serviceEndpoint,this.routingKeys=e.routingKeys),e.did&&(e.recipientKeys||e.routingKeys||e.serviceEndpoint)))throw new c.AriesFrameworkError("either the did or the recipientKeys/serviceEndpoint/routingKeys must be set, but not both")}toUrl({domain:e,useDidSovPrefixWhereAllowed:t=!1}){let r=this.toJSON({useDidSovPrefixWhereAllowed:t}),n=u.JsonEncoder.toBase64URL(r),i=`${e}?c_i=${n}`;return i}static fromUrl(e){var t;let r=(0,s.parseUrl)(e).query,n=null!==(t=r.c_i)&&void 0!==t?t:r.d_m;if("string"==typeof n){let e=u.JsonEncoder.fromBase64(n),t=d.JsonTransformer.fromJSON(e,p);return t}throw new c.AriesFrameworkError("InvitationUrl is invalid. Needs to be encoded with either c_i, d_m, or oob")}}p.type=(0,f.parseMessageType)("https://didcomm.org/connections/1.0/invitation"),n([(0,f.IsValidMessageType)(p.type),(0,o.Transform)(({value:e})=>(0,f.replaceLegacyDidSovPrefix)(e),{toClassOnly:!0}),i("design:type",Object)],p.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],p.prototype,"label",void 0),n([(0,a.IsString)(),(0,a.ValidateIf)(e=>void 0===e.recipientKeys),i("design:type",String)],p.prototype,"did",void 0),n([(0,a.IsString)({each:!0}),(0,a.IsArray)(),(0,a.ValidateIf)(e=>void 0===e.did),(0,a.ArrayNotEmpty)(),i("design:type",Array)],p.prototype,"recipientKeys",void 0),n([(0,a.IsString)(),(0,a.ValidateIf)(e=>void 0===e.did),i("design:type",String)],p.prototype,"serviceEndpoint",void 0),n([(0,a.IsString)({each:!0}),(0,a.ValidateIf)(e=>void 0===e.did),(0,a.IsOptional)(),i("design:type",Array)],p.prototype,"routingKeys",void 0),n([(0,a.IsOptional)(),(0,a.IsUrl)(),i("design:type",String)],p.prototype,"imageUrl",void 0),t.ConnectionInvitationMessage=p},78842:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionProblemReportMessage=void 0;let o=r(51465),a=r(10796);class s extends a.ProblemReportMessage{constructor(e){super(e),this.allowDidSovPrefix=!0,this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/connection/1.0/problem-report"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.ConnectionProblemReportMessage=s},63820:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionRequestMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465),c=r(18448);class u extends s.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.label=e.label,this.imageUrl=e.imageUrl,this.connection=new c.Connection({did:e.did,didDoc:e.didDoc}))}}u.type=(0,l.parseMessageType)("https://didcomm.org/connections/1.0/request"),n([(0,l.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],u.prototype,"label",void 0),n([(0,o.Type)(()=>c.Connection),(0,a.ValidateNested)(),(0,a.IsInstance)(c.Connection),i("design:type",c.Connection)],u.prototype,"connection",void 0),n([(0,a.IsOptional)(),(0,a.IsUrl)(),i("design:type",String)],u.prototype,"imageUrl",void 0),t.ConnectionRequestMessage=u},75457:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionResponseMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(98970),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.connectionSig=e.connectionSig,this.setThread({threadId:e.threadId}))}}u.type=(0,c.parseMessageType)("https://didcomm.org/connections/1.0/response"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,o.Type)(()=>l.SignatureDecorator),(0,a.ValidateNested)(),(0,a.IsInstance)(l.SignatureDecorator),(0,o.Expose)({name:"connection~sig"}),i("design:type",l.SignatureDecorator)],u.prototype,"connectionSig",void 0),t.ConnectionResponseMessage=u},83935:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeCompleteMessage=void 0;let o=r(92583),a=r(51465);class s extends o.AgentMessage{constructor(e){var t;super(),this.type=s.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.setThread({threadId:e.threadId,parentThreadId:e.parentThreadId}))}}s.type=(0,a.parseMessageType)("https://didcomm.org/didexchange/1.0/complete"),n([(0,a.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.DidExchangeCompleteMessage=s},58160:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeProblemReportMessage=void 0;let o=r(51465),a=r(10796);class s extends a.ProblemReportMessage{constructor(e){super(e),this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/didexchange/1.0/problem-report"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.DidExchangeProblemReportMessage=s},56803:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeRequestMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.label=e.label,this.goalCode=e.goalCode,this.goal=e.goal,this.did=e.did,this.setThread({parentThreadId:e.parentThreadId}))}}u.type=(0,c.parseMessageType)("https://didcomm.org/didexchange/1.0/request"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],u.prototype,"label",void 0),n([(0,o.Expose)({name:"goal_code"}),(0,a.IsOptional)(),i("design:type",String)],u.prototype,"goalCode",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],u.prototype,"goal",void 0),n([(0,a.IsString)(),i("design:type",String)],u.prototype,"did",void 0),n([(0,o.Expose)({name:"did_doc~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.ValidateNested)(),i("design:type",l.Attachment)],u.prototype,"didDoc",void 0),t.DidExchangeRequestMessage=u},86209:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeResponseMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.did=e.did,this.setThread({threadId:e.threadId}))}}u.type=(0,c.parseMessageType)("https://didcomm.org/didexchange/1.0/response"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],u.prototype,"did",void 0),n([(0,o.Expose)({name:"did_doc~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.ValidateNested)(),i("design:type",l.Attachment)],u.prototype,"didDoc",void 0),t.DidExchangeResponseMessage=u},32179:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=c.type.messageTypeUri,this.responseRequested=!0,e&&(this.id=e.id||this.generateId(),this.comment=e.comment,this.responseRequested=void 0===e.responseRequested||e.responseRequested,e.timing&&this.setTiming({outTime:e.timing.outTime,expiresTime:e.timing.expiresTime,delayMilli:e.timing.delayMilli}))}}c.type=(0,l.parseMessageType)("https://didcomm.org/trust_ping/1.0/ping"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],c.prototype,"comment",void 0),n([(0,a.IsBoolean)(),(0,o.Expose)({name:"response_requested"}),i("design:type",Object)],c.prototype,"responseRequested",void 0),t.TrustPingMessage=c},53257:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingResponseMessage=void 0;let o=r(56988),a=r(92583),s=r(51465);class l extends a.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=l.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.comment=e.comment,this.setThread({threadId:e.threadId}),e.timing&&this.setTiming({inTime:e.timing.inTime,outTime:e.timing.outTime}))}}l.type=(0,s.parseMessageType)("https://didcomm.org/trust_ping/1.0/ping_response"),n([(0,s.IsValidMessageType)(l.type),i("design:type",Object)],l.prototype,"type",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],l.prototype,"comment",void 0),t.TrustPingResponseMessage=l},4290:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1901),t),i(r(63820),t),i(r(75457),t),i(r(32179),t),i(r(53257),t),i(r(78842),t),i(r(56803),t),i(r(86209),t),i(r(83935),t),i(r(58160),t)},26311:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;let o=r(5902),a=r(56988),s=r(46159);class l{constructor(e){e&&(this.did=e.did,this.didDoc=e.didDoc)}}n([(0,a.IsString)(),(0,o.Expose)({name:"DID"}),i("design:type",String)],l.prototype,"did",void 0),n([(0,o.Expose)({name:"DIDDoc"}),(0,o.Type)(()=>s.DidDoc),(0,a.ValidateNested)(),(0,a.IsInstance)(s.DidDoc),(0,a.IsOptional)(),i("design:type",s.DidDoc)],l.prototype,"didDoc",void 0),t.Connection=l},95810:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionRole=void 0,(r=t.ConnectionRole||(t.ConnectionRole={})).Inviter="inviter",r.Invitee="invitee"},46935:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.rfc0160StateFromDidExchangeState=t.ConnectionState=void 0;let o=r(14288);(i=n=t.ConnectionState||(t.ConnectionState={})).Null="null",i.Invited="invited",i.Requested="requested",i.Responded="responded",i.Complete="complete",t.rfc0160StateFromDidExchangeState=function(e){let t={[o.DidExchangeState.Start]:n.Null,[o.DidExchangeState.Abandoned]:n.Null,[o.DidExchangeState.InvitationReceived]:n.Invited,[o.DidExchangeState.InvitationSent]:n.Invited,[o.DidExchangeState.RequestReceived]:n.Requested,[o.DidExchangeState.RequestSent]:n.Requested,[o.DidExchangeState.ResponseReceived]:n.Responded,[o.DidExchangeState.ResponseSent]:n.Responded,[o.DidExchangeState.Completed]:n.Complete};return t[e]}},68459:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionType=void 0,(t.ConnectionType||(t.ConnectionType={})).Mediator="mediator"},91950:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeRole=void 0,(r=t.DidExchangeRole||(t.DidExchangeRole={})).Requester="requester",r.Responder="responder"},14288:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DidExchangeState=void 0,(r=t.DidExchangeState||(t.DidExchangeState={})).Start="start",r.InvitationSent="invitation-sent",r.InvitationReceived="invitation-received",r.RequestSent="request-sent",r.RequestReceived="request-received",r.ResponseSent="response-sent",r.ResponseReceived="response-received",r.Abandoned="abandoned",r.Completed="completed"},39231:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeProtocol=void 0,(r=t.HandshakeProtocol||(t.HandshakeProtocol={})).Connections="https://didcomm.org/connections/1.0",r.DidExchange="https://didcomm.org/didexchange/1.0"},46159:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidDoc=void 0;let o=r(5902),a=r(56988),s=r(77785),l=r(58997),c=r(79888);class u{constructor(e){this.context="https://w3id.org/did/v1",this.publicKey=[],this.service=[],this.authentication=[],e&&(this.id=e.id,this.publicKey=e.publicKey,this.service=e.service,this.authentication=e.authentication)}getPublicKey(e){return this.publicKey.find(t=>t.id===e)}getServicesByType(e){return this.service.filter(t=>t.type===e)}getServicesByClassType(e){return this.service.filter(t=>t instanceof e)}get didCommServices(){let e=[s.IndyAgentService.type,s.DidCommV1Service.type],t=this.service.filter(t=>e.includes(t.type));return t.sort((e,t)=>e.priority-t.priority)}}n([(0,o.Expose)({name:"@context"}),(0,a.Equals)("https://w3id.org/did/v1"),i("design:type",Object)],u.prototype,"context",void 0),n([(0,a.IsString)(),i("design:type",String)],u.prototype,"id",void 0),n([(0,a.IsArray)(),(0,a.ValidateNested)(),(0,c.PublicKeyTransformer)(),i("design:type",Array)],u.prototype,"publicKey",void 0),n([(0,a.IsArray)(),(0,a.ValidateNested)(),(0,s.ServiceTransformer)(),i("design:type",Array)],u.prototype,"service",void 0),n([(0,a.IsArray)(),(0,a.ValidateNested)(),(0,l.AuthenticationTransformer)(),i("design:type",Array)],u.prototype,"authentication",void 0),t.DidDoc=u},1022:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Authentication=void 0;class r{}t.Authentication=r},57589:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.EmbeddedAuthentication=void 0;let o=r(56988),a=r(8013),s=r(1022);class l extends s.Authentication{constructor(e){super(),this.publicKey=e}}n([(0,o.IsNotEmpty)(),(0,o.ValidateNested)(),(0,o.IsInstance)(a.PublicKey),i("design:type",a.PublicKey)],l.prototype,"publicKey",void 0),t.EmbeddedAuthentication=l},61868:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencedAuthentication=void 0;let o=r(5902),a=r(56988),s=r(8013),l=r(1022);class c extends l.Authentication{constructor(e,t){super(),this.publicKey=e,this.type=t}}n([(0,a.IsString)(),i("design:type",String)],c.prototype,"type",void 0),n([(0,o.Transform)(({value:e})=>e.id,{toPlainOnly:!0}),i("design:type",s.PublicKey)],c.prototype,"publicKey",void 0),t.ReferencedAuthentication=c},58997:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencedAuthentication=t.EmbeddedAuthentication=t.Authentication=t.AuthenticationTransformer=t.authenticationTypes=void 0;let n=r(5902),i=r(99997),o=r(79888),a=r(1022);Object.defineProperty(t,"Authentication",{enumerable:!0,get:function(){return a.Authentication}});let s=r(57589);Object.defineProperty(t,"EmbeddedAuthentication",{enumerable:!0,get:function(){return s.EmbeddedAuthentication}});let l=r(61868);Object.defineProperty(t,"ReferencedAuthentication",{enumerable:!0,get:function(){return l.ReferencedAuthentication}}),t.authenticationTypes={RsaVerificationKey2018:"RsaSignatureAuthentication2018",Ed25519VerificationKey2018:"Ed25519SignatureAuthentication2018",Secp256k1VerificationKey2018:"Secp256k1SignatureAuthenticationKey2018"},t.AuthenticationTransformer=function(){return(0,n.Transform)(({value:e,obj:t,type:r})=>r===n.TransformationType.PLAIN_TO_CLASS?e.map(e=>{var r,a;if(e.publicKey){let a=t.publicKey.find(t=>t.id===e.publicKey);if(!a)throw new i.AriesFrameworkError(`Invalid public key referenced ${e.publicKey}`);let s=null!==(r=o.publicKeyTypes[a.type])&&void 0!==r?r:o.PublicKey,c=(0,n.plainToInstance)(s,a);return new l.ReferencedAuthentication(c,e.type)}{let t=null!==(a=o.publicKeyTypes[e.type])&&void 0!==a?a:o.PublicKey,r=(0,n.plainToInstance)(t,e);return new s.EmbeddedAuthentication(r)}}):e.map(e=>e instanceof s.EmbeddedAuthentication?(0,n.instanceToPlain)(e.publicKey):e))}},68598:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46159),t),i(r(79888),t),i(r(58997),t)},58946:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25119Sig2018=void 0;let o=r(5902),a=r(56988),s=r(8013);class l extends s.PublicKey{constructor(e){super(Object.assign(Object.assign({},e),{type:"Ed25519VerificationKey2018"})),this.type="Ed25519VerificationKey2018",e&&(this.value=e.publicKeyBase58)}}n([(0,a.Equals)("Ed25519VerificationKey2018"),i("design:type",Object)],l.prototype,"type",void 0),n([(0,o.Expose)({name:"publicKeyBase58"}),(0,a.IsString)(),i("design:type",String)],l.prototype,"value",void 0),t.Ed25119Sig2018=l},6282:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.EddsaSaSigSecp256k1=void 0;let o=r(5902),a=r(56988),s=r(8013);class l extends s.PublicKey{constructor(e){super(Object.assign(Object.assign({},e),{type:"Secp256k1VerificationKey2018"})),this.type="Secp256k1VerificationKey2018",e&&(this.value=e.publicKeyHex)}}n([(0,a.Equals)("Secp256k1VerificationKey2018"),i("design:type",Object)],l.prototype,"type",void 0),n([(0,o.Expose)({name:"publicKeyHex"}),(0,a.IsString)(),i("design:type",String)],l.prototype,"value",void 0),t.EddsaSaSigSecp256k1=l},8013:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PublicKey=void 0;let o=r(56988);class a{constructor(e){e&&(this.id=e.id,this.controller=e.controller,this.type=e.type,this.value=e.value)}}n([(0,o.IsString)(),i("design:type",String)],a.prototype,"id",void 0),n([(0,o.IsString)(),i("design:type",String)],a.prototype,"controller",void 0),n([(0,o.IsString)(),i("design:type",String)],a.prototype,"type",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],a.prototype,"value",void 0),t.PublicKey=a},61568:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RsaSig2018=void 0;let o=r(5902),a=r(56988),s=r(8013);class l extends s.PublicKey{constructor(e){super(Object.assign(Object.assign({},e),{type:"RsaVerificationKey2018"})),this.type="RsaVerificationKey2018",e&&(this.value=e.publicKeyPem)}}n([(0,a.Equals)("RsaVerificationKey2018"),i("design:type",Object)],l.prototype,"type",void 0),n([(0,o.Expose)({name:"publicKeyPem"}),(0,a.IsString)(),i("design:type",String)],l.prototype,"value",void 0),t.RsaSig2018=l},79888:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RsaSig2018=t.EddsaSaSigSecp256k1=t.PublicKey=t.Ed25119Sig2018=t.PublicKeyTransformer=t.publicKeyTypes=void 0;let n=r(5902),i=r(58946);Object.defineProperty(t,"Ed25119Sig2018",{enumerable:!0,get:function(){return i.Ed25119Sig2018}});let o=r(6282);Object.defineProperty(t,"EddsaSaSigSecp256k1",{enumerable:!0,get:function(){return o.EddsaSaSigSecp256k1}});let a=r(8013);Object.defineProperty(t,"PublicKey",{enumerable:!0,get:function(){return a.PublicKey}});let s=r(61568);Object.defineProperty(t,"RsaSig2018",{enumerable:!0,get:function(){return s.RsaSig2018}}),t.publicKeyTypes={RsaVerificationKey2018:s.RsaSig2018,Ed25519VerificationKey2018:i.Ed25119Sig2018,Secp256k1VerificationKey2018:o.EddsaSaSigSecp256k1},t.PublicKeyTransformer=function(){return(0,n.Transform)(({value:e})=>e.map(e=>{var r;let i=null!==(r=t.publicKeyTypes[e.type])&&void 0!==r?r:a.PublicKey,o=(0,n.plainToInstance)(i,e);return o}),{toClassOnly:!0})}},18448:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26311),t),i(r(95810),t),i(r(46935),t),i(r(14288),t),i(r(91950),t),i(r(39231),t),i(r(68598),t),i(r(68459),t)},23899:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMetadataKeys=void 0,(t.ConnectionMetadataKeys||(t.ConnectionMetadataKeys={})).UseDidKeysForProtocol="_internal/useDidKeysForProtocol"},97192:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionRecord=void 0;let n=r(99997),i=r(79493),o=r(15169),a=r(18448);class s extends i.BaseRecord{constructor(e){var t,r,n,i;super(),this.connectionTypes=[],this.type=s.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,o.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.did=e.did,this.invitationDid=e.invitationDid,this.theirDid=e.theirDid,this.theirLabel=e.theirLabel,this.state=e.state,this.role=e.role,this.alias=e.alias,this.autoAcceptConnection=e.autoAcceptConnection,this._tags=null!==(n=e.tags)&&void 0!==n?n:{},this.threadId=e.threadId,this.imageUrl=e.imageUrl,this.mediatorId=e.mediatorId,this.errorMessage=e.errorMessage,this.protocol=e.protocol,this.outOfBandId=e.outOfBandId,this.connectionTypes=null!==(i=e.connectionTypes)&&void 0!==i?i:[])}getTags(){return Object.assign(Object.assign({},this._tags),{state:this.state,role:this.role,threadId:this.threadId,mediatorId:this.mediatorId,did:this.did,theirDid:this.theirDid,outOfBandId:this.outOfBandId,invitationDid:this.invitationDid,connectionTypes:this.connectionTypes})}get isRequester(){return this.role===a.DidExchangeRole.Requester}get rfc0160State(){return(0,a.rfc0160StateFromDidExchangeState)(this.state)}get isReady(){return this.state&&[a.DidExchangeState.Completed,a.DidExchangeState.ResponseSent].includes(this.state)}assertReady(){if(!this.isReady)throw new n.AriesFrameworkError(`Connection record is not ready to be used. Expected ${a.DidExchangeState.ResponseSent}, ${a.DidExchangeState.ResponseReceived} or ${a.DidExchangeState.Completed}, found invalid state ${this.state}`)}assertState(e){if(Array.isArray(e)||(e=[e]),!e.includes(this.state))throw new n.AriesFrameworkError(`Connection record is in invalid state ${this.state}. Valid states are: ${e.join(", ")}.`)}assertRole(e){if(this.role!==e)throw new n.AriesFrameworkError(`Connection record has invalid role ${this.role}. Expected role ${e}.`)}}t.ConnectionRecord=s,s.type="ConnectionRecord"},36682:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(97192),d=class extends c.Repository{constructor(e,t){super(u.ConnectionRecord,e,t)}async findByDids(e,{ourDid:t,theirDid:r}){return this.findSingleByQuery(e,{did:t,theirDid:r})}getByThreadId(e,t){return this.getSingleByQuery(e,{threadId:t})}getByRoleAndThreadId(e,t,r){return this.getSingleByQuery(e,{threadId:r,role:t})}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.ConnectionRepository=d},1728:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(97192),t),i(r(36682),t)},26577:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionService=void 0;let a=r(21233),s=r(19734),l=r(26852),c=r(59078),u=r(55090),d=r(91478),f=r(90743),p=r(99997),h=r(90978),y=r(9905),g=r(57849),v=r(83296),m=r(84212),b=r(78278),_=r(74358),w=r(38974),S=r(91415),O=r(50197),M=r(61771),R=r(17155),P=r(38395),E=r(69510),I=r(35381),x=r(23935),A=r(76506),C=r(4290),j=r(18448),T=r(97192),$=r(36682),D=r(3042),N=class{constructor(e,t,r,n){this.connectionRepository=t,this.didRepository=r,this.eventEmitter=n,this.logger=e}async createRequest(e,t,r){this.logger.debug(`Create message ${C.ConnectionRequestMessage.type.messageTypeUri} start`,t),t.assertRole(M.OutOfBandRole.Receiver),t.assertState(R.OutOfBandState.PrepareResponse);let{outOfBandInvitation:n}=t,{mediatorId:i}=r.routing,o=this.createDidDoc(r.routing),[a]=n.invitationDids,{did:s}=await this.createDid(e,{role:m.DidDocumentRole.Created,didDoc:o}),{label:l,imageUrl:c}=r,u=new C.ConnectionRequestMessage({label:null!=l?l:e.config.label,did:o.id,didDoc:o,imageUrl:null!=c?c:e.config.connectionImageUrl});u.setThread({threadId:u.threadId,parentThreadId:t.outOfBandInvitation.id});let d=await this.createConnection(e,{protocol:j.HandshakeProtocol.Connections,role:j.DidExchangeRole.Requester,state:j.DidExchangeState.InvitationReceived,theirLabel:n.label,alias:null==r?void 0:r.alias,did:s,mediatorId:i,autoAcceptConnection:null==r?void 0:r.autoAcceptConnection,outOfBandId:t.id,invitationDid:a,imageUrl:n.imageUrl,threadId:u.threadId});return await this.updateState(e,d,j.DidExchangeState.RequestSent),{connectionRecord:d,message:u}}async processRequest(e,t){this.logger.debug(`Process message ${C.ConnectionRequestMessage.type.messageTypeUri} start`,{message:e.message}),t.assertRole(M.OutOfBandRole.Sender),t.assertState(R.OutOfBandState.AwaitResponse);let{message:r}=e;if(!r.connection.didDoc)throw new A.ConnectionProblemReportError("Public DIDs are not supported yet",{problemCode:A.ConnectionProblemReportReason.RequestNotAccepted});let{did:n}=await this.createDid(e.agentContext,{role:m.DidDocumentRole.Received,didDoc:r.connection.didDoc}),i=await this.createConnection(e.agentContext,{protocol:j.HandshakeProtocol.Connections,role:j.DidExchangeRole.Responder,state:j.DidExchangeState.RequestReceived,alias:t.alias,theirLabel:r.label,imageUrl:r.imageUrl,outOfBandId:t.id,theirDid:n,threadId:r.threadId,mediatorId:t.mediatorId,autoAcceptConnection:t.autoAcceptConnection});return await this.connectionRepository.update(e.agentContext,i),this.emitStateChangedEvent(e.agentContext,i,null),this.logger.debug(`Process message ${C.ConnectionRequestMessage.type.messageTypeUri} end`,i),i}async createResponse(e,t,r,n){this.logger.debug(`Create message ${C.ConnectionResponseMessage.type.messageTypeUri} start`,t),t.assertState(j.DidExchangeState.RequestReceived),t.assertRole(j.DidExchangeRole.Responder);let i=n?this.createDidDoc(n):this.createDidDocFromOutOfBandDidCommServices(r.outOfBandInvitation.getInlineServices()),{did:o}=await this.createDid(e,{role:m.DidDocumentRole.Created,didDoc:i}),a=new j.Connection({did:i.id,didDoc:i}),s=y.JsonTransformer.toJSON(a);if(!t.threadId)throw new p.AriesFrameworkError(`Connection record with id ${t.id} does not have a thread id`);let l=d.Key.fromFingerprint(r.getTags().recipientKeyFingerprints[0]).publicKeyBase58,c=new C.ConnectionResponseMessage({threadId:t.threadId,connectionSig:await (0,f.signData)(s,e.wallet,l)});return t.did=o,await this.updateState(e,t,j.DidExchangeState.ResponseSent),this.logger.debug(`Create message ${C.ConnectionResponseMessage.type.messageTypeUri} end`,{connectionRecord:t,message:c}),{connectionRecord:t,message:c}}async processResponse(e,t){this.logger.debug(`Process message ${C.ConnectionResponseMessage.type.messageTypeUri} start`,{message:e.message});let{connection:r,message:n,recipientKey:i,senderKey:o}=e;if(!i||!o)throw new p.AriesFrameworkError("Unable to process connection request without senderKey or recipientKey");if(!r)throw new p.AriesFrameworkError("No connection record in message context.");r.assertState(j.DidExchangeState.RequestSent),r.assertRole(j.DidExchangeRole.Requester);let a=null;try{a=await (0,f.unpackAndVerifySignatureDecorator)(n.connectionSig,e.agentContext.wallet)}catch(e){if(e instanceof p.AriesFrameworkError)throw new A.ConnectionProblemReportError(e.message,{problemCode:A.ConnectionProblemReportReason.ResponseProcessingError});throw e}let s=y.JsonTransformer.fromJSON(a,j.Connection),l=n.connectionSig.signer,c=d.Key.fromFingerprint(t.getTags().recipientKeyFingerprints[0]).publicKeyBase58;if(l!==c)throw new A.ConnectionProblemReportError(`Connection object in connection response message is not signed with same key as recipient key in invitation expected='${c}' received='${l}'`,{problemCode:A.ConnectionProblemReportReason.ResponseNotAccepted});if(!s.didDoc)throw new p.AriesFrameworkError("DID Document is missing.");let{did:u}=await this.createDid(e.agentContext,{role:m.DidDocumentRole.Received,didDoc:s.didDoc});return r.theirDid=u,r.threadId=n.threadId,await this.updateState(e.agentContext,r,j.DidExchangeState.ResponseReceived),r}async createTrustPing(e,t,r={}){t.assertState([j.DidExchangeState.ResponseReceived,j.DidExchangeState.Completed]);let n=new C.TrustPingMessage(r);return t.state!==j.DidExchangeState.Completed&&await this.updateState(e,t,j.DidExchangeState.Completed),{connectionRecord:t,message:n}}async processAck(e){let{connection:t,recipientKey:r}=e;if(!t)throw new p.AriesFrameworkError(`Unable to process connection ack: connection for recipient key ${null==r?void 0:r.fingerprint} not found`);return t.state===j.DidExchangeState.ResponseSent&&t.role===j.DidExchangeRole.Responder&&await this.updateState(e.agentContext,t,j.DidExchangeState.Completed),t}async processProblemReport(e){var t;let{message:r,recipientKey:n,senderKey:i}=e;if(this.logger.debug(`Processing connection problem report for verkey ${null==n?void 0:n.fingerprint}`),!n)throw new p.AriesFrameworkError("Unable to process connection problem report without recipientKey");let o=await this.didRepository.findCreatedDidByRecipientKey(e.agentContext,n);if(!o)throw new p.AriesFrameworkError(`Unable to process connection problem report: created did record for recipient key ${n.fingerprint} not found`);let a=await this.findByOurDid(e.agentContext,o.did);if(!a)throw new p.AriesFrameworkError(`Unable to process connection problem report: connection for recipient key ${n.fingerprint} not found`);let s=a.theirDid&&await this.didRepository.findReceivedDid(e.agentContext,a.theirDid);if(!s)throw new p.AriesFrameworkError(`Received did record for did ${a.theirDid} not found.`);if(i&&!(null===(t=null==s?void 0:s.getTags().recipientKeyFingerprints)||void 0===t?void 0:t.includes(i.fingerprint)))throw new p.AriesFrameworkError("Sender key doesn't match key of connection record");return a.errorMessage=`${r.description.code} : ${r.description.en}`,await this.update(e.agentContext,a),await this.updateState(e.agentContext,a,j.DidExchangeState.Abandoned),a}async assertConnectionOrOutOfBandExchange(e,{lastSentMessage:t,lastReceivedMessage:r}={}){var n,i,o,a,s;let{connection:l,message:c}=e;if(l)l.assertReady(),this.logger.debug(`Processing message with id ${c.id} and connection id ${l.id}`,{type:c.type});else{this.logger.debug(`Processing connection-less message with id ${c.id}`,{type:c.type});let l=e.recipientKey&&e.recipientKey.publicKeyBase58,u=e.senderKey&&e.senderKey.publicKeyBase58,d=null!==(o=null===(i=null===(n=e.message)||void 0===n?void 0:n.service)||void 0===i?void 0:i.resolvedDidCommService)&&void 0!==o?o:null===(a=null==r?void 0:r.service)||void 0===a?void 0:a.resolvedDidCommService,f=null===(s=null==t?void 0:t.service)||void 0===s?void 0:s.resolvedDidCommService,h=e.agentContext.dependencyManager.resolve(E.OutOfBandRepository),y=e.agentContext.dependencyManager.resolve(O.OutOfBandService),g=await h.findSingleByQuery(e.agentContext,{invitationRequestsThreadIds:[c.threadId]});if((null==g?void 0:g.role)===M.OutOfBandRole.Sender?f=await y.getResolvedServiceForOutOfBandServices(e.agentContext,g.outOfBandInvitation.getServices()):(null==g?void 0:g.role)===M.OutOfBandRole.Receiver&&(d=await y.getResolvedServiceForOutOfBandServices(e.agentContext,g.outOfBandInvitation.getServices())),!d&&!g)throw new p.AriesFrameworkError("No service for incoming connection-less message and no associated out of band record found.");if(!f&&(r||t))throw new p.AriesFrameworkError("No keys on our side to use for encrypting messages, and previous messages found (in which case our keys MUST also be present).");if((!u||!l)&&(t||r))throw new p.AriesFrameworkError("Incoming message must have recipientKey and senderKey (so cannot be AuthCrypt or unpacked) if there are lastSentMessage or lastReceivedMessage.");if(l&&f){let e=f.recipientKeys.some(e=>e.publicKeyBase58===l);if(!e)throw new p.AriesFrameworkError(`Recipient key ${l} not found in our service`)}if(u&&d){let e=d.recipientKeys.some(e=>e.publicKeyBase58===u);if(!e)throw new p.AriesFrameworkError(`Sender key ${u} not found in their service.`)}}}async matchIncomingMessageToRequestMessageInOutOfBandExchange(e,{expectedConnectionId:t}){var r,n,i,o;if(t&&(null===(r=e.connection)||void 0===r?void 0:r.id)===t)throw new p.AriesFrameworkError(`Expecting incoming message to have connection ${t}, but incoming connection is ${null!==(i=null===(n=e.connection)||void 0===n?void 0:n.id)&&void 0!==i?i:"undefined"}`);let a=e.agentContext.dependencyManager.resolve(E.OutOfBandRepository),s=null===(o=e.message.thread)||void 0===o?void 0:o.parentThreadId,l=await a.findSingleByQuery(e.agentContext,{invitationId:s,role:M.OutOfBandRole.Sender,invitationRequestsThreadIds:[e.message.threadId]});if(!l)throw new p.AriesFrameworkError(`No out of band record found for credential request message with thread ${e.message.threadId}, out of band invitation id ${s} and role ${M.OutOfBandRole.Sender}`);let c=l.metadata.get(I.OutOfBandRecordMetadataKeys.LegacyInvitation);if((null==c?void 0:c.legacyInvitationType)!==P.InvitationType.Connectionless&&l.outOfBandInvitation.id!==s)throw new p.AriesFrameworkError("Response messages to out of band invitation requests MUST have a parent thread id that matches the out of band invitation id.");if(l.reusable)throw new p.AriesFrameworkError("Receiving messages in response to reusable out of band invitations is not supported.");if(l.state===R.OutOfBandState.Done){if(!e.connection)throw new p.AriesFrameworkError("Can't find connection associated with incoming message, while out of band state is done. State must be await response if no connection has been created");if(e.connection.outOfBandId!==l.id)throw new p.AriesFrameworkError("Connection associated with incoming message is not associated with the out of band invitation containing the attached message.")}else if(l.state===R.OutOfBandState.AwaitResponse)l.state=R.OutOfBandState.Done,await a.update(e.agentContext,l);else throw new p.AriesFrameworkError(`Out of band record is in incorrect state ${l.state}`)}async updateState(e,t,r){let n=t.state;t.state=r,await this.connectionRepository.update(e,t),this.emitStateChangedEvent(e,t,n)}emitStateChangedEvent(e,t,r){this.eventEmitter.emit(e,{type:x.ConnectionEventTypes.ConnectionStateChanged,payload:{connectionRecord:t.clone(),previousState:r}})}update(e,t){return this.connectionRepository.update(e,t)}getAll(e){return this.connectionRepository.getAll(e)}getById(e,t){return this.connectionRepository.getById(e,t)}findById(e,t){return this.connectionRepository.findById(e,t)}async deleteById(e,t){let r=await this.getById(e,t);return this.connectionRepository.delete(e,r)}async findByDids(e,t){return this.connectionRepository.findByDids(e,t)}async getByThreadId(e,t){return this.connectionRepository.getByThreadId(e,t)}async getByRoleAndThreadId(e,t,r){return this.connectionRepository.getByRoleAndThreadId(e,t,r)}async findByTheirDid(e,t){return this.connectionRepository.findSingleByQuery(e,{theirDid:t})}async findByOurDid(e,t){return this.connectionRepository.findSingleByQuery(e,{did:t})}async findAllByOutOfBandId(e,t){return this.connectionRepository.findByQuery(e,{outOfBandId:t})}async findAllByConnectionTypes(e,t){return this.connectionRepository.findByQuery(e,{connectionTypes:t})}async findByInvitationDid(e,t){return this.connectionRepository.findByQuery(e,{invitationDid:t})}async findByKeys(e,{senderKey:t,recipientKey:r}){let n=await this.didRepository.findReceivedDidByRecipientKey(e,t);if(n){let t=await this.didRepository.findCreatedDidByRecipientKey(e,r);if(t){let r=await this.findByDids(e,{ourDid:t.did,theirDid:n.did});if(r&&r.isReady)return r}}return this.logger.debug(`No connection record found for encrypted message with recipient key ${r.fingerprint} and sender key ${t.fingerprint}`),null}async findAllByQuery(e,t){return this.connectionRepository.findByQuery(e,t)}async createConnection(e,t){let r=new T.ConnectionRecord(t);return await this.connectionRepository.save(e,r),r}async addConnectionType(e,t,r){let n=t.connectionTypes||[];t.connectionTypes=[r,...n],await this.update(e,t)}async removeConnectionType(e,t,r){t.connectionTypes=t.connectionTypes.filter(e=>e!==r),await this.update(e,t)}async getConnectionTypes(e){return e.connectionTypes||[]}async createDid(e,{role:t,didDoc:r}){let n=(0,D.convertToNewDidDocument)(r),i=(0,_.didDocumentJsonToNumAlgo1Did)(n.toJSON());n.id=i;let o=new w.DidRecord({did:i,role:t,didDocument:n,tags:{recipientKeyFingerprints:n.recipientKeys.map(e=>e.fingerprint)}});return o.metadata.set(S.DidRecordMetadataKeys.LegacyDid,{unqualifiedDid:r.id,didDocumentString:y.JsonTransformer.serialize(r)}),this.logger.debug("Saving DID record",{id:o.id,did:o.did,role:o.role,tags:o.getTags(),didDocument:"omitted..."}),await this.didRepository.save(e,o),this.logger.debug("Did record created.",o),{did:i,didDocument:n}}createDidDoc(e){let t=(0,g.indyDidFromPublicKeyBase58)(e.recipientKey.publicKeyBase58),r=new j.Ed25119Sig2018({id:`${t}#1`,controller:t,publicKeyBase58:e.recipientKey.publicKeyBase58}),n=new j.ReferencedAuthentication(r,j.authenticationTypes.Ed25519VerificationKey2018),i=e.endpoints.map((r,n)=>new v.IndyAgentService({id:`${t}#IndyAgentService-${n+1}`,serviceEndpoint:r,recipientKeys:[e.recipientKey.publicKeyBase58],routingKeys:e.routingKeys.map(e=>e.publicKeyBase58),priority:n}));return new j.DidDoc({id:t,authentication:[n],service:i,publicKey:[r]})}createDidDocFromOutOfBandDidCommServices(e){let[t]=e[0].recipientKeys,r=v.DidKey.fromDid(t).key,n=(0,g.indyDidFromPublicKeyBase58)(r.publicKeyBase58),i=new j.Ed25119Sig2018({id:`${n}#1`,controller:n,publicKeyBase58:r.publicKeyBase58}),o=new j.ReferencedAuthentication(i,j.authenticationTypes.Ed25519VerificationKey2018),a=e.map((e,t)=>{var i;return new v.IndyAgentService({id:`${n}#IndyAgentService-${t+1}`,serviceEndpoint:e.serviceEndpoint,recipientKeys:[r.publicKeyBase58],routingKeys:null===(i=e.routingKeys)||void 0===i?void 0:i.map(b.didKeyToVerkey),priority:t})});return new j.DidDoc({id:n,authentication:[o],service:a,publicKey:[i]})}async returnWhenIsConnected(e,t,r=2e4){let n=e=>e.id===t&&e.state===j.DidExchangeState.Completed,i=this.eventEmitter.observable(x.ConnectionEventTypes.ConnectionStateChanged),o=new a.ReplaySubject(1);i.pipe((0,c.filterContextCorrelationId)(e.contextCorrelationId),(0,s.map)(e=>e.payload.connectionRecord),(0,s.first)(n),(0,s.timeout)(r)).subscribe(o);let l=await this.getById(e,t);return n(l)&&o.next(l),(0,a.firstValueFrom)(o)}};N=n([(0,h.injectable)(),o(0,(0,h.inject)(u.InjectionSymbols.Logger)),i("design:paramtypes",[Object,$.ConnectionRepository,w.DidRepository,l.EventEmitter])],N),t.ConnectionService=N},10371:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.TrustPingService=void 0;let o=r(26852),a=r(36849),s=r(90978),l=r(50660),c=r(4290),u=class{constructor(e){this.eventEmitter=e}processPing({message:e,agentContext:t},r){if(this.eventEmitter.emit(t,{type:l.TrustPingEventTypes.TrustPingReceivedEvent,payload:{connectionRecord:r,message:e}}),e.responseRequested){let n=new c.TrustPingResponseMessage({threadId:e.threadId});return new a.OutboundMessageContext(n,{agentContext:t,connection:r})}}processPingResponse(e){let{agentContext:t,message:r}=e,n=e.assertReadyConnection();this.eventEmitter.emit(t,{type:l.TrustPingEventTypes.TrustPingResponseReceivedEvent,payload:{connectionRecord:n,message:r}})}};u=n([(0,s.injectable)(),i("design:paramtypes",[o.EventEmitter])],u),t.TrustPingService=u},3042:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToNewDidDocument=void 0;let n=r(91478),i=r(99997),o=r(83296),a=r(74358),s=r(18448);function l(e){if(!e.includes("#")&&e.includes(";")){let[,...t]=e.split(";");return`#${t.join(";")}`}let[,...t]=e.split("#");return`#${t.length?t.join("#"):e}`}function c(e){if(!e.value)throw new i.AriesFrameworkError(`Public key ${e.id} does not have value property`);let t=e.value,r=n.Key.fromPublicKeyBase58(t,n.KeyType.Ed25519);return(0,o.getEd25519VerificationKey2018)({id:`#${t.slice(0,8)}`,key:r,controller:"#id"})}t.convertToNewDidDocument=function(e){let t=new o.DidDocumentBuilder(""),r={};e.authentication.forEach(e=>{let{publicKey:n}=e;if("Ed25519VerificationKey2018"===n.type&&n.value){let i=c(n),o=l(n.id);r[o]=i.id,t.addAuthentication(i.id),e instanceof s.EmbeddedAuthentication&&t.addVerificationMethod(i)}}),e.publicKey.forEach(e=>{if("Ed25519VerificationKey2018"===e.type&&e.value){let n=c(e),i=l(e.id);r[i]=n.id,t.addVerificationMethod(n)}}),e.didCommServices.reverse().forEach(e=>{let n=l(e.id);if(e instanceof o.DidCommV1Service){let t=e.recipientKeys.map(e=>{let t=l(e);return r[t]});e=new o.DidCommV1Service({id:n,recipientKeys:t,serviceEndpoint:e.serviceEndpoint,routingKeys:e.routingKeys,accept:e.accept,priority:e.priority})}else e instanceof o.IndyAgentService&&(e=new o.IndyAgentService({id:n,recipientKeys:e.recipientKeys,serviceEndpoint:e.serviceEndpoint,routingKeys:e.routingKeys,priority:e.priority}));t.addService(e)});let n=t.build(),i=(0,a.didDocumentJsonToNumAlgo1Did)(n.toJSON());return n.id=i,n}},83564:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26577),t),i(r(10371),t)},35539:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialEventTypes=void 0,(r=t.CredentialEventTypes||(t.CredentialEventTypes={})).CredentialStateChanged="CredentialStateChanged",r.RevocationNotificationReceived="RevocationNotificationReceived"},27351:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsApi=void 0;let a=r(77858),s=r(24446),l=r(89642),c=r(55090),u=r(99997),d=r(90978),f=r(42761),p=r(83564),h=r(61428),y=r(78308),g=r(94486),v=r(2785),m=r(63895),b=class{constructor(e,t,r,n,i,o,a,s,l){this.messageSender=e,this.connectionService=t,this.credentialRepository=i,this.routingService=o,this.agentContext=r,this.didCommMessageRepository=a,this.logger=n,this.config=l}getProtocol(e){let t=this.config.credentialProtocols.find(t=>t.version===e);if(!t)throw new u.AriesFrameworkError(`No credential protocol registered for protocol version ${e}`);return t}async proposeCredential(e){let t=this.getProtocol(e.protocolVersion),r=await this.connectionService.getById(this.agentContext,e.connectionId);r.assertReady();let{credentialRecord:n,message:i}=await t.createProposal(this.agentContext,{connectionRecord:r,credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:n,connectionRecord:r});return await this.messageSender.sendMessage(o),n}async acceptProposal(e){let t=await this.getById(e.credentialRecordId);if(!t.connectionId)throw new u.AriesFrameworkError(`No connectionId found for credential record '${t.id}'. Connection-less issuance does not support credential proposal or negotiation.`);let r=this.getProtocol(t.protocolVersion),n=await this.connectionService.getById(this.agentContext,t.connectionId);n.assertReady();let{message:i}=await r.acceptProposal(this.agentContext,{credentialRecord:t,credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:t,connectionRecord:n});return await this.messageSender.sendMessage(o),t}async negotiateProposal(e){let t=await this.getById(e.credentialRecordId);if(!t.connectionId)throw new u.AriesFrameworkError(`No connection id for credential record ${t.id} not found. Connection-less issuance does not support negotiation`);let r=this.getProtocol(t.protocolVersion),{message:n}=await r.negotiateProposal(this.agentContext,{credentialRecord:t,credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential}),i=await this.connectionService.getById(this.agentContext,t.connectionId),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:n,associatedRecord:t,connectionRecord:i});return await this.messageSender.sendMessage(o),t}async offerCredential(e){let t=await this.connectionService.getById(this.agentContext,e.connectionId),r=this.getProtocol(e.protocolVersion);this.logger.debug(`Got a credentialProtocol object for version ${e.protocolVersion}`);let{message:n,credentialRecord:i}=await r.createOffer(this.agentContext,{credentialFormats:e.credentialFormats,autoAcceptCredential:e.autoAcceptCredential,comment:e.comment,connectionRecord:t});this.logger.debug("Offer Message successfully created; message= ",n);let o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:n,associatedRecord:i,connectionRecord:t});return await this.messageSender.sendMessage(o),i}async acceptOffer(e){let t=await this.getById(e.credentialRecordId),r=this.getProtocol(t.protocolVersion);this.logger.debug(`Got a credentialProtocol object for this version; version = ${r.version}`);let n=await r.findOfferMessage(this.agentContext,t.id);if(!n)throw new u.AriesFrameworkError(`No offer message found for credential record with id '${t.id}'`);let i=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;null==i||i.assertReady();let{message:o}=await r.acceptOffer(this.agentContext,{credentialRecord:t,credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential}),a=await (0,l.getOutboundMessageContext)(this.agentContext,{message:o,connectionRecord:i,associatedRecord:t,lastReceivedMessage:n});return await this.messageSender.sendMessage(a),t}async declineOffer(e){let t=await this.getById(e);t.assertState(g.CredentialState.OfferReceived);let r=this.getProtocol(t.protocolVersion);return await r.updateState(this.agentContext,t,g.CredentialState.Declined),t}async negotiateOffer(e){let t=await this.getById(e.credentialRecordId);if(!t.connectionId)throw new u.AriesFrameworkError(`No connection id for credential record ${t.id} not found. Connection-less issuance does not support negotiation`);let r=await this.connectionService.getById(this.agentContext,t.connectionId);r.assertReady();let n=this.getProtocol(t.protocolVersion),{message:i}=await n.negotiateOffer(this.agentContext,{credentialFormats:e.credentialFormats,credentialRecord:t,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:t,connectionRecord:r});return await this.messageSender.sendMessage(o),t}async createOffer(e){let t=this.getProtocol(e.protocolVersion);this.logger.debug(`Got a credentialProtocol object for version ${e.protocolVersion}`);let{message:r,credentialRecord:n}=await t.createOffer(this.agentContext,{credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential});return this.logger.debug("Offer Message successfully created",{message:r}),{message:r,credentialRecord:n}}async acceptRequest(e){let t=await this.getById(e.credentialRecordId),r=this.getProtocol(t.protocolVersion);this.logger.debug(`Got a credentialProtocol object for version ${t.protocolVersion}`);let n=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;null==n||n.assertReady();let i=await r.findRequestMessage(this.agentContext,t.id);if(!i)throw new u.AriesFrameworkError(`No request message found for credential record with id '${t.id}'`);let o=await r.findOfferMessage(this.agentContext,t.id);if(!o)throw new u.AriesFrameworkError(`No offer message found for proof record with id '${t.id}'`);let{message:a}=await r.acceptRequest(this.agentContext,{credentialRecord:t,credentialFormats:e.credentialFormats,comment:e.comment,autoAcceptCredential:e.autoAcceptCredential});this.logger.debug("We have a credential message (sending outbound): ",a);let s=await (0,l.getOutboundMessageContext)(this.agentContext,{message:a,connectionRecord:n,associatedRecord:t,lastReceivedMessage:i,lastSentMessage:o});return await this.messageSender.sendMessage(s),t}async acceptCredential(e){let t=await this.getById(e.credentialRecordId),r=this.getProtocol(t.protocolVersion);this.logger.debug(`Got a credentialProtocol object for version ${t.protocolVersion}`);let n=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;null==n||n.assertReady();let i=await r.findRequestMessage(this.agentContext,t.id);if(!i)throw new u.AriesFrameworkError(`No request message found for credential record with id '${t.id}'`);let o=await r.findCredentialMessage(this.agentContext,t.id);if(!o)throw new u.AriesFrameworkError(`No credential message found for credential record with id '${t.id}'`);let{message:a}=await r.acceptCredential(this.agentContext,{credentialRecord:t}),s=await (0,l.getOutboundMessageContext)(this.agentContext,{message:a,connectionRecord:n,associatedRecord:t,lastReceivedMessage:o});return await this.messageSender.sendMessage(s),t}async sendProblemReport(e){let t=await this.getById(e.credentialRecordId);if(!t.connectionId)throw new u.AriesFrameworkError(`No connectionId found for credential record '${t.id}'.`);let r=await this.connectionService.getById(this.agentContext,t.connectionId),n=this.getProtocol(t.protocolVersion),{message:i}=await n.createProblemReport(this.agentContext,{description:e.description,credentialRecord:t});i.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId});let o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:t,connectionRecord:r});return await this.messageSender.sendMessage(o),t}async getFormatData(e){let t=await this.getById(e),r=this.getProtocol(t.protocolVersion);return r.getFormatData(this.agentContext,e)}getById(e){return this.credentialRepository.getById(this.agentContext,e)}getAll(){return this.credentialRepository.getAll(this.agentContext)}findAllByQuery(e){return this.credentialRepository.findByQuery(this.agentContext,e)}findById(e){return this.credentialRepository.findById(this.agentContext,e)}async deleteById(e,t){let r=await this.getById(e),n=this.getProtocol(r.protocolVersion);return n.delete(this.agentContext,r,t)}async update(e){await this.credentialRepository.update(this.agentContext,e)}async findProposalMessage(e){let t=await this.getServiceForCredentialExchangeId(e);return t.findProposalMessage(this.agentContext,e)}async findOfferMessage(e){let t=await this.getServiceForCredentialExchangeId(e);return t.findOfferMessage(this.agentContext,e)}async findRequestMessage(e){let t=await this.getServiceForCredentialExchangeId(e);return t.findRequestMessage(this.agentContext,e)}async findCredentialMessage(e){let t=await this.getServiceForCredentialExchangeId(e);return t.findCredentialMessage(this.agentContext,e)}async getServiceForCredentialExchangeId(e){let t=await this.getById(e);return this.getProtocol(t.protocolVersion)}};b=n([(0,d.injectable)(),o(3,(0,d.inject)(c.InjectionSymbols.Logger)),i("design:paramtypes",[s.MessageSender,p.ConnectionService,a.AgentContext,Object,m.CredentialRepository,h.RoutingService,f.DidCommMessageRepository,v.RevocationNotificationService,y.CredentialsModuleConfig])],b),t.CredentialsApi=b},52494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36671:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsModule=void 0;let n=r(36849),i=r(27351),o=r(78308),a=r(2785),s=r(22948),l=r(62047);class c{constructor(e){var t;this.api=i.CredentialsApi,this.config=new o.CredentialsModuleConfig(Object.assign(Object.assign({},e),{credentialProtocols:null!==(t=null==e?void 0:e.credentialProtocols)&&void 0!==t?t:[new s.V2CredentialProtocol({credentialFormats:[]})]}))}register(e,t){for(let r of(e.registerContextScoped(i.CredentialsApi),e.registerInstance(o.CredentialsModuleConfig,this.config),e.registerSingleton(a.RevocationNotificationService),e.registerSingleton(l.CredentialRepository),t.register(new n.Protocol({id:"https://didcomm.org/revocation_notification/1.0",roles:["holder"]}),new n.Protocol({id:"https://didcomm.org/revocation_notification/2.0",roles:["holder"]})),this.config.credentialProtocols))r.register(e,t)}}t.CredentialsModule=c},78308:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialsModuleConfig=void 0;let n=r(61411);class i{constructor(e){this.options=e}get autoAcceptCredentials(){var e;return null!==(e=this.options.autoAcceptCredentials)&&void 0!==e?e:n.AutoAcceptCredential.Never}get credentialProtocols(){return this.options.credentialProtocols}}t.CredentialsModuleConfig=i},94833:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2771:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},46669:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},41386:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2771),t),i(r(46669),t),i(r(94833),t),i(r(13582),t)},58578:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdCredentialDetail=void 0;let o=r(5902),a=r(26357),s=r(36363);class l{constructor(e){e&&(this.credential=e.credential,this.options=e.options)}}n([(0,o.Type)(()=>a.W3cCredential),i("design:type",a.W3cCredential)],l.prototype,"credential",void 0),n([(0,o.Expose)({name:"options"}),(0,o.Type)(()=>s.JsonLdCredentialDetailOptions),i("design:type",s.JsonLdCredentialDetailOptions)],l.prototype,"options",void 0),t.JsonLdCredentialDetail=l},36363:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdCredentialDetailOptions=t.JsonLdCredentialDetailCredentialStatus=void 0;let o=r(56988);class a{constructor(e){e&&(this.type=e.type)}}n([(0,o.IsString)(),i("design:type",String)],a.prototype,"type",void 0),t.JsonLdCredentialDetailCredentialStatus=a;class s{constructor(e){e&&(this.proofPurpose=e.proofPurpose,this.created=e.created,this.domain=e.domain,this.challenge=e.challenge,this.credentialStatus=e.credentialStatus,this.proofType=e.proofType)}}n([(0,o.IsString)(),i("design:type",String)],s.prototype,"proofPurpose",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],s.prototype,"created",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],s.prototype,"domain",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],s.prototype,"challenge",void 0),n([(0,o.IsString)(),i("design:type",String)],s.prototype,"proofType",void 0),n([(0,o.IsOptional)(),(0,o.IsObject)(),i("design:type",a)],s.prototype,"credentialStatus",void 0),t.JsonLdCredentialDetailOptions=s},26694:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65228:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdCredentialFormatService=void 0;let n=r(22548),i=r(99997),o=r(23333),a=r(9905),s=r(94912),l=r(45765),c=r(76826),u=r(38867),d=r(13799),f=r(58578),p="aries/ld-proof-vc-detail@v1.0",h="aries/ld-proof-vc@v1.0";class y{constructor(){this.formatKey="jsonld",this.credentialRecordType="w3c",this.areCredentialsEqual=(e,t)=>{let r=e.getDataAsJson(),n=t.getDataAsJson();return(0,o.areObjectsEqual)(r,n)}}async createProposal(e,{credentialFormats:t}){let r=new d.CredentialFormatSpec({format:p}),n=t.jsonld;if(!n)throw new i.AriesFrameworkError("Missing jsonld payload in createProposal");a.JsonTransformer.fromJSON(n.credential,f.JsonLdCredentialDetail);let o=this.getFormatData(n,r.attachmentId);return{format:r,attachment:o}}async processProposal(e,{attachment:t}){let r=t.getDataAsJson();if(!r)throw new i.AriesFrameworkError("Missing jsonld credential proposal data payload");a.JsonTransformer.fromJSON(r,f.JsonLdCredentialDetail)}async acceptProposal(e,{attachmentId:t,proposalAttachment:r}){let n=new d.CredentialFormatSpec({attachmentId:t,format:p}),i=r.getDataAsJson();a.JsonTransformer.fromJSON(i,f.JsonLdCredentialDetail);let o=this.getFormatData(i,n.attachmentId);return{format:n,attachment:o}}async createOffer(e,{credentialFormats:t,attachmentId:r}){let n=new d.CredentialFormatSpec({attachmentId:r,format:p}),o=null==t?void 0:t.jsonld;if(!o)throw new i.AriesFrameworkError("Missing jsonld payload in createOffer");a.JsonTransformer.fromJSON(o.credential,f.JsonLdCredentialDetail);let s=this.getFormatData(o,n.attachmentId);return{format:n,attachment:s}}async processOffer(e,{attachment:t}){let r=t.getDataAsJson();if(!r)throw new i.AriesFrameworkError("Missing jsonld credential offer data payload");a.JsonTransformer.fromJSON(r,f.JsonLdCredentialDetail)}async acceptOffer(e,{attachmentId:t,offerAttachment:r}){let n=r.getDataAsJson();a.JsonTransformer.fromJSON(n,f.JsonLdCredentialDetail);let i=new d.CredentialFormatSpec({attachmentId:t,format:p}),o=this.getFormatData(n,i.attachmentId);return{format:i,attachment:o}}async createRequest(e,{credentialFormats:t}){let r=null==t?void 0:t.jsonld,n=new d.CredentialFormatSpec({format:p});if(!r)throw new i.AriesFrameworkError("Missing jsonld payload in createRequest");a.JsonTransformer.fromJSON(r.credential,f.JsonLdCredentialDetail);let o=this.getFormatData(r,n.attachmentId);return{format:n,attachment:o}}async processRequest(e,{attachment:t}){let r=t.getDataAsJson();if(!r)throw new i.AriesFrameworkError("Missing jsonld credential request data payload");a.JsonTransformer.fromJSON(r,f.JsonLdCredentialDetail)}async acceptRequest(e,{credentialFormats:t,attachmentId:r,requestAttachment:n}){var o,s;let l=e.dependencyManager.resolve(u.W3cJsonLdCredentialService),f=n.getDataAsJson(),p=null!==(s=null===(o=null==t?void 0:t.jsonld)||void 0===o?void 0:o.verificationMethod)&&void 0!==s?s:await this.deriveVerificationMethod(e,f.credential,f);if(!p)throw new i.AriesFrameworkError("Missing verification method in credential data");let y=new d.CredentialFormatSpec({attachmentId:r,format:h}),g=f.options,v=["challenge","domain","credentialStatus","created"].filter(e=>void 0!==g[e]);if(v.length>0)throw new i.AriesFrameworkError(`Some fields are not currently supported in credential options: ${v.join(", ")}`);let m=a.JsonTransformer.fromJSON(f.credential,c.W3cCredential),b=await l.signCredential(e,{format:c.ClaimFormat.LdpVc,credential:m,proofType:f.options.proofType,verificationMethod:p}),_=this.getFormatData(a.JsonTransformer.toJSON(b),y.attachmentId);return{format:y,attachment:_}}async deriveVerificationMethod(e,t,r){let n=e.dependencyManager.resolve(l.DidResolverService),o=e.dependencyManager.resolve(u.W3cJsonLdCredentialService),d=a.JsonTransformer.fromJSON(t,c.W3cCredential),f=d.issuer;"string"!=typeof f&&(f=f.id);let p=await n.resolveDidDocument(e,f),h=r.options.proofType,y=o.getVerificationMethodTypesByProofType(h);if(!y||0===y.length)throw new i.AriesFrameworkError(`No Key Type found for proofType ${h}`);let g=await (0,s.findVerificationMethodByKeyType)(y[0],p);if(!g)throw new i.AriesFrameworkError(`Missing verification method for key type ${y}`);return g.id}async processCredential(e,{credentialRecord:t,attachment:r,requestAttachment:n}){let o=e.dependencyManager.resolve(c.W3cCredentialService),s=r.getDataAsJson(),l=a.JsonTransformer.fromJSON(s,c.W3cJsonLdVerifiableCredential),u=n.getDataAsJson();this.verifyReceivedCredentialMatchesRequest(l,u);let d=await o.verifyCredential(e,{credential:l});if(d&&!d.isValid)throw new i.AriesFrameworkError(`Failed to validate credential, error = ${d.error}`);let f=await o.storeCredential(e,{credential:l});t.credentials.push({credentialRecordType:this.credentialRecordType,credentialRecordId:f.id})}verifyReceivedCredentialMatchesRequest(e,t){let r=a.JsonTransformer.toJSON(e);if(delete r.proof,Array.isArray(e.proof))throw new i.AriesFrameworkError("Credential proof arrays are not supported");if(t.options.created&&e.proof.created!==t.options.created)throw new i.AriesFrameworkError("Received credential proof created does not match created from credential request");if(e.proof.domain!==t.options.domain)throw new i.AriesFrameworkError("Received credential proof domain does not match domain from credential request");if(e.proof.challenge!==t.options.challenge)throw new i.AriesFrameworkError("Received credential proof challenge does not match challenge from credential request");if(e.proof.type!==t.options.proofType)throw new i.AriesFrameworkError("Received credential proof type does not match proof type from credential request");if(e.proof.proofPurpose!==t.options.proofPurpose)throw new i.AriesFrameworkError("Received credential proof purpose does not match proof purpose from credential request");if(!(0,o.areObjectsEqual)(r,t.credential))throw new i.AriesFrameworkError("Received credential does not match credential request")}supportsFormat(e){let t=[p,h];return t.includes(e)}async deleteCredentialById(){throw Error("Not implemented.")}async shouldAutoRespondToProposal(e,{offerAttachment:t,proposalAttachment:r}){return this.areCredentialsEqual(r,t)}async shouldAutoRespondToOffer(e,{offerAttachment:t,proposalAttachment:r}){return this.areCredentialsEqual(r,t)}async shouldAutoRespondToRequest(e,{offerAttachment:t,requestAttachment:r}){return this.areCredentialsEqual(t,r)}async shouldAutoRespondToCredential(e,{requestAttachment:t,credentialAttachment:r}){let n=r.getDataAsJson(),i=a.JsonTransformer.fromJSON(n,c.W3cJsonLdVerifiableCredential),o=t.getDataAsJson();try{return this.verifyReceivedCredentialMatchesRequest(i,o),!0}catch(e){return!1}}getFormatData(e,t){let r=new n.Attachment({id:t,mimeType:"application/json",data:new n.AttachmentData({base64:o.JsonEncoder.toBase64(e)})});return r}}t.JsonLdCredentialFormatService=y},13582:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65228),t),i(r(26694),t),i(r(58578),t),i(r(36363),t)},75954:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(27351),t),i(r(52494),t),i(r(62047),t),i(r(35539),t),i(r(61411),t),i(r(41386),t),i(r(69112),t),i(r(36671),t),i(r(78308),t)},40509:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoAcceptCredential=void 0,(r=t.AutoAcceptCredential||(t.AutoAcceptCredential={})).Always="always",r.ContentApproved="contentApproved",r.Never="never"},13799:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialFormatSpec=void 0;let o=r(5902),a=r(56988),s=r(15169);class l{constructor(e){var t;e&&(this.attachmentId=null!==(t=e.attachmentId)&&void 0!==t?t:(0,s.uuid)(),this.format=e.format)}}n([(0,o.Expose)({name:"attach_id"}),(0,a.IsString)(),i("design:type",String)],l.prototype,"attachmentId",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"format",void 0),t.CredentialFormatSpec=l},28083:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialPreviewAttribute=void 0;let o=r(5902),a=r(56988),s=r(9905);class l{constructor(e){this.mimeType="text/plain",e&&(this.name=e.name,this.mimeType=e.mimeType,this.value=e.value)}toJSON(){return s.JsonTransformer.toJSON(this)}}n([(0,a.IsString)(),i("design:type",String)],l.prototype,"name",void 0),n([(0,o.Expose)({name:"mime-type"}),(0,a.IsOptional)(),(0,a.IsMimeType)(),i("design:type",String)],l.prototype,"mimeType",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"value",void 0),t.CredentialPreviewAttribute=l},45641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialProblemReportReason=void 0,(t.CredentialProblemReportReason||(t.CredentialProblemReportReason={})).IssuanceAbandoned="issuance-abandoned"},94486:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialState=void 0,(r=t.CredentialState||(t.CredentialState={})).ProposalSent="proposal-sent",r.ProposalReceived="proposal-received",r.OfferSent="offer-sent",r.OfferReceived="offer-received",r.Declined="declined",r.RequestSent="request-sent",r.RequestReceived="request-received",r.CredentialIssued="credential-issued",r.CredentialReceived="credential-received",r.Done="done",r.Abandoned="abandoned"},67520:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RevocationNotification=void 0;class r{constructor(e,t=new Date){this.revocationDate=t,this.comment=e}}t.RevocationNotification=r},61411:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67520),t),i(r(28083),t),i(r(40509),t),i(r(13799),t),i(r(94486),t),i(r(45641),t)},39495:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCredentialProtocol=void 0;let n=r(26852),i=r(90944),o=r(35539),a=r(94486),s=r(62047);class l{async processProblemReport(e){let{message:t,agentContext:r}=e,n=e.assertReadyConnection();r.config.logger.debug(`Processing problem report with message id ${t.id}`);let i=await this.getByThreadAndConnectionId(r,t.threadId,n.id);return i.errorMessage=`${t.description.code}: ${t.description.en}`,await this.updateState(r,i,a.CredentialState.Abandoned),i}async updateState(e,t,r){let n=e.dependencyManager.resolve(s.CredentialRepository);e.config.logger.debug(`Updating credential record ${t.id} to state ${r} (previous=${t.state})`);let i=t.state;t.state=r,await n.update(e,t),this.emitStateChangedEvent(e,t,i)}emitStateChangedEvent(e,t,r){let i=e.dependencyManager.resolve(n.EventEmitter);i.emit(e,{type:o.CredentialEventTypes.CredentialStateChanged,payload:{credentialRecord:t.clone(),previousState:r}})}getById(e,t){let r=e.dependencyManager.resolve(s.CredentialRepository);return r.getById(e,t)}getAll(e){let t=e.dependencyManager.resolve(s.CredentialRepository);return t.getAll(e)}async findAllByQuery(e,t){let r=e.dependencyManager.resolve(s.CredentialRepository);return r.findByQuery(e,t)}findById(e,t){let r=e.dependencyManager.resolve(s.CredentialRepository);return r.findById(e,t)}async delete(e,t,r){var n,o;let a=e.dependencyManager.resolve(s.CredentialRepository),l=e.dependencyManager.resolve(i.DidCommMessageRepository);await a.delete(e,t);let c=null===(n=null==r?void 0:r.deleteAssociatedCredentials)||void 0===n||n,u=null===(o=null==r?void 0:r.deleteAssociatedDidCommMessages)||void 0===o||o;if(c)for(let r of t.credentials){let t=this.getFormatServiceForRecordType(r.credentialRecordType);await t.deleteCredentialById(e,r.credentialRecordId)}if(u){let r=await l.findByQuery(e,{associatedRecordId:t.id});for(let t of r)await l.delete(e,t)}}getByThreadAndConnectionId(e,t,r){let n=e.dependencyManager.resolve(s.CredentialRepository);return n.getSingleByQuery(e,{connectionId:r,threadId:t})}findByThreadAndConnectionId(e,t,r){let n=e.dependencyManager.resolve(s.CredentialRepository);return n.findSingleByQuery(e,{connectionId:r,threadId:t})}async update(e,t){let r=e.dependencyManager.resolve(s.CredentialRepository);return await r.update(e,t)}}t.BaseCredentialProtocol=l},46505:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},69112:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialProtocolOptions=t.BaseCredentialProtocol=void 0,o(r(22948),t),o(r(75374),t);let s=a(r(46505));t.CredentialProtocolOptions=s;var l=r(39495);Object.defineProperty(t,"BaseCredentialProtocol",{enumerable:!0,get:function(){return l.BaseCredentialProtocol}})},55374:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V1RevocationNotificationHandler=void 0;let n=r(35807);class i{constructor(e){this.supportedMessages=[n.V1RevocationNotificationMessage],this.revocationService=e}async handle(e){await this.revocationService.v1ProcessRevocationNotification(e)}}t.V1RevocationNotificationHandler=i},50080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2RevocationNotificationHandler=void 0;let n=r(16909);class i{constructor(e){this.supportedMessages=[n.V2RevocationNotificationMessage],this.revocationService=e}async handle(e){await this.revocationService.v2ProcessRevocationNotification(e)}}t.V2RevocationNotificationHandler=i},79609:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(55374),t),i(r(50080),t)},75374:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17501),t)},35807:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1RevocationNotificationMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){var t;super(),this.type=c.type.messageTypeUri,e&&(this.issueThread=e.issueThread,this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.pleaseAck=e.pleaseAck)}}c.type=(0,l.parseMessageType)("https://didcomm.org/revocation_notification/1.0/revoke"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],c.prototype,"comment",void 0),n([(0,o.Expose)({name:"thread_id"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"issueThread",void 0),t.V1RevocationNotificationMessage=c},16909:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2RevocationNotificationMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){var t;super(),this.type=c.type.messageTypeUri,e&&(this.revocationFormat=e.revocationFormat,this.credentialId=e.credentialId,this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.pleaseAck=e.pleaseAck)}}c.type=(0,l.parseMessageType)("https://didcomm.org/revocation_notification/2.0/revoke"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],c.prototype,"comment",void 0),n([(0,o.Expose)({name:"revocation_format"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"revocationFormat",void 0),n([(0,o.Expose)({name:"credential_id"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"credentialId",void 0),t.V2RevocationNotificationMessage=c},17501:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(35807),t),i(r(16909),t)},97575:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RevocationNotificationService=void 0;let a=r(26852),s=r(86865),l=r(55090),c=r(32236),u=r(90978),d=r(35539),f=r(67520),p=r(62047),h=r(79609),y=r(10512),g=class{constructor(e,t,r,n){this.credentialRepository=e,this.eventEmitter=t,this.logger=n,this.registerMessageHandlers(r)}async processRevocationNotification(e,t,r,n,i){let o={anonCredsRevocationRegistryId:t,anonCredsCredentialRevocationId:r,connectionId:n.id};this.logger.trace("Getting record by query for revocation notification:",o);let a=await this.credentialRepository.getSingleByQuery(e,o);a.revocationNotification=new f.RevocationNotification(i),await this.credentialRepository.update(e,a),this.logger.trace("Emitting RevocationNotificationReceivedEvent"),this.eventEmitter.emit(e,{type:d.CredentialEventTypes.RevocationNotificationReceived,payload:{credentialRecord:a.clone()}})}async v1ProcessRevocationNotification(e){this.logger.info("Processing revocation notification v1",{message:e.message});let t=e.message.issueThread;try{let r=t.match(y.v1ThreadRegex);if(!r)throw new c.AriesFrameworkError(`Incorrect revocation notification threadId format: 
${t}
does not match
"indy::<revocation_registry_id>::<credential_revocation_id>"`);let[,,n,i]=r,o=e.message.comment,a=e.assertReadyConnection();await this.processRevocationNotification(e.agentContext,n,i,a,o)}catch(e){this.logger.warn("Failed to process revocation notification message",{error:e,threadId:t})}}async v2ProcessRevocationNotification(e){this.logger.info("Processing revocation notification v2",{message:e.message});let t=e.message.credentialId;if(e.message.revocationFormat!==y.v2IndyRevocationFormat)throw new c.AriesFrameworkError(`Unknown revocation format: ${e.message.revocationFormat}. Supported formats are indy-anoncreds`);try{let r=t.match(y.v2IndyRevocationIdentifierRegex);if(!r)throw new c.AriesFrameworkError(`Incorrect revocation notification credentialId format: 
${t}
does not match
"<revocation_registry_id>::<credential_revocation_id>"`);let[,n,i]=r,o=e.message.comment,a=e.assertReadyConnection();await this.processRevocationNotification(e.agentContext,n,i,a,o)}catch(e){this.logger.warn("Failed to process revocation notification message",{error:e,credentialId:t})}}registerMessageHandlers(e){e.registerMessageHandler(new h.V1RevocationNotificationHandler(this)),e.registerMessageHandler(new h.V2RevocationNotificationHandler(this))}};g=n([(0,u.injectable)(),o(3,(0,u.inject)(l.InjectionSymbols.Logger)),i("design:paramtypes",[p.CredentialRepository,a.EventEmitter,s.MessageHandlerRegistry,Object])],g),t.RevocationNotificationService=g},2785:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(97575),t)},10512:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.v2IndyRevocationFormat=t.v2IndyRevocationIdentifierRegex=t.v1ThreadRegex=void 0,t.v1ThreadRegex=/(indy)::((?:[\dA-z]{21,22}):4:(?:[\dA-z]{21,22}):3:[Cc][Ll]:(?:(?:[1-9][0-9]*)|(?:[\dA-z]{21,22}:2:.+:[0-9.]+)):.+?:CL_ACCUM:(?:[\dA-z-]+))::(\d+)$/,t.v2IndyRevocationIdentifierRegex=/((?:[\dA-z]{21,22}):4:(?:[\dA-z]{21,22}):3:[Cc][Ll]:(?:(?:[1-9][0-9]*)|(?:[\dA-z]{21,22}:2:.+:[0-9.]+)):.+?:CL_ACCUM:(?:[\dA-z-]+))::(\d+)$/,t.v2IndyRevocationFormat="indy-anoncreds"},47262:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialFormatCoordinator=void 0;let n=r(32236),i=r(90944),o=r(10616);class a{async createProposal(e,{credentialFormats:t,formatServices:r,credentialRecord:n,comment:a}){let s;let l=e.dependencyManager.resolve(i.DidCommMessageRepository),c=[],u=[];for(let i of r){let{format:r,attachment:a,previewAttributes:l}=await i.createProposal(e,{credentialFormats:t,credentialRecord:n});l&&(s=new o.V2CredentialPreview({attributes:l})),u.push(a),c.push(r)}n.credentialAttributes=null==s?void 0:s.attributes;let d=new o.V2ProposeCredentialMessage({id:n.threadId,formats:c,proposalAttachments:u,comment:a,credentialPreview:s});return d.setThread({threadId:n.threadId,parentThreadId:n.parentThreadId}),await l.saveOrUpdateAgentMessage(e,{agentMessage:d,role:i.DidCommMessageRole.Sender,associatedRecordId:n.id}),d}async processProposal(e,{credentialRecord:t,message:r,formatServices:n}){let o=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of n){let n=this.getAttachmentForService(i,r.formats,r.proposalAttachments);await i.processProposal(e,{attachment:n,credentialRecord:t})}await o.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}async acceptProposal(e,{credentialRecord:t,credentialFormats:r,formatServices:n,comment:a}){var s;let l;let c=e.dependencyManager.resolve(i.DidCommMessageRepository),u=[],d=[],f=await c.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2ProposeCredentialMessage});for(let i of(t.credentialAttributes=null===(s=f.credentialPreview)||void 0===s?void 0:s.attributes,n)){let n=this.getAttachmentForService(i,f.formats,f.proposalAttachments),{attachment:a,format:s,previewAttributes:c}=await i.acceptProposal(e,{credentialRecord:t,credentialFormats:r,proposalAttachment:n});c&&(l=new o.V2CredentialPreview({attributes:c})),d.push(a),u.push(s)}t.credentialAttributes=null==l?void 0:l.attributes,l||(l=new o.V2CredentialPreview({attributes:[]}));let p=new o.V2OfferCredentialMessage({formats:u,credentialPreview:l,offerAttachments:d,comment:a});return p.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),await c.saveOrUpdateAgentMessage(e,{agentMessage:p,associatedRecordId:t.id,role:i.DidCommMessageRole.Sender}),p}async createOffer(e,{credentialFormats:t,formatServices:r,credentialRecord:n,comment:a}){let s;let l=e.dependencyManager.resolve(i.DidCommMessageRepository),c=[],u=[];for(let i of r){let{format:r,attachment:a,previewAttributes:l}=await i.createOffer(e,{credentialFormats:t,credentialRecord:n});l&&(s=new o.V2CredentialPreview({attributes:l})),u.push(a),c.push(r)}n.credentialAttributes=null==s?void 0:s.attributes,s||(s=new o.V2CredentialPreview({attributes:[]}));let d=new o.V2OfferCredentialMessage({formats:c,comment:a,offerAttachments:u,credentialPreview:s});return d.setThread({threadId:n.threadId,parentThreadId:n.parentThreadId}),await l.saveOrUpdateAgentMessage(e,{agentMessage:d,role:i.DidCommMessageRole.Sender,associatedRecordId:n.id}),d}async processOffer(e,{credentialRecord:t,message:r,formatServices:n}){let o=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of n){let n=this.getAttachmentForService(i,r.formats,r.offerAttachments);await i.processOffer(e,{attachment:n,credentialRecord:t})}await o.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}async acceptOffer(e,{credentialRecord:t,credentialFormats:r,formatServices:n,comment:a}){var s;let l=e.dependencyManager.resolve(i.DidCommMessageRepository),c=await l.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2OfferCredentialMessage}),u=[],d=[];for(let i of n){let n=this.getAttachmentForService(i,c.formats,c.offerAttachments),{attachment:o,format:a}=await i.acceptOffer(e,{offerAttachment:n,credentialRecord:t,credentialFormats:r});d.push(o),u.push(a)}t.credentialAttributes=null===(s=c.credentialPreview)||void 0===s?void 0:s.attributes;let f=new o.V2RequestCredentialMessage({formats:u,requestAttachments:d,comment:a});return f.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),await l.saveOrUpdateAgentMessage(e,{agentMessage:f,associatedRecordId:t.id,role:i.DidCommMessageRole.Sender}),f}async createRequest(e,{credentialFormats:t,formatServices:r,credentialRecord:n,comment:a}){let s=e.dependencyManager.resolve(i.DidCommMessageRepository),l=[],c=[];for(let i of r){let{format:r,attachment:o}=await i.createRequest(e,{credentialFormats:t,credentialRecord:n});c.push(o),l.push(r)}let u=new o.V2RequestCredentialMessage({formats:l,comment:a,requestAttachments:c});return u.setThread({threadId:n.threadId,parentThreadId:n.parentThreadId}),await s.saveOrUpdateAgentMessage(e,{agentMessage:u,role:i.DidCommMessageRole.Sender,associatedRecordId:n.id}),u}async processRequest(e,{credentialRecord:t,message:r,formatServices:n}){let o=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of n){let n=this.getAttachmentForService(i,r.formats,r.requestAttachments);await i.processRequest(e,{attachment:n,credentialRecord:t})}await o.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}async acceptRequest(e,{credentialRecord:t,credentialFormats:r,formatServices:n,comment:a}){let s=e.dependencyManager.resolve(i.DidCommMessageRepository),l=await s.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2RequestCredentialMessage}),c=await s.findAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2OfferCredentialMessage}),u=[],d=[];for(let i of n){let n=this.getAttachmentForService(i,l.formats,l.requestAttachments),o=c?this.getAttachmentForService(i,c.formats,c.offerAttachments):void 0,{attachment:a,format:s}=await i.acceptRequest(e,{requestAttachment:n,offerAttachment:o,credentialRecord:t,credentialFormats:r});d.push(a),u.push(s)}let f=new o.V2IssueCredentialMessage({formats:u,credentialAttachments:d,comment:a});return f.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),f.setPleaseAck(),await s.saveOrUpdateAgentMessage(e,{agentMessage:f,associatedRecordId:t.id,role:i.DidCommMessageRole.Sender}),f}async processCredential(e,{credentialRecord:t,message:r,requestMessage:n,formatServices:o}){let a=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of o){let o=this.getAttachmentForService(i,r.formats,r.credentialAttachments),a=this.getAttachmentForService(i,n.formats,n.requestAttachments);await i.processCredential(e,{attachment:o,requestAttachment:a,credentialRecord:t})}await a.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}getAttachmentForService(e,t,r){let i=this.getAttachmentIdForService(e,t),o=r.find(e=>e.id===i);if(!o)throw new n.AriesFrameworkError(`Attachment with id ${i} not found in attachments.`);return o}getAttachmentIdForService(e,t){let r=t.find(t=>e.supportsFormat(t.format));if(!r)throw new n.AriesFrameworkError(`No attachment found for service ${e.formatKey}`);return r.attachmentId}}t.CredentialFormatCoordinator=a},38106:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialProtocol=void 0;let n=r(70620),i=r(99997),o=r(90944),a=r(15169),s=r(70347),l=r(52560),c=r(78308),u=r(61411),d=r(62047),f=r(63782),p=r(1847),h=r(39495),y=r(47262),g=r(45293),v=r(62796),m=r(10616);class b extends h.BaseCredentialProtocol{constructor({credentialFormats:e}){super(),this.credentialFormatCoordinator=new y.CredentialFormatCoordinator,this.version="v2",this.credentialFormats=e}register(e,t){e.registerMessageHandlers([new g.V2ProposeCredentialHandler(this),new g.V2OfferCredentialHandler(this),new g.V2RequestCredentialHandler(this),new g.V2IssueCredentialHandler(this),new g.V2CredentialAckHandler(this),new v.V2CredentialProblemReportHandler(this)]),t.register(new n.Protocol({id:"https://didcomm.org/issue-credential/2.0",roles:["holder","issuer"]}))}async createProposal(e,{connectionRecord:t,credentialFormats:r,comment:n,autoAcceptCredential:o}){e.config.logger.debug("Get the Format Service and Create Proposal Message");let s=e.dependencyManager.resolve(d.CredentialRepository),l=this.getFormatServices(r);if(0===l.length)throw new i.AriesFrameworkError("Unable to create proposal. No supported formats");let c=new d.CredentialExchangeRecord({connectionId:t.id,threadId:(0,a.uuid)(),state:u.CredentialState.ProposalSent,autoAcceptCredential:o,protocolVersion:"v2"}),f=await this.credentialFormatCoordinator.createProposal(e,{credentialFormats:r,credentialRecord:c,formatServices:l,comment:n});return e.config.logger.debug("Save record and emit state change event"),await s.save(e,c),this.emitStateChangedEvent(e,c,null),{credentialRecord:c,message:f}}async processProposal(e){var t;let{message:r,connection:n,agentContext:a}=e;a.config.logger.debug(`Processing credential proposal with id ${r.id}`);let s=a.dependencyManager.resolve(d.CredentialRepository),c=a.dependencyManager.resolve(o.DidCommMessageRepository),f=a.dependencyManager.resolve(l.ConnectionService),p=await this.findByThreadAndConnectionId(e.agentContext,r.threadId,null==n?void 0:n.id),h=this.getFormatServicesFromMessage(r.formats);if(0===h.length)throw new i.AriesFrameworkError("Unable to process proposal. No supported formats");if(!p)return await f.assertConnectionOrOutOfBandExchange(e),p=new d.CredentialExchangeRecord({connectionId:null==n?void 0:n.id,threadId:r.threadId,parentThreadId:null===(t=r.thread)||void 0===t?void 0:t.parentThreadId,state:u.CredentialState.ProposalReceived,protocolVersion:"v2"}),await this.credentialFormatCoordinator.processProposal(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),await s.save(e.agentContext,p),this.emitStateChangedEvent(e.agentContext,p,null),p;{let t=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2ProposeCredentialMessage}),n=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2OfferCredentialMessage});return p.assertProtocolVersion("v2"),p.assertState(u.CredentialState.OfferSent),await f.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:null!=t?t:void 0,lastSentMessage:null!=n?n:void 0}),await this.credentialFormatCoordinator.processProposal(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),await this.updateState(e.agentContext,p,u.CredentialState.ProposalReceived),p}}async acceptProposal(e,{credentialRecord:t,credentialFormats:r,autoAcceptCredential:n,comment:a}){t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.ProposalReceived);let s=e.dependencyManager.resolve(o.DidCommMessageRepository),l=this.getFormatServices(null!=r?r:{});if(0===l.length){let r=await s.getAgentMessage(e,{associatedRecordId:t.id,messageClass:m.V2ProposeCredentialMessage});l=this.getFormatServicesFromMessage(r.formats)}if(0===l.length)throw new i.AriesFrameworkError("Unable to accept proposal. No supported formats provided as input or in proposal message");let c=await this.credentialFormatCoordinator.acceptProposal(e,{credentialRecord:t,formatServices:l,comment:a,credentialFormats:r});return t.autoAcceptCredential=null!=n?n:t.autoAcceptCredential,await this.updateState(e,t,u.CredentialState.OfferSent),{credentialRecord:t,message:c}}async negotiateProposal(e,{credentialRecord:t,credentialFormats:r,autoAcceptCredential:n,comment:o}){if(t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.ProposalReceived),!t.connectionId)throw new i.AriesFrameworkError(`No connectionId found for credential record '${t.id}'. Connection-less issuance does not support negotiation.`);let a=this.getFormatServices(r);if(0===a.length)throw new i.AriesFrameworkError("Unable to create offer. No supported formats");let s=await this.credentialFormatCoordinator.createOffer(e,{formatServices:a,credentialFormats:r,credentialRecord:t,comment:o});return t.autoAcceptCredential=null!=n?n:t.autoAcceptCredential,await this.updateState(e,t,u.CredentialState.OfferSent),{credentialRecord:t,message:s}}async createOffer(e,{credentialFormats:t,autoAcceptCredential:r,comment:n,connectionRecord:o}){let s=e.dependencyManager.resolve(d.CredentialRepository),l=this.getFormatServices(t);if(0===l.length)throw new i.AriesFrameworkError("Unable to create offer. No supported formats");let c=new d.CredentialExchangeRecord({connectionId:null==o?void 0:o.id,threadId:(0,a.uuid)(),state:u.CredentialState.OfferSent,autoAcceptCredential:r,protocolVersion:"v2"}),f=await this.credentialFormatCoordinator.createOffer(e,{formatServices:l,credentialFormats:t,credentialRecord:c,comment:n});return e.config.logger.debug(`Saving record and emitting state changed for credential exchange record ${c.id}`),await s.save(e,c),this.emitStateChangedEvent(e,c,null),{credentialRecord:c,message:f}}async processOffer(e){var t;let{message:r,connection:n,agentContext:a}=e;a.config.logger.debug(`Processing credential offer with id ${r.id}`);let s=a.dependencyManager.resolve(d.CredentialRepository),c=a.dependencyManager.resolve(o.DidCommMessageRepository),f=a.dependencyManager.resolve(l.ConnectionService),p=await this.findByThreadAndConnectionId(e.agentContext,r.threadId,null==n?void 0:n.id),h=this.getFormatServicesFromMessage(r.formats);if(0===h.length)throw new i.AriesFrameworkError("Unable to process offer. No supported formats");if(!p)return await f.assertConnectionOrOutOfBandExchange(e),a.config.logger.debug("No credential record found for offer, creating a new one"),p=new d.CredentialExchangeRecord({connectionId:null==n?void 0:n.id,threadId:r.threadId,parentThreadId:null===(t=r.thread)||void 0===t?void 0:t.parentThreadId,state:u.CredentialState.OfferReceived,protocolVersion:"v2"}),await this.credentialFormatCoordinator.processOffer(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),a.config.logger.debug("Saving credential record and emit offer-received event"),await s.save(e.agentContext,p),this.emitStateChangedEvent(e.agentContext,p,null),p;{let t=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2ProposeCredentialMessage}),n=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2OfferCredentialMessage});return p.assertProtocolVersion("v2"),p.assertState(u.CredentialState.ProposalSent),await f.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:null!=n?n:void 0,lastSentMessage:null!=t?t:void 0}),await this.credentialFormatCoordinator.processOffer(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),await this.updateState(e.agentContext,p,u.CredentialState.OfferReceived),p}}async acceptOffer(e,{credentialRecord:t,autoAcceptCredential:r,comment:n,credentialFormats:a}){let s=e.dependencyManager.resolve(o.DidCommMessageRepository);t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.OfferReceived);let l=this.getFormatServices(null!=a?a:{});if(0===l.length){let r=await s.getAgentMessage(e,{associatedRecordId:t.id,messageClass:m.V2OfferCredentialMessage});l=this.getFormatServicesFromMessage(r.formats)}if(0===l.length)throw new i.AriesFrameworkError("Unable to accept offer. No supported formats provided as input or in offer message");let c=await this.credentialFormatCoordinator.acceptOffer(e,{credentialRecord:t,formatServices:l,comment:n,credentialFormats:a});return t.autoAcceptCredential=null!=r?r:t.autoAcceptCredential,await this.updateState(e,t,u.CredentialState.RequestSent),{credentialRecord:t,message:c}}async negotiateOffer(e,{credentialRecord:t,credentialFormats:r,autoAcceptCredential:n,comment:o}){if(t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.OfferReceived),!t.connectionId)throw new i.AriesFrameworkError(`No connectionId found for credential record '${t.id}'. Connection-less issuance does not support negotiation.`);let a=this.getFormatServices(r);if(0===a.length)throw new i.AriesFrameworkError("Unable to create proposal. No supported formats");let s=await this.credentialFormatCoordinator.createProposal(e,{formatServices:a,credentialFormats:r,credentialRecord:t,comment:o});return t.autoAcceptCredential=null!=n?n:t.autoAcceptCredential,await this.updateState(e,t,u.CredentialState.ProposalSent),{credentialRecord:t,message:s}}async createRequest(e,{credentialFormats:t,autoAcceptCredential:r,comment:n,connectionRecord:o}){let s=e.dependencyManager.resolve(d.CredentialRepository),l=this.getFormatServices(t);if(0===l.length)throw new i.AriesFrameworkError("Unable to create request. No supported formats");let c=new d.CredentialExchangeRecord({connectionId:o.id,threadId:(0,a.uuid)(),state:u.CredentialState.RequestSent,autoAcceptCredential:r,protocolVersion:"v2"}),f=await this.credentialFormatCoordinator.createRequest(e,{formatServices:l,credentialFormats:t,credentialRecord:c,comment:n});return e.config.logger.debug(`Saving record and emitting state changed for credential exchange record ${c.id}`),await s.save(e,c),this.emitStateChangedEvent(e,c,null),{credentialRecord:c,message:f}}async processRequest(e){var t;let{message:r,connection:n,agentContext:a}=e,s=a.dependencyManager.resolve(d.CredentialRepository),c=a.dependencyManager.resolve(o.DidCommMessageRepository),f=a.dependencyManager.resolve(l.ConnectionService);a.config.logger.debug(`Processing credential request with id ${r.id}`);let p=await this.findByThreadAndConnectionId(e.agentContext,r.threadId),h=this.getFormatServicesFromMessage(r.formats);if(0===h.length)throw new i.AriesFrameworkError("Unable to process request. No supported formats");if(!p)return await f.assertConnectionOrOutOfBandExchange(e),a.config.logger.debug("No credential record found for request, creating a new one"),p=new d.CredentialExchangeRecord({connectionId:null==n?void 0:n.id,threadId:r.threadId,parentThreadId:null===(t=r.thread)||void 0===t?void 0:t.parentThreadId,state:u.CredentialState.RequestReceived,protocolVersion:"v2"}),await this.credentialFormatCoordinator.processRequest(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),a.config.logger.debug("Saving credential record and emit request-received event"),await s.save(e.agentContext,p),this.emitStateChangedEvent(e.agentContext,p,null),p;{let t=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2ProposeCredentialMessage}),i=await c.findAgentMessage(e.agentContext,{associatedRecordId:p.id,messageClass:m.V2OfferCredentialMessage});return p.assertProtocolVersion("v2"),p.assertState(u.CredentialState.OfferSent),await f.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:null!=t?t:void 0,lastSentMessage:null!=i?i:void 0}),p.connectionId||(await f.matchIncomingMessageToRequestMessageInOutOfBandExchange(e,{expectedConnectionId:p.connectionId}),p.connectionId=null==n?void 0:n.id),await this.credentialFormatCoordinator.processRequest(e.agentContext,{credentialRecord:p,formatServices:h,message:r}),await this.updateState(e.agentContext,p,u.CredentialState.RequestReceived),p}}async acceptRequest(e,{credentialRecord:t,autoAcceptCredential:r,comment:n,credentialFormats:a}){let s=e.dependencyManager.resolve(o.DidCommMessageRepository);t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.RequestReceived);let l=this.getFormatServices(null!=a?a:{});if(0===l.length){let r=await s.getAgentMessage(e,{associatedRecordId:t.id,messageClass:m.V2RequestCredentialMessage});l=this.getFormatServicesFromMessage(r.formats)}if(0===l.length)throw new i.AriesFrameworkError("Unable to accept request. No supported formats provided as input or in request message");let c=await this.credentialFormatCoordinator.acceptRequest(e,{credentialRecord:t,formatServices:l,comment:n,credentialFormats:a});return t.autoAcceptCredential=null!=r?r:t.autoAcceptCredential,await this.updateState(e,t,u.CredentialState.CredentialIssued),{credentialRecord:t,message:c}}async processCredential(e){let{message:t,connection:r,agentContext:n}=e,a=n.dependencyManager.resolve(o.DidCommMessageRepository),s=n.dependencyManager.resolve(l.ConnectionService);n.config.logger.debug(`Processing credential with id ${t.id}`);let c=await this.getByThreadAndConnectionId(e.agentContext,t.threadId,null==r?void 0:r.id),d=await a.getAgentMessage(e.agentContext,{associatedRecordId:c.id,messageClass:m.V2RequestCredentialMessage}),f=await a.findAgentMessage(e.agentContext,{associatedRecordId:c.id,messageClass:m.V2OfferCredentialMessage});c.assertProtocolVersion("v2"),c.assertState(u.CredentialState.RequestSent),await s.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:null!=f?f:void 0,lastSentMessage:d});let p=this.getFormatServicesFromMessage(t.formats);if(0===p.length)throw new i.AriesFrameworkError("Unable to process credential. No supported formats");return await this.credentialFormatCoordinator.processCredential(e.agentContext,{credentialRecord:c,formatServices:p,requestMessage:d,message:t}),await this.updateState(e.agentContext,c,u.CredentialState.CredentialReceived),c}async acceptCredential(e,{credentialRecord:t}){t.assertProtocolVersion("v2"),t.assertState(u.CredentialState.CredentialReceived);let r=new m.V2CredentialAckMessage({status:s.AckStatus.OK,threadId:t.threadId});return r.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),await this.updateState(e,t,u.CredentialState.Done),{message:r,credentialRecord:t}}async processAck(e){let{message:t,connection:r,agentContext:n}=e;n.config.logger.debug(`Processing credential ack with id ${t.id}`);let i=n.dependencyManager.resolve(o.DidCommMessageRepository),a=n.dependencyManager.resolve(l.ConnectionService),s=await this.getByThreadAndConnectionId(e.agentContext,t.threadId,null==r?void 0:r.id);s.connectionId=null==r?void 0:r.id;let c=await i.getAgentMessage(e.agentContext,{associatedRecordId:s.id,messageClass:m.V2RequestCredentialMessage}),d=await i.getAgentMessage(e.agentContext,{associatedRecordId:s.id,messageClass:m.V2IssueCredentialMessage});return s.assertProtocolVersion("v2"),s.assertState(u.CredentialState.CredentialIssued),await a.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:c,lastSentMessage:d}),await this.updateState(e.agentContext,s,u.CredentialState.Done),s}async createProblemReport(e,{credentialRecord:t,description:r}){let n=new m.V2CredentialProblemReportMessage({description:{en:r,code:u.CredentialProblemReportReason.IssuanceAbandoned}});return n.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),{credentialRecord:t,message:n}}async shouldAutoRespondToProposal(e,t){let{credentialRecord:r,proposalMessage:n}=t,i=e.dependencyManager.resolve(c.CredentialsModuleConfig),o=(0,f.composeAutoAccept)(r.autoAcceptCredential,i.autoAcceptCredentials);if(o===u.AutoAcceptCredential.Always)return!0;if(o===u.AutoAcceptCredential.Never)return!1;let a=await this.findOfferMessage(e,r.id);if(!a)return!1;let s=this.getFormatServicesFromMessage(a.formats);for(let t of s){let i=this.credentialFormatCoordinator.getAttachmentForService(t,a.formats,a.offerAttachments),o=this.credentialFormatCoordinator.getAttachmentForService(t,n.formats,n.proposalAttachments),s=await t.shouldAutoRespondToProposal(e,{credentialRecord:r,offerAttachment:i,proposalAttachment:o});if(!s)return!1}return!n.credentialPreview&&!a.credentialPreview||!!n.credentialPreview&&!!a.credentialPreview&&(0,p.arePreviewAttributesEqual)(n.credentialPreview.attributes,a.credentialPreview.attributes)}async shouldAutoRespondToOffer(e,t){var r,n,i,o;let{credentialRecord:a,offerMessage:s}=t,l=e.dependencyManager.resolve(c.CredentialsModuleConfig),d=(0,f.composeAutoAccept)(a.autoAcceptCredential,l.autoAcceptCredentials);if(d===u.AutoAcceptCredential.Always)return!0;if(d===u.AutoAcceptCredential.Never)return!1;let h=await this.findProposalMessage(e,a.id);if(!h)return!1;let y=this.getFormatServicesFromMessage(h.formats);for(let t of y){let r=this.credentialFormatCoordinator.getAttachmentForService(t,s.formats,s.offerAttachments),n=this.credentialFormatCoordinator.getAttachmentForService(t,h.formats,h.proposalAttachments),i=await t.shouldAutoRespondToOffer(e,{credentialRecord:a,offerAttachment:r,proposalAttachment:n});if(!i)return!1}return!h.credentialPreview&&!s.credentialPreview||(0,p.arePreviewAttributesEqual)(null!==(n=null===(r=h.credentialPreview)||void 0===r?void 0:r.attributes)&&void 0!==n?n:[],null!==(o=null===(i=s.credentialPreview)||void 0===i?void 0:i.attributes)&&void 0!==o?o:[])}async shouldAutoRespondToRequest(e,t){let{credentialRecord:r,requestMessage:n}=t,i=e.dependencyManager.resolve(c.CredentialsModuleConfig),o=(0,f.composeAutoAccept)(r.autoAcceptCredential,i.autoAcceptCredentials);if(o===u.AutoAcceptCredential.Always)return!0;if(o===u.AutoAcceptCredential.Never)return!1;let a=await this.findProposalMessage(e,r.id),s=await this.findOfferMessage(e,r.id);if(!s)return!1;let l=this.getFormatServicesFromMessage(s.formats);for(let t of l){let i=this.credentialFormatCoordinator.getAttachmentForService(t,s.formats,s.offerAttachments),o=a?this.credentialFormatCoordinator.getAttachmentForService(t,a.formats,a.proposalAttachments):void 0,l=this.credentialFormatCoordinator.getAttachmentForService(t,n.formats,n.requestAttachments),c=await t.shouldAutoRespondToRequest(e,{credentialRecord:r,offerAttachment:i,requestAttachment:l,proposalAttachment:o});if(!c)return!1}return!0}async shouldAutoRespondToCredential(e,t){let{credentialRecord:r,credentialMessage:n}=t,i=e.dependencyManager.resolve(c.CredentialsModuleConfig),o=(0,f.composeAutoAccept)(r.autoAcceptCredential,i.autoAcceptCredentials);if(o===u.AutoAcceptCredential.Always)return!0;if(o===u.AutoAcceptCredential.Never)return!1;let a=await this.findProposalMessage(e,r.id),s=await this.findOfferMessage(e,r.id),l=await this.findRequestMessage(e,r.id);if(!l)return!1;let d=this.getFormatServicesFromMessage(l.formats);for(let t of d){let i=s?this.credentialFormatCoordinator.getAttachmentForService(t,s.formats,s.offerAttachments):void 0,o=a?this.credentialFormatCoordinator.getAttachmentForService(t,a.formats,a.proposalAttachments):void 0,c=this.credentialFormatCoordinator.getAttachmentForService(t,l.formats,l.requestAttachments),u=this.credentialFormatCoordinator.getAttachmentForService(t,n.formats,n.credentialAttachments),d=await t.shouldAutoRespondToCredential(e,{credentialRecord:r,offerAttachment:i,credentialAttachment:u,requestAttachment:c,proposalAttachment:o});if(!d)return!1}return!0}async findProposalMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return r.findAgentMessage(e,{associatedRecordId:t,messageClass:m.V2ProposeCredentialMessage})}async findOfferMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:m.V2OfferCredentialMessage})}async findRequestMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:m.V2RequestCredentialMessage})}async findCredentialMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:m.V2IssueCredentialMessage})}async getFormatData(e,t){var r,n;let[i,o,a,s]=await Promise.all([this.findProposalMessage(e,t),this.findOfferMessage(e,t),this.findRequestMessage(e,t),this.findCredentialMessage(e,t)]),l={proposal:[null==i?void 0:i.formats,null==i?void 0:i.proposalAttachments],offer:[null==o?void 0:o.formats,null==o?void 0:o.offerAttachments],request:[null==a?void 0:a.formats,null==a?void 0:a.requestAttachments],credential:[null==s?void 0:s.formats,null==s?void 0:s.credentialAttachments]},c={proposalAttributes:null===(r=null==i?void 0:i.credentialPreview)||void 0===r?void 0:r.attributes,offerAttributes:null===(n=null==o?void 0:o.credentialPreview)||void 0===n?void 0:n.attributes};for(let[e,[t,r]]of Object.entries(l)){if(!t||!r)continue;let n=this.getFormatServicesFromMessage(t),i={};for(let e of n){let n=this.credentialFormatCoordinator.getAttachmentForService(e,t,r);i[e.formatKey]=n.getDataAsJson()}c[e]=i}return c}getFormatServicesFromMessage(e){let t=new Set;for(let r of e){let e=this.getFormatServiceForFormat(r.format);e&&t.add(e)}return Array.from(t)}getFormatServices(e){let t=new Set;for(let r of Object.keys(e)){let e=this.getFormatServiceForFormatKey(r);e&&t.add(e)}return Array.from(t)}getFormatServiceForFormatKey(e){let t=this.credentialFormats.find(t=>t.formatKey===e);return null!=t?t:null}getFormatServiceForFormat(e){let t=this.credentialFormats.find(t=>t.supportsFormat(e));return null!=t?t:null}getFormatServiceForRecordType(e){let t=this.credentialFormats.find(t=>t.credentialRecordType===e);if(!t)throw new i.AriesFrameworkError(`No format service found for credential record type ${e} in v2 credential protocol`);return t}}t.V2CredentialProtocol=b},65416:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialProblemReportError=void 0;let n=r(8186),i=r(34152);class o extends n.ProblemReportError{constructor(e,{problemCode:t}){super(e,{problemCode:t}),this.problemReport=new i.V2CredentialProblemReportMessage({description:{en:e,code:t}})}}t.V2CredentialProblemReportError=o},22946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialProblemReportError=void 0;var n=r(65416);Object.defineProperty(t,"V2CredentialProblemReportError",{enumerable:!0,get:function(){return n.V2CredentialProblemReportError}})},46186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialAckHandler=void 0;let n=r(6792);class i{constructor(e){this.supportedMessages=[n.V2CredentialAckMessage],this.credentialProtocol=e}async handle(e){await this.credentialProtocol.processAck(e)}}t.V2CredentialAckHandler=i},62796:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialProblemReportHandler=void 0;let n=r(34152);class i{constructor(e){this.supportedMessages=[n.V2CredentialProblemReportMessage],this.credentialProtocol=e}async handle(e){await this.credentialProtocol.processProblemReport(e)}}t.V2CredentialProblemReportHandler=i},59725:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2IssueCredentialHandler=void 0;let n=r(89642),i=r(99997),o=r(49469);class a{constructor(e){this.supportedMessages=[o.V2IssueCredentialMessage],this.credentialProtocol=e}async handle(e){let t=await this.credentialProtocol.processCredential(e),r=await this.credentialProtocol.shouldAutoRespondToCredential(e.agentContext,{credentialRecord:t,credentialMessage:e.message});if(r)return await this.acceptCredential(t,e)}async acceptCredential(e,t){t.agentContext.config.logger.info("Automatically sending acknowledgement with autoAccept");let{message:r}=await this.credentialProtocol.acceptCredential(t.agentContext,{credentialRecord:e}),o=await this.credentialProtocol.findRequestMessage(t.agentContext,e.id);if(!o)throw new i.AriesFrameworkError(`No request message found for credential record with id '${e.id}'`);return(0,n.getOutboundMessageContext)(t.agentContext,{connectionRecord:t.connection,message:r,associatedRecord:e,lastReceivedMessage:t.message,lastSentMessage:o})}}t.V2IssueCredentialHandler=a},62946:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2OfferCredentialHandler=void 0;let n=r(89642),i=r(15511);class o{constructor(e){this.supportedMessages=[i.V2OfferCredentialMessage],this.credentialProtocol=e}async handle(e){let t=await this.credentialProtocol.processOffer(e),r=await this.credentialProtocol.shouldAutoRespondToOffer(e.agentContext,{credentialRecord:t,offerMessage:e.message});if(r)return await this.acceptOffer(t,e)}async acceptOffer(e,t){t.agentContext.config.logger.info("Automatically sending request with autoAccept");let{message:r}=await this.credentialProtocol.acceptOffer(t.agentContext,{credentialRecord:e});return(0,n.getOutboundMessageContext)(t.agentContext,{connectionRecord:t.connection,message:r,associatedRecord:e,lastReceivedMessage:t.message})}}t.V2OfferCredentialHandler=o},56509:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2ProposeCredentialHandler=void 0;let n=r(36849),i=r(98622);class o{constructor(e){this.supportedMessages=[i.V2ProposeCredentialMessage],this.credentialProtocol=e}async handle(e){let t=await this.credentialProtocol.processProposal(e),r=await this.credentialProtocol.shouldAutoRespondToProposal(e.agentContext,{credentialRecord:t,proposalMessage:e.message});if(r)return await this.acceptProposal(t,e)}async acceptProposal(e,t){if(t.agentContext.config.logger.info("Automatically sending offer with autoAccept"),!t.connection){t.agentContext.config.logger.error("No connection on the messageContext, aborting auto accept");return}let{message:r}=await this.credentialProtocol.acceptProposal(t.agentContext,{credentialRecord:e});return new n.OutboundMessageContext(r,{agentContext:t.agentContext,connection:t.connection,associatedRecord:e})}}t.V2ProposeCredentialHandler=o},59975:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2RequestCredentialHandler=void 0;let n=r(89642),i=r(99997),o=r(90089);class a{constructor(e){this.supportedMessages=[o.V2RequestCredentialMessage],this.credentialProtocol=e}async handle(e){let t=await this.credentialProtocol.processRequest(e),r=await this.credentialProtocol.shouldAutoRespondToRequest(e.agentContext,{credentialRecord:t,requestMessage:e.message});if(r)return await this.acceptRequest(t,e)}async acceptRequest(e,t){t.agentContext.config.logger.info("Automatically sending credential with autoAccept");let r=await this.credentialProtocol.findOfferMessage(t.agentContext,e.id);if(!r)throw new i.AriesFrameworkError(`Could not find offer message for credential record with id ${e.id}`);let{message:o}=await this.credentialProtocol.acceptRequest(t.agentContext,{credentialRecord:e});return(0,n.getOutboundMessageContext)(t.agentContext,{connectionRecord:t.connection,message:o,associatedRecord:e,lastReceivedMessage:t.message,lastSentMessage:r})}}t.V2RequestCredentialHandler=a},45293:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46186),t),i(r(59725),t),i(r(62946),t),i(r(56509),t),i(r(59975),t),i(r(62796),t)},22948:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38106),t),i(r(10616),t),i(r(22946),t)},6792:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialAckMessage=void 0;let o=r(51465),a=r(70347);class s extends a.AckMessage{constructor(e){super(e),this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/issue-credential/2.0/ack"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.V2CredentialAckMessage=s},84605:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialPreview=void 0;let o=r(5902),a=r(56988),s=r(9905),l=r(51465),c=r(28083);class u{constructor(e){this.type=u.type.messageTypeUri,e&&(this.attributes=e.attributes.map(e=>new c.CredentialPreviewAttribute(e)))}toJSON(){return s.JsonTransformer.toJSON(this)}static fromRecord(e){let t=Object.entries(e).map(([e,t])=>new c.CredentialPreviewAttribute({name:e,mimeType:"text/plain",value:t}));return new u({attributes:t})}}u.type=(0,l.parseMessageType)("https://didcomm.org/issue-credential/2.0/credential-preview"),n([(0,o.Expose)({name:"@type"}),(0,l.IsValidMessageType)(u.type),(0,o.Transform)(({value:e})=>(0,l.replaceLegacyDidSovPrefix)(e),{toClassOnly:!0}),i("design:type",Object)],u.prototype,"type",void 0),n([(0,o.Type)(()=>c.CredentialPreviewAttribute),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(c.CredentialPreviewAttribute,{each:!0}),i("design:type",Array)],u.prototype,"attributes",void 0),t.V2CredentialPreview=u},34152:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2CredentialProblemReportMessage=void 0;let o=r(51465),a=r(10796);class s extends a.ProblemReportMessage{constructor(e){super(e),this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/issue-credential/2.0/problem-report"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.V2CredentialProblemReportMessage=s},49469:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2IssueCredentialMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(61411);class d extends s.AgentMessage{constructor(e){var t;super(),this.type=d.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.formats=e.formats,this.credentialAttachments=e.credentialAttachments)}getCredentialAttachmentById(e){return this.credentialAttachments.find(t=>t.id===e)}}d.type=(0,c.parseMessageType)("https://didcomm.org/issue-credential/2.0/issue-credential"),n([(0,o.Type)(()=>u.CredentialFormatSpec),(0,a.ValidateNested)(),(0,a.IsArray)(),(0,a.IsInstance)(u.CredentialFormatSpec,{each:!0}),i("design:type",Array)],d.prototype,"formats",void 0),n([(0,c.IsValidMessageType)(d.type),i("design:type",Object)],d.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],d.prototype,"comment",void 0),n([(0,o.Expose)({name:"credentials~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],d.prototype,"credentialAttachments",void 0),t.V2IssueCredentialMessage=d},15511:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2OfferCredentialMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(61411),d=r(84605);class f extends s.AgentMessage{constructor(e){var t;super(),this.type=f.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.formats=e.formats,this.credentialPreview=e.credentialPreview,this.offerAttachments=e.offerAttachments)}getOfferAttachmentById(e){return this.offerAttachments.find(t=>t.id===e)}}f.type=(0,c.parseMessageType)("https://didcomm.org/issue-credential/2.0/offer-credential"),n([(0,o.Type)(()=>u.CredentialFormatSpec),(0,a.ValidateNested)(),(0,a.IsArray)(),(0,a.IsInstance)(u.CredentialFormatSpec,{each:!0}),i("design:type",Array)],f.prototype,"formats",void 0),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"comment",void 0),n([(0,o.Expose)({name:"credential_preview"}),(0,o.Type)(()=>d.V2CredentialPreview),(0,a.ValidateNested)(),(0,a.IsInstance)(d.V2CredentialPreview),i("design:type",d.V2CredentialPreview)],f.prototype,"credentialPreview",void 0),n([(0,o.Expose)({name:"offers~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],f.prototype,"offerAttachments",void 0),n([(0,o.Expose)({name:"replacement_id"}),(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"replacementId",void 0),t.V2OfferCredentialMessage=f},98622:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2ProposeCredentialMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(61411),d=r(84605);class f extends s.AgentMessage{constructor(e){var t;super(),this.type=f.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.credentialPreview=e.credentialPreview,this.formats=e.formats,this.proposalAttachments=e.proposalAttachments,this.appendedAttachments=e.attachments)}getProposalAttachmentById(e){return this.proposalAttachments.find(t=>t.id===e)}}f.type=(0,c.parseMessageType)("https://didcomm.org/issue-credential/2.0/propose-credential"),n([(0,o.Type)(()=>u.CredentialFormatSpec),(0,a.ValidateNested)({each:!0}),(0,a.IsArray)(),(0,a.IsInstance)(u.CredentialFormatSpec,{each:!0}),i("design:type",Array)],f.prototype,"formats",void 0),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,o.Expose)({name:"credential_preview"}),(0,o.Type)(()=>d.V2CredentialPreview),(0,a.ValidateNested)(),(0,a.IsOptional)(),(0,a.IsInstance)(d.V2CredentialPreview),i("design:type",d.V2CredentialPreview)],f.prototype,"credentialPreview",void 0),n([(0,o.Expose)({name:"filters~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],f.prototype,"proposalAttachments",void 0),n([(0,a.IsOptional)(),(0,a.IsString)(),i("design:type",String)],f.prototype,"comment",void 0),t.V2ProposeCredentialMessage=f},90089:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2RequestCredentialMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(61411);class d extends s.AgentMessage{constructor(e){var t;super(),this.type=d.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.comment=e.comment,this.formats=e.formats,this.requestAttachments=e.requestAttachments)}getRequestAttachmentById(e){return this.requestAttachments.find(t=>t.id===e)}}d.type=(0,c.parseMessageType)("https://didcomm.org/issue-credential/2.0/request-credential"),n([(0,o.Type)(()=>u.CredentialFormatSpec),(0,a.ValidateNested)(),(0,a.IsArray)(),(0,a.IsInstance)(u.CredentialFormatSpec,{each:!0}),i("design:type",Array)],d.prototype,"formats",void 0),n([(0,c.IsValidMessageType)(d.type),i("design:type",Object)],d.prototype,"type",void 0),n([(0,o.Expose)({name:"requests~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],d.prototype,"requestAttachments",void 0),n([(0,a.IsOptional)(),(0,a.IsString)(),i("design:type",String)],d.prototype,"comment",void 0),t.V2RequestCredentialMessage=d},10616:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6792),t),i(r(34152),t),i(r(49469),t),i(r(15511),t),i(r(98622),t),i(r(90089),t),i(r(84605),t)},86351:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialExchangeRecord=void 0;let o=r(5902),a=r(22548),s=r(99997),l=r(79493),c=r(15169),u=r(28083);class d extends l.BaseRecord{constructor(e){var t,r,n;super(),this.credentials=[],this.type=d.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,c.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.state=e.state,this.connectionId=e.connectionId,this.threadId=e.threadId,this.parentThreadId=e.parentThreadId,this.protocolVersion=e.protocolVersion,this._tags=null!==(n=e.tags)&&void 0!==n?n:{},this.credentialAttributes=e.credentialAttributes,this.autoAcceptCredential=e.autoAcceptCredential,this.linkedAttachments=e.linkedAttachments,this.revocationNotification=e.revocationNotification,this.errorMessage=e.errorMessage,this.credentials=e.credentials||[])}getTags(){let e=this.credentials.map(e=>e.credentialRecordId);return Object.assign(Object.assign({},this._tags),{threadId:this.threadId,parentThreadId:this.parentThreadId,connectionId:this.connectionId,state:this.state,credentialIds:e})}assertProtocolVersion(e){if(this.protocolVersion!=e)throw new s.AriesFrameworkError(`Credential record has invalid protocol version ${this.protocolVersion}. Expected version ${e}`)}assertState(e){if(Array.isArray(e)||(e=[e]),!e.includes(this.state))throw new s.AriesFrameworkError(`Credential record is in invalid state ${this.state}. Valid states are: ${e.join(", ")}.`)}assertConnection(e){if(this.connectionId){if(this.connectionId!==e)throw new s.AriesFrameworkError(`Credential record is associated with connection '${this.connectionId}'. Current connection is '${e}'`)}else throw new s.AriesFrameworkError("Credential record is not associated with any connection. This is often the case with connection-less credential exchange")}}d.type="CredentialRecord",n([(0,o.Type)(()=>u.CredentialPreviewAttribute),i("design:type",Array)],d.prototype,"credentialAttributes",void 0),n([(0,o.Type)(()=>a.Attachment),i("design:type",Array)],d.prototype,"linkedAttachments",void 0),t.CredentialExchangeRecord=d},63895:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(86351),d=class extends c.Repository{constructor(e,t){super(u.CredentialExchangeRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.CredentialRepository=d},62047:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(86351),t),i(r(63895),t)},63782:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.composeAutoAccept=void 0;let n=r(40509);t.composeAutoAccept=function(e,t){var r;return null!==(r=null!=e?e:t)&&void 0!==r?r:n.AutoAcceptCredential.Never}},1847:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arePreviewAttributesEqual=void 0,t.arePreviewAttributesEqual=function(e,t){if(e.length!==t.length)return!1;let r=t.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:t}),{});if(new Set(e.map(e=>e.name)).size!==e.length||new Set(t.map(e=>e.name)).size!==t.length)return!1;for(let t of e){let e=r[t.name];if(!e||t.value!==e.value||t.mimeType!==e.mimeType)return!1}return!0}},30376:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45062),t),i(r(62265),t)},7996:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommDocumentService=void 0;let o=r(91478),a=r(90978),s=r(83296),l=r(17274),c=r(78278),u=r(84049),d=class{constructor(e){this.didResolverService=e}async resolveServicesFromDid(e,t){var r,n;let i=await this.didResolverService.resolveDidDocument(e,t),a=[],s=(0,l.parseDid)(t).fragment?i.didCommServices.filter(e=>e.id===t):i.didCommServices;for(let t of s)if(t instanceof l.IndyAgentService)a.push({id:t.id,recipientKeys:t.recipientKeys.map(c.verkeyToInstanceOfKey),routingKeys:(null===(r=t.routingKeys)||void 0===r?void 0:r.map(c.verkeyToInstanceOfKey))||[],serviceEndpoint:t.serviceEndpoint});else if(t instanceof l.DidCommV1Service){let r=[];for(let i of null!==(n=t.routingKeys)&&void 0!==n?n:[]){let t=await this.didResolverService.resolveDidDocument(e,i);r.push((0,l.keyReferenceToKey)(t,i))}let s=t.recipientKeys.map(e=>{let t=(0,l.keyReferenceToKey)(i,e);if(t.keyType===o.KeyType.X25519){let e=(0,u.findMatchingEd25519Key)(t,i);if(e)return e}return t});a.push({id:t.id,recipientKeys:s,routingKeys:r,serviceEndpoint:t.serviceEndpoint})}return a}};d=n([(0,a.injectable)(),i("design:paramtypes",[s.DidResolverService])],d),t.DidCommDocumentService=d},62265:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7996),t)},45062:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84049:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMatchingEd25519Key=void 0;let n=r(91478),i=r(83296),o=r(13678);t.findMatchingEd25519Key=function(e,t){var r,a,s;if(e.keyType!==n.KeyType.X25519)return;let l=null!==(r=t.verificationMethod)&&void 0!==r?r:[],c=null!==(a=t.keyAgreement)&&void 0!==a?a:[],u=null!==(s=t.authentication)&&void 0!==s?s:[],d=[...l,...u.filter(e=>"string"!=typeof e),...c.filter(e=>"string"!=typeof e)];return d.map(e=>(0,i.keyReferenceToKey)(t,e.id)).filter(e=>(null==e?void 0:e.keyType)===n.KeyType.Ed25519).find(t=>{let r=n.Key.fromPublicKey((0,o.convertPublicKeyToX25519)(t.publicKey),n.KeyType.X25519);return r.publicKeyBase58===e.publicKeyBase58})}},6555:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidsApi=void 0;let o=r(77858),a=r(99997),s=r(90978),l=r(79102),c=r(14945),u=r(38974),d=r(33314),f=class{constructor(e,t,r,n,i){this.didResolverService=e,this.didRegistrarService=t,this.didRepository=r,this.agentContext=n,this.config=i}resolve(e,t){return this.didResolverService.resolve(this.agentContext,e,t)}create(e){return this.didRegistrarService.create(this.agentContext,e)}update(e){return this.didRegistrarService.update(this.agentContext,e)}deactivate(e){return this.didRegistrarService.deactivate(this.agentContext,e)}resolveDidDocument(e){return this.didResolverService.resolveDidDocument(this.agentContext,e)}getCreatedDids({method:e,did:t}={}){return this.didRepository.getCreatedDids(this.agentContext,{method:e,did:t})}async import({did:e,didDocument:t,privateKeys:r=[],overwrite:n}){if(t&&t.id!==e)throw new a.AriesFrameworkError(`Did document id ${t.id} does not match did ${e}`);let i=await this.didRepository.findCreatedDid(this.agentContext,e);if(i&&!n)throw new a.AriesFrameworkError(`A created did ${e} already exists. If you want to override the existing did, set the 'overwrite' option to update the did.`);for(let n of(t||(t=await this.resolveDidDocument(e)),r))try{await this.agentContext.wallet.createKey({keyType:n.keyType,privateKey:n.privateKey})}catch(e){if(e instanceof l.WalletKeyExistsError);else throw e}if(i){i.didDocument=t,i.setTags({recipientKeyFingerprints:t.recipientKeys.map(e=>e.fingerprint)}),await this.didRepository.update(this.agentContext,i);return}await this.didRepository.storeCreatedDid(this.agentContext,{did:e,didDocument:t,tags:{recipientKeyFingerprints:t.recipientKeys.map(e=>e.fingerprint)}})}};f=n([(0,s.injectable)(),i("design:paramtypes",[d.DidResolverService,d.DidRegistrarService,u.DidRepository,o.AgentContext,c.DidsModuleConfig])],f),t.DidsApi=f},93021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},19094:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidsModule=void 0;let n=r(6555),i=r(14945),o=r(38974),a=r(33314);class s{constructor(e){this.api=n.DidsApi,this.config=new i.DidsModuleConfig(e)}register(e){e.registerContextScoped(n.DidsApi),e.registerInstance(i.DidsModuleConfig,this.config),e.registerSingleton(a.DidResolverService),e.registerSingleton(a.DidRegistrarService),e.registerSingleton(o.DidRepository)}}t.DidsModule=s},14945:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidsModuleConfig=void 0;let n=r(35067);class i{constructor(e){this.options=null!=e?e:{}}get registrars(){var e;if(this._registrars)return this._registrars;let t=null!==(e=this.options.registrars)&&void 0!==e?e:[new n.KeyDidRegistrar,new n.PeerDidRegistrar,new n.JwkDidRegistrar];return t.find(e=>e instanceof n.PeerDidRegistrar)||(t=[...t,new n.PeerDidRegistrar]),t.find(e=>e instanceof n.KeyDidRegistrar)||(t=[...t,new n.KeyDidRegistrar]),this._registrars=t,t}addRegistrar(e){this.registrars.push(e)}get resolvers(){var e;if(this._resolvers)return this._resolvers;let t=null!==(e=this.options.resolvers)&&void 0!==e?e:[new n.WebDidResolver,new n.KeyDidResolver,new n.PeerDidResolver,new n.JwkDidResolver];return t.find(e=>e instanceof n.PeerDidResolver)||(t=[...t,new n.PeerDidResolver]),t.find(e=>e instanceof n.KeyDidResolver)||(t=[...t,new n.KeyDidResolver]),this._resolvers=t,t}addResolver(e){this.resolvers.push(e)}}t.DidsModuleConfig=i},94912:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}};Object.defineProperty(t,"__esModule",{value:!0}),t.findVerificationMethodByKeyType=t.keyReferenceToKey=t.DidDocument=void 0;let a=r(5902),s=r(56988),l=r(51271),c=r(24750),u=r(99997),d=r(9905),f=r(26086),p=r(89056),h=r(77785),y=r(81878);class g{constructor(e){var t;this.context=["https://w3id.org/did/v1"],e&&(this.context=null!==(t=e.context)&&void 0!==t?t:this.context,this.id=e.id,this.alsoKnownAs=e.alsoKnownAs,this.controller=e.controller,this.verificationMethod=e.verificationMethod,this.service=e.service,this.authentication=e.authentication,this.assertionMethod=e.assertionMethod,this.keyAgreement=e.keyAgreement,this.capabilityInvocation=e.capabilityInvocation,this.capabilityDelegation=e.capabilityDelegation)}dereferenceVerificationMethod(e){var t;let r=null===(t=this.verificationMethod)||void 0===t?void 0:t.find(t=>t.id.endsWith(e));if(!r)throw new u.AriesFrameworkError(`Unable to locate verification method with id '${e}'`);return r}dereferenceKey(e,t){var r;let n=null!=t?t:["authentication","keyAgreement","assertionMethod","capabilityInvocation","capabilityDelegation"];for(let t of n)for(let n of null!==(r=this[t])&&void 0!==r?r:[]){if("string"==typeof n&&n.endsWith(e))return this.dereferenceVerificationMethod(n);if("string"!=typeof n&&n.id.endsWith(e))return n}throw new u.AriesFrameworkError(`Unable to locate verification method with id '${e}' in purposes ${n}`)}getServicesByType(e){var t,r;return null!==(r=null===(t=this.service)||void 0===t?void 0:t.filter(t=>t.type===e))&&void 0!==r?r:[]}getServicesByClassType(e){var t,r;return null!==(r=null===(t=this.service)||void 0===t?void 0:t.filter(t=>t instanceof e))&&void 0!==r?r:[]}get didCommServices(){var e,t;let r=[h.IndyAgentService.type,h.DidCommV1Service.type],n=null!==(t=null===(e=this.service)||void 0===e?void 0:e.filter(e=>r.includes(e.type)))&&void 0!==t?t:[];return n.sort((e,t)=>e.priority-t.priority)}get recipientKeys(){let e=[];for(let t of this.didCommServices)t instanceof h.IndyAgentService?e=[...e,...t.recipientKeys.map(e=>l.Key.fromPublicKeyBase58(e,c.KeyType.Ed25519))]:t instanceof h.DidCommV1Service&&(e=[...e,...t.recipientKeys.map(e=>v(this,e))]);return e}toJSON(){return d.JsonTransformer.toJSON(this)}}function v(e,t){let r=e.dereferenceKey(t,["authentication","keyAgreement"]),n=(0,p.getKeyFromVerificationMethod)(r);return n}async function m(e,t){var r,n,i,a,s,l,c,u;try{for(var d,f=!0,p=o(["verificationMethod","authentication","keyAgreement","assertionMethod","capabilityInvocation","capabilityDelegation"]);!(r=(d=await p.next()).done);){a=d.value,f=!1;try{let r=t[a];if(r instanceof Array)try{for(var h,y=!0,g=(l=void 0,o(r));!(s=(h=await g.next()).done);){u=h.value,y=!1;try{if("string"!=typeof u&&u.type===e)return u}finally{y=!0}}}catch(e){l={error:e}}finally{try{!y&&!s&&(c=g.return)&&await c.call(g)}finally{if(l)throw l.error}}}finally{f=!0}}}catch(e){n={error:e}}finally{try{!f&&!r&&(i=p.return)&&await i.call(p)}finally{if(n)throw n.error}}return null}n([(0,a.Expose)({name:"@context"}),(0,f.IsStringOrStringArray)(),i("design:type",Object)],g.prototype,"context",void 0),n([(0,s.IsString)(),i("design:type",String)],g.prototype,"id",void 0),n([(0,s.IsArray)(),(0,s.IsString)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"alsoKnownAs",void 0),n([(0,f.IsStringOrStringArray)(),(0,s.IsOptional)(),i("design:type",Object)],g.prototype,"controller",void 0),n([(0,s.IsArray)(),(0,s.ValidateNested)({each:!0}),(0,a.Type)(()=>y.VerificationMethod),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"verificationMethod",void 0),n([(0,s.IsArray)(),(0,h.ServiceTransformer)(),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"service",void 0),n([(0,s.IsArray)(),(0,y.VerificationMethodTransformer)(),(0,y.IsStringOrVerificationMethod)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"authentication",void 0),n([(0,s.IsArray)(),(0,y.VerificationMethodTransformer)(),(0,y.IsStringOrVerificationMethod)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"assertionMethod",void 0),n([(0,s.IsArray)(),(0,y.VerificationMethodTransformer)(),(0,y.IsStringOrVerificationMethod)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"keyAgreement",void 0),n([(0,s.IsArray)(),(0,y.VerificationMethodTransformer)(),(0,y.IsStringOrVerificationMethod)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"capabilityInvocation",void 0),n([(0,s.IsArray)(),(0,y.VerificationMethodTransformer)(),(0,y.IsStringOrVerificationMethod)({each:!0}),(0,s.IsOptional)(),i("design:type",Array)],g.prototype,"capabilityDelegation",void 0),t.DidDocument=g,t.keyReferenceToKey=v,t.findVerificationMethodByKeyType=m},64971:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidDocumentBuilder=void 0;let n=r(94912),i=r(81878);class o{constructor(e){this.didDocument=new n.DidDocument({id:e})}addContext(e){return"string"==typeof this.didDocument.context?this.didDocument.context=[this.didDocument.context,e]:this.didDocument.context.push(e),this}addService(e){return this.didDocument.service||(this.didDocument.service=[]),this.didDocument.service.push(e),this}addVerificationMethod(e){return this.didDocument.verificationMethod||(this.didDocument.verificationMethod=[]),this.didDocument.verificationMethod.push(e instanceof i.VerificationMethod?e:new i.VerificationMethod(e)),this}addAuthentication(e){this.didDocument.authentication||(this.didDocument.authentication=[]);let t=e instanceof i.VerificationMethod||"string"==typeof e?e:new i.VerificationMethod(e);return this.didDocument.authentication.push(t),this}addAssertionMethod(e){this.didDocument.assertionMethod||(this.didDocument.assertionMethod=[]);let t=e instanceof i.VerificationMethod||"string"==typeof e?e:new i.VerificationMethod(e);return this.didDocument.assertionMethod.push(t),this}addCapabilityDelegation(e){this.didDocument.capabilityDelegation||(this.didDocument.capabilityDelegation=[]);let t=e instanceof i.VerificationMethod||"string"==typeof e?e:new i.VerificationMethod(e);return this.didDocument.capabilityDelegation.push(t),this}addCapabilityInvocation(e){this.didDocument.capabilityInvocation||(this.didDocument.capabilityInvocation=[]);let t=e instanceof i.VerificationMethod||"string"==typeof e?e:new i.VerificationMethod(e);return this.didDocument.capabilityInvocation.push(t),this}addKeyAgreement(e){this.didDocument.keyAgreement||(this.didDocument.keyAgreement=[]);let t=e instanceof i.VerificationMethod||"string"==typeof e?e:new i.VerificationMethod(e);return this.didDocument.keyAgreement.push(t),this}build(){return this.didDocument}}t.DidDocumentBuilder=o},84212:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DidDocumentRole=void 0,(r=t.DidDocumentRole||(t.DidDocumentRole={})).Created="created",r.Received="received"},4185:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},91830:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},17274:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.parseDid=void 0,i(r(77785),t),i(r(81878),t),i(r(94912),t),i(r(64971),t),i(r(84212),t),i(r(4185),t),i(r(91830),t),i(r(89056),t);var o=r(47025);Object.defineProperty(t,"parseDid",{enumerable:!0,get:function(){return o.parseDid}})},19539:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidBls12381g1=void 0;let n=r(24750),i=r(99997),o=r(81878);t.keyDidBls12381g1={supportedVerificationMethodTypes:[o.VERIFICATION_METHOD_TYPE_BLS12381G1_KEY_2020],getVerificationMethods:(e,t)=>[(0,o.getBls12381G1Key2020)({id:`${e}#${t.fingerprint}`,key:t,controller:e})],getKeyFromVerificationMethod:e=>{if((0,o.isBls12381G1Key2020)(e))return(0,o.getKeyFromBls12381G1Key2020)(e);throw new i.AriesFrameworkError(`Verification method with type '${e.type}' not supported for key type '${n.KeyType.Bls12381g1}'`)}}},70158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidBls12381g1g2=t.getBls12381g1g2VerificationMethod=void 0;let n=r(51271),i=r(24750),o=r(99997),a=r(81878);function s(e,t){let r=t.publicKey.slice(0,48),o=t.publicKey.slice(48),s=n.Key.fromPublicKey(r,i.KeyType.Bls12381g1),l=n.Key.fromPublicKey(o,i.KeyType.Bls12381g2),c=(0,a.getBls12381G1Key2020)({id:`${e}#${s.fingerprint}`,key:s,controller:e}),u=(0,a.getBls12381G2Key2020)({id:`${e}#${l.fingerprint}`,key:l,controller:e});return[c,u]}t.getBls12381g1g2VerificationMethod=s,t.keyDidBls12381g1g2={supportedVerificationMethodTypes:[],getVerificationMethods:s,getKeyFromVerificationMethod:()=>{throw new o.AriesFrameworkError("Not supported for bls12381g1g2 key")}}},87778:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidBls12381g2=void 0;let n=r(24750),i=r(99997),o=r(81878);t.keyDidBls12381g2={supportedVerificationMethodTypes:[o.VERIFICATION_METHOD_TYPE_BLS12381G2_KEY_2020],getVerificationMethods:(e,t)=>[(0,o.getBls12381G2Key2020)({id:`${e}#${t.fingerprint}`,key:t,controller:e})],getKeyFromVerificationMethod:e=>{if((0,o.isBls12381G2Key2020)(e))return(0,o.getKeyFromBls12381G2Key2020)(e);throw new i.AriesFrameworkError(`Verification method with type '${e.type}' not supported for key type '${n.KeyType.Bls12381g2}'`)}}},13678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidEd25519=t.convertPublicKeyToX25519=void 0;let n=r(24750),i=r(99997),o=r(81878);var a=r(80237);Object.defineProperty(t,"convertPublicKeyToX25519",{enumerable:!0,get:function(){return a.convertPublicKeyToX25519}}),t.keyDidEd25519={supportedVerificationMethodTypes:[o.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018,o.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020,o.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020],getVerificationMethods:(e,t)=>[(0,o.getEd25519VerificationKey2018)({id:`${e}#${t.fingerprint}`,key:t,controller:e})],getKeyFromVerificationMethod:e=>{if((0,o.isEd25519VerificationKey2018)(e))return(0,o.getKeyFromEd25519VerificationKey2018)(e);if((0,o.isEd25519VerificationKey2020)(e))return(0,o.getKeyFromEd25519VerificationKey2020)(e);if((0,o.isJsonWebKey2020)(e))return(0,o.getKeyFromJsonWebKey2020)(e);throw new i.AriesFrameworkError(`Verification method with type '${e.type}' not supported for key type '${n.KeyType.Ed25519}'`)}}},89056:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedVerificationMethodTypesFromKeyType=t.getKeyFromVerificationMethod=t.getKeyDidMappingByKeyType=void 0;var o=r(2594);Object.defineProperty(t,"getKeyDidMappingByKeyType",{enumerable:!0,get:function(){return o.getKeyDidMappingByKeyType}}),Object.defineProperty(t,"getKeyFromVerificationMethod",{enumerable:!0,get:function(){return o.getKeyFromVerificationMethod}}),Object.defineProperty(t,"getSupportedVerificationMethodTypesFromKeyType",{enumerable:!0,get:function(){return o.getSupportedVerificationMethodTypesFromKeyType}}),i(r(87778),t),i(r(19539),t),i(r(70158),t),i(r(13678),t),i(r(24418),t)},49020:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidJsonWebKey=void 0;let n=r(91994),i=r(99997),o=r(81878),a=r(49755);t.keyDidJsonWebKey={supportedVerificationMethodTypes:[a.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020],getVerificationMethods:(e,t)=>[(0,o.getJsonWebKey2020)({did:e,key:t})],getKeyFromVerificationMethod:e=>{if(!(0,a.isJsonWebKey2020)(e)||!e.publicKeyJwk)throw new i.AriesFrameworkError("Invalid verification method passed");return(0,n.getJwkFromJson)(e.publicKeyJwk).key}}},2594:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedVerificationMethodTypesFromKeyType=t.getKeyFromVerificationMethod=t.getKeyDidMappingByKeyType=void 0;let n=r(24750),i=r(91994),o=r(99997),a=r(49755),s=r(19539),l=r(70158),c=r(87778),u=r(13678),d=r(49020),f=r(24418),p={[n.KeyType.Ed25519]:u.keyDidEd25519,[n.KeyType.X25519]:f.keyDidX25519,[n.KeyType.Bls12381g1]:s.keyDidBls12381g1,[n.KeyType.Bls12381g2]:c.keyDidBls12381g2,[n.KeyType.Bls12381g1g2]:l.keyDidBls12381g1g2,[n.KeyType.P256]:d.keyDidJsonWebKey,[n.KeyType.P384]:d.keyDidJsonWebKey,[n.KeyType.P521]:d.keyDidJsonWebKey},h=Object.values(n.KeyType).reduce((e,t)=>{let r=p[t].supportedVerificationMethodTypes.reduce((e,r)=>Object.assign(Object.assign({},e),{[r]:p[t]}),{});return Object.assign(Object.assign({},e),r)},{});t.getKeyDidMappingByKeyType=function(e){let t=p[e];if(!t)throw new o.AriesFrameworkError(`Unsupported key did from key type '${e}'`);return t},t.getKeyFromVerificationMethod=function(e){if((0,a.isJsonWebKey2020)(e)){if(!e.publicKeyJwk)throw new o.AriesFrameworkError(`Missing publicKeyJwk on verification method with type ${a.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020}`);return(0,i.getJwkFromJson)(e.publicKeyJwk).key}let t=h[e.type];if(!t)throw new o.AriesFrameworkError(`Unsupported key did from verification method type '${e.type}'`);return t.getKeyFromVerificationMethod(e)},t.getSupportedVerificationMethodTypesFromKeyType=function(e){let t=p[e];if(!t)throw new o.AriesFrameworkError(`Unsupported key did from key type '${e}'`);return t.supportedVerificationMethodTypes}},24418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.keyDidX25519=void 0;let n=r(24750),i=r(99997),o=r(81878);t.keyDidX25519={supportedVerificationMethodTypes:[o.VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019,o.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020],getVerificationMethods:(e,t)=>[(0,o.getX25519KeyAgreementKey2019)({id:`${e}#${t.fingerprint}`,key:t,controller:e})],getKeyFromVerificationMethod:e=>{if((0,o.isJsonWebKey2020)(e))return(0,o.getKeyFromJsonWebKey2020)(e);if((0,o.isX25519KeyAgreementKey2019)(e))return(0,o.getKeyFromX25519KeyAgreementKey2019)(e);throw new i.AriesFrameworkError(`Verification method with type '${e.type}' not supported for key type '${n.KeyType.X25519}'`)}}},29701:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getJsonWebKey2020DidDocument=t.getDidDocumentForKey=void 0;let n=r(51271),i=r(24750),o=r(99997),a=r(26252),s=r(86788),l=r(64971),c=r(89056),u=r(13678),d=r(81878),f={[i.KeyType.Ed25519]:function(e,t){let r=(0,d.getEd25519VerificationKey2018)({id:`${e}#${t.fingerprint}`,key:t,controller:e}),o=(0,u.convertPublicKeyToX25519)(t.publicKey),l=n.Key.fromPublicKey(o,i.KeyType.X25519),c=(0,d.getX25519KeyAgreementKey2019)({id:`${e}#${l.fingerprint}`,key:l,controller:e}),f=h({did:e,key:t,verificationMethod:r});return f.addContext(s.ED25519_SUITE_CONTEXT_URL_2018).addContext(a.SECURITY_X25519_CONTEXT_URL).addKeyAgreement(c),f.build()},[i.KeyType.X25519]:function(e,t){let r=(0,d.getX25519KeyAgreementKey2019)({id:`${e}#${t.fingerprint}`,key:t,controller:e}),n=new l.DidDocumentBuilder(e).addKeyAgreement(r).addContext(a.SECURITY_X25519_CONTEXT_URL).build();return n},[i.KeyType.Bls12381g1]:function(e,t){let r=(0,d.getBls12381G1Key2020)({id:`${e}#${t.fingerprint}`,key:t,controller:e});return h({did:e,key:t,verificationMethod:r}).addContext(a.SECURITY_CONTEXT_BBS_URL).build()},[i.KeyType.Bls12381g2]:function(e,t){let r=(0,d.getBls12381G2Key2020)({id:`${e}#${t.fingerprint}`,key:t,controller:e});return h({did:e,key:t,verificationMethod:r}).addContext(a.SECURITY_CONTEXT_BBS_URL).build()},[i.KeyType.Bls12381g1g2]:function(e,t){let r=(0,c.getBls12381g1g2VerificationMethod)(e,t),n=new l.DidDocumentBuilder(e);for(let e of r)n.addVerificationMethod(e).addAuthentication(e.id).addAssertionMethod(e.id).addCapabilityDelegation(e.id).addCapabilityInvocation(e.id);return n.addContext(a.SECURITY_CONTEXT_BBS_URL).build()},[i.KeyType.P256]:p,[i.KeyType.P384]:p,[i.KeyType.P521]:p};function p(e,t){let r=(0,d.getJsonWebKey2020)({did:e,key:t}),n=new l.DidDocumentBuilder(e);if(n.addContext(a.SECURITY_JWS_CONTEXT_URL).addVerificationMethod(r),!t.supportsEncrypting&&!t.supportsSigning)throw new o.AriesFrameworkError("Key must support at least signing or encrypting");return t.supportsSigning&&n.addAuthentication(r.id).addAssertionMethod(r.id).addCapabilityDelegation(r.id).addCapabilityInvocation(r.id),t.supportsEncrypting&&n.addKeyAgreement(r.id),n.build()}function h({did:e,key:t,verificationMethod:r}){let n=`${e}#${t.fingerprint}`;return new l.DidDocumentBuilder(e).addVerificationMethod(r).addAuthentication(n).addAssertionMethod(n).addCapabilityDelegation(n).addCapabilityInvocation(n)}t.getDidDocumentForKey=function(e,t){let r=f[t.keyType];return r(e,t)},t.getJsonWebKey2020DidDocument=p},47025:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryParseDid=t.parseDid=void 0;let n=r(21234),i=r(99997);function o(e){return(0,n.parse)(e)}t.parseDid=function(e){let t=o(e);if(!t)throw new i.AriesFrameworkError(`Error parsing did '${e}'`);return t},t.tryParseDid=o},37162:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommV1Service=void 0;let o=r(56988),a=r(65302);class s extends a.DidDocumentService{constructor(e){super(Object.assign(Object.assign({},e),{type:s.type})),this.priority=0,e&&(this.recipientKeys=e.recipientKeys,this.routingKeys=e.routingKeys,this.accept=e.accept,e.priority&&(this.priority=e.priority))}}s.type="did-communication",n([(0,o.ArrayNotEmpty)(),(0,o.IsString)({each:!0}),i("design:type",Array)],s.prototype,"recipientKeys",void 0),n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"routingKeys",void 0),n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"accept",void 0),t.DidCommV1Service=s},48844:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommV2Service=void 0;let o=r(56988),a=r(65302);class s extends a.DidDocumentService{constructor(e){super(Object.assign(Object.assign({},e),{type:s.type})),e&&(this.routingKeys=e.routingKeys,this.accept=e.accept)}}s.type="DIDComm",n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"routingKeys",void 0),n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"accept",void 0),t.DidCommV2Service=s},65302:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidDocumentService=void 0;let o=r(56988),a=r(79522);class s{constructor(e){e&&(this.id=e.id,this.serviceEndpoint=e.serviceEndpoint,this.type=e.type)}get protocolScheme(){return(0,a.getProtocolScheme)(this.serviceEndpoint)}}n([(0,o.IsString)(),i("design:type",String)],s.prototype,"id",void 0),n([(0,o.IsString)(),i("design:type",String)],s.prototype,"serviceEndpoint",void 0),n([(0,o.IsString)(),i("design:type",String)],s.prototype,"type",void 0),t.DidDocumentService=s},2248:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IndyAgentService=void 0;let o=r(56988),a=r(65302);class s extends a.DidDocumentService{constructor(e){super(Object.assign(Object.assign({},e),{type:s.type})),this.priority=0,e&&(this.recipientKeys=e.recipientKeys,this.routingKeys=e.routingKeys,e.priority&&(this.priority=e.priority))}}s.type="IndyAgent",n([(0,o.ArrayNotEmpty)(),(0,o.IsString)({each:!0}),i("design:type",Array)],s.prototype,"recipientKeys",void 0),n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],s.prototype,"routingKeys",void 0),t.IndyAgentService=s},34378:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceTransformer=t.serviceTypes=void 0;let n=r(5902),i=r(37162),o=r(48844),a=r(65302),s=r(2248);t.serviceTypes={[s.IndyAgentService.type]:s.IndyAgentService,[i.DidCommV1Service.type]:i.DidCommV1Service,[o.DidCommV2Service.type]:o.DidCommV2Service},t.ServiceTransformer=function(){return(0,n.Transform)(({value:e})=>null==e?void 0:e.map(e=>{var r;let i=null!==(r=t.serviceTypes[e.type])&&void 0!==r?r:a.DidDocumentService,o=(0,n.plainToInstance)(i,e);return o}),{toClassOnly:!0})}},77785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.serviceTypes=t.ServiceTransformer=t.DidCommV2Service=t.DidDocumentService=t.DidCommV1Service=t.IndyAgentService=void 0;let n=r(37162);Object.defineProperty(t,"DidCommV1Service",{enumerable:!0,get:function(){return n.DidCommV1Service}});let i=r(48844);Object.defineProperty(t,"DidCommV2Service",{enumerable:!0,get:function(){return i.DidCommV2Service}});let o=r(65302);Object.defineProperty(t,"DidDocumentService",{enumerable:!0,get:function(){return o.DidDocumentService}});let a=r(2248);Object.defineProperty(t,"IndyAgentService",{enumerable:!0,get:function(){return a.IndyAgentService}});let s=r(34378);Object.defineProperty(t,"ServiceTransformer",{enumerable:!0,get:function(){return s.ServiceTransformer}}),Object.defineProperty(t,"serviceTypes",{enumerable:!0,get:function(){return s.serviceTypes}})},72156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromBls12381G1Key2020=t.isBls12381G1Key2020=t.getBls12381G1Key2020=t.VERIFICATION_METHOD_TYPE_BLS12381G1_KEY_2020=void 0;let n=r(91478),i=r(51271),o=r(99997),a=r(69902);t.VERIFICATION_METHOD_TYPE_BLS12381G1_KEY_2020="Bls12381G1Key2020",t.getBls12381G1Key2020=function({key:e,id:r,controller:n}){return new a.VerificationMethod({id:r,type:t.VERIFICATION_METHOD_TYPE_BLS12381G1_KEY_2020,controller:n,publicKeyBase58:e.publicKeyBase58})},t.isBls12381G1Key2020=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_BLS12381G1_KEY_2020},t.getKeyFromBls12381G1Key2020=function(e){if(!e.publicKeyBase58)throw new o.AriesFrameworkError("verification method is missing publicKeyBase58");return i.Key.fromPublicKeyBase58(e.publicKeyBase58,n.KeyType.Bls12381g1)}},7679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromBls12381G2Key2020=t.isBls12381G2Key2020=t.getBls12381G2Key2020=t.VERIFICATION_METHOD_TYPE_BLS12381G2_KEY_2020=void 0;let n=r(91478),i=r(51271),o=r(99997),a=r(69902);t.VERIFICATION_METHOD_TYPE_BLS12381G2_KEY_2020="Bls12381G2Key2020",t.getBls12381G2Key2020=function({key:e,id:r,controller:n}){return new a.VerificationMethod({id:r,type:t.VERIFICATION_METHOD_TYPE_BLS12381G2_KEY_2020,controller:n,publicKeyBase58:e.publicKeyBase58})},t.isBls12381G2Key2020=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_BLS12381G2_KEY_2020},t.getKeyFromBls12381G2Key2020=function(e){if(!e.publicKeyBase58)throw new o.AriesFrameworkError("verification method is missing publicKeyBase58");return i.Key.fromPublicKeyBase58(e.publicKeyBase58,n.KeyType.Bls12381g2)}},77867:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromEd25519VerificationKey2018=t.isEd25519VerificationKey2018=t.getEd25519VerificationKey2018=t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018=void 0;let n=r(91478),i=r(51271),o=r(99997),a=r(69902);t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018="Ed25519VerificationKey2018",t.getEd25519VerificationKey2018=function({key:e,id:r,controller:n}){return new a.VerificationMethod({id:r,type:t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018,controller:n,publicKeyBase58:e.publicKeyBase58})},t.isEd25519VerificationKey2018=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018},t.getKeyFromEd25519VerificationKey2018=function(e){if(!e.publicKeyBase58)throw new o.AriesFrameworkError("verification method is missing publicKeyBase58");return i.Key.fromPublicKeyBase58(e.publicKeyBase58,n.KeyType.Ed25519)}},96777:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromEd25519VerificationKey2020=t.isEd25519VerificationKey2020=t.getEd25519VerificationKey2020=t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020=void 0;let n=r(91478),i=r(51271),o=r(99997),a=r(69902);t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020="Ed25519VerificationKey2020",t.getEd25519VerificationKey2020=function({key:e,id:r,controller:n}){return new a.VerificationMethod({id:r,type:t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020,controller:n,publicKeyMultibase:e.fingerprint})},t.isEd25519VerificationKey2020=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020},t.getKeyFromEd25519VerificationKey2020=function(e){if(!e.publicKeyMultibase)throw new o.AriesFrameworkError("verification method is missing publicKeyMultibase");let t=i.Key.fromFingerprint(e.publicKeyMultibase);if(t.keyType!==n.KeyType.Ed25519)throw new o.AriesFrameworkError(`Verification method publicKeyMultibase is for unexpected key type ${t.keyType}`);return t}},49755:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromJsonWebKey2020=t.isJsonWebKey2020=t.getJsonWebKey2020=t.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020=void 0;let n=r(91994),i=r(99997);t.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020="JsonWebKey2020",t.getJsonWebKey2020=function({did:e,key:r,jwk:i,verificationMethodId:o}){if(!o){let t=null!=r?r:(0,n.getJwkFromJson)(i).key;o=`${e}#${t.fingerprint}`}return{id:o,type:t.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020,controller:e,publicKeyJwk:null!=i?i:(0,n.getJwkFromKey)(r).toJson()}},t.isJsonWebKey2020=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020},t.getKeyFromJsonWebKey2020=function(e){if(!e.publicKeyJwk)throw new i.AriesFrameworkError(`Missing publicKeyJwk on verification method with type ${t.VERIFICATION_METHOD_TYPE_JSON_WEB_KEY_2020}`);return(0,n.getJwkFromJson)(e.publicKeyJwk).key}},69902:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationMethod=void 0;let o=r(56988);class a{constructor(e){e&&(this.id=e.id,this.type=e.type,this.controller=e.controller,this.publicKeyBase58=e.publicKeyBase58,this.publicKeyBase64=e.publicKeyBase64,this.publicKeyJwk=e.publicKeyJwk,this.publicKeyHex=e.publicKeyHex,this.publicKeyMultibase=e.publicKeyMultibase,this.publicKeyPem=e.publicKeyPem,this.blockchainAccountId=e.blockchainAccountId,this.ethereumAddress=e.ethereumAddress)}}n([(0,o.IsString)(),i("design:type",String)],a.prototype,"id",void 0),n([(0,o.IsString)(),i("design:type",String)],a.prototype,"type",void 0),n([(0,o.IsString)(),i("design:type",String)],a.prototype,"controller",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"publicKeyBase58",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"publicKeyBase64",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"publicKeyHex",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"publicKeyMultibase",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"publicKeyPem",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"blockchainAccountId",void 0),n([(0,o.IsOptional)(),(0,o.IsString)(),i("design:type",String)],a.prototype,"ethereumAddress",void 0),t.VerificationMethod=a},80786:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerificationMethodTransformer=t.IsStringOrVerificationMethod=void 0;let n=r(5902),i=r(56988),o=r(9905),a=r(69902);t.IsStringOrVerificationMethod=function(e){return(0,i.ValidateBy)({name:"isStringOrVerificationMethod",validator:{validate:e=>(0,i.isString)(e)||(0,i.isInstance)(e,a.VerificationMethod),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a string or instance of VerificationMethod",e)}},e)},t.VerificationMethodTransformer=function(){return(0,n.Transform)(({value:e,type:t})=>t===n.TransformationType.PLAIN_TO_CLASS?null==e?void 0:e.map(e=>"string"==typeof e?String(e):o.JsonTransformer.fromJSON(e,a.VerificationMethod)):t===n.TransformationType.CLASS_TO_PLAIN?null==e?void 0:e.map(e=>"string"==typeof e?e:o.JsonTransformer.toJSON(e)):e)}},18163:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyFromX25519KeyAgreementKey2019=t.isX25519KeyAgreementKey2019=t.getX25519KeyAgreementKey2019=t.VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019=void 0;let n=r(91478),i=r(51271),o=r(99997),a=r(69902);t.VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019="X25519KeyAgreementKey2019",t.getX25519KeyAgreementKey2019=function({key:e,id:r,controller:n}){return new a.VerificationMethod({id:r,type:t.VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019,controller:n,publicKeyBase58:e.publicKeyBase58})},t.isX25519KeyAgreementKey2019=function(e){return e.type===t.VERIFICATION_METHOD_TYPE_X25519_KEY_AGREEMENT_KEY_2019},t.getKeyFromX25519KeyAgreementKey2019=function(e){if(!e.publicKeyBase58)throw new o.AriesFrameworkError("verification method is missing publicKeyBase58");return i.Key.fromPublicKeyBase58(e.publicKeyBase58,n.KeyType.X25519)}},81878:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.IsStringOrVerificationMethod=t.VerificationMethodTransformer=t.VerificationMethod=void 0;var o=r(69902);Object.defineProperty(t,"VerificationMethod",{enumerable:!0,get:function(){return o.VerificationMethod}});var a=r(80786);Object.defineProperty(t,"VerificationMethodTransformer",{enumerable:!0,get:function(){return a.VerificationMethodTransformer}}),Object.defineProperty(t,"IsStringOrVerificationMethod",{enumerable:!0,get:function(){return a.IsStringOrVerificationMethod}}),i(r(72156),t),i(r(7679),t),i(r(77867),t),i(r(96777),t),i(r(49755),t),i(r(18163),t)},78278:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.verkeyToInstanceOfKey=t.didKeyToInstanceOfKey=t.verkeyToDidKey=t.didKeyToVerkey=t.isDidKey=void 0;let n=r(91478),i=r(23333),o=r(43089);function a(e){return(0,i.isDid)(e,"key")}t.isDidKey=a,t.didKeyToVerkey=function(e){if(a(e)){let t=o.DidKey.fromDid(e).key.publicKeyBase58;return t}return e},t.verkeyToDidKey=function(e){if(a(e))return e;let t=n.Key.fromPublicKeyBase58(e,n.KeyType.Ed25519),r=new o.DidKey(t);return r.did},t.didKeyToInstanceOfKey=function(e){let t=o.DidKey.fromDid(e);return t.key},t.verkeyToInstanceOfKey=function(e){let t=n.Key.fromPublicKeyBase58(e,n.KeyType.Ed25519);return t}},83296:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63008),t),i(r(17274),t),i(r(6555),t),i(r(93021),t),i(r(38974),t),i(r(33314),t),i(r(19094),t),i(r(35067),t),i(r(14945),t)},35067:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(43089),t),i(r(88414),t),i(r(53848),t),i(r(50276),t)},22252:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidJwk=void 0;let n=r(91994),i=r(23333),o=r(47025),a=r(41061);class s{constructor(e){this.did=e}get allowsEncrypting(){return"enc"===this.jwk.use||this.key.supportsEncrypting}get allowsSigning(){return"sig"===this.jwk.use||this.key.supportsSigning}static fromDid(e){let t=(0,o.parseDid)(e),r=i.JsonEncoder.fromBase64(t.id);return(0,n.getJwkFromJson)(r),new s(e)}get verificationMethodId(){return`${this.did}#0`}static fromJwk(e){let t=`did:jwk:${i.JsonEncoder.toBase64URL(e.toJson())}`;return new s(t)}get key(){return this.jwk.key}get jwk(){let e=(0,n.getJwkFromJson)(this.jwkJson);return e}get jwkJson(){let e=(0,o.parseDid)(this.did),t=i.JsonEncoder.fromBase64(e.id);return t}get didDocument(){return(0,a.getDidJwkDocument)(this)}}t.DidJwk=s},25472:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwkDidRegistrar=void 0;let n=r(91994),i=r(84212),o=r(38974),a=r(22252);class s{constructor(){this.supportedMethods=["jwk"]}async create(e,t){var r,s,l,c;let u=e.dependencyManager.resolve(o.DidRepository),d=t.options.keyType,f=null===(r=t.secret)||void 0===r?void 0:r.seed,p=null===(s=t.secret)||void 0===s?void 0:s.privateKey;if(!d)return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"Missing key type"}};try{let r=await e.wallet.createKey({keyType:d,seed:f,privateKey:p}),s=(0,n.getJwkFromKey)(r),h=a.DidJwk.fromJwk(s),y=new o.DidRecord({did:h.did,role:i.DidDocumentRole.Created});return await u.save(e,y),{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"finished",did:h.did,didDocument:h.didDocument,secret:{seed:null===(l=t.secret)||void 0===l?void 0:l.seed,privateKey:null===(c=t.secret)||void 0===c?void 0:c.privateKey}}}}catch(e){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:`unknownError: ${e.message}`}}}}async update(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notSupported: cannot update did:jwk did"}}}async deactivate(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notSupported: cannot deactivate did:jwk did"}}}}t.JwkDidRegistrar=s},27301:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwkDidResolver=void 0;let n=r(22252);class i{constructor(){this.supportedMethods=["jwk"]}async resolve(e,t){let r={};try{let e=n.DidJwk.fromDid(t).didDocument;return{didDocument:e,didDocumentMetadata:r,didResolutionMetadata:{contentType:"application/did+ld+json"}}}catch(e){return{didDocument:null,didDocumentMetadata:r,didResolutionMetadata:{error:"notFound",message:`resolver_error: Unable to resolve did '${t}': ${e}`}}}}}t.JwkDidResolver=i},41061:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDidJwkDocument=void 0;let n=r(99997),i=r(23333),o=r(26252),a=r(17274),s=r(47025);t.getDidJwkDocument=function(e){if(!e.allowsEncrypting&&!e.allowsSigning)throw new n.AriesFrameworkError("At least one of allowsSigning or allowsEncrypting must be enabled");let t=(0,s.parseDid)(e.did),r=i.JsonEncoder.fromBase64(t.id),l=(0,a.getJsonWebKey2020)({did:e.did,jwk:r,verificationMethodId:e.verificationMethodId}),c=new a.DidDocumentBuilder(e.did).addContext(o.SECURITY_JWS_CONTEXT_URL).addVerificationMethod(l);return e.allowsSigning&&c.addAuthentication(l.id).addAssertionMethod(l.id).addCapabilityDelegation(l.id).addCapabilityInvocation(l.id),e.allowsEncrypting&&c.addKeyAgreement(l.id),c.build()}},50276:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidJwk=void 0;var o=r(22252);Object.defineProperty(t,"DidJwk",{enumerable:!0,get:function(){return o.DidJwk}}),i(r(25472),t),i(r(27301),t)},42829:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidKey=void 0;let n=r(51271),i=r(29701),o=r(47025);class a{constructor(e){this.key=e}static fromDid(e){let t=(0,o.parseDid)(e),r=n.Key.fromFingerprint(t.id);return new a(r)}get did(){return`did:key:${this.key.fingerprint}`}get didDocument(){return(0,i.getDidDocumentForKey)(this.did,this.key)}}t.DidKey=a},69734:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDidRegistrar=void 0;let n=r(84212),i=r(38974),o=r(42829);class a{constructor(){this.supportedMethods=["key"]}async create(e,t){var r,a,s,l;let c=e.dependencyManager.resolve(i.DidRepository),u=t.options.keyType,d=null===(r=t.secret)||void 0===r?void 0:r.seed,f=null===(a=t.secret)||void 0===a?void 0:a.privateKey;if(!u)return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"Missing key type"}};try{let r=await e.wallet.createKey({keyType:u,seed:d,privateKey:f}),a=new o.DidKey(r),p=new i.DidRecord({did:a.did,role:n.DidDocumentRole.Created});return await c.save(e,p),{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"finished",did:a.did,didDocument:a.didDocument,secret:{seed:null===(s=t.secret)||void 0===s?void 0:s.seed,privateKey:null===(l=t.secret)||void 0===l?void 0:l.privateKey}}}}catch(e){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:`unknownError: ${e.message}`}}}}async update(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notSupported: cannot update did:key did"}}}async deactivate(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notSupported: cannot deactivate did:key did"}}}}t.KeyDidRegistrar=a},87001:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyDidResolver=void 0;let n=r(42829);class i{constructor(){this.supportedMethods=["key"]}async resolve(e,t){let r={};try{let e=n.DidKey.fromDid(t).didDocument;return{didDocument:e,didDocumentMetadata:r,didResolutionMetadata:{contentType:"application/did+ld+json"}}}catch(e){return{didDocument:null,didDocumentMetadata:r,didResolutionMetadata:{error:"notFound",message:`resolver_error: Unable to resolve did '${t}': ${e}`}}}}}t.KeyDidResolver=i},43089:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidKey=void 0;var o=r(42829);Object.defineProperty(t,"DidKey",{enumerable:!0,get:function(){return o.DidKey}}),i(r(69734),t),i(r(87001),t)},67367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerDidRegistrar=void 0;let n=r(23333),i=r(17274),o=r(84212),a=r(38974),s=r(96053),l=r(41997),c=r(74358),u=r(35700);class d{constructor(){this.supportedMethods=["peer"]}async create(e,t){var r,d,p,h;let y;let g=e.dependencyManager.resolve(a.DidRepository);try{if(t.options.numAlgo===s.PeerDidNumAlgo.InceptionKeyWithoutDoc){let n=t.options.keyType,i=null===(r=t.secret)||void 0===r?void 0:r.seed,o=null===(d=t.secret)||void 0===d?void 0:d.privateKey;if(!n)return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"Missing key type"}};let a=await e.wallet.createKey({keyType:n,seed:i,privateKey:o});y=(0,l.keyToNumAlgo0DidDocument)(a)}else if(f(t)){let e=t.didDocument.toJSON(),r=(0,c.didDocumentJsonToNumAlgo1Did)(e);y=n.JsonTransformer.fromJSON(Object.assign(Object.assign({},e),{id:r}),i.DidDocument)}else{if(t.options.numAlgo!==s.PeerDidNumAlgo.MultipleInceptionKeyWithoutDoc)return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"Missing or incorrect numAlgo provided"}};let e=t.didDocument.toJSON(),r=(0,u.didDocumentToNumAlgo2Did)(t.didDocument);y=n.JsonTransformer.fromJSON(Object.assign(Object.assign({},e),{id:r}),i.DidDocument)}let v=new a.DidRecord({did:y.id,role:o.DidDocumentRole.Created,didDocument:f(t)?y:void 0,tags:{recipientKeyFingerprints:y.recipientKeys.map(e=>e.fingerprint)}});return await g.save(e,v),{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"finished",did:y.id,didDocument:y,secret:{seed:null===(p=t.secret)||void 0===p?void 0:p.seed,privateKey:null===(h=t.secret)||void 0===h?void 0:h.privateKey}}}}catch(e){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:`unknown error: ${e.message}`}}}}async update(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notImplemented: updating did:peer not implemented yet"}}}async deactivate(){return{didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",reason:"notImplemented: deactivating did:peer not implemented yet"}}}}function f(e){return e.options.numAlgo===s.PeerDidNumAlgo.GenesisDoc}t.PeerDidRegistrar=d},97527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PeerDidResolver=void 0;let n=r(99997),i=r(38974),o=r(96053),a=r(41997),s=r(35700);class l{constructor(){this.supportedMethods=["peer"]}async resolve(e,t){let r=e.dependencyManager.resolve(i.DidRepository),l={};try{let i;if(!(0,o.isValidPeerDid)(t))throw new n.AriesFrameworkError(`did ${t} is not a valid peer did`);let c=(0,o.getNumAlgoFromPeerDid)(t);if(c===o.PeerDidNumAlgo.InceptionKeyWithoutDoc)i=(0,a.didToNumAlgo0DidDocument)(t);else if(c===o.PeerDidNumAlgo.GenesisDoc){let[o]=await r.findAllByDid(e,t);if(!o)throw new n.AriesFrameworkError(`No did record found for peer did ${t}.`);if(!o.didDocument)throw new n.AriesFrameworkError(`Found did record for method 1 peer did (${t}), but no did document.`);i=o.didDocument}else i=(0,s.didToNumAlgo2DidDocument)(t);return{didDocument:i,didDocumentMetadata:l,didResolutionMetadata:{contentType:"application/did+ld+json"}}}catch(e){return{didDocument:null,didDocumentMetadata:l,didResolutionMetadata:{error:"notFound",message:`resolver_error: Unable to resolve did '${t}': ${e}`}}}}}t.PeerDidResolver=l},80425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPeerDidDocumentFromServices=void 0;let n=r(80237),i=r(51271),o=r(24750),a=r(99997),s=r(15169),l=r(17274),c=r(64971),u=r(37162),d=r(43089);t.createPeerDidDocumentFromServices=function(e){let t=new c.DidDocumentBuilder(""),r={};return e.forEach((e,c)=>{var f;let p=e.recipientKeys.map(e=>{if(r[e.fingerprint])return r[e.fingerprint];if(e.keyType!==o.KeyType.Ed25519)throw new a.AriesFrameworkError(`Unable to create did document from services. recipient key type ${e.keyType} is not supported. Supported key types are ${o.KeyType.Ed25519}`);let c=i.Key.fromPublicKey((0,n.convertPublicKeyToX25519)(e.publicKey),o.KeyType.X25519),u=(0,l.getEd25519VerificationKey2018)({id:`#${(0,s.uuid)()}`,key:e,controller:"#id"}),d=(0,l.getX25519KeyAgreementKey2019)({id:`#${(0,s.uuid)()}`,key:c,controller:"#id"});return r[e.fingerprint]=u.id,t.addAuthentication(u).addKeyAgreement(d),r[e.fingerprint]}),h=null===(f=e.routingKeys)||void 0===f?void 0:f.map(e=>{let t=new d.DidKey(e);return`${t.did}#${e.fingerprint}`});t.addService(new u.DidCommV1Service({id:e.id,priority:c,serviceEndpoint:e.serviceEndpoint,recipientKeys:p,routingKeys:h}))}),t.build()}},96053:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.getNumAlgoFromPeerDid=t.PeerDidNumAlgo=t.isValidPeerDid=void 0;let o=r(99997),a=RegExp("^did:peer:(([01](z)([1-9a-km-zA-HJ-NP-Z]{5,200}))|(2((.[AEVID](z)([1-9a-km-zA-HJ-NP-Z]{5,200}))+(.(S)[0-9a-zA-Z=]*)?)))$");t.isValidPeerDid=function(e){let t=a.test(e);return t},(i=n=t.PeerDidNumAlgo||(t.PeerDidNumAlgo={}))[i.InceptionKeyWithoutDoc=0]="InceptionKeyWithoutDoc",i[i.GenesisDoc=1]="GenesisDoc",i[i.MultipleInceptionKeyWithoutDoc=2]="MultipleInceptionKeyWithoutDoc",t.getNumAlgoFromPeerDid=function(e){let t=Number(e[9]);if(t!==n.InceptionKeyWithoutDoc&&t!==n.GenesisDoc&&t!==n.MultipleInceptionKeyWithoutDoc)throw new o.AriesFrameworkError(`Invalid peer did numAlgo: ${t}`);return t}},88414:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67367),t),i(r(97527),t),i(r(96053),t),i(r(80425),t)},41997:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.didToNumAlgo0DidDocument=t.keyToNumAlgo0DidDocument=void 0;let n=r(51271),i=r(99997),o=r(29701),a=r(47025),s=r(96053);t.keyToNumAlgo0DidDocument=function(e){let t=`did:peer:0${e.fingerprint}`;return(0,o.getDidDocumentForKey)(t,e)},t.didToNumAlgo0DidDocument=function(e){let t=(0,a.parseDid)(e),r=(0,s.getNumAlgoFromPeerDid)(e);if(!(0,s.isValidPeerDid)(e))throw new i.AriesFrameworkError(`Invalid peer did '${e}'`);if(r!==s.PeerDidNumAlgo.InceptionKeyWithoutDoc)throw new i.AriesFrameworkError(`Invalid numAlgo ${r}, expected ${s.PeerDidNumAlgo.InceptionKeyWithoutDoc}`);let l=n.Key.fromFingerprint(t.id.substring(1));return(0,o.getDidDocumentForKey)(e,l)}},74358:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.didDocumentJsonToNumAlgo1Did=void 0;let n=r(23333);t.didDocumentJsonToNumAlgo1Did=function(e){let t=n.JsonEncoder.toBuffer(Object.assign(Object.assign({},e),{id:void 0})),r=n.MultiBaseEncoder.encode(n.MultiHashEncoder.encode(t,"sha2-256"),"base58btc"),i=`did:peer:1${r}`;return i}},35700:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.outOfBandServiceToNumAlgo2Did=t.didDocumentToNumAlgo2Did=t.didToNumAlgo2DidDocument=void 0;let o=r(51271),a=r(99997),s=r(23333),l=r(17274),c=r(64971),u=r(89056),d=r(47025),f=r(43089);(i=n||(n={})).Assertion="A",i.Encryption="E",i.Verification="V",i.CapabilityInvocation="I",i.CapabilityDelegation="D",i.Service="S";let p={type:"t",DIDCommMessaging:"dm",serviceEndpoint:"s",routingKeys:"r",accept:"a"},h={t:"type",dm:"DIDCommMessaging",s:"serviceEndpoint",r:"routingKeys",a:"accept"};function y(e){let t={[n.Assertion]:e.assertionMethod,[n.Encryption]:e.keyAgreement,[n.Verification]:e.authentication,[n.CapabilityInvocation]:e.capabilityInvocation,[n.CapabilityDelegation]:e.capabilityDelegation},r="did:peer:2";for(let[n,i]of Object.entries(t)){if(void 0===i)continue;let t=i.map(t=>"string"==typeof t?e.dereferenceVerificationMethod(t):t),o=t.map(e=>{let t=(0,u.getKeyFromVerificationMethod)(e),r=`.${n}${t.fingerprint}`;return r});r+=o.join("")}if(e.service&&e.service.length>0){let t=e.service.map(e=>{let t=s.JsonTransformer.toJSON(e);return delete t.id,function(e){let t=e=>{var t;return null!==(t=p[e])&&void 0!==t?t:e},r=Object.entries(e).reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[t(r)]:t(n)}),{});return r}(t)}),i=s.JsonEncoder.toBase64URL(1===t.length?t[0]:t);r+=`.${n.Service}${i}`}return r}t.didToNumAlgo2DidDocument=function(e){let t=(0,d.parseDid)(e),r=t.id.substring(2),i=r.split("."),f=new c.DidDocumentBuilder(e),p=0;for(let t of i){let r=t.substring(1),i=t[0];if(i===n.Service){let t=s.JsonEncoder.fromBase64(r);for(let r of t=Array.isArray(t)?t:[t])(r=function(e){let t=e=>{var t;return null!==(t=h[e])&&void 0!==t?t:e},r=Object.entries(e).reduce((e,[r,n])=>Object.assign(Object.assign({},e),{[t(r)]:t(n)}),{});return r}(r)).id=`${e}#${r.type.toLowerCase()}-${p++}`,f.addService(s.JsonTransformer.fromJSON(r,l.DidDocumentService))}else{let t=o.Key.fromFingerprint(r),{getVerificationMethods:s}=(0,u.getKeyDidMappingByKeyType)(t.keyType),l=s(e,t);for(let e of l)e.id=e.id.replace("#z","#"),function(e,t,r){let i={[n.Assertion]:e.addAssertionMethod.bind(e),[n.Encryption]:e.addKeyAgreement.bind(e),[n.Verification]:e.addAuthentication.bind(e),[n.CapabilityInvocation]:e.addCapabilityInvocation.bind(e),[n.CapabilityDelegation]:e.addCapabilityDelegation.bind(e)};if(r!==n.Service&&Object.values(n).includes(r)){let e=i[r];e(t)}else throw new a.AriesFrameworkError(`Unsupported peer did purpose '${r}'`)}(f,e,i)}}return f.build()},t.didDocumentToNumAlgo2Did=y,t.outOfBandServiceToNumAlgo2Did=function(e){var t;let r=new c.DidDocumentBuilder("").addService(new l.DidCommV1Service({id:e.id,serviceEndpoint:e.serviceEndpoint,accept:e.accept,recipientKeys:e.recipientKeys.map(e=>{let t=f.DidKey.fromDid(e);return`${t.did}#${t.key.fingerprint}`}),routingKeys:null===(t=e.routingKeys)||void 0===t?void 0:t.map(e=>{let t=f.DidKey.fromDid(e);return`${t.did}#${t.key.fingerprint}`})})).build(),n=y(r);return n}},33852:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.WebDidResolver=void 0;let a=r(21234),s=o(r(44806)),l=r(9905),c=r(17274);class u{constructor(){this._resolverInstance=new a.Resolver,this.resolver=s.getResolver(),this.supportedMethods=Object.keys(this.resolver)}async resolve(e,t,r,n){let i=await this.resolver[r.method](t,r,this._resolverInstance,n),o=null;return i.didDocument&&(o=l.JsonTransformer.fromJSON(i.didDocument,c.DidDocument)),Object.assign(Object.assign({},i),{didDocument:o})}}t.WebDidResolver=u},53848:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(33852),t)},34062:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.DidRecord=void 0;let o=r(5902),a=r(56988),s=r(79493),l=r(15169),c=r(17274),u=r(84212),d=r(47025),f=r(91415);class p extends s.BaseRecord{constructor(e){var t,r,n;super(),this.type=p.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,l.uuid)(),this.did=e.did,this.role=e.role,this.didDocument=e.didDocument,this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this._tags=null!==(n=e.tags)&&void 0!==n?n:{})}getTags(){let e=(0,d.parseDid)(this.did),t=this.metadata.get(f.DidRecordMetadataKeys.LegacyDid);return Object.assign(Object.assign({},this._tags),{role:this.role,method:e.method,legacyUnqualifiedDid:null==t?void 0:t.unqualifiedDid,did:this.did,methodSpecificIdentifier:e.id})}}p.type="DidRecord",n([(0,o.Type)(()=>c.DidDocument),(0,a.ValidateNested)(),i("design:type",c.DidDocument)],p.prototype,"didDocument",void 0),n([(0,a.IsEnum)(u.DidDocumentRole),i("design:type",String)],p.prototype,"role",void 0),t.DidRecord=p},51206:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DidRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(84212),d=r(34062),f=class extends c.Repository{constructor(e,t){super(d.DidRecord,e,t)}findReceivedDidByRecipientKey(e,t){return this.findSingleByQuery(e,{recipientKeyFingerprints:[t.fingerprint],role:u.DidDocumentRole.Received})}findCreatedDidByRecipientKey(e,t){return this.findSingleByQuery(e,{recipientKeyFingerprints:[t.fingerprint],role:u.DidDocumentRole.Created})}findAllByRecipientKey(e,t){return this.findByQuery(e,{recipientKeyFingerprints:[t.fingerprint]})}findAllByDid(e,t){return this.findByQuery(e,{did:t})}findReceivedDid(e,t){return this.findSingleByQuery(e,{did:t,role:u.DidDocumentRole.Received})}findCreatedDid(e,t){return this.findSingleByQuery(e,{did:t,role:u.DidDocumentRole.Created})}getCreatedDids(e,{method:t,did:r}){return this.findByQuery(e,{role:u.DidDocumentRole.Created,method:t,did:r})}async storeCreatedDid(e,{did:t,didDocument:r,tags:n}){let i=new d.DidRecord({did:t,didDocument:r,role:u.DidDocumentRole.Created,tags:n});return await this.save(e,i),i}async storeReceivedDid(e,{did:t,didDocument:r,tags:n}){let i=new d.DidRecord({did:t,didDocument:r,role:u.DidDocumentRole.Received,tags:n});return await this.save(e,i),i}};f=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],f),t.DidRepository=f},91415:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidRecordMetadataKeys=void 0,(t.DidRecordMetadataKeys||(t.DidRecordMetadataKeys={})).LegacyDid="_internal/legacyDid"},38974:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51206),t),i(r(34062),t)},21993:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DidRegistrarService=void 0;let a=r(55090),s=r(90978),l=r(14945),c=r(47025),u=class{constructor(e,t){this.logger=e,this.didsModuleConfig=t}async create(e,t){var r,n,i;this.logger.debug(`creating did ${null!==(r=t.did)&&void 0!==r?r:t.method}`);let o={didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",did:t.did}};if(!t.did&&!t.method||t.did&&t.method)return Object.assign(Object.assign({},o),{didState:Object.assign(Object.assign({},o.didState),{reason:"Either did OR method must be specified"})});let a=null!==(n=t.method)&&void 0!==n?n:null===(i=(0,c.tryParseDid)(t.did))||void 0===i?void 0:i.method;if(!a)return Object.assign(Object.assign({},o),{didState:Object.assign(Object.assign({},o.didState),{reason:`Could not extract method from did ${t.did}`})});let s=this.findRegistrarForMethod(a);return s?await s.create(e,t):Object.assign(Object.assign({},o),{didState:Object.assign(Object.assign({},o.didState),{reason:`Unsupported did method: '${a}'`})})}async update(e,t){var r;this.logger.debug(`updating did ${t.did}`);let n=null===(r=(0,c.tryParseDid)(t.did))||void 0===r?void 0:r.method,i={didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",did:t.did}};if(!n)return Object.assign(Object.assign({},i),{didState:Object.assign(Object.assign({},i.didState),{reason:`Could not extract method from did ${t.did}`})});let o=this.findRegistrarForMethod(n);return o?await o.update(e,t):Object.assign(Object.assign({},i),{didState:Object.assign(Object.assign({},i.didState),{reason:`Unsupported did method: '${n}'`})})}async deactivate(e,t){var r;this.logger.debug(`deactivating did ${t.did}`);let n={didDocumentMetadata:{},didRegistrationMetadata:{},didState:{state:"failed",did:t.did}},i=null===(r=(0,c.tryParseDid)(t.did))||void 0===r?void 0:r.method;if(!i)return Object.assign(Object.assign({},n),{didState:Object.assign(Object.assign({},n.didState),{reason:`Could not extract method from did ${t.did}`})});let o=this.findRegistrarForMethod(i);return o?await o.deactivate(e,t):Object.assign(Object.assign({},n),{didState:Object.assign(Object.assign({},n.didState),{reason:`Unsupported did method: '${i}'`})})}findRegistrarForMethod(e){var t;return null!==(t=this.didsModuleConfig.registrars.find(t=>t.supportedMethods.includes(e)))&&void 0!==t?t:null}};u=n([(0,s.injectable)(),o(0,(0,s.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[Object,l.DidsModuleConfig])],u),t.DidRegistrarService=u},45765:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DidResolverService=void 0;let a=r(55090),s=r(99997),l=r(90978),c=r(14945),u=r(47025),d=class{constructor(e,t){this.logger=e,this.didsModuleConfig=t}async resolve(e,t,r={}){let n;this.logger.debug(`resolving didUrl ${t}`);let i={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};try{n=(0,u.parseDid)(t)}catch(e){return Object.assign(Object.assign({},i),{didResolutionMetadata:{error:"invalidDid"}})}let o=this.findResolver(n);return o?o.resolve(e,n.did,n,r):Object.assign(Object.assign({},i),{didResolutionMetadata:{error:"unsupportedDidMethod",message:`No did resolver registered for did method ${n.method}`}})}async resolveDidDocument(e,t){let{didDocument:r,didResolutionMetadata:{error:n,message:i}}=await this.resolve(e,t);if(!r)throw new s.AriesFrameworkError(`Unable to resolve did document for did '${t}': ${n} ${i}`);return r}findResolver(e){var t;return null!==(t=this.didsModuleConfig.resolvers.find(t=>t.supportedMethods.includes(e.method)))&&void 0!==t?t:null}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[Object,c.DidsModuleConfig])],d),t.DidResolverService=d},33314:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45765),t),i(r(21993),t)},63008:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},99413:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoverFeaturesApi=void 0;let a=r(21233),s=r(19734),l=r(77858),c=r(26852),u=r(24446),d=r(36849),f=r(55090),p=r(99997),h=r(90978),y=r(83564),g=r(35355),v=r(90225),m=r(12680),b=class{constructor(e,t,r,n,i,o,a,s){this.connectionService=e,this.messageSender=t,this.eventEmitter=i,this.stop$=o,this.agentContext=a,this.config=s,this.serviceMap=[r,n].reduce((e,t)=>Object.assign(Object.assign({},e),{[t.version]:t}),{})}getService(e){if(!this.serviceMap[e])throw new p.AriesFrameworkError(`No discover features service registered for protocol version ${e}`);return this.serviceMap[e]}async queryFeatures(e){var t;let r=this.getService(e.protocolVersion),n=await this.connectionService.getById(this.agentContext,e.connectionId),{message:i}=await r.createQuery({queries:e.queries,comment:e.comment}),o=new d.OutboundMessageContext(i,{agentContext:this.agentContext,connection:n}),l=new a.ReplaySubject(1);return e.awaitDisclosures&&this.eventEmitter.observable(g.DiscoverFeaturesEventTypes.DisclosureReceived).pipe((0,s.takeUntil)(this.stop$),(0,s.filter)(e=>{var t;return(null===(t=e.payload.connection)||void 0===t?void 0:t.id)===n.id}),(0,s.map)(e=>e.payload.disclosures),(0,s.timeout)(null!==(t=e.awaitDisclosuresTimeoutMs)&&void 0!==t?t:7e3),(0,s.catchError)(()=>(0,a.of)([]))).subscribe(l),await this.messageSender.sendMessage(o),{features:e.awaitDisclosures?await (0,a.firstValueFrom)(l):void 0}}async discloseFeatures(e){let t=this.getService(e.protocolVersion),r=await this.connectionService.getById(this.agentContext,e.connectionId),{message:n}=await t.createDisclosure({disclosureQueries:e.disclosureQueries,threadId:e.threadId}),i=new d.OutboundMessageContext(n,{agentContext:this.agentContext,connection:r});await this.messageSender.sendMessage(i)}};b=n([(0,h.injectable)(),o(5,(0,h.inject)(f.InjectionSymbols.Stop$)),i("design:paramtypes",[y.ConnectionService,u.MessageSender,m.V1DiscoverFeaturesService,m.V2DiscoverFeaturesService,c.EventEmitter,a.Subject,l.AgentContext,v.DiscoverFeaturesModuleConfig])],b),t.DiscoverFeaturesApi=b},35355:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoverFeaturesEventTypes=void 0,(r=t.DiscoverFeaturesEventTypes||(t.DiscoverFeaturesEventTypes={})).QueryReceived="QueryReceived",r.DisclosureReceived="DisclosureReceived"},29510:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoverFeaturesModule=void 0;let n=r(36849),i=r(99413),o=r(90225),a=r(79199),s=r(62034);class l{constructor(e){this.api=i.DiscoverFeaturesApi,this.config=new o.DiscoverFeaturesModuleConfig(e)}register(e,t){e.registerContextScoped(i.DiscoverFeaturesApi),e.registerInstance(o.DiscoverFeaturesModuleConfig,this.config),e.registerSingleton(a.V1DiscoverFeaturesService),e.registerSingleton(s.V2DiscoverFeaturesService),t.register(new n.Protocol({id:"https://didcomm.org/discover-features/1.0",roles:["requester","responder"]}),new n.Protocol({id:"https://didcomm.org/discover-features/2.0",roles:["requester","responder"]}))}}t.DiscoverFeaturesModule=l},90225:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoverFeaturesModuleConfig=void 0;class r{constructor(e){this.options=null!=e?e:{}}get autoAcceptQueries(){var e;return null===(e=this.options.autoAcceptQueries)||void 0===e||e}}t.DiscoverFeaturesModuleConfig=r},12398:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(99413),t),i(r(35355),t),i(r(29510),t),i(r(12680),t)},12680:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(79199),t),i(r(62034),t)},47678:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.V1DiscoverFeaturesService=void 0;let a=r(26852),s=r(30183),l=r(86865),c=r(36849),u=r(55090),d=r(99997),f=r(90978),p=r(35355),h=r(90225),y=r(26645),g=r(22887),v=r(75317),m=class extends y.DiscoverFeaturesService{constructor(e,t,r,n,i){super(e,t,n,i),this.version="v1",this.registerMessageHandlers(r)}registerMessageHandlers(e){e.registerMessageHandler(new g.V1DiscloseMessageHandler(this)),e.registerMessageHandler(new g.V1QueryMessageHandler(this))}async createQuery(e){if(e.queries.length>1)throw new d.AriesFrameworkError("Discover Features V1 only supports a single query");if("protocol"!==e.queries[0].featureType)throw new d.AriesFrameworkError("Discover Features V1 only supports querying for protocol support");let t=new v.V1QueryMessage({query:e.queries[0].match,comment:e.comment});return{message:t}}async processQuery(e){let{query:t,threadId:r}=e.message,n=e.assertReadyConnection();if(this.eventEmitter.emit(e.agentContext,{type:p.DiscoverFeaturesEventTypes.QueryReceived,payload:{message:e.message,connection:n,queries:[{featureType:"protocol",match:t}],protocolVersion:this.version,threadId:r}}),this.discoverFeaturesModuleConfig.autoAcceptQueries)return await this.createDisclosure({threadId:r,disclosureQueries:[{featureType:"protocol",match:t}]})}async createDisclosure(e){if(e.disclosureQueries.some(e=>"protocol"!==e.featureType))throw new d.AriesFrameworkError("Discover Features V1 only supports protocols");if(!e.threadId)throw new d.AriesFrameworkError("Thread Id is required for Discover Features V1 disclosure");let t=this.featureRegistry.query(...e.disclosureQueries),r=new v.V1DiscloseMessage({threadId:e.threadId,protocols:t.map(e=>new v.DiscloseProtocol({protocolId:e.id,roles:e.roles}))});return{message:r}}async processDisclosure(e){let{protocols:t,threadId:r}=e.message,n=e.assertReadyConnection();this.eventEmitter.emit(e.agentContext,{type:p.DiscoverFeaturesEventTypes.DisclosureReceived,payload:{message:e.message,connection:n,disclosures:t.map(e=>new c.Protocol({id:e.protocolId,roles:e.roles})),protocolVersion:this.version,threadId:r}})}};m=n([(0,f.injectable)(),o(3,(0,f.inject)(u.InjectionSymbols.Logger)),i("design:paramtypes",[s.FeatureRegistry,a.EventEmitter,l.MessageHandlerRegistry,Object,h.DiscoverFeaturesModuleConfig])],m),t.V1DiscoverFeaturesService=m},87414:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V1DiscloseMessageHandler=void 0;let n=r(75317);class i{constructor(e){this.supportedMessages=[n.V1DiscloseMessage],this.discoverFeaturesService=e}async handle(e){await this.discoverFeaturesService.processDisclosure(e)}}t.V1DiscloseMessageHandler=i},84006:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V1QueryMessageHandler=void 0;let n=r(36849),i=r(75317);class o{constructor(e){this.supportedMessages=[i.V1QueryMessage],this.discoverFeaturesService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.discoverFeaturesService.processQuery(e);if(r)return new n.OutboundMessageContext(r.message,{agentContext:e.agentContext,connection:t})}}t.V1QueryMessageHandler=o},22887:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87414),t),i(r(84006),t)},79199:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(47678),t),i(r(75317),t)},12675:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1DiscloseMessage=t.DiscloseProtocol=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c{constructor(e){e&&(this.protocolId=e.protocolId,this.roles=e.roles)}}n([(0,o.Expose)({name:"pid"}),(0,a.IsString)(),i("design:type",String)],c.prototype,"protocolId",void 0),n([(0,a.IsString)({each:!0}),(0,a.IsOptional)(),i("design:type",Array)],c.prototype,"roles",void 0),t.DiscloseProtocol=c;class u extends s.AgentMessage{constructor(e){var t;super(),this.type=u.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.protocols=e.protocols.map(e=>new c(e)),this.setThread({threadId:e.threadId}))}}u.type=(0,l.parseMessageType)("https://didcomm.org/discover-features/1.0/disclose"),n([(0,l.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsInstance)(c,{each:!0}),(0,o.Type)(()=>c),i("design:type",Array)],u.prototype,"protocols",void 0),t.V1DiscloseMessage=u},68455:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1QueryMessage=void 0;let o=r(56988),a=r(92583),s=r(51465);class l extends a.AgentMessage{constructor(e){var t;super(),this.type=l.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.query=e.query,this.comment=e.comment)}}l.type=(0,s.parseMessageType)("https://didcomm.org/discover-features/1.0/query"),n([(0,s.IsValidMessageType)(l.type),i("design:type",Object)],l.prototype,"type",void 0),n([(0,o.IsString)(),i("design:type",String)],l.prototype,"query",void 0),n([(0,o.IsString)(),(0,o.IsOptional)(),i("design:type",String)],l.prototype,"comment",void 0),t.V1QueryMessage=l},75317:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12675),t),i(r(68455),t)},60592:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.V2DiscoverFeaturesService=void 0;let a=r(26852),s=r(30183),l=r(86865),c=r(55090),u=r(90978),d=r(35355),f=r(90225),p=r(26645),h=r(61038),y=r(84650),g=class extends p.DiscoverFeaturesService{constructor(e,t,r,n,i){super(e,t,n,i),this.version="v2",this.registerMessageHandlers(r)}registerMessageHandlers(e){e.registerMessageHandler(new h.V2DisclosuresMessageHandler(this)),e.registerMessageHandler(new h.V2QueriesMessageHandler(this))}async createQuery(e){let t=new y.V2QueriesMessage({queries:e.queries});return{message:t}}async processQuery(e){let{queries:t,threadId:r}=e.message,n=e.assertReadyConnection();if(this.eventEmitter.emit(e.agentContext,{type:d.DiscoverFeaturesEventTypes.QueryReceived,payload:{message:e.message,connection:n,queries:t,protocolVersion:this.version,threadId:r}}),this.discoverFeaturesModuleConfig.autoAcceptQueries)return await this.createDisclosure({threadId:r,disclosureQueries:t})}async createDisclosure(e){let t=this.featureRegistry.query(...e.disclosureQueries),r=new y.V2DisclosuresMessage({threadId:e.threadId,features:t});return{message:r}}async processDisclosure(e){let{disclosures:t,threadId:r}=e.message,n=e.assertReadyConnection();this.eventEmitter.emit(e.agentContext,{type:d.DiscoverFeaturesEventTypes.DisclosureReceived,payload:{message:e.message,connection:n,disclosures:t,protocolVersion:this.version,threadId:r}})}};g=n([(0,u.injectable)(),o(3,(0,u.inject)(c.InjectionSymbols.Logger)),i("design:paramtypes",[s.FeatureRegistry,a.EventEmitter,l.MessageHandlerRegistry,Object,f.DiscoverFeaturesModuleConfig])],g),t.V2DiscoverFeaturesService=g},77111:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2DisclosuresMessageHandler=void 0;let n=r(84650);class i{constructor(e){this.supportedMessages=[n.V2DisclosuresMessage],this.discoverFeaturesService=e}async handle(e){await this.discoverFeaturesService.processDisclosure(e)}}t.V2DisclosuresMessageHandler=i},52326:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2QueriesMessageHandler=void 0;let n=r(36849),i=r(84650);class o{constructor(e){this.supportedMessages=[i.V2QueriesMessage],this.discoverFeaturesService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.discoverFeaturesService.processQuery(e);if(r)return new n.OutboundMessageContext(r.message,{agentContext:e.agentContext,connection:t})}}t.V2QueriesMessageHandler=o},61038:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(77111),t),i(r(52326),t)},62034:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60592),t),i(r(84650),t)},88970:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2DisclosuresMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(36849),c=r(51465);class u extends s.AgentMessage{constructor(e){var t,r;super(),this.type=u.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.disclosures=null!==(r=e.features)&&void 0!==r?r:[],e.threadId&&this.setThread({threadId:e.threadId}))}}u.type=(0,c.parseMessageType)("https://didcomm.org/discover-features/2.0/disclosures"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsInstance)(l.Feature,{each:!0}),(0,o.Type)(()=>l.Feature),i("design:type",Array)],u.prototype,"disclosures",void 0),t.V2DisclosuresMessage=u},8693:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2QueriesMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(36849),c=r(51465);class u extends s.AgentMessage{constructor(e){var t;super(),this.type=u.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.queries=e.queries.map(e=>new l.FeatureQuery(e)))}}u.type=(0,c.parseMessageType)("https://didcomm.org/discover-features/2.0/queries"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsInstance)(l.FeatureQuery,{each:!0}),(0,o.Type)(()=>l.FeatureQuery),(0,a.ArrayNotEmpty)(),i("design:type",Array)],u.prototype,"queries",void 0),t.V2QueriesMessage=u},84650:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(88970),t),i(r(8693),t)},96541:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiscoverFeaturesService=void 0;class r{constructor(e,t,r,n){this.featureRegistry=e,this.eventEmitter=t,this.logger=r,this.discoverFeaturesModuleConfig=n}}t.DiscoverFeaturesService=r},26645:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96541),t)},75435:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GenericRecordsApi=void 0;let a=r(77858),s=r(55090),l=r(90978),c=r(72414),u=class{constructor(e,t,r){this.genericRecordsService=e,this.logger=t,this.agentContext=r}async save({content:e,tags:t,id:r}){try{let n=await this.genericRecordsService.save(this.agentContext,{id:r,content:e,tags:t});return n}catch(t){throw this.logger.error("Error while saving generic-record",{error:t,content:e,errorMessage:t instanceof Error?t.message:t}),t}}async delete(e){try{await this.genericRecordsService.delete(this.agentContext,e)}catch(t){throw this.logger.error("Error while saving generic-record",{error:t,content:e.content,errorMessage:t instanceof Error?t.message:t}),t}}async deleteById(e){await this.genericRecordsService.deleteById(this.agentContext,e)}async update(e){try{await this.genericRecordsService.update(this.agentContext,e)}catch(t){throw this.logger.error("Error while update generic-record",{error:t,content:e.content,errorMessage:t instanceof Error?t.message:t}),t}}async findById(e){return this.genericRecordsService.findById(this.agentContext,e)}async findAllByQuery(e){return this.genericRecordsService.findAllByQuery(this.agentContext,e)}async getAll(){return this.genericRecordsService.getAll(this.agentContext)}};u=n([(0,l.injectable)(),o(1,(0,l.inject)(s.InjectionSymbols.Logger)),i("design:paramtypes",[c.GenericRecordService,Object,a.AgentContext])],u),t.GenericRecordsApi=u},92673:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericRecordsModule=void 0;let n=r(75435),i=r(84238),o=r(72414);class a{constructor(){this.api=n.GenericRecordsApi}register(e){e.registerContextScoped(n.GenericRecordsApi),e.registerSingleton(o.GenericRecordService),e.registerSingleton(i.GenericRecordsRepository)}}t.GenericRecordsModule=a},52414:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(75435),t),i(r(92673),t)},75952:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GenericRecord=void 0;let n=r(79493),i=r(15169);class o extends n.BaseRecord{constructor(e){var t,r,n;super(),this.type=o.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,i.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.content=e.content,this._tags=null!==(n=e.tags)&&void 0!==n?n:{})}getTags(){return Object.assign({},this._tags)}}t.GenericRecord=o,o.type="GenericRecord"},84238:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.GenericRecordsRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(75952),d=class extends c.Repository{constructor(e,t){super(u.GenericRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.GenericRecordsRepository=d},72414:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.GenericRecordService=void 0;let o=r(99997),a=r(90978),s=r(75952),l=r(84238),c=class{constructor(e){this.genericRecordsRepository=e}async save(e,{content:t,tags:r,id:n}){let i=new s.GenericRecord({id:n,content:t,tags:r});try{return await this.genericRecordsRepository.save(e,i),i}catch(e){throw new o.AriesFrameworkError(`Unable to store the genericRecord record with id ${i.id}. Message: ${e}`)}}async delete(e,t){try{await this.genericRecordsRepository.delete(e,t)}catch(e){throw new o.AriesFrameworkError(`Unable to delete the genericRecord record with id ${t.id}. Message: ${e}`)}}async deleteById(e,t){await this.genericRecordsRepository.deleteById(e,t)}async update(e,t){try{await this.genericRecordsRepository.update(e,t)}catch(e){throw new o.AriesFrameworkError(`Unable to update the genericRecord record with id ${t.id}. Message: ${e}`)}}async findAllByQuery(e,t){return this.genericRecordsRepository.findByQuery(e,t)}async findById(e,t){return this.genericRecordsRepository.findById(e,t)}async getAll(e){return this.genericRecordsRepository.getAll(e)}};c=n([(0,a.injectable)(),i("design:paramtypes",[l.GenericRecordsRepository])],c),t.GenericRecordService=c},60428:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePickupApi=void 0;let a=r(77858),s=r(24446),l=r(36849),c=r(55090),u=r(99997),d=r(90978),f=r(83564),p=r(20308),h=class{constructor(e,t,r,n,i){this.messageSender=e,this.connectionService=r,this.agentContext=t,this.config=n,this.logger=i}getProtocol(e){let t=this.config.protocols.find(t=>t.version===e);if(!t)throw new u.AriesFrameworkError(`No message pickup protocol registered for protocol version ${e}`);return t}async queueMessage(e){this.logger.debug("Queuing message...");let t=await this.connectionService.getById(this.agentContext,e.connectionId),r=this.agentContext.dependencyManager.resolve(c.InjectionSymbols.MessageRepository);await r.add(t.id,e.message)}async pickupMessages(e){let t=await this.connectionService.getById(this.agentContext,e.connectionId),r=this.getProtocol(e.protocolVersion),{message:n}=await r.pickupMessages(this.agentContext,{connectionRecord:t,batchSize:e.batchSize,recipientKey:e.recipientKey});await this.messageSender.sendMessage(new l.OutboundMessageContext(n,{agentContext:this.agentContext,connection:t}))}};h=n([(0,d.injectable)(),o(4,(0,d.inject)(c.InjectionSymbols.Logger)),i("design:paramtypes",[s.MessageSender,a.AgentContext,f.ConnectionService,p.MessagePickupModuleConfig,Object])],h),t.MessagePickupApi=h},49554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePickupModule=void 0;let n=r(55090),i=r(60428),o=r(20308),a=r(87461);class s{constructor(e){var t;this.api=i.MessagePickupApi,this.config=new o.MessagePickupModuleConfig(Object.assign(Object.assign({},e),{protocols:null!==(t=null==e?void 0:e.protocols)&&void 0!==t?t:[new a.V1MessagePickupProtocol,new a.V2MessagePickupProtocol]}))}register(e,t){for(let r of(e.registerContextScoped(i.MessagePickupApi),e.registerInstance(o.MessagePickupModuleConfig,this.config),this.config.messageRepository&&e.registerInstance(n.InjectionSymbols.MessageRepository,this.config.messageRepository),this.config.protocols))r.register(e,t)}}t.MessagePickupModule=s},20308:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessagePickupModuleConfig=void 0;class r{constructor(e){this.options=e}get maximumBatchSize(){var e;return null!==(e=this.options.maximumBatchSize)&&void 0!==e?e:10}get protocols(){return this.options.protocols}get messageRepository(){return this.options.messageRepository}}t.MessagePickupModuleConfig=r},37761:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60428),t),i(r(49554),t),i(r(67162),t),i(r(20308),t),i(r(87461),t)},70630:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMessagePickupProtocol=void 0;class r{}t.BaseMessagePickupProtocol=r},87461:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(18898),t),i(r(26428),t)},73673:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1MessagePickupProtocol=void 0;let o=r(36849),a=r(55090),s=r(90978),l=r(20308),c=r(70630),u=r(10902),d=r(59333),f=class extends c.BaseMessagePickupProtocol{constructor(){super(),this.version="v1"}register(e,t){e.registerMessageHandlers([new u.V1BatchPickupHandler(this),new u.V1BatchHandler]),t.register(new o.Protocol({id:"https://didcomm.org/messagepickup/1.0",roles:["message_holder","recipient","batch_sender","batch_recipient"]}))}async pickupMessages(e,t){let{connectionRecord:r,batchSize:n}=t;r.assertReady();let i=e.dependencyManager.resolve(l.MessagePickupModuleConfig),o=new d.V1BatchPickupMessage({batchSize:null!=n?n:i.maximumBatchSize});return{message:o}}async processBatchPickup(e){let t=e.assertReadyConnection(),{message:r}=e,n=e.agentContext.dependencyManager.resolve(a.InjectionSymbols.MessageRepository),i=await n.takeFromQueue(t.id,r.batchSize),s=i.map(e=>new d.BatchMessageMessage({message:e})),l=new d.V1BatchMessage({messages:s});return new o.OutboundMessageContext(l,{agentContext:e.agentContext,connection:t})}};f=n([(0,s.injectable)(),i("design:paramtypes",[])],f),t.V1MessagePickupProtocol=f},46906:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V1BatchHandler=void 0;let n=r(26852),i=r(59078),o=r(59333);class a{constructor(){this.supportedMessages=[o.V1BatchMessage]}async handle(e){let{message:t}=e,r=e.agentContext.dependencyManager.resolve(n.EventEmitter);e.assertReadyConnection();let o=t.messages;o.forEach(t=>{r.emit(e.agentContext,{type:i.AgentEventTypes.AgentMessageReceived,payload:{message:t.message,contextCorrelationId:e.agentContext.contextCorrelationId}})})}}t.V1BatchHandler=a},15301:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V1BatchPickupHandler=void 0;let n=r(59333);class i{constructor(e){this.supportedMessages=[n.V1BatchPickupMessage],this.messagePickupService=e}async handle(e){return e.assertReadyConnection(),this.messagePickupService.processBatchPickup(e)}}t.V1BatchPickupHandler=i},10902:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46906),t),i(r(15301),t)},18898:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(73673),t),i(r(59333),t)},29030:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1BatchMessage=t.BatchMessageMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51071),c=r(51465),u=r(15169);class d{constructor(e){e&&(this.id=e.id||(0,u.uuid)(),this.message=e.message)}}n([(0,a.Matches)(l.MessageIdRegExp),i("design:type",String)],d.prototype,"id",void 0),n([(0,a.IsObject)(),i("design:type",Object)],d.prototype,"message",void 0),t.BatchMessageMessage=d;class f extends s.AgentMessage{constructor(e){super(),this.type=f.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.messages=e.messages)}}f.type=(0,c.parseMessageType)("https://didcomm.org/messagepickup/1.0/batch"),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,o.Type)(()=>d),(0,a.IsArray)(),(0,a.ValidateNested)(),(0,a.IsInstance)(d,{each:!0}),(0,o.Expose)({name:"messages~attach"}),i("design:type",Array)],f.prototype,"messages",void 0),t.V1BatchMessage=f},21547:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V1BatchPickupMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){super(),this.type=c.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.batchSize=e.batchSize)}}c.type=(0,l.parseMessageType)("https://didcomm.org/messagepickup/1.0/batch-pickup"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsInt)(),(0,o.Expose)({name:"batch_size"}),i("design:type",Number)],c.prototype,"batchSize",void 0),t.V1BatchPickupMessage=c},59333:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(29030),t),i(r(21547),t)},5235:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2MessagePickupProtocol=void 0;let o=r(26852),a=r(59078),s=r(24446),l=r(36849),c=r(55090),u=r(22548),d=r(99997),f=r(90978),p=r(52560),h=r(17423),y=r(43285),g=r(20308),v=r(70630),m=r(67190),b=r(29105),_=class extends v.BaseMessagePickupProtocol{constructor(){super(),this.version="v2"}register(e,t){e.registerMessageHandlers([new m.V2StatusRequestHandler(this),new m.V2DeliveryRequestHandler(this),new m.V2MessagesReceivedHandler(this),new m.V2StatusHandler(this),new m.V2MessageDeliveryHandler(this)]),t.register(new l.Protocol({id:"https://didcomm.org/messagepickup/2.0",roles:["mediator","recipient"]}))}async pickupMessages(e,t){let{connectionRecord:r,recipientKey:n}=t;r.assertReady();let i=new b.V2StatusRequestMessage({recipientKey:n});return{message:i}}async processStatusRequest(e){let t=e.assertReadyConnection(),r=e.agentContext.dependencyManager.resolve(c.InjectionSymbols.MessageRepository);if(e.message.recipientKey)throw new d.AriesFrameworkError("recipient_key parameter not supported");let n=new b.V2StatusMessage({threadId:e.message.threadId,messageCount:await r.getAvailableMessageCount(t.id)});return new l.OutboundMessageContext(n,{agentContext:e.agentContext,connection:t})}async processDeliveryRequest(e){let t=e.assertReadyConnection();if(e.message.recipientKey)throw new d.AriesFrameworkError("recipient_key parameter not supported");let{message:r}=e,n=e.agentContext.dependencyManager.resolve(c.InjectionSymbols.MessageRepository),i=await n.takeFromQueue(t.id,r.limit,!0),o=i.map(e=>new u.Attachment({data:{json:e}})),a=i.length>0?new b.V2MessageDeliveryMessage({threadId:e.message.threadId,attachments:o}):new b.V2StatusMessage({threadId:e.message.threadId,messageCount:0});return new l.OutboundMessageContext(a,{agentContext:e.agentContext,connection:t})}async processMessagesReceived(e){let t=e.assertReadyConnection(),{message:r}=e,n=e.agentContext.dependencyManager.resolve(c.InjectionSymbols.MessageRepository);await n.takeFromQueue(t.id,r.messageIdList?r.messageIdList.length:void 0);let i=new b.V2StatusMessage({threadId:e.message.threadId,messageCount:await n.getAvailableMessageCount(t.id)});return new l.OutboundMessageContext(i,{agentContext:e.agentContext,connection:t})}async processStatus(e){let t=e.assertReadyConnection(),{message:r}=e,{messageCount:n,recipientKey:i}=r,o=e.agentContext.dependencyManager.resolve(p.ConnectionService),a=e.agentContext.dependencyManager.resolve(s.MessageSender),c=e.agentContext.dependencyManager.resolve(g.MessagePickupModuleConfig);if(0===n){let{message:r,connectionRecord:n}=await o.createTrustPing(e.agentContext,t,{responseRequested:!1});return await a.sendMessage(new l.OutboundMessageContext(r,{agentContext:e.agentContext,connection:n}),{transportPriority:{schemes:["ws","wss"],restrictive:!0}}),null}let{maximumBatchSize:u}=c,d=new b.V2DeliveryRequestMessage({limit:n<u?n:u,recipientKey:i});return d}async processDelivery(e){e.assertReadyConnection();let{appendedAttachments:t}=e.message,r=e.agentContext.dependencyManager.resolve(o.EventEmitter);if(!t)throw new h.ProblemReportError("Error processing attachments",{problemCode:y.RoutingProblemReportReason.ErrorProcessingAttachments});let n=[];for(let i of t)n.push(i.id),r.emit(e.agentContext,{type:a.AgentEventTypes.AgentMessageReceived,payload:{message:i.getDataAsJson(),contextCorrelationId:e.agentContext.contextCorrelationId}});return new b.V2MessagesReceivedMessage({messageIdList:n})}};_=n([(0,f.injectable)(),i("design:paramtypes",[])],_),t.V2MessagePickupProtocol=_},81024:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2DeliveryRequestHandler=void 0;let n=r(29105);class i{constructor(e){this.supportedMessages=[n.V2DeliveryRequestMessage],this.messagePickupService=e}async handle(e){return e.assertReadyConnection(),this.messagePickupService.processDeliveryRequest(e)}}t.V2DeliveryRequestHandler=i},4647:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2MessageDeliveryHandler=void 0;let n=r(36849),i=r(83805);class o{constructor(e){this.supportedMessages=[i.V2MessageDeliveryMessage],this.messagePickupService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.messagePickupService.processDelivery(e);if(r)return new n.OutboundMessageContext(r,{agentContext:e.agentContext,connection:t})}}t.V2MessageDeliveryHandler=o},36353:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2MessagesReceivedHandler=void 0;let n=r(29105);class i{constructor(e){this.supportedMessages=[n.V2MessagesReceivedMessage],this.messagePickupService=e}async handle(e){return e.assertReadyConnection(),this.messagePickupService.processMessagesReceived(e)}}t.V2MessagesReceivedHandler=i},64896:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2StatusHandler=void 0;let n=r(36849),i=r(29105);class o{constructor(e){this.supportedMessages=[i.V2StatusMessage],this.messagePickupService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.messagePickupService.processStatus(e);if(r)return new n.OutboundMessageContext(r,{agentContext:e.agentContext,connection:t})}}t.V2StatusHandler=o},93435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2StatusRequestHandler=void 0;let n=r(29105);class i{constructor(e){this.supportedMessages=[n.V2StatusRequestMessage],this.messagePickupService=e}async handle(e){return e.assertReadyConnection(),this.messagePickupService.processStatusRequest(e)}}t.V2StatusRequestHandler=i},67190:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(81024),t),i(r(4647),t),i(r(36353),t),i(r(64896),t),i(r(93435),t)},26428:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5235),t),i(r(29105),t)},14918:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2DeliveryRequestMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(40946),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.recipientKey=e.recipientKey,this.limit=e.limit),this.setReturnRouting(l.ReturnRouteTypes.all)}}u.type=(0,c.parseMessageType)("https://didcomm.org/messagepickup/2.0/delivery-request"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),(0,o.Expose)({name:"recipient_key"}),i("design:type",String)],u.prototype,"recipientKey",void 0),n([(0,a.IsInt)(),i("design:type",Number)],u.prototype,"limit",void 0),t.V2DeliveryRequestMessage=u},83805:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2MessageDeliveryMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(40946),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.recipientKey=e.recipientKey,this.appendedAttachments=e.attachments,this.setThread({threadId:e.threadId})),this.setReturnRouting(l.ReturnRouteTypes.all)}}u.type=(0,c.parseMessageType)("https://didcomm.org/messagepickup/2.0/delivery"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),(0,o.Expose)({name:"recipient_key"}),i("design:type",String)],u.prototype,"recipientKey",void 0),t.V2MessageDeliveryMessage=u},143:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2MessagesReceivedMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(40946),c=r(51465);class u extends s.AgentMessage{constructor(e){super(),this.type=u.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.messageIdList=e.messageIdList),this.setReturnRouting(l.ReturnRouteTypes.all)}}u.type=(0,c.parseMessageType)("https://didcomm.org/messagepickup/2.0/messages-received"),n([(0,c.IsValidMessageType)(u.type),i("design:type",Object)],u.prototype,"type",void 0),n([(0,a.IsArray)(),(0,a.IsOptional)(),(0,o.Expose)({name:"message_id_list"}),i("design:type",Array)],u.prototype,"messageIdList",void 0),t.V2MessagesReceivedMessage=u},61982:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2StatusMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(40946),c=r(51465),u=r(26086);class d extends s.AgentMessage{constructor(e){super(),this.type=d.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.recipientKey=e.recipientKey,this.messageCount=e.messageCount,this.longestWaitedSeconds=e.longestWaitedSeconds,this.newestReceivedTime=e.newestReceivedTime,this.oldestReceivedTime=e.oldestReceivedTime,this.totalBytes=e.totalBytes,this.liveDelivery=e.liveDelivery,this.setThread({threadId:e.threadId})),this.setReturnRouting(l.ReturnRouteTypes.all)}}d.type=(0,c.parseMessageType)("https://didcomm.org/messagepickup/2.0/status"),n([(0,c.IsValidMessageType)(d.type),i("design:type",Object)],d.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),(0,o.Expose)({name:"recipient_key"}),i("design:type",String)],d.prototype,"recipientKey",void 0),n([(0,a.IsInt)(),(0,o.Expose)({name:"message_count"}),i("design:type",Number)],d.prototype,"messageCount",void 0),n([(0,a.IsInt)(),(0,a.IsOptional)(),(0,o.Expose)({name:"longest_waited_seconds"}),i("design:type",Number)],d.prototype,"longestWaitedSeconds",void 0),n([(0,o.Expose)({name:"newest_received_time"}),(0,o.Transform)(({value:e})=>(0,u.DateParser)(e)),(0,a.IsDate)(),(0,a.IsOptional)(),i("design:type",Date)],d.prototype,"newestReceivedTime",void 0),n([(0,a.IsOptional)(),(0,o.Transform)(({value:e})=>(0,u.DateParser)(e)),(0,a.IsDate)(),(0,o.Expose)({name:"oldest_received_time"}),i("design:type",Date)],d.prototype,"oldestReceivedTime",void 0),n([(0,a.IsOptional)(),(0,a.IsInt)(),(0,o.Expose)({name:"total_bytes"}),i("design:type",Number)],d.prototype,"totalBytes",void 0),n([(0,a.IsOptional)(),(0,a.IsBoolean)(),(0,o.Expose)({name:"live_delivery"}),i("design:type",Boolean)],d.prototype,"liveDelivery",void 0),t.V2StatusMessage=d},41391:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2StatusRequestMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){super(),this.type=c.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.recipientKey=e.recipientKey)}}c.type=(0,l.parseMessageType)("https://didcomm.org/messagepickup/2.0/status-request"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),(0,o.Expose)({name:"recipient_key"}),i("design:type",String)],c.prototype,"recipientKey",void 0),t.V2StatusRequestMessage=c},29105:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(14918),t),i(r(83805),t),i(r(143),t),i(r(61982),t),i(r(41391),t)},67759:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandApi=void 0;let a=r(21233),s=r(77858),l=r(26852),c=r(59078),u=r(86865),d=r(24446),f=r(36849),p=r(55090),h=r(91478),y=r(11938),g=r(99997),v=r(90978),m=r(23333),b=r(51465),_=r(9522),w=r(52560),S=r(30376),O=r(83296),M=r(61428),R=r(50197),P=r(23823),E=r(14601),I=r(61771),x=r(17155),A=r(7867),C=r(89878),j=r(22109),T=r(38395),$=r(69510),D=r(35488),N=r(35381),k=["didcomm/aip1","didcomm/aip2;env=rfc19"],B=class{constructor(e,t,r,n,i,o,a,s,l){this.messageHandlerRegistry=e,this.didCommDocumentService=t,this.agentContext=l,this.logger=s,this.outOfBandService=r,this.routingService=n,this.connectionsApi=i,this.messageSender=o,this.eventEmitter=a,this.registerMessageHandlers(e)}async createInvitation(e={}){var t,r,n,i,o,a;let s;let l=null!==(t=e.multiUseInvitation)&&void 0!==t&&t,c=null===(r=e.handshake)||void 0===r||r,u=e.handshakeProtocols,d=null!==(n=e.autoAcceptConnection)&&void 0!==n?n:this.connectionsApi.config.autoAcceptConnections,f=e.messages&&e.messages.length>0?e.messages:void 0,p=null!==(i=e.label)&&void 0!==i?i:this.agentContext.config.label,h=null!==(o=e.imageUrl)&&void 0!==o?o:this.agentContext.config.connectionImageUrl,y=e.appendedAttachments&&e.appendedAttachments.length>0?e.appendedAttachments:void 0;if(!c&&!f)throw new g.AriesFrameworkError("One or both of handshake_protocols and requests~attach MUST be included in the message.");if(!c&&u)throw new g.AriesFrameworkError("Attribute 'handshake' can not be 'false' when 'handshakeProtocols' is defined.");if(f&&l)throw new g.AriesFrameworkError("Attribute 'multiUseInvitation' can not be 'true' when 'messages' is defined.");c&&(u?(this.assertHandshakeProtocols(u),s=u):s=this.getSupportedHandshakeProtocols());let v=null!==(a=e.routing)&&void 0!==a?a:await this.routingService.getRouting(this.agentContext,{}),m=v.endpoints.map((e,t)=>new P.OutOfBandDidCommService({id:`#inline-${t}`,serviceEndpoint:e,recipientKeys:[v.recipientKey].map(e=>new O.DidKey(e).did),routingKeys:v.routingKeys.map(e=>new O.DidKey(e).did)})),b={label:p,goal:e.goal,goalCode:e.goalCode,imageUrl:h,accept:k,services:m,handshakeProtocols:s,appendedAttachments:y},_=new T.OutOfBandInvitation(b);f&&f.forEach(e=>{e.service&&(e.service=void 0),_.addRequest(e)});let w=new D.OutOfBandRecord({mediatorId:v.mediatorId,role:I.OutOfBandRole.Sender,state:x.OutOfBandState.AwaitResponse,alias:e.alias,outOfBandInvitation:_,reusable:l,autoAcceptConnection:d,tags:{recipientKeyFingerprints:m.reduce((e,{recipientKeys:t})=>[...e,...t],[]).map(e=>O.DidKey.fromDid(e).key.fingerprint)}});return await this.outOfBandService.save(this.agentContext,w),this.outOfBandService.emitStateChangedEvent(this.agentContext,w,null),w}async createLegacyInvitation(e={}){let t=await this.createInvitation(Object.assign(Object.assign({},e),{handshakeProtocols:[w.HandshakeProtocol.Connections]}));t.metadata.set(N.OutOfBandRecordMetadataKeys.LegacyInvitation,{legacyInvitationType:T.InvitationType.Connection});let r=this.agentContext.dependencyManager.resolve($.OutOfBandRepository);return await r.update(this.agentContext,t),{outOfBandRecord:t,invitation:(0,j.convertToOldInvitation)(t.outOfBandInvitation)}}async createLegacyConnectionlessInvitation(e){let t=await this.createInvitation({messages:[e.message],routing:e.routing});t.metadata.set(N.OutOfBandRecordMetadataKeys.LegacyInvitation,{legacyInvitationType:T.InvitationType.Connectionless});let r=this.agentContext.dependencyManager.resolve($.OutOfBandRepository);await r.update(this.agentContext,t);let n=await this.outOfBandService.getResolvedServiceForOutOfBandServices(this.agentContext,t.outOfBandInvitation.getServices());return e.message.service=y.ServiceDecorator.fromResolvedDidCommService(n),{message:e.message,invitationUrl:`${e.domain}?d_m=${m.JsonEncoder.toBase64URL(m.JsonTransformer.toJSON(e.message))}`,outOfBandRecord:t}}async receiveInvitationFromUrl(e,t={}){let r=await this.parseInvitation(e);return this.receiveInvitation(r,t)}async parseInvitation(e){return(0,_.parseInvitationShortUrl)(e,this.agentContext.config.agentDependencies)}async receiveInvitation(e,t={}){return this._receiveInvitation(e,t)}async receiveImplicitInvitation(e){var t,r;let n=new T.OutOfBandInvitation({id:e.did,label:null!==(t=e.label)&&void 0!==t?t:"",services:[e.did],handshakeProtocols:null!==(r=e.handshakeProtocols)&&void 0!==r?r:[w.HandshakeProtocol.DidExchange]});return this._receiveInvitation(n,Object.assign(Object.assign({},e),{isImplicit:!0}))}async _receiveInvitation(e,t={}){var r,n,i,o,a;let s=e instanceof T.OutOfBandInvitation?e:(0,j.convertToNewInvitation)(e),{handshakeProtocols:l}=s,{routing:c}=t,u=null===(r=t.autoAcceptInvitation)||void 0===r||r,d=null===(n=t.autoAcceptConnection)||void 0===n||n,f=null!==(i=t.reuseConnection)&&void 0!==i&&i,p=null!==(o=t.label)&&void 0!==o?o:this.agentContext.config.label,h=t.alias,y=null!==(a=t.imageUrl)&&void 0!==a?a:this.agentContext.config.connectionImageUrl,v=s.getRequests(),m=void 0===l||0===l.length;if((!l||0===l.length)&&(!v||(null==v?void 0:v.length)===0))throw new g.AriesFrameworkError("One or both of handshake_protocols and requests~attach MUST be included in the message.");if(!t.isImplicit){let e=await this.outOfBandService.findAllByQuery(this.agentContext,{invitationId:s.id,role:I.OutOfBandRole.Receiver});if(e.length>0)throw new g.AriesFrameworkError(`An out of band record with invitation ${s.id} has already been received. Invitations should have a unique id.`)}let b=[];for(let e of s.getServices())if("string"==typeof e){this.logger.debug(`Resolving services for did ${e}.`);let t=await this.didCommDocumentService.resolveServicesFromDid(this.agentContext,e);b.push(...t.reduce((e,{recipientKeys:t})=>[...e,...t],[]).map(e=>e.fingerprint))}else b.push(...e.recipientKeys.map(e=>O.DidKey.fromDid(e).key.fingerprint));let _=new D.OutOfBandRecord({role:I.OutOfBandRole.Receiver,state:x.OutOfBandState.Initial,outOfBandInvitation:s,autoAcceptConnection:d,tags:{recipientKeyFingerprints:b},mediatorId:null==c?void 0:c.mediatorId});return(c&&(m||!u)&&(this.logger.debug("Storing routing for out of band invitation."),_.metadata.set(N.OutOfBandRecordMetadataKeys.RecipientRouting,{recipientKeyFingerprint:c.recipientKey.fingerprint,routingKeyFingerprints:c.routingKeys.map(e=>e.fingerprint),endpoints:c.endpoints,mediatorId:c.mediatorId})),s.invitationType&&s.invitationType!==T.InvitationType.OutOfBand&&_.metadata.set(N.OutOfBandRecordMetadataKeys.LegacyInvitation,{legacyInvitationType:s.invitationType}),await this.outOfBandService.save(this.agentContext,_),this.outOfBandService.emitStateChangedEvent(this.agentContext,_,null),u)?await this.acceptInvitation(_.id,{label:p,alias:h,imageUrl:y,autoAcceptConnection:d,reuseConnection:f,routing:c,timeoutMs:t.acceptInvitationTimeoutMs}):{outOfBandRecord:_}}async acceptInvitation(e,t){var r;let n=await this.outOfBandService.getById(this.agentContext,e),{outOfBandInvitation:i}=n,{label:o,alias:s,imageUrl:l,autoAcceptConnection:c,reuseConnection:u}=t,d=i.getServices(),f=i.getRequests(),p=null!==(r=t.timeoutMs)&&void 0!==r?r:2e4,y=t.routing,g=n.metadata.get(N.OutOfBandRecordMetadataKeys.RecipientRouting);!y&&g&&(y={recipientKey:h.Key.fromFingerprint(g.recipientKeyFingerprint),routingKeys:g.routingKeyFingerprints.map(e=>h.Key.fromFingerprint(e)),endpoints:g.endpoints,mediatorId:g.mediatorId});let{handshakeProtocols:v}=i,m=await this.findExistingConnection(i);if(await this.outOfBandService.updateState(this.agentContext,n,x.OutOfBandState.PrepareResponse),v){let e;if(this.logger.debug("Out of band message contains handshake protocols."),m&&u){if(this.logger.debug(`Connection already exists and reuse is enabled. Reusing an existing connection with ID ${m.id}.`),f)this.logger.debug(`Reusing existing connection ${m.id}.`),e=m;else{this.logger.debug("Out of band message does not contain any request messages.");let t=await this.handleHandshakeReuse(n,m);t?(this.logger.debug(`Handshake reuse successful. Reusing existing connection ${m.id}.`),e=m):this.logger.debug(`Handshake reuse failed. Not using existing connection ${m.id}.`)}}if(!e){this.logger.debug("Connection does not exist or reuse is disabled. Creating a new connection.");let t=this.getFirstSupportedProtocol(v);e=await this.connectionsApi.acceptOutOfBandInvitation(n,{label:o,alias:s,imageUrl:l,autoAcceptConnection:c,protocol:t,routing:y})}return f&&(this.logger.debug("Out of band message contains request messages."),e.isReady?await this.emitWithConnection(n,e,f):this.connectionsApi.returnWhenIsConnected(e.id,{timeoutMs:p}).then(e=>this.emitWithConnection(n,e,f)).catch(e=>{e instanceof a.EmptyError?this.logger.warn(`Agent unsubscribed before connection got into ${w.DidExchangeState.Completed} state`,e):this.logger.error("Promise waiting for the connection to be complete failed.",e)})),{outOfBandRecord:n,connectionRecord:e}}return f&&(this.logger.debug("Out of band message contains only request messages."),m?(this.logger.debug("Connection already exists.",{connectionId:m.id}),await this.emitWithConnection(n,m,f)):await this.emitWithServices(n,d,f)),{outOfBandRecord:n}}async findByReceivedInvitationId(e){return this.outOfBandService.findByReceivedInvitationId(this.agentContext,e)}async findByCreatedInvitationId(e){return this.outOfBandService.findByCreatedInvitationId(this.agentContext,e)}getAll(){return this.outOfBandService.getAll(this.agentContext)}findAllByQuery(e){return this.outOfBandService.findAllByQuery(this.agentContext,e)}getById(e){return this.outOfBandService.getById(this.agentContext,e)}findById(e){return this.outOfBandService.findById(this.agentContext,e)}async deleteById(e){let t=await this.getById(e),r=await this.connectionsApi.findAllByOutOfBandId(e);if(t.mediatorId&&(0===r.length||t.reusable)){let e=t.getTags().recipientKeyFingerprints.map(e=>h.Key.fromFingerprint(e));await this.routingService.removeRouting(this.agentContext,{recipientKeys:e,mediatorId:t.mediatorId})}return this.outOfBandService.deleteById(this.agentContext,e)}assertHandshakeProtocols(e){if(!this.areHandshakeProtocolsSupported(e)){let t=this.getSupportedHandshakeProtocols();throw new g.AriesFrameworkError(`Handshake protocols [${e}] are not supported. Supported protocols are [${t}]`)}}areHandshakeProtocolsSupported(e){let t=this.getSupportedHandshakeProtocols();return e.every(e=>t.includes(e))}getSupportedHandshakeProtocols(){let e=["https://didcomm.org/didexchange","https://didcomm.org/connections"],t=this.messageHandlerRegistry.filterSupportedProtocolsByMessageFamilies(e);if(0===t.length)throw new g.AriesFrameworkError("There is no handshake protocol supported. Agent can not create a connection.");let r=e.map(e=>t.find(t=>t.startsWith(e))).filter(e=>!!e);return r}getFirstSupportedProtocol(e){let t=this.getSupportedHandshakeProtocols(),r=e.find(e=>t.includes(e));if(!r)throw new g.AriesFrameworkError(`Handshake protocols [${e}] are not supported. Supported protocols are [${t}]`);return r}async findExistingConnection(e){for(let t of(this.logger.debug("Searching for an existing connection for out-of-band invitation.",{outOfBandInvitation:e}),e.invitationDids)){let e=await this.connectionsApi.findByInvitationDid(t);if(this.logger.debug(`Retrieved ${e.length} connections for invitation did ${t}`),1===e.length){let[t]=e;return t}if(e.length>1){this.logger.warn(`There is more than one connection created from invitationDid ${t}. Taking the first one.`);let[r]=e;return r}return null}}async emitWithConnection(e,t,r){let n=this.messageHandlerRegistry.supportedMessageTypes,i=r.find(e=>{let t=(0,b.parseMessageType)(e["@type"]);return n.find(e=>(0,b.supportsIncomingMessageType)(t,e))});if(!i)throw new g.AriesFrameworkError("There is no message in requests~attach supported by agent.");this.ensureParentThreadId(e,i),this.logger.debug(`Message with type ${i["@type"]} can be processed.`),this.eventEmitter.emit(this.agentContext,{type:c.AgentEventTypes.AgentMessageReceived,payload:{message:i,connection:t,contextCorrelationId:this.agentContext.contextCorrelationId}})}async emitWithServices(e,t,r){if(!t||0===t.length)throw new g.AriesFrameworkError("There are no services. We can not emit messages");let n=this.messageHandlerRegistry.supportedMessageTypes,i=r.find(e=>{let t=(0,b.parseMessageType)(e["@type"]);return n.find(e=>(0,b.supportsIncomingMessageType)(t,e))});if(!i)throw new g.AriesFrameworkError("There is no message in requests~attach supported by agent.");this.ensureParentThreadId(e,i),this.logger.debug(`Message with type ${i["@type"]} can be processed.`),this.eventEmitter.emit(this.agentContext,{type:c.AgentEventTypes.AgentMessageReceived,payload:{message:i,contextCorrelationId:this.agentContext.contextCorrelationId}})}ensureParentThreadId(e,t){var r;let n=e.metadata.get(N.OutOfBandRecordMetadataKeys.LegacyInvitation);if((null===(r=t["~thread"])||void 0===r?void 0:r.pthid)&&t["~thread"].pthid!==e.outOfBandInvitation.id)throw new g.AriesFrameworkError(`Out of band invitation requests~attach message contains parent thread id ${t["~thread"].pthid} that does not match the invitation id ${e.outOfBandInvitation.id}`);(null==n?void 0:n.legacyInvitationType)!==T.InvitationType.Connectionless&&(t["~thread"]||(t["~thread"]={}),t["~thread"].pthid=e.outOfBandInvitation.id)}async handleHandshakeReuse(e,t){let r=await this.outOfBandService.createHandShakeReuse(this.agentContext,e,t),n=(0,a.firstValueFrom)(this.eventEmitter.observable(E.OutOfBandEventTypes.HandshakeReused).pipe((0,c.filterContextCorrelationId)(this.agentContext.contextCorrelationId),(0,a.first)(n=>n.payload.reuseThreadId===r.threadId&&n.payload.outOfBandRecord.id===e.id&&n.payload.connectionRecord.id===t.id),(0,a.map)(()=>!0),(0,a.timeout)(15e3),(0,a.catchError)(()=>(0,a.of)(!1)))),i=new f.OutboundMessageContext(r,{agentContext:this.agentContext,connection:t});return await this.messageSender.sendMessage(i),n}registerMessageHandlers(e){e.registerMessageHandler(new A.HandshakeReuseHandler(this.outOfBandService)),e.registerMessageHandler(new C.HandshakeReuseAcceptedHandler(this.outOfBandService))}};B=n([(0,v.injectable)(),o(7,(0,v.inject)(p.InjectionSymbols.Logger)),i("design:paramtypes",[u.MessageHandlerRegistry,S.DidCommDocumentService,R.OutOfBandService,M.RoutingService,w.ConnectionsApi,d.MessageSender,l.EventEmitter,Object,s.AgentContext])],B),t.OutOfBandApi=B},45162:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandModule=void 0;let n=r(36849),i=r(67759),o=r(50197),a=r(69510);class s{constructor(){this.api=i.OutOfBandApi}register(e,t){e.registerContextScoped(i.OutOfBandApi),e.registerSingleton(o.OutOfBandService),e.registerSingleton(a.OutOfBandRepository),t.register(new n.Protocol({id:"https://didcomm.org/out-of-band/1.1",roles:["sender","receiver"]}))}}t.OutOfBandModule=s},50197:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandService=void 0;let o=r(26852),a=r(99997),s=r(90978),l=r(7996),c=r(83296),u=r(47025),d=r(14601),f=r(61771),p=r(17155),h=r(38395),y=r(15366),g=r(69510),v=class{constructor(e,t,r){this.outOfBandRepository=e,this.eventEmitter=t,this.didCommDocumentService=r}async createFromImplicitInvitation(e,t){let{did:r,threadId:n,handshakeProtocols:i,autoAcceptConnection:o,recipientKey:s}=t,l=(0,u.parseDid)(r),d=e.dependencyManager.resolve(c.DidsApi),[y]=await d.getCreatedDids({did:l.did});if(!y)throw new a.AriesFrameworkError(`Referenced public did ${r} not found.`);let v=new h.OutOfBandInvitation({id:r,label:"",services:[r],handshakeProtocols:i});v.setThread({threadId:n});let m=new g.OutOfBandRecord({role:f.OutOfBandRole.Sender,state:p.OutOfBandState.AwaitResponse,reusable:!0,autoAcceptConnection:null!=o&&o,outOfBandInvitation:v,tags:{recipientKeyFingerprints:[s.fingerprint]}});return await this.save(e,m),this.emitStateChangedEvent(e,m,null),m}async processHandshakeReuse(e){var t,r,n;let i=e.message,o=null===(t=i.thread)||void 0===t?void 0:t.parentThreadId;if(!o)throw new a.AriesFrameworkError("handshake-reuse message must have a parent thread id");let s=await this.findByCreatedInvitationId(e.agentContext,o);if(!s)throw new a.AriesFrameworkError("No out of band record found for handshake-reuse message");s.assertRole(f.OutOfBandRole.Sender),s.assertState(p.OutOfBandState.AwaitResponse);let l=null!==(n=null===(r=s.outOfBandInvitation.getRequests())||void 0===r?void 0:r.length)&&void 0!==n?n:0;if(l>0)throw new a.AriesFrameworkError("Handshake reuse should only be used when no requests are present");let c=e.assertReadyConnection();this.eventEmitter.emit(e.agentContext,{type:d.OutOfBandEventTypes.HandshakeReused,payload:{reuseThreadId:i.threadId,connectionRecord:c,outOfBandRecord:s}}),s.reusable||await this.updateState(e.agentContext,s,p.OutOfBandState.Done);let u=new y.HandshakeReuseAcceptedMessage({threadId:i.threadId,parentThreadId:o});return u}async processHandshakeReuseAccepted(e){var t;let r=e.message,n=null===(t=r.thread)||void 0===t?void 0:t.parentThreadId;if(!n)throw new a.AriesFrameworkError("handshake-reuse-accepted message must have a parent thread id");let i=await this.findByReceivedInvitationId(e.agentContext,n);if(!i)throw new a.AriesFrameworkError("No out of band record found for handshake-reuse-accepted message");i.assertRole(f.OutOfBandRole.Receiver),i.assertState(p.OutOfBandState.PrepareResponse);let o=e.assertReadyConnection();if(i.reuseConnectionId!==o.id)throw new a.AriesFrameworkError("handshake-reuse-accepted is not in response to a handshake-reuse message.");this.eventEmitter.emit(e.agentContext,{type:d.OutOfBandEventTypes.HandshakeReused,payload:{reuseThreadId:r.threadId,connectionRecord:o,outOfBandRecord:i}}),await this.updateState(e.agentContext,i,p.OutOfBandState.Done)}async createHandShakeReuse(e,t,r){let n=new h.HandshakeReuseMessage({parentThreadId:t.outOfBandInvitation.id});return t.reuseConnectionId=r.id,await this.outOfBandRepository.update(e,t),n}async save(e,t){return this.outOfBandRepository.save(e,t)}async updateState(e,t,r){let n=t.state;t.state=r,await this.outOfBandRepository.update(e,t),this.emitStateChangedEvent(e,t,n)}emitStateChangedEvent(e,t,r){this.eventEmitter.emit(e,{type:d.OutOfBandEventTypes.OutOfBandStateChanged,payload:{outOfBandRecord:t.clone(),previousState:r}})}async findById(e,t){return this.outOfBandRepository.findById(e,t)}async getById(e,t){return this.outOfBandRepository.getById(e,t)}async findByReceivedInvitationId(e,t){return this.outOfBandRepository.findSingleByQuery(e,{invitationId:t,role:f.OutOfBandRole.Receiver})}async findByCreatedInvitationId(e,t,r){return this.outOfBandRepository.findSingleByQuery(e,{invitationId:t,role:f.OutOfBandRole.Sender,threadId:r})}async findCreatedByRecipientKey(e,t){return this.outOfBandRepository.findSingleByQuery(e,{recipientKeyFingerprints:[t.fingerprint],role:f.OutOfBandRole.Sender})}async getAll(e){return this.outOfBandRepository.getAll(e)}async findAllByQuery(e,t){return this.outOfBandRepository.findByQuery(e,t)}async deleteById(e,t){let r=await this.getById(e,t);return this.outOfBandRepository.delete(e,r)}async getResolvedServiceForOutOfBandServices(e,t){for(let r of t){if("string"!=typeof r)return r.resolvedDidCommService;{let[t]=await this.didCommDocumentService.resolveServicesFromDid(e,r);if(t)return t}}throw new a.AriesFrameworkError("Could not extract a service from the out of band invitation.")}};v=n([(0,s.injectable)(),i("design:paramtypes",[g.OutOfBandRepository,o.EventEmitter,l.DidCommDocumentService])],v),t.OutOfBandService=v},23823:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandDidCommService=void 0;let o=r(56988),a=r(23333),s=r(83296);class l extends s.DidDocumentService{constructor(e){super(Object.assign(Object.assign({},e),{type:l.type})),e&&(this.recipientKeys=e.recipientKeys,this.routingKeys=e.routingKeys,this.accept=e.accept)}get resolvedDidCommService(){var e,t;return{id:this.id,recipientKeys:this.recipientKeys.map(e=>s.DidKey.fromDid(e).key),routingKeys:null!==(t=null===(e=this.routingKeys)||void 0===e?void 0:e.map(e=>s.DidKey.fromDid(e).key))&&void 0!==t?t:[],serviceEndpoint:this.serviceEndpoint}}static fromResolvedDidCommService(e){return new l({id:e.id,recipientKeys:e.recipientKeys.map(e=>new s.DidKey(e).did),routingKeys:e.routingKeys.map(e=>new s.DidKey(e).did),serviceEndpoint:e.serviceEndpoint})}}function c(e){return(0,o.ValidateBy)({name:"isDidKeyString",validator:{validate:e=>(0,o.isString)(e)&&(0,a.isDid)(e,"key"),defaultMessage:(0,o.buildMessage)(e=>e+"$property must be a did:key string",e)}},e)}l.type="did-communication",n([(0,o.ArrayNotEmpty)(),c({each:!0}),i("design:type",Array)],l.prototype,"recipientKeys",void 0),n([c({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],l.prototype,"routingKeys",void 0),n([(0,o.IsString)({each:!0}),(0,o.IsOptional)(),i("design:type",Array)],l.prototype,"accept",void 0),t.OutOfBandDidCommService=l},14601:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandEventTypes=void 0,(r=t.OutOfBandEventTypes||(t.OutOfBandEventTypes={})).OutOfBandStateChanged="OutOfBandStateChanged",r.HandshakeReused="HandshakeReused"},61771:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandRole=void 0,(r=t.OutOfBandRole||(t.OutOfBandRole={})).Sender="sender",r.Receiver="receiver"},17155:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandState=void 0,(r=t.OutOfBandState||(t.OutOfBandState={})).Initial="initial",r.AwaitResponse="await-response",r.PrepareResponse="prepare-response",r.Done="done"},89902:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(61771),t),i(r(17155),t),i(r(23823),t),i(r(14601),t)},89878:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeReuseAcceptedHandler=void 0;let n=r(15366);class i{constructor(e){this.supportedMessages=[n.HandshakeReuseAcceptedMessage],this.outOfBandService=e}async handle(e){e.assertReadyConnection(),await this.outOfBandService.processHandshakeReuseAccepted(e)}}t.HandshakeReuseAcceptedHandler=i},87953:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeReuseHandler=void 0;let n=r(36849),i=r(59085);class o{constructor(e){this.supportedMessages=[i.HandshakeReuseMessage],this.outOfBandService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.outOfBandService.processHandshakeReuse(e);return new n.OutboundMessageContext(r,{agentContext:e.agentContext,connection:t})}}t.HandshakeReuseHandler=o},7867:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87953),t)},22109:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToOldInvitation=t.convertToNewInvitation=void 0;let n=r(52560),i=r(78278),o=r(23823),a=r(38395);t.convertToNewInvitation=function(e){var t,r;let s;if(e.did)s=e.did;else if(e.serviceEndpoint&&e.recipientKeys&&e.recipientKeys.length>0)s=new o.OutOfBandDidCommService({id:"#inline",recipientKeys:null===(t=e.recipientKeys)||void 0===t?void 0:t.map(i.verkeyToDidKey),routingKeys:null===(r=e.routingKeys)||void 0===r?void 0:r.map(i.verkeyToDidKey),serviceEndpoint:e.serviceEndpoint});else throw Error("Missing required serviceEndpoint, routingKeys and/or did fields in connection invitation");let l={id:e.id,label:e.label,imageUrl:e.imageUrl,appendedAttachments:e.appendedAttachments,accept:["didcomm/aip1","didcomm/aip2;env=rfc19"],services:[s],handshakeProtocols:[n.HandshakeProtocol.Connections]},c=new a.OutOfBandInvitation(l);return c.invitationType=a.InvitationType.Connection,c},t.convertToOldInvitation=function(e){var t;let r;let[o]=e.getServices();r="string"==typeof o?{id:e.id,label:e.label,did:o,imageUrl:e.imageUrl,appendedAttachments:e.appendedAttachments}:{id:e.id,label:e.label,recipientKeys:o.recipientKeys.map(i.didKeyToVerkey),routingKeys:null===(t=o.routingKeys)||void 0===t?void 0:t.map(i.didKeyToVerkey),serviceEndpoint:o.serviceEndpoint,imageUrl:e.imageUrl,appendedAttachments:e.appendedAttachments};let a=new n.ConnectionInvitationMessage(r);return a}},40446:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38395),t),i(r(69510),t),i(r(67759),t),i(r(50197),t),i(r(45162),t),i(r(89902),t)},15366:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeReuseAcceptedMessage=void 0;let o=r(92583),a=r(51465);class s extends o.AgentMessage{constructor(e){var t;super(),this.type=s.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.setThread({threadId:e.threadId,parentThreadId:e.parentThreadId}))}}s.type=(0,a.parseMessageType)("https://didcomm.org/out-of-band/1.1/handshake-reuse-accepted"),n([(0,a.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.HandshakeReuseAcceptedMessage=s},59085:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.HandshakeReuseMessage=void 0;let o=r(92583),a=r(51465);class s extends o.AgentMessage{constructor(e){var t;super(),this.type=s.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.setThread({parentThreadId:e.parentThreadId}))}}s.type=(0,a.parseMessageType)("https://didcomm.org/out-of-band/1.1/handshake-reuse"),n([(0,a.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.HandshakeReuseMessage=s},45953:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationType=t.OutOfBandInvitation=void 0;let a=r(5902),s=r(56988),l=r(89291),c=r(92583),u=r(22548),d=r(99997),f=r(72589),p=r(9905),h=r(51465),y=r(62856),g=r(35700),v=r(23823);class m extends c.AgentMessage{constructor(e){var t;super(),this.type=m.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.label=e.label,this.goalCode=e.goalCode,this.goal=e.goal,this.accept=e.accept,this.handshakeProtocols=e.handshakeProtocols,this.services=e.services,this.imageUrl=e.imageUrl,this.appendedAttachments=e.appendedAttachments)}addRequest(e){this.requests||(this.requests=[]);let t=new u.Attachment({id:this.generateId(),mimeType:"application/json",data:new u.AttachmentData({base64:f.JsonEncoder.toBase64(e.toJSON())})});this.requests.push(t)}getRequests(){var e;return null===(e=this.requests)||void 0===e?void 0:e.map(e=>e.getDataAsJson())}toUrl({domain:e}){let t=this.toJSON(),r=f.JsonEncoder.toBase64URL(t),n=`${e}?oob=${r}`;return n}static fromUrl(e){let t=(0,l.parseUrl)(e).query,r=t.oob;if("string"==typeof r){let e=f.JsonEncoder.fromBase64(r),t=this.fromJson(e);return t}throw new d.AriesFrameworkError("InvitationUrl is invalid. It needs to contain one, and only one, of the following parameters; `oob`")}static fromJson(e){return p.JsonTransformer.fromJSON(e,m)}get invitationDids(){let e=this.getServices().map(e=>"string"==typeof e?e:(0,g.outOfBandServiceToNumAlgo2Did)(e));return e}getServices(){return this.services.map(e=>e instanceof String?e.toString():e)}getDidServices(){return this.getServices().filter(e=>"string"==typeof e)}getInlineServices(){return this.getServices().filter(e=>"string"!=typeof e)}}m.type=(0,h.parseMessageType)("https://didcomm.org/out-of-band/1.1/invitation"),i([(0,a.Exclude)(),o("design:type",String)],m.prototype,"invitationType",void 0),i([(0,a.Transform)(({value:e})=>(0,h.replaceLegacyDidSovPrefix)(e),{toClassOnly:!0}),(0,h.IsValidMessageType)(m.type),o("design:type",Object)],m.prototype,"type",void 0),i([(0,a.Expose)({name:"goal_code"}),o("design:type",String)],m.prototype,"goalCode",void 0),i([(0,a.Transform)(({value:e})=>null==e?void 0:e.map(h.replaceLegacyDidSovPrefix),{toClassOnly:!0}),(0,a.Expose)({name:"handshake_protocols"}),o("design:type",Array)],m.prototype,"handshakeProtocols",void 0),i([(0,a.Expose)({name:"requests~attach"}),(0,a.Type)(()=>u.Attachment),(0,s.IsArray)(),(0,s.ValidateNested)({each:!0}),(0,s.IsInstance)(u.Attachment,{each:!0}),(0,s.IsOptional)(),o("design:type",Array)],m.prototype,"requests",void 0),i([(0,s.IsArray)(),(0,s.ArrayNotEmpty)(),(0,a.Transform)(({value:e,type:t})=>t===a.TransformationType.PLAIN_TO_CLASS?e.map(e=>"string"==typeof e?new String(e):p.JsonTransformer.fromJSON(e,v.OutOfBandDidCommService)):t===a.TransformationType.CLASS_TO_PLAIN?e.map(e=>"string"==typeof e||e instanceof String?e.toString():p.JsonTransformer.toJSON(e)):e),(0,y.IsStringOrInstance)(v.OutOfBandDidCommService,{each:!0}),o("design:type",Array)],m.prototype,"services",void 0),i([(0,s.IsOptional)(),(0,s.IsUrl)(),o("design:type",String)],m.prototype,"imageUrl",void 0),t.OutOfBandInvitation=m,(n=t.InvitationType||(t.InvitationType={})).OutOfBand="out-of-band/1.x",n.Connection="connections/1.x",n.Connectionless="connectionless"},38395:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45953),t),i(r(59085),t)},35488:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandRecord=void 0;let o=r(5902),a=r(99997),s=r(79493),l=r(52974),c=r(15169),u=r(38395);class d extends s.BaseRecord{constructor(e){var t,r,n,i;super(),this.type=d.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,c.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.outOfBandInvitation=e.outOfBandInvitation,this.role=e.role,this.state=e.state,this.alias=e.alias,this.autoAcceptConnection=e.autoAcceptConnection,this.reusable=null!==(n=e.reusable)&&void 0!==n&&n,this.mediatorId=e.mediatorId,this.reuseConnectionId=e.reuseConnectionId,this._tags=null!==(i=e.tags)&&void 0!==i?i:{recipientKeyFingerprints:[]})}getTags(){var e;return Object.assign(Object.assign({},this._tags),{role:this.role,state:this.state,invitationId:this.outOfBandInvitation.id,threadId:this.outOfBandInvitation.threadId,invitationRequestsThreadIds:null===(e=this.outOfBandInvitation.getRequests())||void 0===e?void 0:e.map(e=>(0,l.getThreadIdFromPlainTextMessage)(e))})}assertRole(e){if(this.role!==e)throw new a.AriesFrameworkError(`Invalid out-of-band record role ${this.role}, expected is ${e}.`)}assertState(e){if(Array.isArray(e)||(e=[e]),!e.includes(this.state))throw new a.AriesFrameworkError(`Invalid out-of-band record state ${this.state}, valid states are: ${e.join(", ")}.`)}}d.type="OutOfBandRecord",n([(0,o.Type)(()=>u.OutOfBandInvitation),i("design:type",u.OutOfBandInvitation)],d.prototype,"outOfBandInvitation",void 0),t.OutOfBandRecord=d},99182:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(35488),d=class extends c.Repository{constructor(e,t){super(u.OutOfBandRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.OutOfBandRepository=d},69510:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(35488),t),i(r(99182),t)},35381:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.OutOfBandRecordMetadataKeys=void 0,(r=t.OutOfBandRecordMetadataKeys||(t.OutOfBandRecordMetadataKeys={})).RecipientRouting="_internal/recipientRouting",r.LegacyInvitation="_internal/legacyInvitation"},8186:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemReportError=void 0;let n=r(32236),i=r(10796);class o extends n.AriesFrameworkError{constructor(e,{problemCode:t}){super(e),this.problemReport=new i.ProblemReportMessage({description:{en:e,code:t}})}}t.ProblemReportError=o},98854:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8186),t)},17423:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98854),t),i(r(51725),t),i(r(57116),t)},10796:function(e,t,r){"use strict";var n,i,o,a,s,l,c,u=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemReportMessage=t.OtherStatus=t.WhereStatus=t.ImpactStatus=t.WhoRetriesStatus=void 0;let f=r(5902),p=r(56988),h=r(92583),y=r(51465);(n=s=t.WhoRetriesStatus||(t.WhoRetriesStatus={})).You="YOU",n.Me="ME",n.Both="BOTH",n.None="NONE",(i=l=t.ImpactStatus||(t.ImpactStatus={})).Message="MESSAGE",i.Thread="THREAD",i.Connection="CONNECTION",(o=c=t.WhereStatus||(t.WhereStatus={})).Cloud="CLOUD",o.Edge="EDGE",o.Wire="WIRE",o.Agency="AGENCY",(a=t.OtherStatus||(t.OtherStatus={})).You="YOU",a.Me="ME",a.Other="OTHER";class g extends h.AgentMessage{constructor(e){super(),this.type=g.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.description=e.description,this.problemItems=e.problemItems,this.whoRetries=e.whoRetries,this.fixHint=e.fixHint,this.impact=e.impact,this.where=e.where,this.noticedTime=e.noticedTime,this.trackingUri=e.trackingUri,this.escalationUri=e.escalationUri)}}g.type=(0,y.parseMessageType)("https://didcomm.org/notification/1.0/problem-report"),u([(0,y.IsValidMessageType)(g.type),d("design:type",String)],g.prototype,"type",void 0),u([(0,p.IsOptional)(),(0,f.Expose)({name:"problem_items"}),d("design:type",Array)],g.prototype,"problemItems",void 0),u([(0,p.IsOptional)(),(0,p.IsEnum)(s),(0,f.Expose)({name:"who_retries"}),d("design:type",String)],g.prototype,"whoRetries",void 0),u([(0,p.IsOptional)(),(0,f.Expose)({name:"fix_hint"}),d("design:type",Object)],g.prototype,"fixHint",void 0),u([(0,p.IsOptional)(),(0,p.IsEnum)(c),d("design:type",String)],g.prototype,"where",void 0),u([(0,p.IsOptional)(),(0,p.IsEnum)(l),d("design:type",String)],g.prototype,"impact",void 0),u([(0,p.IsOptional)(),(0,p.IsString)(),(0,f.Expose)({name:"noticed_time"}),d("design:type",String)],g.prototype,"noticedTime",void 0),u([(0,p.IsOptional)(),(0,p.IsString)(),(0,f.Expose)({name:"tracking_uri"}),d("design:type",String)],g.prototype,"trackingUri",void 0),u([(0,p.IsOptional)(),(0,p.IsString)(),(0,f.Expose)({name:"escalation_uri"}),d("design:type",String)],g.prototype,"escalationUri",void 0),t.ProblemReportMessage=g},51725:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(10796),t)},14985:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProblemReportReason=void 0,(t.ProblemReportReason||(t.ProblemReportReason={})).MessageParseFailure="message-parse-failure"},57116:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(14985),t)},10877:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProofEventTypes=void 0,(t.ProofEventTypes||(t.ProofEventTypes={})).ProofStateChanged="ProofStateChanged"},24074:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofsApi=void 0;let o=r(42984),a=r(24446),s=r(86726),l=r(89642),c=r(99997),u=r(26577),d=r(20231),f=r(27577),p=r(86334),h=class{constructor(e,t,r,n,i){this.messageSender=e,this.connectionService=t,this.proofRepository=n,this.agentContext=r,this.config=i}getProtocol(e){let t=this.config.proofProtocols.find(t=>t.version===e);if(!t)throw new c.AriesFrameworkError(`No proof protocol registered for protocol version ${e}`);return t}async proposeProof(e){let t=this.getProtocol(e.protocolVersion),r=await this.connectionService.getById(this.agentContext,e.connectionId);r.assertReady();let{message:n,proofRecord:i}=await t.createProposal(this.agentContext,{connectionRecord:r,proofFormats:e.proofFormats,autoAcceptProof:e.autoAcceptProof,goalCode:e.goalCode,comment:e.comment,parentThreadId:e.parentThreadId}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:n,associatedRecord:i,connectionRecord:r});return await this.messageSender.sendMessage(o),i}async acceptProposal(e){let t=await this.getById(e.proofRecordId);if(!t.connectionId)throw new c.AriesFrameworkError(`No connectionId found for proof record '${t.id}'. Connection-less verification does not support presentation proposal or negotiation.`);let r=this.getProtocol(t.protocolVersion),n=await this.connectionService.getById(this.agentContext,t.connectionId);n.assertReady();let{message:i}=await r.acceptProposal(this.agentContext,{proofRecord:t,proofFormats:e.proofFormats,goalCode:e.goalCode,willConfirm:e.willConfirm,comment:e.comment,autoAcceptProof:e.autoAcceptProof}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:t,connectionRecord:n});return await this.messageSender.sendMessage(o),t}async negotiateProposal(e){let t=await this.getById(e.proofRecordId);if(!t.connectionId)throw new c.AriesFrameworkError(`No connectionId found for proof record '${t.id}'. Connection-less verification does not support negotiation.`);let r=this.getProtocol(t.protocolVersion),n=await this.connectionService.getById(this.agentContext,t.connectionId);n.assertReady();let{message:i}=await r.negotiateProposal(this.agentContext,{proofRecord:t,proofFormats:e.proofFormats,autoAcceptProof:e.autoAcceptProof,comment:e.comment,goalCode:e.goalCode,willConfirm:e.willConfirm}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,associatedRecord:t,connectionRecord:n});return await this.messageSender.sendMessage(o),t}async requestProof(e){let t=await this.connectionService.getById(this.agentContext,e.connectionId),r=this.getProtocol(e.protocolVersion);t.assertReady();let{message:n,proofRecord:i}=await r.createRequest(this.agentContext,{connectionRecord:t,proofFormats:e.proofFormats,autoAcceptProof:e.autoAcceptProof,parentThreadId:e.parentThreadId,comment:e.comment,goalCode:e.goalCode,willConfirm:e.willConfirm}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:n,associatedRecord:i,connectionRecord:t});return await this.messageSender.sendMessage(o),i}async acceptRequest(e){let t=await this.getById(e.proofRecordId),r=this.getProtocol(t.protocolVersion),n=await r.findRequestMessage(this.agentContext,t.id);if(!n)throw new c.AriesFrameworkError(`No request message found for proof record with id '${t.id}'`);let i=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;null==i||i.assertReady();let{message:o}=await r.acceptRequest(this.agentContext,{proofFormats:e.proofFormats,proofRecord:t,comment:e.comment,autoAcceptProof:e.autoAcceptProof,goalCode:e.goalCode}),a=await (0,l.getOutboundMessageContext)(this.agentContext,{message:o,connectionRecord:i,associatedRecord:t,lastReceivedMessage:n});return await this.messageSender.sendMessage(a),t}async declineRequest(e){let t=await this.getById(e.proofRecordId);t.assertState(f.ProofState.RequestReceived);let r=this.getProtocol(t.protocolVersion);return e.sendProblemReport&&await this.sendProblemReport({proofRecordId:e.proofRecordId,description:"Request declined"}),await r.updateState(this.agentContext,t,f.ProofState.Declined),t}async negotiateRequest(e){let t=await this.getById(e.proofRecordId);if(!t.connectionId)throw new c.AriesFrameworkError(`No connectionId found for proof record '${t.id}'. Connection-less verification does not support presentation proposal or negotiation.`);let r=await this.connectionService.getById(this.agentContext,t.connectionId);r.assertReady();let n=this.getProtocol(t.protocolVersion),{message:i}=await n.negotiateRequest(this.agentContext,{proofRecord:t,proofFormats:e.proofFormats,autoAcceptProof:e.autoAcceptProof,goalCode:e.goalCode,comment:e.comment}),o=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,connectionRecord:r,associatedRecord:t});return await this.messageSender.sendMessage(o),t}async createRequest(e){let t=this.getProtocol(e.protocolVersion);return await t.createRequest(this.agentContext,{proofFormats:e.proofFormats,autoAcceptProof:e.autoAcceptProof,comment:e.comment,parentThreadId:e.parentThreadId,goalCode:e.goalCode,willConfirm:e.willConfirm})}async acceptPresentation(e){let t=await this.getById(e.proofRecordId),r=this.getProtocol(t.protocolVersion),n=await r.findRequestMessage(this.agentContext,t.id);if(!n)throw new c.AriesFrameworkError(`No request message found for proof record with id '${t.id}'`);let i=await r.findPresentationMessage(this.agentContext,t.id);if(!i)throw new c.AriesFrameworkError(`No presentation message found for proof record with id '${t.id}'`);let o=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;null==o||o.assertReady();let{message:a}=await r.acceptPresentation(this.agentContext,{proofRecord:t}),s=await (0,l.getOutboundMessageContext)(this.agentContext,{message:a,connectionRecord:o,associatedRecord:t,lastSentMessage:n,lastReceivedMessage:i});return await this.messageSender.sendMessage(s),t}async selectCredentialsForRequest(e){let t=await this.getById(e.proofRecordId),r=this.getProtocol(t.protocolVersion);return r.selectCredentialsForRequest(this.agentContext,{proofFormats:e.proofFormats,proofRecord:t})}async getCredentialsForRequest(e){let t=await this.getById(e.proofRecordId),r=this.getProtocol(t.protocolVersion);return r.getCredentialsForRequest(this.agentContext,{proofRecord:t,proofFormats:e.proofFormats})}async sendProblemReport(e){let t=await this.getById(e.proofRecordId),r=this.getProtocol(t.protocolVersion),n=await r.findRequestMessage(this.agentContext,t.id),{message:i}=await r.createProblemReport(this.agentContext,{proofRecord:t,description:e.description}),o=t.connectionId?await this.connectionService.getById(this.agentContext,t.connectionId):void 0;if(null==o||o.assertReady(),!o&&(t.assertState(f.ProofState.RequestReceived),!n))throw new c.AriesFrameworkError(`No request message found for proof record with id '${t.id}'`);let a=await (0,l.getOutboundMessageContext)(this.agentContext,{message:i,connectionRecord:o,associatedRecord:t,lastReceivedMessage:null!=n?n:void 0});return await this.messageSender.sendMessage(a),t}async getFormatData(e){let t=await this.getById(e),r=this.getProtocol(t.protocolVersion);return r.getFormatData(this.agentContext,e)}async getAll(){return this.proofRepository.getAll(this.agentContext)}findAllByQuery(e){return this.proofRepository.findByQuery(this.agentContext,e)}async getById(e){return await this.proofRepository.getById(this.agentContext,e)}async findById(e){return await this.proofRepository.findById(this.agentContext,e)}async deleteById(e,t){let r=await this.getById(e),n=this.getProtocol(r.protocolVersion);return n.delete(this.agentContext,r,t)}async getByThreadAndConnectionId(e,t){return this.proofRepository.getByThreadAndConnectionId(this.agentContext,e,t)}async getByParentThreadAndConnectionId(e,t){return this.proofRepository.getByParentThreadAndConnectionId(this.agentContext,e,t)}async update(e){await this.proofRepository.update(this.agentContext,e)}async findProposalMessage(e){let t=await this.getById(e),r=this.getProtocol(t.protocolVersion);return r.findProposalMessage(this.agentContext,e)}async findRequestMessage(e){let t=await this.getById(e),r=this.getProtocol(t.protocolVersion);return r.findRequestMessage(this.agentContext,e)}async findPresentationMessage(e){let t=await this.getById(e),r=this.getProtocol(t.protocolVersion);return r.findPresentationMessage(this.agentContext,e)}};h=n([(0,o.injectable)(),i("design:paramtypes",[a.MessageSender,u.ConnectionService,s.AgentContext,p.ProofRepository,d.ProofsModuleConfig])],h),t.ProofsApi=h},83455:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},82439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProofsModule=void 0;let n=r(24074),i=r(20231),o=r(16479),a=r(96201);class s{constructor(e){var t;this.api=n.ProofsApi,this.config=new i.ProofsModuleConfig(Object.assign(Object.assign({},e),{proofProtocols:null!==(t=null==e?void 0:e.proofProtocols)&&void 0!==t?t:[new o.V2ProofProtocol({proofFormats:[]})]}))}register(e,t){for(let r of(e.registerContextScoped(n.ProofsApi),e.registerInstance(i.ProofsModuleConfig,this.config),e.registerSingleton(a.ProofRepository),this.config.proofProtocols))r.register(e,t)}}t.ProofsModule=s},20231:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProofsModuleConfig=void 0;let n=r(15936);class i{constructor(e){this.options=e}get autoAcceptProofs(){var e;return null!==(e=this.options.autoAcceptProofs)&&void 0!==e?e:n.AutoAcceptProof.Never}get proofProtocols(){return this.options.proofProtocols}}t.ProofsModuleConfig=i},91862:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PresentationProblemReportReason=void 0,(t.PresentationProblemReportReason||(t.PresentationProblemReportReason={})).Abandoned="abandoned"},34032:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(91862),t)},55383:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},60511:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},67952:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74913:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofFormatServiceOptions=void 0,o(r(55383),t),o(r(60511),t),o(r(67952),t);let s=a(r(67952));t.ProofFormatServiceOptions=s},52729:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(34032),t),i(r(74913),t),i(r(49871),t),i(r(16479),t),i(r(96201),t),i(r(10877),t),i(r(24074),t),i(r(83455),t),i(r(82439),t),i(r(20231),t)},15936:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AutoAcceptProof=void 0,(r=t.AutoAcceptProof||(t.AutoAcceptProof={})).Always="always",r.ContentApproved="contentApproved",r.Never="never"},59572:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofFormatSpec=void 0;let o=r(5902),a=r(56988),s=r(15169);class l{constructor(e){var t;e&&(this.attachmentId=null!==(t=e.attachmentId)&&void 0!==t?t:(0,s.uuid)(),this.format=e.format)}}n([(0,o.Expose)({name:"attach_id"}),(0,a.IsString)(),i("design:type",String)],l.prototype,"attachmentId",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"format",void 0),t.ProofFormatSpec=l},27577:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ProofState=void 0,(r=t.ProofState||(t.ProofState={})).ProposalSent="proposal-sent",r.ProposalReceived="proposal-received",r.RequestSent="request-sent",r.RequestReceived="request-received",r.PresentationSent="presentation-sent",r.PresentationReceived="presentation-received",r.Declined="declined",r.Abandoned="abandoned",r.Done="done"},49871:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(15936),t),i(r(27577),t),i(r(59572),t)},27818:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseProofProtocol=void 0;let n=r(26852),i=r(90944),o=r(10877),a=r(27577),s=r(96201);class l{async processProblemReport(e){let{message:t,agentContext:r,connection:n}=e;r.config.logger.debug(`Processing problem report with message id ${t.id}`);let i=await this.getByThreadAndConnectionId(r,t.threadId,null==n?void 0:n.id);return i.errorMessage=`${t.description.code}: ${t.description.en}`,await this.updateState(r,i,a.ProofState.Abandoned),i}async updateState(e,t,r){let n=e.dependencyManager.resolve(s.ProofRepository);e.config.logger.debug(`Updating proof record ${t.id} to state ${r} (previous=${t.state})`);let i=t.state;t.state=r,await n.update(e,t),this.emitStateChangedEvent(e,t,i)}emitStateChangedEvent(e,t,r){let i=e.dependencyManager.resolve(n.EventEmitter);i.emit(e,{type:o.ProofEventTypes.ProofStateChanged,payload:{proofRecord:t.clone(),previousState:r}})}getById(e,t){let r=e.dependencyManager.resolve(s.ProofRepository);return r.getById(e,t)}getAll(e){let t=e.dependencyManager.resolve(s.ProofRepository);return t.getAll(e)}async findAllByQuery(e,t){let r=e.dependencyManager.resolve(s.ProofRepository);return r.findByQuery(e,t)}findById(e,t){let r=e.dependencyManager.resolve(s.ProofRepository);return r.findById(e,t)}async delete(e,t,r){var n;let o=e.dependencyManager.resolve(s.ProofRepository),a=e.dependencyManager.resolve(i.DidCommMessageRepository);await o.delete(e,t);let l=null===(n=null==r?void 0:r.deleteAssociatedDidCommMessages)||void 0===n||n;if(l){let r=await a.findByQuery(e,{associatedRecordId:t.id});for(let t of r)await a.delete(e,t)}}getByThreadAndConnectionId(e,t,r){let n=e.dependencyManager.resolve(s.ProofRepository);return n.getSingleByQuery(e,{connectionId:r,threadId:t})}findByThreadAndConnectionId(e,t,r){let n=e.dependencyManager.resolve(s.ProofRepository);return n.findSingleByQuery(e,{connectionId:r,threadId:t})}async update(e,t){let r=e.dependencyManager.resolve(s.ProofRepository);return await r.update(e,t)}}t.BaseProofProtocol=l},83829:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16479:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofProtocolOptions=t.BaseProofProtocol=void 0,o(r(70020),t);let s=a(r(83829));t.ProofProtocolOptions=s;var l=r(27818);Object.defineProperty(t,"BaseProofProtocol",{enumerable:!0,get:function(){return l.BaseProofProtocol}})},88269:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProofFormatCoordinator=void 0;let n=r(99997),i=r(90944),o=r(96827);class a{async createProposal(e,{proofFormats:t,formatServices:r,proofRecord:n,comment:a,goalCode:s}){let l=e.dependencyManager.resolve(i.DidCommMessageRepository),c=[],u=[];for(let i of r){let{format:r,attachment:o}=await i.createProposal(e,{proofFormats:t,proofRecord:n});u.push(o),c.push(r)}let d=new o.V2ProposePresentationMessage({id:n.threadId,formats:c,proposalAttachments:u,comment:a,goalCode:s});return d.setThread({threadId:n.threadId,parentThreadId:n.parentThreadId}),await l.saveOrUpdateAgentMessage(e,{agentMessage:d,role:i.DidCommMessageRole.Sender,associatedRecordId:n.id}),d}async processProposal(e,{proofRecord:t,message:r,formatServices:n}){let o=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of n){let n=this.getAttachmentForService(i,r.formats,r.proposalAttachments);await i.processProposal(e,{attachment:n,proofRecord:t})}await o.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}async acceptProposal(e,{proofRecord:t,proofFormats:r,formatServices:n,comment:a,goalCode:s,presentMultiple:l,willConfirm:c}){let u=e.dependencyManager.resolve(i.DidCommMessageRepository),d=[],f=[],p=await u.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2ProposePresentationMessage});for(let i of n){let n=this.getAttachmentForService(i,p.formats,p.proposalAttachments),{attachment:o,format:a}=await i.acceptProposal(e,{proofRecord:t,proofFormats:r,proposalAttachment:n});f.push(o),d.push(a)}let h=new o.V2RequestPresentationMessage({formats:d,requestAttachments:f,comment:a,goalCode:s,presentMultiple:l,willConfirm:c});return h.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),await u.saveOrUpdateAgentMessage(e,{agentMessage:h,associatedRecordId:t.id,role:i.DidCommMessageRole.Sender}),h}async createRequest(e,{proofFormats:t,formatServices:r,proofRecord:n,comment:a,goalCode:s,presentMultiple:l,willConfirm:c}){let u=e.dependencyManager.resolve(i.DidCommMessageRepository),d=[],f=[];for(let i of r){let{format:r,attachment:o}=await i.createRequest(e,{proofFormats:t,proofRecord:n});f.push(o),d.push(r)}let p=new o.V2RequestPresentationMessage({formats:d,comment:a,requestAttachments:f,goalCode:s,presentMultiple:l,willConfirm:c});return p.setThread({threadId:n.threadId,parentThreadId:n.parentThreadId}),await u.saveOrUpdateAgentMessage(e,{agentMessage:p,role:i.DidCommMessageRole.Sender,associatedRecordId:n.id}),p}async processRequest(e,{proofRecord:t,message:r,formatServices:n}){let o=e.dependencyManager.resolve(i.DidCommMessageRepository);for(let i of n){let n=this.getAttachmentForService(i,r.formats,r.requestAttachments);await i.processRequest(e,{attachment:n,proofRecord:t})}await o.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id})}async acceptRequest(e,{proofRecord:t,proofFormats:r,formatServices:n,comment:a,lastPresentation:s,goalCode:l}){let c=e.dependencyManager.resolve(i.DidCommMessageRepository),u=await c.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2RequestPresentationMessage}),d=await c.findAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2ProposePresentationMessage}),f=[],p=[];for(let i of n){let n=this.getAttachmentForService(i,u.formats,u.requestAttachments),o=d?this.getAttachmentForService(i,d.formats,d.proposalAttachments):void 0,{attachment:a,format:s}=await i.acceptRequest(e,{requestAttachment:n,proposalAttachment:o,proofRecord:t,proofFormats:r});p.push(a),f.push(s)}let h=new o.V2PresentationMessage({formats:f,presentationAttachments:p,comment:a,lastPresentation:s,goalCode:l});return h.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),h.setPleaseAck(),await c.saveOrUpdateAgentMessage(e,{agentMessage:h,associatedRecordId:t.id,role:i.DidCommMessageRole.Sender}),h}async getCredentialsForRequest(e,{proofRecord:t,proofFormats:r,formatServices:n}){let a=e.dependencyManager.resolve(i.DidCommMessageRepository),s=await a.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2RequestPresentationMessage}),l=await a.findAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2ProposePresentationMessage}),c={};for(let i of n){let n=this.getAttachmentForService(i,s.formats,s.requestAttachments),o=l?this.getAttachmentForService(i,l.formats,l.proposalAttachments):void 0,a=await i.getCredentialsForRequest(e,{requestAttachment:n,proposalAttachment:o,proofRecord:t,proofFormats:r});c[i.formatKey]=a}return c}async selectCredentialsForRequest(e,{proofRecord:t,proofFormats:r,formatServices:n}){let a=e.dependencyManager.resolve(i.DidCommMessageRepository),s=await a.getAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2RequestPresentationMessage}),l=await a.findAgentMessage(e,{associatedRecordId:t.id,messageClass:o.V2ProposePresentationMessage}),c={};for(let i of n){let n=this.getAttachmentForService(i,s.formats,s.requestAttachments),o=l?this.getAttachmentForService(i,l.formats,l.proposalAttachments):void 0,a=await i.selectCredentialsForRequest(e,{requestAttachment:n,proposalAttachment:o,proofRecord:t,proofFormats:r});c[i.formatKey]=a}return c}async processPresentation(e,{proofRecord:t,message:r,requestMessage:n,formatServices:o}){let a=e.dependencyManager.resolve(i.DidCommMessageRepository),s=[];for(let i of o){let o=this.getAttachmentForService(i,r.formats,r.presentationAttachments),a=this.getAttachmentForService(i,n.formats,n.requestAttachments),l=await i.processPresentation(e,{attachment:o,requestAttachment:a,proofRecord:t});s.push(l)}return await a.saveOrUpdateAgentMessage(e,{agentMessage:r,role:i.DidCommMessageRole.Receiver,associatedRecordId:t.id}),s.every(e=>!0===e)}getAttachmentForService(e,t,r){let i=this.getAttachmentIdForService(e,t),o=r.find(e=>e.id===i);if(!o)throw new n.AriesFrameworkError(`Attachment with id ${i} not found in attachments.`);return o}getAttachmentIdForService(e,t){let r=t.find(t=>e.supportsFormat(t.format));if(!r)throw new n.AriesFrameworkError(`No attachment found for service ${e.formatKey}`);return r.attachmentId}}t.ProofFormatCoordinator=a},8259:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2ProofProtocol=void 0;let n=r(36849),i=r(99997),o=r(90944),a=r(15169),s=r(70347),l=r(52560),c=r(75954),u=r(20231),d=r(91862),f=r(49871),p=r(96201),h=r(94824),y=r(27818),g=r(88269),v=r(53274),m=r(35433),b=r(54505),_=r(24904),w=r(44380),S=r(96827),O=r(86129),M=r(10105),R=r(77515);class P extends y.BaseProofProtocol{constructor({proofFormats:e}){super(),this.proofFormatCoordinator=new g.ProofFormatCoordinator,this.version="v2",this.proofFormats=e}register(e,t){e.registerMessageHandlers([new _.V2ProposePresentationHandler(this),new w.V2RequestPresentationHandler(this),new m.V2PresentationHandler(this),new v.V2PresentationAckHandler(this),new b.V2PresentationProblemReportHandler(this)]),t.register(new n.Protocol({id:"https://didcomm.org/present-proof/2.0",roles:["prover","verifier"]}))}async createProposal(e,{connectionRecord:t,proofFormats:r,comment:n,autoAcceptProof:o,goalCode:s,parentThreadId:l}){let c=e.dependencyManager.resolve(p.ProofRepository),u=this.getFormatServices(r);if(0===u.length)throw new i.AriesFrameworkError("Unable to create proposal. No supported formats");let d=new p.ProofExchangeRecord({connectionId:t.id,threadId:(0,a.uuid)(),parentThreadId:l,state:f.ProofState.ProposalSent,protocolVersion:"v2",autoAcceptProof:o}),h=await this.proofFormatCoordinator.createProposal(e,{proofFormats:r,proofRecord:d,formatServices:u,comment:n,goalCode:s});return e.config.logger.debug("Save record and emit state change event"),await c.save(e,d),this.emitStateChangedEvent(e,d,null),{proofRecord:d,message:h}}async processProposal(e){var t;let{message:r,connection:n,agentContext:a}=e;a.config.logger.debug(`Processing presentation proposal with id ${r.id}`);let s=a.dependencyManager.resolve(p.ProofRepository),c=a.dependencyManager.resolve(o.DidCommMessageRepository),u=a.dependencyManager.resolve(l.ConnectionService),d=await this.findByThreadAndConnectionId(e.agentContext,r.threadId,null==n?void 0:n.id),h=this.getFormatServicesFromMessage(r.formats);if(0===h.length)throw new i.AriesFrameworkError("Unable to process proposal. No supported formats");if(!d)return await u.assertConnectionOrOutOfBandExchange(e),d=new p.ProofExchangeRecord({connectionId:null==n?void 0:n.id,threadId:r.threadId,state:f.ProofState.ProposalReceived,protocolVersion:"v2",parentThreadId:null===(t=r.thread)||void 0===t?void 0:t.parentThreadId}),await this.proofFormatCoordinator.processProposal(e.agentContext,{proofRecord:d,formatServices:h,message:r}),await s.save(e.agentContext,d),this.emitStateChangedEvent(e.agentContext,d,null),d;{let t=await c.findAgentMessage(e.agentContext,{associatedRecordId:d.id,messageClass:R.V2ProposePresentationMessage}),n=await c.findAgentMessage(e.agentContext,{associatedRecordId:d.id,messageClass:S.V2RequestPresentationMessage});return d.assertProtocolVersion("v2"),d.assertState(f.ProofState.RequestSent),await u.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:t,lastSentMessage:n}),await this.proofFormatCoordinator.processProposal(e.agentContext,{proofRecord:d,formatServices:h,message:r}),await this.updateState(e.agentContext,d,f.ProofState.ProposalReceived),d}}async acceptProposal(e,{proofRecord:t,proofFormats:r,autoAcceptProof:n,comment:a,goalCode:s,willConfirm:l}){t.assertProtocolVersion("v2"),t.assertState(f.ProofState.ProposalReceived);let c=e.dependencyManager.resolve(o.DidCommMessageRepository),u=this.getFormatServices(null!=r?r:{});if(0===u.length){let r=await c.getAgentMessage(e,{associatedRecordId:t.id,messageClass:R.V2ProposePresentationMessage});u=this.getFormatServicesFromMessage(r.formats)}if(0===u.length)throw new i.AriesFrameworkError("Unable to accept proposal. No supported formats provided as input or in proposal message");let d=await this.proofFormatCoordinator.acceptProposal(e,{proofRecord:t,formatServices:u,comment:a,proofFormats:r,goalCode:s,willConfirm:l,presentMultiple:!1});return t.autoAcceptProof=null!=n?n:t.autoAcceptProof,await this.updateState(e,t,f.ProofState.RequestSent),{proofRecord:t,message:d}}async negotiateProposal(e,{proofRecord:t,proofFormats:r,autoAcceptProof:n,comment:o,goalCode:a,willConfirm:s}){if(t.assertProtocolVersion("v2"),t.assertState(f.ProofState.ProposalReceived),!t.connectionId)throw new i.AriesFrameworkError(`No connectionId found for proof record '${t.id}'. Connection-less verification does not support negotiation.`);let l=this.getFormatServices(r);if(0===l.length)throw new i.AriesFrameworkError("Unable to create request. No supported formats");let c=await this.proofFormatCoordinator.createRequest(e,{formatServices:l,proofFormats:r,proofRecord:t,comment:o,goalCode:a,willConfirm:s,presentMultiple:!1});return t.autoAcceptProof=null!=n?n:t.autoAcceptProof,await this.updateState(e,t,f.ProofState.RequestSent),{proofRecord:t,message:c}}async createRequest(e,{proofFormats:t,autoAcceptProof:r,comment:n,connectionRecord:o,parentThreadId:s,goalCode:l,willConfirm:c}){let u=e.dependencyManager.resolve(p.ProofRepository),d=this.getFormatServices(t);if(0===d.length)throw new i.AriesFrameworkError("Unable to create request. No supported formats");let h=new p.ProofExchangeRecord({connectionId:null==o?void 0:o.id,threadId:(0,a.uuid)(),state:f.ProofState.RequestSent,autoAcceptProof:r,protocolVersion:"v2",parentThreadId:s}),y=await this.proofFormatCoordinator.createRequest(e,{formatServices:d,proofFormats:t,proofRecord:h,comment:n,goalCode:l,willConfirm:c});return e.config.logger.debug(`Saving record and emitting state changed for proof exchange record ${h.id}`),await u.save(e,h),this.emitStateChangedEvent(e,h,null),{proofRecord:h,message:y}}async processRequest(e){var t;let{message:r,connection:n,agentContext:a}=e,s=a.dependencyManager.resolve(p.ProofRepository),u=a.dependencyManager.resolve(o.DidCommMessageRepository),d=a.dependencyManager.resolve(l.ConnectionService);a.config.logger.debug(`Processing proof request with id ${r.id}`);let h=await this.findByThreadAndConnectionId(e.agentContext,r.threadId,null==n?void 0:n.id),y=this.getFormatServicesFromMessage(r.formats);if(0===y.length)throw new i.AriesFrameworkError("Unable to process request. No supported formats");if(!h)return await d.assertConnectionOrOutOfBandExchange(e),a.config.logger.debug("No proof record found for request, creating a new one"),h=new p.ProofExchangeRecord({connectionId:null==n?void 0:n.id,threadId:r.threadId,state:f.ProofState.RequestReceived,protocolVersion:"v2",parentThreadId:null===(t=r.thread)||void 0===t?void 0:t.parentThreadId}),await this.proofFormatCoordinator.processRequest(e.agentContext,{proofRecord:h,formatServices:y,message:r}),a.config.logger.debug("Saving proof record and emit request-received event"),await s.save(e.agentContext,h),this.emitStateChangedEvent(e.agentContext,h,null),h;{let t=await u.findAgentMessage(e.agentContext,{associatedRecordId:h.id,messageClass:c.V2ProposeCredentialMessage}),n=await u.findAgentMessage(e.agentContext,{associatedRecordId:h.id,messageClass:S.V2RequestPresentationMessage});return h.assertProtocolVersion("v2"),h.assertState(f.ProofState.ProposalSent),await d.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:n,lastSentMessage:t}),await this.proofFormatCoordinator.processRequest(e.agentContext,{proofRecord:h,formatServices:y,message:r}),await this.updateState(e.agentContext,h,f.ProofState.RequestReceived),h}}async acceptRequest(e,{proofRecord:t,autoAcceptProof:r,comment:n,proofFormats:a,goalCode:s}){let l=e.dependencyManager.resolve(o.DidCommMessageRepository);t.assertProtocolVersion("v2"),t.assertState(f.ProofState.RequestReceived);let c=this.getFormatServices(null!=a?a:{});if(0===c.length){let r=await l.getAgentMessage(e,{associatedRecordId:t.id,messageClass:S.V2RequestPresentationMessage});c=this.getFormatServicesFromMessage(r.formats)}if(0===c.length)throw new i.AriesFrameworkError("Unable to accept request. No supported formats provided as input or in request message");let u=await this.proofFormatCoordinator.acceptRequest(e,{proofRecord:t,formatServices:c,comment:n,proofFormats:a,goalCode:s,lastPresentation:!0});return t.autoAcceptProof=null!=r?r:t.autoAcceptProof,await this.updateState(e,t,f.ProofState.PresentationSent),{proofRecord:t,message:u}}async negotiateRequest(e,{proofRecord:t,proofFormats:r,autoAcceptProof:n,comment:o,goalCode:a}){if(t.assertProtocolVersion("v2"),t.assertState(f.ProofState.RequestReceived),!t.connectionId)throw new i.AriesFrameworkError(`No connectionId found for proof record '${t.id}'. Connection-less verification does not support negotiation.`);let s=this.getFormatServices(r);if(0===s.length)throw new i.AriesFrameworkError("Unable to create proposal. No supported formats");let l=await this.proofFormatCoordinator.createProposal(e,{formatServices:s,proofFormats:r,proofRecord:t,comment:o,goalCode:a});return t.autoAcceptProof=null!=n?n:t.autoAcceptProof,await this.updateState(e,t,f.ProofState.ProposalSent),{proofRecord:t,message:l}}async getCredentialsForRequest(e,{proofRecord:t,proofFormats:r}){let n=e.dependencyManager.resolve(o.DidCommMessageRepository);t.assertProtocolVersion("v2"),t.assertState(f.ProofState.RequestReceived);let a=this.getFormatServices(null!=r?r:{});if(0===a.length){let r=await n.getAgentMessage(e,{associatedRecordId:t.id,messageClass:S.V2RequestPresentationMessage});a=this.getFormatServicesFromMessage(r.formats)}if(0===a.length)throw new i.AriesFrameworkError("Unable to get credentials for request. No supported formats provided as input or in request message");let s=await this.proofFormatCoordinator.getCredentialsForRequest(e,{formatServices:a,proofFormats:r,proofRecord:t});return{proofFormats:s}}async selectCredentialsForRequest(e,{proofRecord:t,proofFormats:r}){let n=e.dependencyManager.resolve(o.DidCommMessageRepository);t.assertProtocolVersion("v2"),t.assertState(f.ProofState.RequestReceived);let a=this.getFormatServices(null!=r?r:{});if(0===a.length){let r=await n.getAgentMessage(e,{associatedRecordId:t.id,messageClass:S.V2RequestPresentationMessage});a=this.getFormatServicesFromMessage(r.formats)}if(0===a.length)throw new i.AriesFrameworkError("Unable to get credentials for request. No supported formats provided as input or in request message");let s=await this.proofFormatCoordinator.selectCredentialsForRequest(e,{formatServices:a,proofFormats:r,proofRecord:t});return{proofFormats:s}}async processPresentation(e){let{message:t,connection:r,agentContext:n}=e,a=n.dependencyManager.resolve(o.DidCommMessageRepository),s=n.dependencyManager.resolve(l.ConnectionService);n.config.logger.debug(`Processing presentation with id ${t.id}`);let c=await this.getByThreadAndConnectionId(e.agentContext,t.threadId),u=await a.getAgentMessage(e.agentContext,{associatedRecordId:c.id,messageClass:S.V2RequestPresentationMessage}),d=await a.findAgentMessage(e.agentContext,{associatedRecordId:c.id,messageClass:R.V2ProposePresentationMessage});c.assertProtocolVersion("v2"),c.assertState(f.ProofState.RequestSent),await s.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:d,lastSentMessage:u}),c.connectionId||(await s.matchIncomingMessageToRequestMessageInOutOfBandExchange(e,{expectedConnectionId:c.connectionId}),c.connectionId=null==r?void 0:r.id);let p=this.getFormatServicesFromMessage(t.formats);if(0===p.length)throw new i.AriesFrameworkError("Unable to process presentation. No supported formats");let h=await this.proofFormatCoordinator.processPresentation(e.agentContext,{proofRecord:c,formatServices:p,requestMessage:u,message:t});return c.isVerified=h,await this.updateState(e.agentContext,c,f.ProofState.PresentationReceived),c}async acceptPresentation(e,{proofRecord:t}){t.assertProtocolVersion("v2"),t.assertState(f.ProofState.PresentationReceived);let r=e.dependencyManager.resolve(o.DidCommMessageRepository),n=await r.getAgentMessage(e,{associatedRecordId:t.id,messageClass:O.V2PresentationMessage});if(!n.lastPresentation)throw new i.AriesFrameworkError(`Trying to send an ack message while presentation with id ${n.id} indicates this is not the last presentation (presentation.last_presentation is set to false)`);let a=new S.V2PresentationAckMessage({threadId:t.threadId,status:s.AckStatus.OK});return a.setThread({threadId:t.threadId,parentThreadId:t.parentThreadId}),await this.updateState(e,t,f.ProofState.Done),{message:a,proofRecord:t}}async processAck(e){let{message:t,connection:r,agentContext:n}=e;n.config.logger.debug(`Processing proof ack with id ${t.id}`);let i=n.dependencyManager.resolve(o.DidCommMessageRepository),a=n.dependencyManager.resolve(l.ConnectionService),s=await this.getByThreadAndConnectionId(e.agentContext,t.threadId,null==r?void 0:r.id);s.connectionId=null==r?void 0:r.id;let c=await i.getAgentMessage(e.agentContext,{associatedRecordId:s.id,messageClass:S.V2RequestPresentationMessage}),u=await i.getAgentMessage(e.agentContext,{associatedRecordId:s.id,messageClass:O.V2PresentationMessage});return s.assertProtocolVersion("v2"),s.assertState(f.ProofState.PresentationSent),await a.assertConnectionOrOutOfBandExchange(e,{lastReceivedMessage:c,lastSentMessage:u}),await this.updateState(e.agentContext,s,f.ProofState.Done),s}async createProblemReport(e,{description:t,proofRecord:r}){let n=new M.V2PresentationProblemReportMessage({description:{en:t,code:d.PresentationProblemReportReason.Abandoned}});return n.setThread({threadId:r.threadId,parentThreadId:r.parentThreadId}),{proofRecord:r,message:n}}async shouldAutoRespondToProposal(e,t){let{proofRecord:r,proposalMessage:n}=t,i=e.dependencyManager.resolve(u.ProofsModuleConfig),o=(0,h.composeAutoAccept)(r.autoAcceptProof,i.autoAcceptProofs);if(o===f.AutoAcceptProof.Always)return!0;if(o===f.AutoAcceptProof.Never)return!1;let a=await this.findRequestMessage(e,r.id);if(!a)return!1;let s=this.getFormatServicesFromMessage(a.formats);for(let t of s){let i=this.proofFormatCoordinator.getAttachmentForService(t,a.formats,a.requestAttachments),o=this.proofFormatCoordinator.getAttachmentForService(t,n.formats,n.proposalAttachments),s=await t.shouldAutoRespondToProposal(e,{proofRecord:r,requestAttachment:i,proposalAttachment:o});if(!s)return!1}return!0}async shouldAutoRespondToRequest(e,t){let{proofRecord:r,requestMessage:n}=t,i=e.dependencyManager.resolve(u.ProofsModuleConfig),o=(0,h.composeAutoAccept)(r.autoAcceptProof,i.autoAcceptProofs);if(o===f.AutoAcceptProof.Always)return!0;if(o===f.AutoAcceptProof.Never)return!1;let a=await this.findProposalMessage(e,r.id);if(!a)return!1;let s=this.getFormatServicesFromMessage(a.formats);for(let t of s){let i=this.proofFormatCoordinator.getAttachmentForService(t,a.formats,a.proposalAttachments),o=this.proofFormatCoordinator.getAttachmentForService(t,n.formats,n.requestAttachments),s=await t.shouldAutoRespondToRequest(e,{proofRecord:r,requestAttachment:o,proposalAttachment:i});if(!s)return!1}return!0}async shouldAutoRespondToPresentation(e,t){let{proofRecord:r,presentationMessage:n}=t,i=e.dependencyManager.resolve(u.ProofsModuleConfig);if(!n.lastPresentation)return!1;let o=(0,h.composeAutoAccept)(r.autoAcceptProof,i.autoAcceptProofs);if(o===f.AutoAcceptProof.Always)return!0;if(o===f.AutoAcceptProof.Never)return!1;let a=await this.findProposalMessage(e,r.id),s=await this.findRequestMessage(e,r.id);if(!s||!s.willConfirm)return!1;let l=this.getFormatServicesFromMessage(s.formats);for(let t of l){let i=a?this.proofFormatCoordinator.getAttachmentForService(t,a.formats,a.proposalAttachments):void 0,o=this.proofFormatCoordinator.getAttachmentForService(t,s.formats,s.requestAttachments),l=this.proofFormatCoordinator.getAttachmentForService(t,n.formats,n.presentationAttachments),c=await t.shouldAutoRespondToPresentation(e,{proofRecord:r,presentationAttachment:l,requestAttachment:o,proposalAttachment:i});if(!c)return!1}return!0}async findRequestMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:S.V2RequestPresentationMessage})}async findPresentationMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:O.V2PresentationMessage})}async findProposalMessage(e,t){let r=e.dependencyManager.resolve(o.DidCommMessageRepository);return await r.findAgentMessage(e,{associatedRecordId:t,messageClass:R.V2ProposePresentationMessage})}async getFormatData(e,t){let[r,n,i]=await Promise.all([this.findProposalMessage(e,t),this.findRequestMessage(e,t),this.findPresentationMessage(e,t)]),o={proposal:[null==r?void 0:r.formats,null==r?void 0:r.proposalAttachments],request:[null==n?void 0:n.formats,null==n?void 0:n.requestAttachments],presentation:[null==i?void 0:i.formats,null==i?void 0:i.presentationAttachments]},a={};for(let[e,[t,r]]of Object.entries(o)){if(!t||!r)continue;let n=this.getFormatServicesFromMessage(t),i={};for(let e of n){let n=this.proofFormatCoordinator.getAttachmentForService(e,t,r);i[e.formatKey]=n.getDataAsJson()}a[e]=i}return a}getFormatServicesFromMessage(e){let t=new Set;for(let r of e){let e=this.getFormatServiceForFormat(r.format);e&&t.add(e)}return Array.from(t)}getFormatServices(e){let t=new Set;for(let r of Object.keys(e)){let e=this.getFormatServiceForFormatKey(r);e&&t.add(e)}return Array.from(t)}getFormatServiceForFormatKey(e){let t=this.proofFormats.find(t=>t.formatKey===e);return null!=t?t:null}getFormatServiceForFormat(e){let t=this.proofFormats.find(t=>t.supportsFormat(e));return null!=t?t:null}}t.V2ProofProtocol=P},68722:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationProblemReportError=void 0;let n=r(8186),i=r(96827);class o extends n.ProblemReportError{constructor(e,{problemCode:t}){super(e,{problemCode:t}),this.message=e,this.problemReport=new i.V2PresentationProblemReportMessage({description:{en:e,code:t}})}}t.V2PresentationProblemReportError=o},13597:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(68722),t)},53274:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationAckHandler=void 0;let n=r(96827);class i{constructor(e){this.supportedMessages=[n.V2PresentationAckMessage],this.proofProtocol=e}async handle(e){await this.proofProtocol.processAck(e)}}t.V2PresentationAckHandler=i},35433:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationHandler=void 0;let n=r(89642),i=r(90944),o=r(96827);class a{constructor(e){this.supportedMessages=[o.V2PresentationMessage],this.proofProtocol=e}async handle(e){let t=await this.proofProtocol.processPresentation(e),r=await this.proofProtocol.shouldAutoRespondToPresentation(e.agentContext,{proofRecord:t,presentationMessage:e.message});if(r)return await this.acceptPresentation(t,e)}async acceptPresentation(e,t){t.agentContext.config.logger.info("Automatically sending acknowledgement with autoAccept");let{message:r}=await this.proofProtocol.acceptPresentation(t.agentContext,{proofRecord:e}),a=t.agentContext.dependencyManager.resolve(i.DidCommMessageRepository),s=await a.getAgentMessage(t.agentContext,{associatedRecordId:e.id,messageClass:o.V2RequestPresentationMessage});return(0,n.getOutboundMessageContext)(t.agentContext,{connectionRecord:t.connection,message:r,associatedRecord:e,lastReceivedMessage:t.message,lastSentMessage:s})}}t.V2PresentationHandler=a},54505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationProblemReportHandler=void 0;let n=r(96827);class i{constructor(e){this.supportedMessages=[n.V2PresentationProblemReportMessage],this.proofService=e}async handle(e){await this.proofService.processProblemReport(e)}}t.V2PresentationProblemReportHandler=i},24904:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2ProposePresentationHandler=void 0;let n=r(36849),i=r(77515);class o{constructor(e){this.supportedMessages=[i.V2ProposePresentationMessage],this.proofProtocol=e}async handle(e){let t=await this.proofProtocol.processProposal(e),r=await this.proofProtocol.shouldAutoRespondToProposal(e.agentContext,{proofRecord:t,proposalMessage:e.message});if(r)return this.acceptProposal(t,e)}async acceptProposal(e,t){if(t.agentContext.config.logger.info("Automatically sending request with autoAccept"),!t.connection){t.agentContext.config.logger.error("No connection on the messageContext, aborting auto accept");return}let{message:r}=await this.proofProtocol.acceptProposal(t.agentContext,{proofRecord:e});return new n.OutboundMessageContext(r,{agentContext:t.agentContext,connection:t.connection,associatedRecord:e})}}t.V2ProposePresentationHandler=o},44380:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.V2RequestPresentationHandler=void 0;let n=r(89642),i=r(66877);class o{constructor(e){this.supportedMessages=[i.V2RequestPresentationMessage],this.proofProtocol=e}async handle(e){let t=await this.proofProtocol.processRequest(e),r=await this.proofProtocol.shouldAutoRespondToRequest(e.agentContext,{proofRecord:t,requestMessage:e.message});if(e.agentContext.config.logger.debug(`Should auto respond to request: ${r}`),r)return await this.acceptRequest(t,e)}async acceptRequest(e,t){t.agentContext.config.logger.info("Automatically sending presentation with autoAccept");let{message:r}=await this.proofProtocol.acceptRequest(t.agentContext,{proofRecord:e});return(0,n.getOutboundMessageContext)(t.agentContext,{message:r,lastReceivedMessage:t.message,associatedRecord:e,connectionRecord:t.connection})}}t.V2RequestPresentationHandler=o},70020:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13597),t),i(r(96827),t),i(r(8259),t)},7396:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationAckMessage=void 0;let o=r(51465),a=r(82885);class s extends a.AckMessage{constructor(){super(...arguments),this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/present-proof/2.0/ack"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.V2PresentationAckMessage=s},86129:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(15169),d=r(59572);class f extends s.AgentMessage{constructor(e){var t,r;super(),this.type=f.type.messageTypeUri,this.lastPresentation=!0,e&&(this.formats=[],this.presentationAttachments=[],this.id=null!==(t=e.id)&&void 0!==t?t:(0,u.uuid)(),this.comment=e.comment,this.goalCode=e.goalCode,this.lastPresentation=null===(r=e.lastPresentation)||void 0===r||r,this.formats=e.formats,this.presentationAttachments=e.presentationAttachments)}getPresentationAttachmentById(e){return this.presentationAttachments.find(t=>t.id===e)}}f.type=(0,c.parseMessageType)("https://didcomm.org/present-proof/2.0/presentation"),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"comment",void 0),n([(0,o.Expose)({name:"goal_code"}),(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"goalCode",void 0),n([(0,o.Expose)({name:"last_presentation"}),(0,a.IsBoolean)(),i("design:type",Object)],f.prototype,"lastPresentation",void 0),n([(0,o.Expose)({name:"formats"}),(0,o.Type)(()=>d.ProofFormatSpec),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(d.ProofFormatSpec,{each:!0}),i("design:type",Array)],f.prototype,"formats",void 0),n([(0,o.Expose)({name:"presentations~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],f.prototype,"presentationAttachments",void 0),t.V2PresentationMessage=f},10105:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2PresentationProblemReportMessage=void 0;let o=r(51465),a=r(10796);class s extends a.ProblemReportMessage{constructor(){super(...arguments),this.type=s.type.messageTypeUri}}s.type=(0,o.parseMessageType)("https://didcomm.org/present-proof/2.0/problem-report"),n([(0,o.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.V2PresentationProblemReportMessage=s},77515:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2ProposePresentationMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(15169),d=r(59572);class f extends s.AgentMessage{constructor(e){var t;super(),this.type=f.type.messageTypeUri,e&&(this.formats=[],this.proposalAttachments=[],this.id=null!==(t=e.id)&&void 0!==t?t:(0,u.uuid)(),this.comment=e.comment,this.goalCode=e.goalCode,this.formats=e.formats,this.proposalAttachments=e.proposalAttachments)}getProposalAttachmentById(e){return this.proposalAttachments.find(t=>t.id===e)}}f.type=(0,c.parseMessageType)("https://didcomm.org/present-proof/2.0/propose-presentation"),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"comment",void 0),n([(0,o.Expose)({name:"goal_code"}),(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"goalCode",void 0),n([(0,o.Type)(()=>d.ProofFormatSpec),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(d.ProofFormatSpec,{each:!0}),i("design:type",Array)],f.prototype,"formats",void 0),n([(0,o.Expose)({name:"proposals~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],f.prototype,"proposalAttachments",void 0),t.V2ProposePresentationMessage=f},66877:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.V2RequestPresentationMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(22548),c=r(51465),u=r(15169),d=r(59572);class f extends s.AgentMessage{constructor(e){var t,r,n;super(),this.type=f.type.messageTypeUri,this.willConfirm=!1,this.presentMultiple=!1,e&&(this.formats=[],this.requestAttachments=[],this.id=null!==(t=e.id)&&void 0!==t?t:(0,u.uuid)(),this.comment=e.comment,this.goalCode=e.goalCode,this.willConfirm=null===(r=e.willConfirm)||void 0===r||r,this.presentMultiple=null!==(n=e.presentMultiple)&&void 0!==n&&n,this.requestAttachments=e.requestAttachments,this.formats=e.formats)}getRequestAttachmentById(e){return this.requestAttachments.find(t=>t.id===e)}}f.type=(0,c.parseMessageType)("https://didcomm.org/present-proof/2.0/request-presentation"),n([(0,c.IsValidMessageType)(f.type),i("design:type",Object)],f.prototype,"type",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"comment",void 0),n([(0,o.Expose)({name:"goal_code"}),(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],f.prototype,"goalCode",void 0),n([(0,o.Expose)({name:"will_confirm"}),(0,a.IsBoolean)(),i("design:type",Object)],f.prototype,"willConfirm",void 0),n([(0,o.Expose)({name:"present_multiple"}),(0,a.IsBoolean)(),i("design:type",Object)],f.prototype,"presentMultiple",void 0),n([(0,o.Expose)({name:"formats"}),(0,o.Type)(()=>d.ProofFormatSpec),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(d.ProofFormatSpec,{each:!0}),i("design:type",Array)],f.prototype,"formats",void 0),n([(0,o.Expose)({name:"request_presentations~attach"}),(0,o.Type)(()=>l.Attachment),(0,a.IsArray)(),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(l.Attachment,{each:!0}),i("design:type",Array)],f.prototype,"requestAttachments",void 0),t.V2RequestPresentationMessage=f},96827:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7396),t),i(r(86129),t),i(r(10105),t),i(r(77515),t),i(r(66877),t)},96696:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProofExchangeRecord=void 0;let n=r(99997),i=r(79493),o=r(15169);class a extends i.BaseRecord{constructor(e){var t,r,n;super(),this.type=a.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,o.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.protocolVersion=e.protocolVersion,this.isVerified=e.isVerified,this.state=e.state,this.connectionId=e.connectionId,this.threadId=e.threadId,this.parentThreadId=e.parentThreadId,this.autoAcceptProof=e.autoAcceptProof,this._tags=null!==(n=e.tags)&&void 0!==n?n:{},this.errorMessage=e.errorMessage)}getTags(){return Object.assign(Object.assign({},this._tags),{threadId:this.threadId,parentThreadId:this.parentThreadId,connectionId:this.connectionId,state:this.state})}assertState(e){if(Array.isArray(e)||(e=[e]),!e.includes(this.state))throw new n.AriesFrameworkError(`Proof record is in invalid state ${this.state}. Valid states are: ${e.join(", ")}.`)}assertProtocolVersion(e){if(this.protocolVersion!==e)throw new n.AriesFrameworkError(`Proof record has invalid protocol version ${this.protocolVersion}. Expected version ${e}`)}assertConnection(e){if(this.connectionId){if(this.connectionId!==e)throw new n.AriesFrameworkError(`Proof record is associated with connection '${this.connectionId}'. Current connection is '${e}'`)}else throw new n.AriesFrameworkError("Proof record is not associated with any connection. This is often the case with connection-less presentation exchange")}}t.ProofExchangeRecord=a,a.type="ProofRecord"},86334:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProofRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(96696),d=class extends c.Repository{constructor(e,t){super(u.ProofExchangeRecord,e,t)}async getByThreadAndConnectionId(e,t,r){return this.getSingleByQuery(e,{threadId:t,connectionId:r})}async getByParentThreadAndConnectionId(e,t,r){return this.findByQuery(e,{parentThreadId:t,connectionId:r})}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.ProofRepository=d},96201:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96696),t),i(r(86334),t)},94824:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.composeAutoAccept=void 0;let n=r(49871);t.composeAutoAccept=function(e,t){var r;return null!==(r=null!=e?e:t)&&void 0!==r?r:n.AutoAcceptProof.Never}},39845:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRecipientApi=void 0;let a=r(21233),s=r(19734),l=r(77858),c=r(26852),u=r(59078),d=r(86865),f=r(24446),p=r(36849),h=r(55090),y=r(99997),g=r(90978),v=r(59440),m=r(23899),b=r(83564),_=r(83296),w=r(78278),S=r(12398),O=r(60428),M=r(18898),R=r(26428),P=r(8152),E=r(42616),I=r(72973),x=r(38452),A=r(48270),C=r(79841),j=r(80962),T=r(15965),$=r(3205),D=r(3840),N=r(61428),k=class{constructor(e,t,r,n,i,o,s,l,c,u,d,f,p,h){this.stopMessagePickup$=new a.Subject,this.connectionService=r,this.dids=n,this.mediationRecipientService=t,this.messageSender=i,this.eventEmitter=o,this.logger=d,this.discoverFeaturesApi=s,this.messagePickupApi=l,this.mediationRepository=c,this.routingService=u,this.agentContext=f,this.stop$=p,this.config=h,this.registerMessageHandlers(e)}async initialize(){let e=await this.findDefaultMediator();e&&this.initiateMessagePickup(e).catch(t=>{this.logger.warn(`Error initiating message pickup with mediator ${e.id}`,{error:t})})}async sendMessage(e,t){let r=null!=t?t:this.config.mediatorPickupStrategy,n=r===E.MediatorPickupStrategy.Implicit?{schemes:["wss","ws"],restrictive:!0}:void 0;await this.messageSender.sendMessage(e,{transportPriority:n})}async openMediationWebSocket(e){let t=await this.connectionService.getById(this.agentContext,e.connectionId),{message:r,connectionRecord:n}=await this.connectionService.createTrustPing(this.agentContext,t,{responseRequested:!1}),i=["ws","wss"],o=n.theirDid&&await this.dids.resolveDidDocument(n.theirDid),a=o&&(null==o?void 0:o.didCommServices),s=a&&a.some(e=>i.includes(e.protocolScheme));if(!s)throw new y.AriesFrameworkError("Cannot open websocket to connection without websocket service endpoint");await this.messageSender.sendMessage(new p.OutboundMessageContext(r,{agentContext:this.agentContext,connection:n}),{transportPriority:{schemes:i,restrictive:!0}})}async openWebSocketAndPickUp(e,t){let{baseMediatorReconnectionIntervalMs:r,maximumMediatorReconnectionIntervalMs:n}=this.config,i=r,o=(0,a.merge)(this.stop$,this.stopMessagePickup$).pipe();this.eventEmitter.observable(v.TransportEventTypes.OutboundWebSocketOpenedEvent).pipe((0,s.takeUntil)(o),(0,s.filter)(t=>t.payload.connectionId===e.connectionId)).subscribe(()=>{i=r}),this.eventEmitter.observable(v.TransportEventTypes.OutboundWebSocketClosedEvent).pipe((0,s.takeUntil)(o),(0,s.filter)(t=>t.payload.connectionId===e.connectionId),(0,s.throttleTime)(i),(0,s.delayWhen)(()=>(0,a.timer)(i)),(0,s.tap)(()=>{i=Math.min(2*i,n)})).subscribe({next:async()=>{this.logger.debug(`Websocket connection to mediator with connectionId '${e.connectionId}' is closed, attempting to reconnect...`);try{t===E.MediatorPickupStrategy.PickUpV2?await this.messagePickupApi.pickupMessages({connectionId:e.connectionId,batchSize:this.config.maximumMessagePickup,protocolVersion:"v2"}):await this.openMediationWebSocket(e)}catch(e){this.logger.warn("Unable to re-open websocket connection to mediator",{error:e})}},complete:()=>this.logger.info(`Stopping pickup of messages from mediator '${e.id}'`)});try{t===E.MediatorPickupStrategy.Implicit&&await this.openMediationWebSocket(e)}catch(e){this.logger.warn("Unable to open websocket connection to mediator",{error:e})}}async initiateMessagePickup(e,t){let{mediatorPollingInterval:r}=this.config,n=null!=e?e:await this.findDefaultMediator();if(!n)throw new y.AriesFrameworkError("There is no mediator to pickup messages from");let i=null!=t?t:await this.getPickupStrategyForMediator(n),o=await this.connectionService.getById(this.agentContext,n.connectionId);switch(i){case E.MediatorPickupStrategy.PickUpV2:this.logger.info(`Starting pickup of messages from mediator '${n.id}'`),await this.openWebSocketAndPickUp(n,i),await this.messagePickupApi.pickupMessages({connectionId:o.id,batchSize:this.config.maximumMessagePickup,protocolVersion:"v2"});break;case E.MediatorPickupStrategy.PickUpV1:{let e=(0,a.merge)(this.stop$,this.stopMessagePickup$).pipe();this.logger.info(`Starting explicit (batch) pickup of messages from mediator '${n.id}'`);let t=(0,a.interval)(r).pipe((0,s.takeUntil)(e)).subscribe({next:async()=>{await this.messagePickupApi.pickupMessages({connectionId:o.id,batchSize:this.config.maximumMessagePickup,protocolVersion:"v1"})},complete:()=>this.logger.info(`Stopping pickup of messages from mediator '${n.id}'`)});return t}case E.MediatorPickupStrategy.Implicit:this.logger.info(`Starting implicit pickup of messages from mediator '${n.id}'`),await this.openWebSocketAndPickUp(n,i);break;default:this.logger.info(`Skipping pickup of messages from mediator '${n.id}' due to pickup strategy none`)}}async stopMessagePickup(){this.stopMessagePickup$.next(!0)}async getPickupStrategyForMediator(e){var t,r,n;let i=null!==(t=e.pickupStrategy)&&void 0!==t?t:this.config.mediatorPickupStrategy;if(!i){let t=await this.discoverFeaturesApi.queryFeatures({connectionId:e.connectionId,protocolVersion:"v1",queries:[{featureType:"protocol",match:R.V2StatusMessage.type.protocolUri}],awaitDisclosures:!0});if(null===(r=t.features)||void 0===r?void 0:r.find(e=>e.id===R.V2StatusMessage.type.protocolUri))i=E.MediatorPickupStrategy.PickUpV2;else{let t=await this.discoverFeaturesApi.queryFeatures({connectionId:e.connectionId,protocolVersion:"v1",queries:[{featureType:"protocol",match:M.V1BatchPickupMessage.type.protocolUri}],awaitDisclosures:!0});i=(null===(n=t.features)||void 0===n?void 0:n.find(e=>e.id===M.V1BatchPickupMessage.type.protocolUri))?E.MediatorPickupStrategy.PickUpV1:E.MediatorPickupStrategy.Implicit}e.pickupStrategy=i,await this.mediationRepository.update(this.agentContext,e)}return i}async discoverMediation(){return this.mediationRecipientService.discoverMediation(this.agentContext)}async pickupMessages(e,t){e.assertReady();let r=this.agentContext.dependencyManager.resolve(O.MessagePickupApi);await r.pickupMessages({connectionId:e.id,protocolVersion:t===E.MediatorPickupStrategy.PickUpV2?"v2":"v1"})}async setDefaultMediator(e){return this.mediationRecipientService.setDefaultMediator(this.agentContext,e)}async requestMediation(e){let{mediationRecord:t,message:r}=await this.mediationRecipientService.createRequest(this.agentContext,e),n=new p.OutboundMessageContext(r,{agentContext:this.agentContext,connection:e});return await this.sendMessage(n),t}async notifyKeylistUpdate(e,t,r){var n;let i=this.agentContext.config.useDidKeyInProtocols,o=e.metadata.get(m.ConnectionMetadataKeys.UseDidKeysForProtocol);o&&(i=null!==(n=o[j.KeylistUpdateMessage.type.protocolUri])&&void 0!==n?n:i);let a=this.mediationRecipientService.createKeylistUpdateMessage([new j.KeylistUpdate({action:null!=r?r:j.KeylistUpdateAction.add,recipientKey:i?(0,w.verkeyToDidKey)(t):t})]),s=new p.OutboundMessageContext(a,{agentContext:this.agentContext,connection:e});await this.sendMessage(s)}async findByConnectionId(e){return await this.mediationRecipientService.findByConnectionId(this.agentContext,e)}async getMediators(){return await this.mediationRecipientService.getMediators(this.agentContext)}async findDefaultMediator(){return this.mediationRecipientService.findDefaultMediator(this.agentContext)}async findDefaultMediatorConnection(){let e=await this.findDefaultMediator();return e?this.connectionService.getById(this.agentContext,e.connectionId):null}async requestAndAwaitGrant(e,t=1e4){let{mediationRecord:r,message:n}=await this.mediationRecipientService.createRequest(this.agentContext,e),i=this.eventEmitter.observable(I.RoutingEventTypes.MediationStateChanged),o=new a.ReplaySubject(1);i.pipe((0,u.filterContextCorrelationId)(this.agentContext.contextCorrelationId),(0,s.filter)(e=>e.payload.mediationRecord.id===r.id),(0,s.filter)(e=>e.payload.previousState===T.MediationState.Requested),(0,s.filter)(e=>e.payload.mediationRecord.state===T.MediationState.Granted),(0,s.first)(),(0,s.timeout)(t)).subscribe(o);let l=new p.OutboundMessageContext(n,{agentContext:this.agentContext,connection:e,associatedRecord:r});await this.sendMessage(l);let c=await (0,a.firstValueFrom)(o);return c.payload.mediationRecord}async provision(e){this.logger.debug("Connection completed, requesting mediation");let t=await this.findByConnectionId(e.id);return t?this.logger.debug(`Mediator invitation has already been ${t.isReady?"granted":"requested"}`):(this.logger.info(`Requesting mediation for connection ${e.id}`),t=await this.requestAndAwaitGrant(e,6e4),this.logger.debug("Mediation granted, setting as default mediator"),await this.setDefaultMediator(t),this.logger.debug("Default mediator set")),t}async getRouting(e){return this.routingService.getRouting(this.agentContext,e)}registerMessageHandlers(e){e.registerMessageHandler(new x.KeylistUpdateResponseHandler(this.mediationRecipientService)),e.registerMessageHandler(new C.MediationGrantHandler(this.mediationRecipientService)),e.registerMessageHandler(new A.MediationDenyHandler(this.mediationRecipientService))}};k=n([(0,g.injectable)(),o(10,(0,g.inject)(h.InjectionSymbols.Logger)),o(12,(0,g.inject)(h.InjectionSymbols.Stop$)),i("design:paramtypes",[d.MessageHandlerRegistry,D.MediationRecipientService,b.ConnectionService,_.DidsApi,f.MessageSender,c.EventEmitter,S.DiscoverFeaturesApi,O.MessagePickupApi,$.MediationRepository,N.RoutingService,Object,l.AgentContext,a.Subject,P.MediationRecipientModuleConfig])],k),t.MediationRecipientApi=k},95634:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRecipientModule=void 0;let n=r(36849),i=r(39845),o=r(8152),a=r(10374),s=r(3205),l=r(28264);class c{constructor(e){this.api=i.MediationRecipientApi,this.config=new o.MediationRecipientModuleConfig(e)}register(e,t){e.registerContextScoped(i.MediationRecipientApi),e.registerInstance(o.MediationRecipientModuleConfig,this.config),e.registerSingleton(l.MediationRecipientService),e.registerSingleton(l.RoutingService),e.registerSingleton(s.MediationRepository),t.register(new n.Protocol({id:"https://didcomm.org/coordinate-mediation/1.0",roles:[a.MediationRole.Recipient]}))}}t.MediationRecipientModule=c},8152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRecipientModuleConfig=void 0;class r{constructor(e){this.options=null!=e?e:{}}get mediatorPollingInterval(){var e;return null!==(e=this.options.mediatorPollingInterval)&&void 0!==e?e:5e3}get mediatorPickupStrategy(){return this.options.mediatorPickupStrategy}get maximumMessagePickup(){var e;return null!==(e=this.options.maximumMessagePickup)&&void 0!==e?e:10}get baseMediatorReconnectionIntervalMs(){var e;return null!==(e=this.options.baseMediatorReconnectionIntervalMs)&&void 0!==e?e:100}get maximumMediatorReconnectionIntervalMs(){var e;return null!==(e=this.options.maximumMediatorReconnectionIntervalMs)&&void 0!==e?e:Number.POSITIVE_INFINITY}get mediatorInvitationUrl(){return this.options.mediatorInvitationUrl}}t.MediationRecipientModuleConfig=r},87031:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorApi=void 0;let o=r(77858),a=r(86865),s=r(24446),l=r(36849),c=r(90978),u=r(83564),d=r(37761),f=r(50639),p=r(27242),h=r(67029),y=r(65877),g=class{constructor(e,t,r,n,i,o){this.mediatorService=t,this.messageSender=r,this.connectionService=i,this.agentContext=n,this.config=o,this.registerMessageHandlers(e)}async initialize(){this.agentContext.config.logger.debug("Mediator routing record not loaded yet, retrieving from storage");let e=await this.mediatorService.findMediatorRoutingRecord(this.agentContext);e||(this.agentContext.config.logger.debug("Mediator routing record does not exist yet, creating routing keys and record"),await this.mediatorService.createMediatorRoutingRecord(this.agentContext))}async grantRequestedMediation(e){let t=await this.mediatorService.getById(this.agentContext,e),r=await this.connectionService.getById(this.agentContext,t.connectionId),{message:n,mediationRecord:i}=await this.mediatorService.createGrantMediationMessage(this.agentContext,t),o=new l.OutboundMessageContext(n,{agentContext:this.agentContext,connection:r,associatedRecord:i});return await this.messageSender.sendMessage(o),i}queueMessage(e,t){let r=this.agentContext.dependencyManager.resolve(d.MessagePickupApi);return r.queueMessage({connectionId:e,message:t})}registerMessageHandlers(e){e.registerMessageHandler(new p.KeylistUpdateHandler(this.mediatorService)),e.registerMessageHandler(new p.ForwardHandler(this.mediatorService,this.connectionService,this.messageSender)),e.registerMessageHandler(new h.MediationRequestHandler(this.mediatorService,this.config))}};g=n([(0,c.injectable)(),i("design:paramtypes",[a.MessageHandlerRegistry,y.MediatorService,s.MessageSender,o.AgentContext,u.ConnectionService,f.MediatorModuleConfig])],g),t.MediatorApi=g},51668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorModule=void 0;let n=r(36849),i=r(87031),o=r(50639),a=r(10374),s=r(3205),l=r(28264);class c{constructor(e){this.api=i.MediatorApi,this.config=new o.MediatorModuleConfig(e)}register(e,t){e.registerContextScoped(i.MediatorApi),e.registerInstance(o.MediatorModuleConfig,this.config),e.registerSingleton(l.MediatorService),e.registerSingleton(s.MediationRepository),e.registerSingleton(s.MediatorRoutingRepository),t.register(new n.Protocol({id:"https://didcomm.org/coordinate-mediation/1.0",roles:[a.MediationRole.Mediator]}))}}t.MediatorModule=c},50639:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorModuleConfig=void 0;class r{constructor(e){this.options=null!=e?e:{}}get autoAcceptMediationRequests(){var e;return null!==(e=this.options.autoAcceptMediationRequests)&&void 0!==e&&e}}t.MediatorModuleConfig=r},42616:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorPickupStrategy=void 0,(r=t.MediatorPickupStrategy||(t.MediatorPickupStrategy={})).PickUpV1="PickUpV1",r.PickUpV2="PickUpV2",r.Implicit="Implicit",r.None="None"},72973:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingEventTypes=void 0,(r=t.RoutingEventTypes||(t.RoutingEventTypes={})).MediationStateChanged="MediationStateChanged",r.RecipientKeylistUpdated="RecipientKeylistUpdated",r.RoutingCreatedEvent="RoutingCreatedEvent"},90984:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingProblemReportReason=void 0,(t.RoutingProblemReportReason||(t.RoutingProblemReportReason={})).ErrorProcessingAttachments="error-processing-attachments"},43285:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(90984),t)},21963:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardHandler=void 0;let n=r(80962);class i{constructor(e,t,r){this.supportedMessages=[n.ForwardMessage],this.mediatorService=e,this.connectionService=t,this.messageSender=r}async handle(e){let{encryptedMessage:t,mediationRecord:r}=await this.mediatorService.processForwardMessage(e),n=await this.connectionService.getById(e.agentContext,r.connectionId);await this.messageSender.sendPackage(e.agentContext,{connection:n,encryptedMessage:t})}}t.ForwardHandler=i},34250:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeylistUpdateHandler=void 0;let n=r(36849),i=r(80962);class o{constructor(e){this.supportedMessages=[i.KeylistUpdateMessage],this.mediatorService=e}async handle(e){let t=e.assertReadyConnection(),r=await this.mediatorService.processKeylistUpdateRequest(e);return new n.OutboundMessageContext(r,{agentContext:e.agentContext,connection:t})}}t.KeylistUpdateHandler=o},38452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeylistUpdateResponseHandler=void 0;let n=r(80962);class i{constructor(e){this.supportedMessages=[n.KeylistUpdateResponseMessage],this.mediationRecipientService=e}async handle(e){return e.assertReadyConnection(),await this.mediationRecipientService.processKeylistUpdateResults(e)}}t.KeylistUpdateResponseHandler=i},48270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediationDenyHandler=void 0;let n=r(80962);class i{constructor(e){this.supportedMessages=[n.MediationDenyMessage],this.mediationRecipientService=e}async handle(e){e.assertReadyConnection(),await this.mediationRecipientService.processMediationDeny(e)}}t.MediationDenyHandler=i},79841:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediationGrantHandler=void 0;let n=r(80962);class i{constructor(e){this.supportedMessages=[n.MediationGrantMessage],this.mediationRecipientService=e}async handle(e){e.assertReadyConnection(),await this.mediationRecipientService.processMediationGrant(e)}}t.MediationGrantHandler=i},67029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRequestHandler=void 0;let n=r(36849),i=r(81232);class o{constructor(e,t){this.supportedMessages=[i.MediationRequestMessage],this.mediatorService=e,this.mediatorModuleConfig=t}async handle(e){let t=e.assertReadyConnection(),r=await this.mediatorService.processMediationRequest(e);if(this.mediatorModuleConfig.autoAcceptMediationRequests){let{message:i}=await this.mediatorService.createGrantMediationMessage(e.agentContext,r);return new n.OutboundMessageContext(i,{agentContext:e.agentContext,connection:t,associatedRecord:r})}}}t.MediationRequestHandler=o},27242:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(21963),t),i(r(34250),t),i(r(38452),t),i(r(48270),t),i(r(79841),t),i(r(67029),t)},34601:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80962),t),i(r(28264),t),i(r(3205),t),i(r(10374),t),i(r(72973),t),i(r(87031),t),i(r(39845),t),i(r(42616),t),i(r(51668),t),i(r(95634),t)},63146:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.ForwardMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){super(),this.allowDidSovPrefix=!0,this.type=c.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.to=e.to,this.message=e.message)}}c.type=(0,l.parseMessageType)("https://didcomm.org/routing/1.0/forward"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],c.prototype,"to",void 0),n([(0,o.Expose)({name:"msg"}),(0,a.IsObject)(),i("design:type",Object)],c.prototype,"message",void 0),t.ForwardMessage=c},54170:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.KeylistUpdateMessage=t.KeylistUpdate=t.KeylistUpdateAction=void 0;let s=r(5902),l=r(56988),c=r(92583),u=r(51465);(n=i=t.KeylistUpdateAction||(t.KeylistUpdateAction={})).add="add",n.remove="remove";class d{constructor(e){e&&(this.recipientKey=e.recipientKey,this.action=e.action)}}o([(0,l.IsString)(),(0,s.Expose)({name:"recipient_key"}),a("design:type",String)],d.prototype,"recipientKey",void 0),o([(0,l.IsEnum)(i),a("design:type",String)],d.prototype,"action",void 0),t.KeylistUpdate=d;class f extends c.AgentMessage{constructor(e){super(),this.type=f.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.updates=e.updates)}}f.type=(0,u.parseMessageType)("https://didcomm.org/coordinate-mediation/1.0/keylist-update"),o([(0,u.IsValidMessageType)(f.type),a("design:type",Object)],f.prototype,"type",void 0),o([(0,s.Type)(()=>d),(0,l.IsArray)(),(0,l.ValidateNested)(),(0,l.IsInstance)(d,{each:!0}),a("design:type",Array)],f.prototype,"updates",void 0),t.KeylistUpdateMessage=f},80785:function(e,t,r){"use strict";var n,i,o=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.KeylistUpdateResponseMessage=t.KeylistUpdated=t.KeylistUpdateResult=void 0;let s=r(5902),l=r(56988),c=r(92583),u=r(51465),d=r(54170);(n=i=t.KeylistUpdateResult||(t.KeylistUpdateResult={})).ClientError="client_error",n.ServerError="server_error",n.NoChange="no_change",n.Success="success";class f{constructor(e){e&&(this.recipientKey=e.recipientKey,this.action=e.action,this.result=e.result)}}o([(0,l.IsString)(),(0,s.Expose)({name:"recipient_key"}),a("design:type",String)],f.prototype,"recipientKey",void 0),o([(0,l.IsEnum)(d.KeylistUpdateAction),a("design:type",String)],f.prototype,"action",void 0),o([(0,l.IsEnum)(i),a("design:type",String)],f.prototype,"result",void 0),t.KeylistUpdated=f;class p extends c.AgentMessage{constructor(e){super(),this.type=p.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.updated=e.keylist,this.setThread({threadId:e.threadId}))}}p.type=(0,u.parseMessageType)("https://didcomm.org/coordinate-mediation/1.0/keylist-update-response"),o([(0,u.IsValidMessageType)(p.type),a("design:type",Object)],p.prototype,"type",void 0),o([(0,s.Type)(()=>f),(0,l.IsArray)(),(0,l.ValidateNested)(),(0,l.IsInstance)(f,{each:!0}),a("design:type",Array)],p.prototype,"updated",void 0),t.KeylistUpdateResponseMessage=p},63650:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationDenyMessage=void 0;let o=r(92583),a=r(51465);class s extends o.AgentMessage{constructor(e){super(),this.type=s.type.messageTypeUri,e&&(this.id=e.id)}}s.type=(0,a.parseMessageType)("https://didcomm.org/coordinate-mediation/1.0/mediate-deny"),n([(0,a.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.MediationDenyMessage=s},61253:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationGrantMessage=void 0;let o=r(5902),a=r(56988),s=r(92583),l=r(51465);class c extends s.AgentMessage{constructor(e){var t;super(),this.type=c.type.messageTypeUri,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:this.generateId(),this.endpoint=e.endpoint,this.routingKeys=e.routingKeys,this.setThread({threadId:e.threadId}))}}c.type=(0,l.parseMessageType)("https://didcomm.org/coordinate-mediation/1.0/mediate-grant"),n([(0,l.IsValidMessageType)(c.type),i("design:type",Object)],c.prototype,"type",void 0),n([(0,a.IsNotEmpty)(),(0,a.IsArray)(),(0,o.Expose)({name:"routing_keys"}),i("design:type",Array)],c.prototype,"routingKeys",void 0),n([(0,a.IsNotEmpty)(),(0,a.IsString)(),i("design:type",String)],c.prototype,"endpoint",void 0),t.MediationGrantMessage=c},81232:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRequestMessage=void 0;let o=r(92583),a=r(51465);class s extends o.AgentMessage{constructor(e){super(),this.type=s.type.messageTypeUri,e&&(this.id=e.id||this.generateId(),this.addLocale(e.locale||"en"))}}s.type=(0,a.parseMessageType)("https://didcomm.org/coordinate-mediation/1.0/mediate-request"),n([(0,a.IsValidMessageType)(s.type),i("design:type",Object)],s.prototype,"type",void 0),t.MediationRequestMessage=s},80962:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63146),t),i(r(54170),t),i(r(80785),t),i(r(61253),t),i(r(63650),t),i(r(81232),t)},93188:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRole=void 0,(r=t.MediationRole||(t.MediationRole={})).Mediator="MEDIATOR",r.Recipient="RECIPIENT"},15965:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.MediationState=void 0,(r=t.MediationState||(t.MediationState={})).Requested="requested",r.Granted="granted",r.Denied="denied"},10374:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93188),t),i(r(15965),t)},32904:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRecord=void 0;let o=r(5902),a=r(99997),s=r(79493),l=r(15169),c=r(42616),u=r(15965);class d extends s.BaseRecord{constructor(e){var t,r,n,i;super(),this.type=d.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,l.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.connectionId=e.connectionId,this.threadId=e.threadId,this.recipientKeys=e.recipientKeys||[],this.routingKeys=e.routingKeys||[],this.state=e.state,this.role=e.role,this.endpoint=null!==(n=e.endpoint)&&void 0!==n?n:void 0,this.pickupStrategy=e.pickupStrategy,this._tags=null!==(i=e.tags)&&void 0!==i?i:{})}getTags(){return Object.assign(Object.assign({},this._tags),{state:this.state,role:this.role,connectionId:this.connectionId,threadId:this.threadId,recipientKeys:this.recipientKeys})}addRecipientKey(e){this.recipientKeys.push(e)}removeRecipientKey(e){let t=this.recipientKeys.indexOf(e,0);return t>-1&&(this.recipientKeys.splice(t,1),!0)}get isReady(){return this.state===u.MediationState.Granted}assertReady(){if(!this.isReady)throw new a.AriesFrameworkError(`Mediation record is not ready to be used. Expected ${u.MediationState.Granted}, found invalid state ${this.state}`)}assertState(e){if(Array.isArray(e)||(e=[e]),!e.includes(this.state))throw new a.AriesFrameworkError(`Mediation record is in invalid state ${this.state}. Valid states are: ${e.join(", ")}.`)}assertRole(e){if(this.role!==e)throw new a.AriesFrameworkError(`Mediation record has invalid role ${this.role}. Expected role ${e}.`)}}d.type="MediationRecord",n([(0,o.Transform)(({value:e})=>"Explicit"===e?c.MediatorPickupStrategy.PickUpV1:e),i("design:type",String)],d.prototype,"pickupStrategy",void 0),t.MediationRecord=d},17980:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(32904),d=class extends c.Repository{constructor(e,t){super(u.MediationRecord,e,t)}getSingleByRecipientKey(e,t){return this.getSingleByQuery(e,{recipientKeys:[t]})}async getByConnectionId(e,t){return this.getSingleByQuery(e,{connectionId:t})}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.MediationRepository=d},33189:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorRoutingRecord=void 0;let n=r(79493),i=r(15169);class o extends n.BaseRecord{constructor(e){var t,r;super(),this.type=o.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,i.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.routingKeys=e.routingKeys||[])}getTags(){return this._tags}}t.MediatorRoutingRecord=o,o.type="MediatorRoutingRecord"},8863:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorRoutingRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(33189),d=class extends c.Repository{constructor(e,t){super(u.MediatorRoutingRecord,e,t),this.MEDIATOR_ROUTING_RECORD_ID="MEDIATOR_ROUTING_RECORD"}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.MediatorRoutingRepository=d},3205:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17980),t),i(r(8863),t),i(r(32904),t),i(r(33189),t)},3840:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.MediationRecipientService=void 0;let o=r(21233),a=r(19734),s=r(26852),l=r(59078),c=r(24446),u=r(36849),d=r(91478),f=r(99997),p=r(90978),h=r(68459),y=r(23899),g=r(26577),v=r(83296),m=r(78278),b=r(72973),_=r(80962),w=r(54170),S=r(10374),O=r(32904),M=r(17980),R=class{constructor(e,t,r,n){this.mediationRepository=r,this.eventEmitter=n,this.connectionService=e,this.messageSender=t}async createRequest(e,t){let r=new _.MediationRequestMessage({}),n=new O.MediationRecord({threadId:r.threadId,state:S.MediationState.Requested,role:S.MediationRole.Recipient,connectionId:t.id});return await this.connectionService.addConnectionType(e,t,h.ConnectionType.Mediator),await this.mediationRepository.save(e,n),this.emitStateChangedEvent(e,n,null),{mediationRecord:n,message:r}}async processMediationGrant(e){let t=e.assertReadyConnection(),r=await this.mediationRepository.getByConnectionId(e.agentContext,t.id);r.assertState(S.MediationState.Requested),r.assertRole(S.MediationRole.Recipient),r.endpoint=e.message.endpoint;let n=e.message.routingKeys.some(m.isDidKey);return await this.updateUseDidKeysFlag(e.agentContext,t,_.MediationGrantMessage.type.protocolUri,n),r.routingKeys=e.message.routingKeys.map(m.didKeyToVerkey),await this.updateState(e.agentContext,r,S.MediationState.Granted)}async processKeylistUpdateResults(e){let t=e.assertReadyConnection(),r=await this.mediationRepository.getByConnectionId(e.agentContext,t.id);r.assertReady(),r.assertRole(S.MediationRole.Recipient);let n=e.message.updated,i=n.some(e=>(0,m.isDidKey)(e.recipientKey));for(let o of(await this.updateUseDidKeysFlag(e.agentContext,t,_.KeylistUpdateResponseMessage.type.protocolUri,i),n))o.action===_.KeylistUpdateAction.add?r.addRecipientKey((0,m.didKeyToVerkey)(o.recipientKey)):o.action===_.KeylistUpdateAction.remove&&r.removeRecipientKey((0,m.didKeyToVerkey)(o.recipientKey));await this.mediationRepository.update(e.agentContext,r),this.eventEmitter.emit(e.agentContext,{type:b.RoutingEventTypes.RecipientKeylistUpdated,payload:{mediationRecord:r,keylist:n}})}async keylistUpdateAndAwait(e,t,r,n=15e3){var i;let s=await this.connectionService.getById(e,t.connectionId),c=e.config.useDidKeyInProtocols,d=s.metadata.get(y.ConnectionMetadataKeys.UseDidKeysForProtocol);d&&(c=null!==(i=d[w.KeylistUpdateMessage.type.protocolUri])&&void 0!==i?i:c);let f=this.createKeylistUpdateMessage(r.map(e=>new w.KeylistUpdate({action:e.action,recipientKey:c?new v.DidKey(e.recipientKey).did:e.recipientKey.publicKeyBase58})));t.assertReady(),t.assertRole(S.MediationRole.Recipient);let p=this.eventEmitter.observable(b.RoutingEventTypes.RecipientKeylistUpdated),h=new o.ReplaySubject(1);p.pipe((0,l.filterContextCorrelationId)(e.contextCorrelationId),(0,a.filter)(e=>t.id===e.payload.mediationRecord.id),(0,a.first)(),(0,a.timeout)(n)).subscribe(h);let g=new u.OutboundMessageContext(f,{agentContext:e,connection:s});await this.messageSender.sendMessage(g);let m=await (0,o.firstValueFrom)(h);return m.payload.mediationRecord}createKeylistUpdateMessage(e){let t=new w.KeylistUpdateMessage({updates:e});return t}async addMediationRouting(e,t,{mediatorId:r,useDefaultMediator:n=!0}={}){let i=null;return(r?i=await this.getById(e,r):n&&(i=await this.findDefaultMediator(e)),i)?(i=await this.keylistUpdateAndAwait(e,i,[{recipientKey:t.recipientKey,action:_.KeylistUpdateAction.add}]),Object.assign(Object.assign({},t),{mediatorId:i.id,endpoints:i.endpoint?[i.endpoint]:t.endpoints,routingKeys:i.routingKeys.map(e=>d.Key.fromPublicKeyBase58(e,d.KeyType.Ed25519))})):t}async removeMediationRouting(e,{recipientKeys:t,mediatorId:r}){let n=await this.getById(e,r);if(!n)throw new f.AriesFrameworkError("No mediation record to remove routing from has been found");await this.keylistUpdateAndAwait(e,n,t.map(e=>({recipientKey:e,action:_.KeylistUpdateAction.remove})))}async processMediationDeny(e){let t=e.assertReadyConnection(),r=await this.findByConnectionId(e.agentContext,t.id);if(!r)throw Error(`No mediation has been requested for this connection id: ${t.id}`);return r.assertRole(S.MediationRole.Recipient),r.assertState(S.MediationState.Requested),await this.updateState(e.agentContext,r,S.MediationState.Denied),r}async updateState(e,t,r){let n=t.state;return t.state=r,await this.mediationRepository.update(e,t),this.emitStateChangedEvent(e,t,n),t}emitStateChangedEvent(e,t,r){this.eventEmitter.emit(e,{type:b.RoutingEventTypes.MediationStateChanged,payload:{mediationRecord:t.clone(),previousState:r}})}async getById(e,t){return this.mediationRepository.getById(e,t)}async findByConnectionId(e,t){return this.mediationRepository.findSingleByQuery(e,{connectionId:t})}async getMediators(e){return this.mediationRepository.getAll(e)}async findAllMediatorsByQuery(e,t){return await this.mediationRepository.findByQuery(e,t)}async findDefaultMediator(e){return this.mediationRepository.findSingleByQuery(e,{default:!0})}async discoverMediation(e,t){if(t)return this.mediationRepository.getById(e,t);let r=await this.findDefaultMediator(e);if(r){if(r.state!==S.MediationState.Granted)throw new f.AriesFrameworkError(`Mediation State for ${r.id} is not granted, but is set as default mediator!`);return r}}async setDefaultMediator(e,t){let r=await this.mediationRepository.findByQuery(e,{default:!0});for(let t of r)t.setTag("default",!1),await this.mediationRepository.update(e,t);t.setTag("default",!0),await this.mediationRepository.update(e,t)}async clearDefaultMediator(e){let t=await this.findDefaultMediator(e);t&&(t.setTag("default",!1),await this.mediationRepository.update(e,t))}async updateUseDidKeysFlag(e,t,r,n){var i;let o=null!==(i=t.metadata.get(y.ConnectionMetadataKeys.UseDidKeysForProtocol))&&void 0!==i?i:{};o[r]=n,t.metadata.set(y.ConnectionMetadataKeys.UseDidKeysForProtocol,o),await this.connectionService.update(e,t)}};R=n([(0,p.injectable)(),i("design:paramtypes",[g.ConnectionService,c.MessageSender,M.MediationRepository,s.EventEmitter])],R),t.MediationRecipientService=R},65877:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorService=void 0;let a=r(26852),s=r(55090),l=r(91478),c=r(99997),u=r(90978),d=r(52560),f=r(23899),p=r(78278),h=r(72973),y=r(80962),g=r(93188),v=r(15965),m=r(3205),b=r(32904),_=r(17980),w=r(8863),S=class{constructor(e,t,r,n,i){this.mediationRepository=e,this.mediatorRoutingRepository=t,this.eventEmitter=r,this.logger=n,this.connectionService=i}async getRoutingKeys(e){let t=await this.findMediatorRoutingRecord(e);if(t)return this.logger.debug(`Returning mediator routing keys ${t.routingKeys}`),t.routingKeys;throw new c.AriesFrameworkError("Mediator has not been initialized yet.")}async processForwardMessage(e){let{message:t}=e;if(!t.to)throw new c.AriesFrameworkError('Invalid Message: Missing required attribute "to"');let r=await this.mediationRepository.getSingleByRecipientKey(e.agentContext,t.to);return r.assertReady(),r.assertRole(g.MediationRole.Mediator),{encryptedMessage:t.message,mediationRecord:r}}async processKeylistUpdateRequest(e){let t=e.assertReadyConnection(),{message:r}=e,n=[],i=await this.mediationRepository.getByConnectionId(e.agentContext,t.id);i.assertReady(),i.assertRole(g.MediationRole.Mediator);let o=r.updates.some(e=>(0,p.isDidKey)(e.recipientKey));for(let a of(await this.updateUseDidKeysFlag(e.agentContext,t,y.KeylistUpdateMessage.type.protocolUri,o),r.updates)){let e=new y.KeylistUpdated({action:a.action,recipientKey:a.recipientKey,result:y.KeylistUpdateResult.NoChange}),t=(0,p.didKeyToVerkey)(a.recipientKey);if(a.action===y.KeylistUpdateAction.add)i.addRecipientKey(t),e.result=y.KeylistUpdateResult.Success,n.push(e);else if(a.action===y.KeylistUpdateAction.remove){let r=i.removeRecipientKey(t);e.result=r?y.KeylistUpdateResult.Success:y.KeylistUpdateResult.NoChange,n.push(e)}}return await this.mediationRepository.update(e.agentContext,i),new y.KeylistUpdateResponseMessage({keylist:n,threadId:r.threadId})}async createGrantMediationMessage(e,t){t.assertState(v.MediationState.Requested),t.assertRole(g.MediationRole.Mediator),await this.updateState(e,t,v.MediationState.Granted);let r=e.config.useDidKeyInProtocols,n=new y.MediationGrantMessage({endpoint:e.config.endpoints[0],routingKeys:r?(await this.getRoutingKeys(e)).map(p.verkeyToDidKey):await this.getRoutingKeys(e),threadId:t.threadId});return{mediationRecord:t,message:n}}async processMediationRequest(e){let t=e.assertReadyConnection(),r=new b.MediationRecord({connectionId:t.id,role:g.MediationRole.Mediator,state:v.MediationState.Requested,threadId:e.message.threadId});return await this.mediationRepository.save(e.agentContext,r),this.emitStateChangedEvent(e.agentContext,r,null),r}async findById(e,t){return this.mediationRepository.findById(e,t)}async getById(e,t){return this.mediationRepository.getById(e,t)}async getAll(e){return await this.mediationRepository.getAll(e)}async findMediatorRoutingRecord(e){let t=await this.mediatorRoutingRepository.findById(e,this.mediatorRoutingRepository.MEDIATOR_ROUTING_RECORD_ID);return t}async createMediatorRoutingRecord(e){let t=await e.wallet.createKey({keyType:l.KeyType.Ed25519}),r=new m.MediatorRoutingRecord({id:this.mediatorRoutingRepository.MEDIATOR_ROUTING_RECORD_ID,routingKeys:[t.publicKeyBase58]});try{await this.mediatorRoutingRepository.save(e,r),this.eventEmitter.emit(e,{type:h.RoutingEventTypes.RoutingCreatedEvent,payload:{routing:{endpoints:e.config.endpoints,routingKeys:[],recipientKey:t}}})}catch(t){if(t instanceof c.RecordDuplicateError)return this.mediatorRoutingRepository.getById(e,this.mediatorRoutingRepository.MEDIATOR_ROUTING_RECORD_ID);throw t}return r}async findAllByQuery(e,t){return await this.mediationRepository.findByQuery(e,t)}async updateState(e,t,r){let n=t.state;t.state=r,await this.mediationRepository.update(e,t),this.emitStateChangedEvent(e,t,n)}emitStateChangedEvent(e,t,r){this.eventEmitter.emit(e,{type:h.RoutingEventTypes.MediationStateChanged,payload:{mediationRecord:t.clone(),previousState:r}})}async updateUseDidKeysFlag(e,t,r,n){var i;let o=null!==(i=t.metadata.get(f.ConnectionMetadataKeys.UseDidKeysForProtocol))&&void 0!==i?i:{};o[r]=n,t.metadata.set(f.ConnectionMetadataKeys.UseDidKeysForProtocol,o),await this.connectionService.update(e,t)}};S=n([(0,u.injectable)(),o(3,(0,u.inject)(s.InjectionSymbols.Logger)),i("design:paramtypes",[_.MediationRepository,w.MediatorRoutingRepository,a.EventEmitter,Object,d.ConnectionService])],S),t.MediatorService=S},61428:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.RoutingService=void 0;let o=r(26852),a=r(91478),s=r(90978),l=r(72973),c=r(3840),u=class{constructor(e,t){this.mediationRecipientService=e,this.eventEmitter=t}async getRouting(e,{mediatorId:t,useDefaultMediator:r=!0}={}){let n=await e.wallet.createKey({keyType:a.KeyType.Ed25519}),i={endpoints:e.config.endpoints,routingKeys:[],recipientKey:n};return i=await this.mediationRecipientService.addMediationRouting(e,i,{mediatorId:t,useDefaultMediator:r}),this.eventEmitter.emit(e,{type:l.RoutingEventTypes.RoutingCreatedEvent,payload:{routing:i}}),i}async removeRouting(e,t){await this.mediationRecipientService.removeMediationRouting(e,t)}};u=n([(0,s.injectable)(),i("design:paramtypes",[c.MediationRecipientService,o.EventEmitter])],u),t.RoutingService=u},28264:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3840),t),i(r(65877),t),i(r(61428),t)},27003:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialService=void 0;let o=r(99997),a=r(90978),s=r(26252),l=r(16953),c=r(38867),u=r(24236),d=r(69161),f=r(58945),p=r(70056),h=r(99602),y=r(24889),g=class{constructor(e,t,r){this.w3cCredentialRepository=e,this.w3cJsonLdCredentialService=t,this.w3cJwtCredentialService=r}async signCredential(e,t){if(t.format===p.ClaimFormat.JwtVc)return this.w3cJwtCredentialService.signCredential(e,t);if(t.format===p.ClaimFormat.LdpVc)return this.w3cJsonLdCredentialService.signCredential(e,t);throw new o.AriesFrameworkError("Unsupported format in options. Format must be either 'jwt_vc' or 'ldp_vc'")}async verifyCredential(e,t){if(t.credential instanceof l.W3cJsonLdVerifiableCredential)return this.w3cJsonLdCredentialService.verifyCredential(e,t);if(t.credential instanceof d.W3cJwtVerifiableCredential||"string"==typeof t.credential)return this.w3cJwtCredentialService.verifyCredential(e,t);throw new o.AriesFrameworkError("Unsupported credential type in options. Credential must be either a W3cJsonLdVerifiableCredential or a W3cJwtVerifiableCredential")}async createPresentation(e){let t=new h.W3cPresentation({context:[s.CREDENTIALS_CONTEXT_V1_URL],type:["VerifiablePresentation"],verifiableCredential:e.credentials,holder:e.holder,id:e.id});return t}async signPresentation(e,t){if(t.format===p.ClaimFormat.JwtVp)return this.w3cJwtCredentialService.signPresentation(e,t);if(t.format===p.ClaimFormat.LdpVp)return this.w3cJsonLdCredentialService.signPresentation(e,t);throw new o.AriesFrameworkError("Unsupported format in options. Format must be either 'jwt_vp' or 'ldp_vp'")}async verifyPresentation(e,t){if(t.presentation instanceof u.W3cJsonLdVerifiablePresentation)return this.w3cJsonLdCredentialService.verifyPresentation(e,t);if(t.presentation instanceof d.W3cJwtVerifiablePresentation||"string"==typeof t.presentation)return this.w3cJwtCredentialService.verifyPresentation(e,t);throw new o.AriesFrameworkError("Unsupported credential type in options. Presentation must be either a W3cJsonLdVerifiablePresentation or a W3cJwtVerifiablePresentation")}async storeCredential(e,t){let r=[];t.credential instanceof l.W3cJsonLdVerifiableCredential&&(r=await this.w3cJsonLdCredentialService.getExpandedTypesForCredential(e,t.credential));let n=new y.W3cCredentialRecord({tags:{expandedTypes:r},credential:t.credential});return await this.w3cCredentialRepository.save(e,n),n}async removeCredentialRecord(e,t){await this.w3cCredentialRepository.deleteById(e,t)}async getAllCredentialRecords(e){return await this.w3cCredentialRepository.getAll(e)}async getCredentialRecordById(e,t){return await this.w3cCredentialRepository.getById(e,t)}async findCredentialsByQuery(e,t){let r=await this.w3cCredentialRepository.findByQuery(e,t);return r.map(e=>e.credential)}async findCredentialRecordByQuery(e,t){let r=await this.w3cCredentialRepository.findSingleByQuery(e,t);return null==r?void 0:r.credential}};g=n([(0,a.injectable)(),i("design:paramtypes",[y.W3cCredentialRepository,c.W3cJsonLdCredentialService,f.W3cJwtCredentialService])],g),t.W3cCredentialService=g},98272:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4674:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialsApi=void 0;let o=r(77858),a=r(90978),s=r(27003),l=class{constructor(e,t){this.agentContext=e,this.w3cCredentialService=t}async storeCredential(e){return this.w3cCredentialService.storeCredential(this.agentContext,e)}async removeCredentialRecord(e){return this.w3cCredentialService.removeCredentialRecord(this.agentContext,e)}async getAllCredentialRecords(){return this.w3cCredentialService.getAllCredentialRecords(this.agentContext)}async getCredentialRecordById(e){return this.w3cCredentialService.getCredentialRecordById(this.agentContext,e)}async findCredentialRecordsByQuery(e){return this.w3cCredentialService.findCredentialsByQuery(this.agentContext,e)}};l=n([(0,a.injectable)(),i("design:paramtypes",[o.AgentContext,s.W3cCredentialService])],l),t.W3cCredentialsApi=l},20311:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialsModule=void 0;let n=r(91478),i=r(83296),o=r(27003),a=r(4674),s=r(34785),l=r(83127),c=r(38867),u=r(47380),d=r(69161),f=r(74244);class p{constructor(e){this.api=a.W3cCredentialsApi,this.config=new s.W3cCredentialsModuleConfig(e)}register(e){e.registerContextScoped(a.W3cCredentialsApi),e.registerSingleton(o.W3cCredentialService),e.registerSingleton(d.W3cJwtCredentialService),e.registerSingleton(c.W3cJsonLdCredentialService),e.registerSingleton(f.W3cCredentialRepository),e.registerSingleton(l.SignatureSuiteRegistry),e.registerInstance(s.W3cCredentialsModuleConfig,this.config),e.registerInstance(l.SignatureSuiteToken,{suiteClass:u.Ed25519Signature2018,proofType:"Ed25519Signature2018",verificationMethodTypes:[i.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2018,i.VERIFICATION_METHOD_TYPE_ED25519_VERIFICATION_KEY_2020],keyTypes:[n.KeyType.Ed25519]})}}t.W3cCredentialsModule=p},34785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialsModuleConfig=void 0;let n=r(32328);class i{constructor(e){this.options=null!=e?e:{}}get documentLoader(){var e;return null!==(e=this.options.documentLoader)&&void 0!==e?e:n.defaultDocumentLoader}}t.W3cCredentialsModuleConfig=i},26252:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SECURITY_JWS_CONTEXT_URL=t.EXPANDED_TYPE_CREDENTIALS_CONTEXT_V1_VC_TYPE=t.VERIFIABLE_PRESENTATION_TYPE=t.VERIFIABLE_CREDENTIAL_TYPE=t.SECURITY_SIGNATURE_URL=t.SECURITY_PROOF_URL=t.CREDENTIALS_ISSUER_URL=t.SECURITY_CONTEXT_BBS_URL=t.CREDENTIALS_CONTEXT_V1_URL=t.DID_V1_CONTEXT_URL=t.SECURITY_X25519_CONTEXT_URL=t.SECURITY_CONTEXT_URL=t.SECURITY_CONTEXT_V3_URL=t.SECURITY_CONTEXT_V2_URL=t.SECURITY_CONTEXT_V1_URL=void 0,t.SECURITY_CONTEXT_V1_URL="https://w3id.org/security/v1",t.SECURITY_CONTEXT_V2_URL="https://w3id.org/security/v2",t.SECURITY_CONTEXT_V3_URL="https://w3id.org/security/v3-unstable",t.SECURITY_CONTEXT_URL=t.SECURITY_CONTEXT_V2_URL,t.SECURITY_X25519_CONTEXT_URL="https://w3id.org/security/suites/x25519-2019/v1",t.DID_V1_CONTEXT_URL="https://www.w3.org/ns/did/v1",t.CREDENTIALS_CONTEXT_V1_URL="https://www.w3.org/2018/credentials/v1",t.SECURITY_CONTEXT_BBS_URL="https://w3id.org/security/bbs/v1",t.CREDENTIALS_ISSUER_URL="https://www.w3.org/2018/credentials#issuer",t.SECURITY_PROOF_URL="https://w3id.org/security#proof",t.SECURITY_SIGNATURE_URL="https://w3id.org/security#signature",t.VERIFIABLE_CREDENTIAL_TYPE="VerifiableCredential",t.VERIFIABLE_PRESENTATION_TYPE="VerifiablePresentation",t.EXPANDED_TYPE_CREDENTIALS_CONTEXT_V1_VC_TYPE="https://www.w3.org/2018/credentials#VerifiableCredential",t.SECURITY_JWS_CONTEXT_URL="https://w3id.org/security/suites/jws-2020/v1"},83127:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureSuiteRegistry=t.SignatureSuiteToken=void 0;let a=r(99997),s=r(90978),l=r(59267);l.suites.LinkedDataSignature,t.SignatureSuiteToken=Symbol("SignatureSuiteToken");let c=class{constructor(e){this.suiteMapping=e}get supportedProofTypes(){return this.suiteMapping.map(e=>e.proofType)}getByVerificationMethodType(e){return this.suiteMapping.find(t=>t.verificationMethodTypes.includes(e))}getByKeyType(e){return this.suiteMapping.find(t=>t.keyTypes.includes(e))}getByProofType(e){let t=this.suiteMapping.find(t=>t.proofType===e);if(!t)throw new a.AriesFrameworkError(`No signature suite for proof type: ${e}`);return t}getVerificationMethodTypesByProofType(e){let t=this.suiteMapping.find(t=>t.proofType===e);if(!t)throw new a.AriesFrameworkError(`No verification method type found for proof type: ${e}`);return t.verificationMethodTypes}};c=n([(0,s.injectable)(),o(0,(0,s.injectAll)(t.SignatureSuiteToken)),i("design:paramtypes",[Array])],c),t.SignatureSuiteRegistry=c},38867:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJsonLdCredentialService=void 0;let s=r(5018),l=r(99997),c=r(90978),u=r(23333),d=r(83296),f=r(89056),p=r(34785),h=r(11013),y=r(83127),g=r(77179),v=r(84746),m=a(r(24687)),b=a(r(60555)),_=r(12549),w=r(24236),S=class{constructor(e,t){this.signatureSuiteRegistry=e,this.w3cCredentialsModuleConfig=t}async signCredential(e,t){var r;let n=(0,s.createWalletKeyPairClass)(e.wallet),i=await this.getPublicKeyFromVerificationMethod(e,t.verificationMethod),o=this.signatureSuiteRegistry.getByProofType(t.proofType);if(!o.keyTypes.includes(i.keyType))throw new l.AriesFrameworkError("The key type of the verification method does not match the suite");let a=new n({controller:t.credential.issuerId,id:t.verificationMethod,key:i,wallet:e.wallet}),c=o.suiteClass,d=new c({key:a,LDKeyClass:n,proof:{verificationMethod:t.verificationMethod},useNativeCanonize:!1,date:null!==(r=t.created)&&void 0!==r?r:(0,h.w3cDate)()}),f=await b.default.issue({credential:u.JsonTransformer.toJSON(t.credential),suite:d,purpose:t.proofPurpose,documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e)});return u.JsonTransformer.fromJSON(f,_.W3cJsonLdVerifiableCredential)}async verifyCredential(e,t){var r;try{let n=null===(r=t.verifyCredentialStatus)||void 0===r||r,i=this.getSignatureSuitesForCredential(e,t.credential),a={credential:u.JsonTransformer.toJSON(t.credential),suite:i,documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e),checkStatus:()=>{if(n)throw new l.AriesFrameworkError("Verifying credential status for JSON-LD credentials is currently not supported");return{verified:!0}}};t.proofPurpose&&(a.purpose=t.proofPurpose);let s=await b.default.verifyCredential(a),{verified:c}=s,d=o(s,["verified"]);return{isValid:c,validations:{vcJs:Object.assign({isValid:c},d)},error:s.error}}catch(e){return{isValid:!1,validations:{},error:e}}}async signPresentation(e,t){let r=(0,s.createWalletKeyPairClass)(e.wallet),n=this.signatureSuiteRegistry.getByProofType(t.proofType);if(!n)throw new l.AriesFrameworkError(`The requested proofType ${t.proofType} is not supported`);let i=await this.getPublicKeyFromVerificationMethod(e,t.verificationMethod);if(!n.keyTypes.includes(i.keyType))throw new l.AriesFrameworkError("The key type of the verification method does not match the suite");let o=this.w3cCredentialsModuleConfig.documentLoader(e),a=(await o(t.verificationMethod)).document,c=new r({controller:a.controller,id:t.verificationMethod,key:i,wallet:e.wallet}),d=new n.suiteClass({LDKeyClass:r,proof:{verificationMethod:t.verificationMethod},date:new Date().toISOString(),key:c,useNativeCanonize:!1}),f=await b.default.signPresentation({presentation:u.JsonTransformer.toJSON(t.presentation),suite:d,challenge:t.challenge,domain:t.domain,documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e)});return u.JsonTransformer.fromJSON(f,w.W3cJsonLdVerifiablePresentation)}async verifyPresentation(e,t){try{let r=(0,s.createWalletKeyPairClass)(e.wallet),n=t.presentation.proof;Array.isArray(n)||(n=[n]),t.purpose&&(n=n.filter(e=>e.proofPurpose===t.purpose.term));let i=n.map(e=>{let t=this.signatureSuiteRegistry.getByProofType(e.type).suiteClass;return new t({LDKeyClass:r,proof:{verificationMethod:e.verificationMethod},date:e.created,useNativeCanonize:!1})}),a=(0,u.asArray)(t.presentation.verifiableCredential);(0,v.assertOnlyW3cJsonLdVerifiableCredentials)(a);let l=a.map(t=>this.getSignatureSuitesForCredential(e,t)),c=i.concat(...l),d={presentation:u.JsonTransformer.toJSON(t.presentation),suite:c,challenge:t.challenge,domain:t.domain,documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e)};t.purpose&&(d.presentationPurpose=t.purpose);let f=await b.default.verify(d),{verified:p}=f,h=o(f,["verified"]);return{isValid:p,validations:{vcJs:Object.assign({isValid:p},h)},error:f.error}}catch(e){return{isValid:!1,validations:{},error:e}}}async deriveProof(e,t){let r=this.signatureSuiteRegistry.getByProofType("BbsBlsSignatureProof2020"),n=r.suiteClass,i=new n,o=await (0,g.deriveProof)(u.JsonTransformer.toJSON(t.credential),t.revealDocument,{suite:i,documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e)});return o}getVerificationMethodTypesByProofType(e){return this.signatureSuiteRegistry.getByProofType(e).verificationMethodTypes}getKeyTypesByProofType(e){return this.signatureSuiteRegistry.getByProofType(e).keyTypes}getProofTypeByVerificationMethodType(e){let t=this.signatureSuiteRegistry.getByVerificationMethodType(e);if(!t)throw new l.AriesFrameworkError(`No suite found for verification method type ${e}}`);return t.proofType}async getExpandedTypesForCredential(e,t){let r=(await m.default.expand(u.JsonTransformer.toJSON(t),{documentLoader:this.w3cCredentialsModuleConfig.documentLoader(e)}))[0]["@type"];return(0,u.asArray)(r)}async getPublicKeyFromVerificationMethod(e,t){let r=this.w3cCredentialsModuleConfig.documentLoader(e),n=await r(t),i=u.JsonTransformer.fromJSON(n.document,d.VerificationMethod),o=(0,f.getKeyFromVerificationMethod)(i);return o}getSignatureSuitesForCredential(e,t){let r=(0,s.createWalletKeyPairClass)(e.wallet),n=t.proof;return Array.isArray(n)||(n=[n]),n.map(e=>{var t;let n=null===(t=this.signatureSuiteRegistry.getByProofType(e.type))||void 0===t?void 0:t.suiteClass;if(n)return new n({LDKeyClass:r,proof:{verificationMethod:e.verificationMethod},date:e.created,useNativeCanonize:!1})})}};S=n([(0,c.injectable)(),i("design:paramtypes",[y.SignatureSuiteRegistry,p.W3cCredentialsModuleConfig])],S),t.W3cJsonLdCredentialService=S},77179:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deriveProof=void 0;let i=r(23333),o=r(26252),a=r(84746),s=n(r(24687)),l=r(45471),c=async(e,t,{suite:r,skipProofCompaction:n,documentLoader:c,expansionMap:u,nonce:d})=>{var f;if(!r)throw TypeError('"options.suite" is required.');if(Array.isArray(e))throw TypeError("proofDocument should be an object not an array.");let{proofs:p,document:h}=await (0,a.getProofs)({document:e,proofType:r.supportedDeriveProofType,documentLoader:c,expansionMap:u});if(0===p.length)throw Error("There were not any proofs provided that can be used to derive a proof with this suite.");let y=await r.deriveProof({document:h,proof:p[0],revealDocument:t,documentLoader:c,expansionMap:u,nonce:d});if(p.length>1)for(let e of(y=Object.assign(Object.assign({},y),{proof:[y.proof]}),p.splice(0,1),p)){let n=await r.deriveProof({document:h,proof:e,revealDocument:t,documentLoader:c,expansionMap:u});y.proof.push(n.proof)}if(n)delete y.proof["@context"],s.default.addValue(y.document,"proof",y.proof);else{let e={[o.SECURITY_PROOF_URL]:{"@graph":y.proof}},{types:t,alias:r}=await (0,a.getTypeInfo)(y.document,{documentLoader:c,expansionMap:u});e["@type"]=t;let n=s.default.getValues(y.document,"@context"),i=await s.default.compact(e,n,{documentLoader:c,expansionMap:u,compactToRelative:!1});delete i[r],delete i["@context"],(null===(f=i.proof)||void 0===f?void 0:f["@included"])&&(i.proof=i.proof["@included"]);let l=Object.keys(i)[0];s.default.addValue(y.document,l,i[l])}return i.JsonTransformer.fromJSON(y.document,l.W3cJsonLdVerifiableCredential)};t.deriveProof=c},16953:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureSuiteRegistry=t.SignatureSuiteToken=void 0;var o=r(83127);Object.defineProperty(t,"SignatureSuiteToken",{enumerable:!0,get:function(){return o.SignatureSuiteToken}}),Object.defineProperty(t,"SignatureSuiteRegistry",{enumerable:!0,get:function(){return o.SignatureSuiteRegistry}}),i(r(47380),t),i(r(15365),t),i(r(12549),t),i(r(58907),t),i(r(77179),t)},84746:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTypeInfo=t.getProofs=t.assertOnlyW3cJsonLdVerifiableCredentials=t._includesContext=void 0;let i=r(99997),o=r(26252),a=n(r(24687)),s=r(45471);t._includesContext=e=>{let t=e.document["@context"];return t===e.contextUrl||Array.isArray(t)&&t.includes(e.contextUrl)},t.assertOnlyW3cJsonLdVerifiableCredentials=function(e){if(e.some(e=>!(e instanceof s.W3cJsonLdVerifiableCredential)))throw new i.AriesFrameworkError("JSON-LD VPs can only contain JSON-LD VCs")};let l="proof",c=async e=>{let t;let{proofType:r,skipProofCompaction:n,documentLoader:i,expansionMap:s}=e,{document:c}=e;return n||(c=await a.default.compact(c,o.SECURITY_CONTEXT_URL,{documentLoader:i,expansionMap:s,compactToRelative:!1})),t=a.default.getValues(c,l),delete c[l],"string"==typeof r&&(t=t.filter(e=>e.type==r)),Array.isArray(r)&&(t=t.filter(e=>r.includes(e.type))),{proofs:t=t.map(e=>Object.assign({"@context":o.SECURITY_CONTEXT_URL},e)),document:c}};t.getProofs=c;let u=async(e,t)=>{let{documentLoader:r,expansionMap:n}=t,i=a.default.getValues(e,"@context"),o=await a.default.compact({"@type":"_:b0"},i,{documentLoader:r,expansionMap:n});delete o["@context"];let s=Object.keys(o)[0],l={"@context":i};l["@type"]=a.default.getValues(e,"@type").concat(a.default.getValues(e,s));let c=(await a.default.expand(l,{documentLoader:r,expansionMap:n}))[0]||{};return{types:a.default.getValues(c,"@type"),alias:s}};t.getTypeInfo=u},32328:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.defaultDocumentLoader=void 0;let i=r(32236),o=r(23333),a=r(83296),s=n(r(24687)),l=r(22052);t.defaultDocumentLoader=function(e){let t=e.dependencyManager.resolve(a.DidResolverService);async function r(r){if((0,o.isDid)(r)){let n=await t.resolve(e,r);if(n.didResolutionMetadata.error||!n.didDocument)throw new i.AriesFrameworkError(`Unable to resolve DID: ${r}`);let o=await s.default.frame(n.didDocument.toJSON(),{"@context":n.didDocument.context,"@embed":"@never",id:r},{documentLoader:this});return{contextUrl:null,documentUrl:r,document:o}}let n=(0,l.getNativeDocumentLoader)(),a=n.apply(s.default,[]);return await a(r)}return r.bind(r)}},15365:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.vcLibraries=void 0;let a=o(r(24687)),s=o(r(59267)),l=o(r(60555));t.vcLibraries={jsonldSignatures:s,jsonld:Object.assign(Object.assign({},a),a.default),vc:Object.assign(Object.assign({},l),l.default)}},59267:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constants=t.purposes=t.suites=void 0;let n=r(47680);t.suites=n.suites,t.purposes=n.purposes,t.constants=n.constants},24687:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(38038));t.default=i.default},22052:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNativeDocumentLoader=void 0,t.getNativeDocumentLoader=function(){let e=r(13872);return e}},60555:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(79406));t.default=i.default},27073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LdKeyPair=void 0;class r{constructor(e){this.id=e.id,this.controller=e.controller}static async generate(){throw Error("Not implemented")}static async from(e){throw Error("Abstract method from() must be implemented in subclass.")}export(e=!1,t=!1){if(!e&&!t)throw Error('Export requires specifying either "publicKey" or "privateKey".');let r={id:this.id,type:this.type,controller:this.controller};return r}}t.LdKeyPair=r},22064:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedDataProofTransformer=t.LinkedDataProof=void 0;let o=r(5902),a=r(56988),s=r(23333);class l{constructor(e){e&&(this.type=e.type,this.proofPurpose=e.proofPurpose,this.verificationMethod=e.verificationMethod,this.created=e.created,this.domain=e.domain,this.challenge=e.challenge,this.jws=e.jws,this.proofValue=e.proofValue,this.nonce=e.nonce)}}n([(0,a.IsString)(),i("design:type",String)],l.prototype,"type",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"proofPurpose",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"verificationMethod",void 0),n([(0,a.IsString)(),i("design:type",String)],l.prototype,"created",void 0),n([(0,s.IsUri)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"domain",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"challenge",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"jws",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"proofValue",void 0),n([(0,a.IsString)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"nonce",void 0),t.LinkedDataProof=l,t.LinkedDataProofTransformer=function(){return(0,o.Transform)(({value:e,type:t})=>t===o.TransformationType.PLAIN_TO_CLASS?Array.isArray(e)?e.map(e=>(0,o.plainToInstance)(l,e)):(0,o.plainToInstance)(l,e):t===o.TransformationType.CLASS_TO_PLAIN?Array.isArray(e)?e.map(e=>(0,o.instanceToPlain)(e)):(0,o.instanceToPlain)(e):e)}},45471:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJsonLdVerifiableCredential=void 0;let o=r(56988),a=r(23333),s=r(32699),l=r(26357),c=r(22064);class u extends l.W3cCredential{constructor(e){super(e),e&&(this.proof=(0,a.mapSingleOrArray)(e.proof,e=>new c.LinkedDataProof(e)))}get proofTypes(){var e;let t=null!==(e=(0,a.asArray)(this.proof))&&void 0!==e?e:[];return t.map(e=>e.type)}toJson(){return a.JsonTransformer.toJSON(this)}get claimFormat(){return s.ClaimFormat.LdpVc}get encoded(){return this.toJson()}}n([(0,c.LinkedDataProofTransformer)(),(0,a.IsInstanceOrArrayOfInstances)({classType:c.LinkedDataProof}),(0,o.ValidateNested)(),i("design:type",Object)],u.prototype,"proof",void 0),t.W3cJsonLdVerifiableCredential=u},24236:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJsonLdVerifiablePresentation=void 0;let o=r(23333),a=r(70056),s=r(99602),l=r(22064);class c extends s.W3cPresentation{constructor(e){super(e),e&&(this.proof=new l.LinkedDataProof(e.proof))}get proofTypes(){var e;let t=null!==(e=(0,o.asArray)(this.proof))&&void 0!==e?e:[];return t.map(e=>e.type)}toJson(){return o.JsonTransformer.toJSON(this)}get claimFormat(){return a.ClaimFormat.LdpVp}get encoded(){return this.toJson()}}n([(0,l.LinkedDataProofTransformer)(),(0,o.IsInstanceOrArrayOfInstances)({classType:l.LinkedDataProof}),i("design:type",Object)],c.prototype,"proof",void 0),t.W3cJsonLdVerifiablePresentation=c},12549:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45471),t),i(r(24236),t),i(r(27073),t)},79450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CredentialIssuancePurpose=void 0;let n=r(59267),i=n.purposes.AssertionProofPurpose;n.suites.LinkedDataProof;class o extends i{constructor(e){e.maxTimestampDelta=e.maxTimestampDelta||1/0,super(e)}async validate(e,t){try{let r=await super.validate(e,t);if(!r.valid)throw r.error;let n=jsonld.util.getValues(t.document,"issuer");if(!n||0===n.length)throw Error("Credential issuer is required.");let i="string"==typeof n[0]?n[0]:n[0].id;if(r.controller.id!==i)throw Error("Credential issuer must match the verification method controller.");return{valid:!0}}catch(e){return{valid:!1,error:e}}}}t.CredentialIssuancePurpose=o},72897:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},58907:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(79450),t),i(r(72897),t)},40628:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JwsLinkedDataSignature=void 0;let n=r(99997),i=r(23333),o=r(59267),a=o.suites.LinkedDataSignature;class s extends a{constructor(e){super({type:e.type,LDKeyClass:e.LDKeyClass,contextUrl:e.contextUrl,key:e.key,signer:void 0,verifier:void 0,proof:e.proof,date:e.date,useNativeCanonize:e.useNativeCanonize}),this.alg=e.algorithm}async sign(e){if(!(this.signer&&"function"==typeof this.signer.sign))throw Error("A signer API has not been specified.");let t={alg:this.alg,b64:!1,crit:["b64"]},r=i.JsonEncoder.toBase64URL(t),n=l({encodedHeader:r,verifyData:e.verifyData}),o=await this.signer.sign({data:n}),a=i.TypedArrayEncoder.toBase64URL(o);return e.proof.jws=r+".."+a,e.proof}async verifySignature(e){let t;if(!(e.proof.jws&&"string"==typeof e.proof.jws&&e.proof.jws.includes(".")))throw TypeError('The proof does not include a valid "jws" property.');let[r,,n]=e.proof.jws.split(".");try{t=i.JsonEncoder.fromBase64(r)}catch(e){throw Error("Could not parse JWS header; "+e)}if(!(t&&"object"==typeof t))throw Error("Invalid JWS header.");if(!(t.alg===this.alg&&!1===t.b64&&Array.isArray(t.crit)&&1===t.crit.length&&"b64"===t.crit[0])&&3===Object.keys(t).length)throw Error(`Invalid JWS header parameters for ${this.type}.`);let o=i.TypedArrayEncoder.fromBase64(n),a=l({encodedHeader:r,verifyData:e.verifyData}),{verifier:s}=this;if(!s){let t=await this.LDKeyClass.from(e.verificationMethod);s=t.verifier()}return s.verify({data:a,signature:o})}async getVerificationMethod(e){if(this.key)return this.key.export({publicKey:!0});let{verificationMethod:t}=e.proof;if("object"==typeof t&&null!==t&&(t=t.id),!t)throw Error('No "verificationMethod" found in proof.');if(!e.documentLoader)throw new n.AriesFrameworkError("Missing custom document loader. This is required for resolving verification methods.");let{document:r}=await e.documentLoader(t);return t="string"==typeof r?JSON.parse(r):r,await this.assertVerificationMethod(t),t}async matchProof(e){let t=await super.matchProof({proof:e.proof,document:e.document,purpose:e.purpose,documentLoader:e.documentLoader,expansionMap:e.expansionMap});if(!t)return!1;if(!this.key)return!0;let{verificationMethod:r}=e.proof;return"object"==typeof r?r.id===this.key.id:r===this.key.id}}function l(e){let t=i.TypedArrayEncoder.fromString(e.encodedHeader+"."),r=new Uint8Array(t.length+e.verifyData.length);return r.set(t,0),r.set(e.verifyData,t.length),r}t.JwsLinkedDataSignature=s},60012:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Ed25519Signature2018=void 0;let i=r(23333),o=r(26252),a=r(84746),s=n(r(24687)),l=r(40628),c=r(86788),u=r(28770);class d extends l.JwsLinkedDataSignature{constructor(e){super({type:"Ed25519Signature2018",algorithm:"EdDSA",LDKeyClass:e.LDKeyClass,contextUrl:c.ED25519_SUITE_CONTEXT_URL_2018,key:e.key,proof:e.proof,date:e.date,useNativeCanonize:e.useNativeCanonize}),this.requiredKeyType="Ed25519VerificationKey2018"}async assertVerificationMethod(e){if(!f({document:e}))throw TypeError(`The '@context' of the verification method (key) MUST contain the context url "${this.contextUrl}".`);if(p(e)||h(e)){if(p(e)&&!(0,a._includesContext)({document:e,contextUrl:c.ED25519_SUITE_CONTEXT_URL_2018}))throw Error(`For verification method type 'Ed25519VerificationKey2018' the '@context' MUST contain the context url "${c.ED25519_SUITE_CONTEXT_URL_2018}".`);if(h(e)&&!y(e))throw Error(`For verification method type 'Ed25519VerificationKey2020' the '@context' MUST contain the context url "${c.ED25519_SUITE_CONTEXT_URL_2020}".`)}else{let t=s.default.getValues(e,"type")[0];throw Error(`Unsupported verification method type '${t}'. Verification method type MUST be 'Ed25519VerificationKey2018' or 'Ed25519VerificationKey2020'.`)}if(void 0!==e.revoked)throw Error("The verification method has been revoked.")}async getVerificationMethod(e){let t=await super.getVerificationMethod({proof:e.proof,documentLoader:e.documentLoader});if(h(t)&&y(t)){let e=i.MultiBaseEncoder.decode(t.publicKeyMultibase),r=t["@context"].indexOf(c.ED25519_SUITE_CONTEXT_URL_2020);t["@context"].splice(r,1),t["@context"].push(c.ED25519_SUITE_CONTEXT_URL_2018),t.type="Ed25519VerificationKey2018",t=Object.assign(Object.assign({},t),{publicKeyMultibase:void 0,publicKeyBase58:i.TypedArrayEncoder.toBase58(e.data)})}return t}ensureSuiteContext(e){f({document:e.document})||super.ensureSuiteContext({document:e.document,addSuiteContext:e.addSuiteContext})}async matchProof(e){return!!f({document:e.document})&&super.matchProof({proof:e.proof,document:e.document,purpose:e.purpose,documentLoader:e.documentLoader,expansionMap:e.expansionMap})}}function f(e){let t=(0,a._includesContext)({document:e.document,contextUrl:c.ED25519_SUITE_CONTEXT_URL_2018}),r=(0,a._includesContext)({document:e.document,contextUrl:c.ED25519_SUITE_CONTEXT_URL_2020}),n=(0,a._includesContext)({document:e.document,contextUrl:o.CREDENTIALS_CONTEXT_V1_URL}),i=(0,a._includesContext)({document:e.document,contextUrl:o.SECURITY_CONTEXT_URL});return(!t||!n)&&(!t||!i)&&(t||r||n||i)}function p(e){return s.default.hasValue(e,"type","Ed25519VerificationKey2018")}function h(e){return s.default.hasValue(e,"type","Ed25519VerificationKey2020")}function y(e){return(0,a._includesContext)({document:e,contextUrl:c.ED25519_SUITE_CONTEXT_URL_2020})}t.Ed25519Signature2018=d,d.CONTEXT_URL=c.ED25519_SUITE_CONTEXT_URL_2018,d.CONTEXT=u.ed25519Signature2018Context.get(c.ED25519_SUITE_CONTEXT_URL_2018)},86788:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ED25519_SUITE_CONTEXT_URL_2020=t.ED25519_SUITE_CONTEXT_URL_2018=void 0,t.ED25519_SUITE_CONTEXT_URL_2018="https://w3id.org/security/suites/ed25519-2018/v1",t.ED25519_SUITE_CONTEXT_URL_2020="https://w3id.org/security/suites/ed25519-2020/v1"},28770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ed25519Signature2018Context=t.context=void 0;let n=r(86788);t.context={"@context":{id:"@id",type:"@type","@protected":!0,proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"},Ed25519VerificationKey2018:{"@id":"https://w3id.org/security#Ed25519VerificationKey2018","@context":{"@protected":!0,id:"@id",type:"@type",controller:{"@id":"https://w3id.org/security#controller","@type":"@id"},revoked:{"@id":"https://w3id.org/security#revoked","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},publicKeyBase58:{"@id":"https://w3id.org/security#publicKeyBase58"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@protected":!0,id:"@id",type:"@type",challenge:"https://w3id.org/security#challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},domain:"https://w3id.org/security#domain",expires:{"@id":"https://w3id.org/security#expiration","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},nonce:"https://w3id.org/security#nonce",proofPurpose:{"@id":"https://w3id.org/security#proofPurpose","@type":"@vocab","@context":{"@protected":!0,id:"@id",type:"@type",assertionMethod:{"@id":"https://w3id.org/security#assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"https://w3id.org/security#authenticationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"https://w3id.org/security#capabilityInvocationMethod","@type":"@id","@container":"@set"},capabilityDelegation:{"@id":"https://w3id.org/security#capabilityDelegationMethod","@type":"@id","@container":"@set"},keyAgreement:{"@id":"https://w3id.org/security#keyAgreementMethod","@type":"@id","@container":"@set"}}},jws:{"@id":"https://w3id.org/security#jws"},verificationMethod:{"@id":"https://w3id.org/security#verificationMethod","@type":"@id"}}}}};let i=new Map;t.ed25519Signature2018Context=i,i.set(n.ED25519_SUITE_CONTEXT_URL_2018,t.context)},47380:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60012),t),i(r(40628),t)},76826:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.w3cDate=void 0,i(r(27003),t),i(r(98272),t),i(r(9309),t),i(r(20311),t),i(r(4674),t),i(r(70056),t),i(r(16953),t),i(r(69161),t),i(r(26252),t);var o=r(11013);Object.defineProperty(t,"w3cDate",{enumerable:!0,get:function(){return o.w3cDate}})},58945:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJwtCredentialService=void 0;let o=r(91478),a=r(91994),s=r(99997),l=r(90978),c=r(23333),u=r(83296),d=r(16953),f=r(71569),p=r(65374),h=r(26107),y=r(9770),g=class{constructor(e){this.hasWarned=!1,this.jwsService=e}warnExperimentalOnce(e){this.hasWarned||(e.config.logger.warn("The 'W3cJwtCredentialService' is experimental and could have unexpected breaking changes. When using this service, make sure to use strict versions for all @aries-framework packages."),this.hasWarned=!0)}async signCredential(e,t){this.warnExperimentalOnce(e),c.MessageValidator.validateSync(t.credential);let r=(0,h.getJwtPayloadFromCredential)(t.credential);if(!(0,c.isDid)(t.verificationMethod))throw new s.AriesFrameworkError("Only did identifiers are supported as verification method");let n=await this.resolveVerificationMethod(e,t.verificationMethod,["assertionMethod"]),i=(0,u.getKeyFromVerificationMethod)(n),o=await this.jwsService.createJwsCompact(e,{payload:r,key:i,protectedHeaderOptions:{typ:"JWT",alg:t.alg,kid:t.verificationMethod}}),a=f.W3cJwtVerifiableCredential.fromSerializedJwt(o);return a}async verifyCredential(e,t){var r;this.warnExperimentalOnce(e);let n=null===(r=t.verifyCredentialStatus)||void 0===r||r,i={isValid:!1,validations:{}};try{let r,o;try{t.credential instanceof f.W3cJwtVerifiableCredential&&c.MessageValidator.validateSync(t.credential.credential),(r=t.credential instanceof f.W3cJwtVerifiableCredential?t.credential:f.W3cJwtVerifiableCredential.fromSerializedJwt(t.credential)).jwt.payload.validate(),i.validations.dataModel={isValid:!0}}catch(e){return i.validations.dataModel={isValid:!1,error:e},i}let l=await this.getVerificationMethodForJwtCredential(e,{credential:r,purpose:["assertionMethod"]}),d=(0,u.getKeyFromVerificationMethod)(l),p=(0,a.getJwkFromKey)(d);try{(o=await this.jwsService.verifyJws(e,{jws:r.jwt.serializedJwt,jwkResolver:()=>p})).isValid?i.validations.signature={isValid:!0}:i.validations.signature={isValid:!1,error:new s.AriesFrameworkError("Invalid JWS signature")}}catch(e){i.validations.signature={isValid:!1,error:e}}r.issuerId!==l.controller?i.validations.issuerIsSigner={isValid:!1,error:new s.AriesFrameworkError(`Credential is signed using verification method ${l.id}, while the issuer of the credential is '${r.issuerId}'`)}:i.validations.issuerIsSigner={isValid:!0};let h=null==o?void 0:o.signerKeys.some(e=>e.fingerprint===d.fingerprint);return h?i.validations.issuerIsSigner={isValid:!0}:i.validations.issuerIsSigner={isValid:!1,error:new s.AriesFrameworkError("Credential is not signed by the issuer of the credential")},n&&!r.credentialStatus?i.validations.credentialStatus={isValid:!0}:n&&r.credentialStatus&&(i.validations.credentialStatus={isValid:!1,error:new s.AriesFrameworkError("Verifying credential status is not supported for JWT VCs")}),i.isValid=Object.values(i.validations).every(e=>e.isValid),i}catch(e){return i.error=e,i}}async signPresentation(e,t){this.warnExperimentalOnce(e),c.MessageValidator.validateSync(t.presentation);let r=(0,y.getJwtPayloadFromPresentation)(t.presentation);r.additionalClaims.nonce=t.challenge,r.aud=t.domain;let n=await this.resolveVerificationMethod(e,t.verificationMethod,["authentication"]),i=await this.jwsService.createJwsCompact(e,{payload:r,key:(0,u.getKeyFromVerificationMethod)(n),protectedHeaderOptions:{typ:"JWT",alg:t.alg,kid:t.verificationMethod}}),o=p.W3cJwtVerifiablePresentation.fromSerializedJwt(i);return o}async verifyPresentation(e,t){this.warnExperimentalOnce(e);let r={isValid:!1,validations:{}};try{let n;try{if(t.presentation instanceof p.W3cJwtVerifiablePresentation&&c.MessageValidator.validateSync(t.presentation.presentation),(n=t.presentation instanceof p.W3cJwtVerifiablePresentation?t.presentation:p.W3cJwtVerifiablePresentation.fromSerializedJwt(t.presentation)).jwt.payload.validate(),t.challenge!==n.jwt.payload.additionalClaims.nonce)throw new s.AriesFrameworkError(`JWT payload 'nonce' does not match challenge '${t.challenge}'`);let e=(0,c.asArray)(n.jwt.payload.aud);if(t.domain&&!e.includes(t.domain))throw new s.AriesFrameworkError(`JWT payload 'aud' does not include domain '${t.domain}'`);r.validations.dataModel={isValid:!0}}catch(e){return r.validations.dataModel={isValid:!1,error:e},r}let i=await this.getVerificationMethodForJwtCredential(e,{credential:n,purpose:["authentication"]}),o=(0,u.getKeyFromVerificationMethod)(i),l=(0,a.getJwkFromKey)(o);try{(await this.jwsService.verifyJws(e,{jws:n.jwt.serializedJwt,jwkResolver:()=>l})).isValid?r.validations.presentationSignature={isValid:!0}:r.validations.presentationSignature={isValid:!1,error:new s.AriesFrameworkError("Invalid JWS signature on presentation")}}catch(e){r.validations.presentationSignature={isValid:!1,error:e}}n.holderId&&i.controller!==n.holderId?r.validations.holderIsSigner={isValid:!1,error:new s.AriesFrameworkError(`Presentation is signed using verification method ${i.id}, while the holder of the presentation is '${n.holderId}'`)}:r.validations.holderIsSigner={isValid:!0};let f=(0,c.asArray)(n.presentation.verifiableCredential);return r.validations.credentials=await Promise.all(f.map(async r=>{let n;if(r instanceof d.W3cJsonLdVerifiableCredential)return{isValid:!1,error:new s.AriesFrameworkError("Credential is of format ldp_vc. presentations in jwp_vp format can only contain credentials in jwt_vc format"),validations:{}};let o=await this.verifyCredential(e,{credential:r,verifyCredentialStatus:t.verifyCredentialStatus}),a=r.credentialSubjectIds,l=a.some(e=>i.controller===e);return n=a.length>0&&!l?{isValid:!1,error:new s.AriesFrameworkError("Credential has one or more credentialSubject ids, but presentation does not authenticate credential subject")}:{isValid:!0},Object.assign(Object.assign({},o),{isValid:o.isValid&&n.isValid,validations:Object.assign(Object.assign({},o.validations),{credentialSubjectAuthentication:n})})})),r.isValid=Object.values(r.validations).every(e=>Array.isArray(e)?e.every(e=>e.isValid):e.isValid),r}catch(e){return r.error=e,r}}async resolveVerificationMethod(e,t,r){let n=e.dependencyManager.resolve(u.DidResolverService),i=await n.resolveDidDocument(e,t);return i.dereferenceKey(t,r)}async getVerificationMethodForJwtCredential(e,t){var r,n;let i;let{credential:o,purpose:l}=t,d=o.jwt.header.kid,f=e.dependencyManager.resolve(u.DidResolverService),p=o.jwt.payload.iss;if(null==d?void 0:d.startsWith("#")){if(!p)throw new s.AriesFrameworkError("JWT 'kid' MUST be absolute when when no 'iss' is present in JWT payload");let t=await f.resolveDidDocument(e,p);i=t.dereferenceKey(`${p}${d}`,l)}else if(d&&(0,c.isDid)(d)){let t=await f.resolveDidDocument(e,d);if(i=t.dereferenceKey(d,l),p&&t.id!==p)throw new s.AriesFrameworkError(`kid '${d}' does not match id of signer (holder/issuer) '${p}'`)}else{if(!p)throw new s.AriesFrameworkError("JWT 'iss' MUST be present in payload when no 'kid' is specified");let t=(0,a.getJwkClassFromJwaSignatureAlgorithm)(o.jwt.header.alg);if(!t)throw new s.AriesFrameworkError(`Unsupported JWT alg '${o.jwt.header.alg}'`);let{supportedVerificationMethodTypes:l}=(0,u.getKeyDidMappingByKeyType)(t.keyType),c=await f.resolveDidDocument(e,p),d=null!==(n=null===(r=c.assertionMethod)||void 0===r?void 0:r.map(e=>"string"==typeof e?c.dereferenceVerificationMethod(e):e).filter(e=>l.includes(e.type)))&&void 0!==n?n:[];if(0===d.length)throw new s.AriesFrameworkError(`No verification methods found for signer '${p}' and key type '${t.keyType}' for alg '${o.jwt.header.alg}'. Unable to determine which public key is associated with the credential.`);if(d.length>1)throw new s.AriesFrameworkError(`Multiple verification methods found for signer '${p}' and key type '${t.keyType}' for alg '${o.jwt.header.alg}'. Unable to determine which public key is associated with the credential.`);i=d[0]}if(p&&i.controller!==p)throw new s.AriesFrameworkError(`Verification method controller '${i.controller}' does not match the signer '${p}'`);return i}};g=n([(0,l.injectable)(),i("design:paramtypes",[o.JwsService])],g),t.W3cJwtCredentialService=g},71569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJwtVerifiableCredential=void 0;let n=r(93118),i=r(32699),o=r(26107);class a{constructor(e){this.jwt=e.jwt,this._credential=(0,o.getCredentialFromJwtPayload)(this.jwt.payload)}static fromSerializedJwt(e){let t=n.Jwt.fromSerializedJwt(e);return new a({jwt:t})}get credential(){return this._credential}get serializedJwt(){return this.jwt.serializedJwt}get context(){return this.credential.context}get id(){return this.credential.id}get type(){return this.credential.type}get issuer(){return this.credential.issuer}get issuanceDate(){return this.credential.issuanceDate}get expirationDate(){return this.credential.expirationDate}get credentialSubject(){return this.credential.credentialSubject}get credentialSchema(){return this.credential.credentialSchema}get credentialStatus(){return this.credential.credentialStatus}get issuerId(){return this.credential.issuerId}get credentialSchemaIds(){return this.credential.credentialSchemaIds}get credentialSubjectIds(){return this.credential.credentialSubjectIds}get contexts(){return this.credential.contexts}get claimFormat(){return i.ClaimFormat.JwtVc}get encoded(){return this.serializedJwt}}t.W3cJwtVerifiableCredential=a},65374:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.W3cJwtVerifiablePresentation=void 0;let n=r(93118),i=r(99997),o=r(70056),a=r(9770);class s{constructor(e){this.jwt=e.jwt,this._presentation=(0,a.getPresentationFromJwtPayload)(this.jwt.payload)}static fromSerializedJwt(e){let t=n.Jwt.fromSerializedJwt(e);if(!t.payload.additionalClaims.nonce)throw new i.AriesFrameworkError("JWT payload does not contain required claim 'nonce'");return new s({jwt:t})}get presentation(){return this._presentation}get serializedJwt(){return this.jwt.serializedJwt}get context(){return this.presentation.context}get id(){return this.presentation.id}get type(){return this.presentation.type}get holder(){return this.presentation.holder}get verifiableCredential(){return this.presentation.verifiableCredential}get holderId(){return this.presentation.holderId}get claimFormat(){return o.ClaimFormat.JwtVp}get encoded(){return this.serializedJwt}}t.W3cJwtVerifiablePresentation=s},26107:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCredentialFromJwtPayload=t.getJwtPayloadFromCredential=void 0;let n=r(56988),i=r(34745),o=r(99997),a=r(23333),s=r(26357),l=r(11013);t.getJwtPayloadFromCredential=function(e){var t;let r=a.JsonTransformer.toJSON(e),n={additionalClaims:{vc:r}},s=Date.parse(e.issuanceDate);if(isNaN(s))throw new o.AriesFrameworkError("JWT VCs must have a valid issuance date");if(n.nbf=Math.floor(s/1e3),delete r.issuanceDate,e.expirationDate){let t=Date.parse(e.expirationDate);isNaN(t)||(n.exp=Math.floor(t/1e3),delete r.expirationDate)}if(n.iss=e.issuerId,"string"==typeof r.issuer?delete r.issuer:"object"==typeof r.issuer&&(delete r.issuer.id,0===Object.keys(r.issuer).length&&delete r.issuer),e.id&&(n.jti=e.id,delete r.id),Array.isArray(e.credentialSubject)&&1!==e.credentialSubject.length)throw new o.AriesFrameworkError("JWT VCs must have exactly one credential subject");let[l]=e.credentialSubjectIds;return l&&(n.sub=l,Array.isArray(r.credentialSubject)?delete r.credentialSubject[0].id:null===(t=r.credentialSubject)||void 0===t||delete t.id),new i.JwtPayload(n)},t.getCredentialFromJwtPayload=function(e){if(!("vc"in e.additionalClaims)||!(0,a.isJsonObject)(e.additionalClaims.vc))throw new o.AriesFrameworkError("JWT does not contain a valid 'vc' claim");let t=e.additionalClaims.vc;if(!e.nbf||!e.iss)throw new o.AriesFrameworkError("JWT does not contain valid 'nbf' and 'iss' claims");if(Array.isArray(t.credentialSubject)&&1!==t.credentialSubject.length)throw new o.AriesFrameworkError("JWT VCs must have exactly one credential subject");if(Array.isArray(t.credentialSubject)&&!(0,n.isObject)(t.credentialSubject[0]))throw new o.AriesFrameworkError("JWT VCs must have a credential subject of type object");let r=Array.isArray(t.credentialSubject)?t.credentialSubject[0]:t.credentialSubject;if(!(0,a.isJsonObject)(r))throw new o.AriesFrameworkError("JWT VC does not have a valid credential subject");let i=e.sub?Object.assign(Object.assign({},r),{id:e.sub}):r;if(t.id&&e.jti!==t.id)throw new o.AriesFrameworkError("JWT jti and vc.id do not match");if("string"==typeof t.issuer&&e.iss!==t.issuer||(0,a.isJsonObject)(t.issuer)&&t.issuer.id&&e.iss!==t.issuer.id)throw new o.AriesFrameworkError("JWT iss and vc.issuer(.id) do not match");if(t.issuanceDate){if("string"!=typeof t.issuanceDate)throw new o.AriesFrameworkError("JWT vc.issuanceDate must be a string");let r=Date.parse(t.issuanceDate)/1e3;if(e.nbf!==r)throw new o.AriesFrameworkError("JWT nbf and vc.issuanceDate do not match")}if(t.expirationDate){if("string"!=typeof t.expirationDate)throw new o.AriesFrameworkError("JWT vc.expirationDate must be a string");let r=Date.parse(t.expirationDate)/1e3;if(r!==e.exp)throw new o.AriesFrameworkError("JWT exp and vc.expirationDate do not match")}if((0,a.isJsonObject)(t.credentialSubject)&&t.credentialSubject.id&&e.sub!==t.credentialSubject.id||Array.isArray(t.credentialSubject)&&(0,a.isJsonObject)(t.credentialSubject[0])&&t.credentialSubject[0].id&&e.sub!==t.credentialSubject[0].id)throw new o.AriesFrameworkError("JWT sub and vc.credentialSubject.id do not match");let c=Object.assign(Object.assign({},t),{issuanceDate:(0,l.w3cDate)(1e3*e.nbf),expirationDate:e.exp?(0,l.w3cDate)(1e3*e.exp):void 0,issuer:"object"==typeof t.issuer?Object.assign(Object.assign({},t.issuer),{id:e.iss}):e.iss,id:e.jti,credentialSubject:Array.isArray(t.credentialSubject)?[i]:i}),u=a.JsonTransformer.fromJSON(c,s.W3cCredential);return u}},69161:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(58945),t),i(r(71569),t),i(r(65374),t)},9770:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPresentationFromJwtPayload=t.getJwtPayloadFromPresentation=void 0;let n=r(34745),i=r(99997),o=r(23333),a=r(99602);t.getJwtPayloadFromPresentation=function(e){let t=o.JsonTransformer.toJSON(e),r={additionalClaims:{vp:t}};return e.holderId&&(r.iss=e.holderId,"string"==typeof t.holder?delete t.holder:"object"==typeof t.holder&&(delete t.holder.id,0===Object.keys(t.holder).length&&delete t.holder)),e.id&&(r.jti=e.id,delete t.id),new n.JwtPayload(r)},t.getPresentationFromJwtPayload=function(e){if(!("vp"in e.additionalClaims)||!(0,o.isJsonObject)(e.additionalClaims.vp))throw new i.AriesFrameworkError("JWT does not contain a valid 'vp' claim");let t=e.additionalClaims.vp;if(t.id&&e.jti!==t.id)throw new i.AriesFrameworkError("JWT jti and vp.id do not match");if("string"==typeof t.holder&&e.iss!==t.holder||(0,o.isJsonObject)(t.holder)&&t.holder.id&&e.iss!==t.holder.id)throw new i.AriesFrameworkError("JWT iss and vp.holder(.id) do not match");let r=Object.assign(Object.assign({},t),{id:e.jti,holder:e.iss}),n=o.JsonTransformer.fromJSON(r,a.W3cPresentation);return n}},32699:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ClaimFormat=void 0,(r=t.ClaimFormat||(t.ClaimFormat={})).Jwt="jwt",r.JwtVc="jwt_vc",r.JwtVp="jwt_vp",r.Ldp="ldp",r.LdpVc="ldp_vc",r.LdpVp="ldp_vp"},59840:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},26357:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IsCredentialType=t.W3cCredential=void 0;let o=r(5902),a=r(56988),s=r(23333),l=r(62856),c=r(26252),u=r(96859),d=r(49258),f=r(62679),p=r(17525),h=r(51401);class y{constructor(e){var t;e&&(this.context=null!==(t=e.context)&&void 0!==t?t:[c.CREDENTIALS_CONTEXT_V1_URL],this.id=e.id,this.type=e.type||["VerifiableCredential"],this.issuer="string"==typeof e.issuer||e.issuer instanceof h.W3cIssuer?e.issuer:new h.W3cIssuer(e.issuer),this.issuanceDate=e.issuanceDate,this.expirationDate=e.expirationDate,this.credentialSubject=(0,s.mapSingleOrArray)(e.credentialSubject,e=>e instanceof p.W3cCredentialSubject?e:new p.W3cCredentialSubject(e)),e.credentialStatus&&(this.credentialStatus=e.credentialStatus instanceof f.W3cCredentialStatus?e.credentialStatus:new f.W3cCredentialStatus(e.credentialStatus)))}get issuerId(){return this.issuer instanceof h.W3cIssuer?this.issuer.id:this.issuer}get credentialSchemaIds(){return this.credentialSchema?Array.isArray(this.credentialSchema)?this.credentialSchema.map(e=>e.id):[this.credentialSchema.id]:[]}get credentialSubjectIds(){return Array.isArray(this.credentialSubject)?this.credentialSubject.map(e=>e.id).filter(e=>void 0!==e):this.credentialSubject.id?[this.credentialSubject.id]:[]}get contexts(){return(0,s.asArray)(this.context)}static fromJson(e){return s.JsonTransformer.fromJSON(e,y)}}function g(e){return(0,a.ValidateBy)({name:"IsVerifiableCredentialType",validator:{validate:e=>!!Array.isArray(e)&&e.includes(c.VERIFIABLE_CREDENTIAL_TYPE),defaultMessage:(0,a.buildMessage)(e=>e+'$property must be an array of strings which includes "VerifiableCredential"',e)}},e)}n([(0,o.Expose)({name:"@context"}),(0,u.IsCredentialJsonLdContext)(),i("design:type",Array)],y.prototype,"context",void 0),n([(0,a.IsOptional)(),(0,l.IsUri)(),i("design:type",String)],y.prototype,"id",void 0),n([g(),i("design:type",Array)],y.prototype,"type",void 0),n([(0,h.W3cIssuerTransformer)(),(0,h.IsW3cIssuer)(),i("design:type",Object)],y.prototype,"issuer",void 0),n([(0,a.IsRFC3339)(),i("design:type",String)],y.prototype,"issuanceDate",void 0),n([(0,a.IsRFC3339)(),(0,a.IsOptional)(),i("design:type",String)],y.prototype,"expirationDate",void 0),n([(0,o.Type)(()=>p.W3cCredentialSubject),(0,a.ValidateNested)({each:!0}),(0,l.IsInstanceOrArrayOfInstances)({classType:p.W3cCredentialSubject}),i("design:type",Object)],y.prototype,"credentialSubject",void 0),n([(0,a.IsOptional)(),(0,o.Type)(()=>d.W3cCredentialSchema),(0,a.ValidateNested)({each:!0}),(0,l.IsInstanceOrArrayOfInstances)({classType:d.W3cCredentialSchema,allowEmptyArray:!0}),i("design:type",Object)],y.prototype,"credentialSchema",void 0),n([(0,a.IsOptional)(),(0,o.Type)(()=>f.W3cCredentialStatus),(0,a.ValidateNested)({each:!0}),(0,a.IsInstance)(f.W3cCredentialStatus),i("design:type",f.W3cCredentialStatus)],y.prototype,"credentialStatus",void 0),t.W3cCredential=y,t.IsCredentialType=g},49258:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialSchema=void 0;let o=r(56988),a=r(62856);class s{constructor(e){e&&(this.id=e.id,this.type=e.type)}}n([(0,a.IsUri)(),i("design:type",String)],s.prototype,"id",void 0),n([(0,o.IsString)(),i("design:type",String)],s.prototype,"type",void 0),t.W3cCredentialSchema=s},62679:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialStatus=void 0;let o=r(56988),a=r(62856);class s{constructor(e){e&&(this.id=e.id,this.type=e.type)}}n([(0,a.IsUri)(),i("design:type",String)],s.prototype,"id",void 0),n([(0,o.IsString)(),i("design:type",String)],s.prototype,"type",void 0),t.W3cCredentialStatus=s},17525:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialSubjectTransformer=t.W3cCredentialSubject=void 0;let o=r(5902),a=r(56988),s=r(62856);class l{constructor(e){e&&(this.id=e.id)}}n([(0,s.IsUri)(),(0,a.IsOptional)(),i("design:type",String)],l.prototype,"id",void 0),t.W3cCredentialSubject=l,t.W3cCredentialSubjectTransformer=function(){return(0,o.Transform)(({value:e,type:t})=>t===o.TransformationType.PLAIN_TO_CLASS?(0,a.isString)(e)?e:(0,o.plainToInstance)(l,e):t===o.TransformationType.CLASS_TO_PLAIN?(0,a.isString)(e)?e:(0,o.instanceToPlain)(e):e)}},51401:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IsW3cIssuer=t.W3cIssuerTransformer=t.W3cIssuer=void 0;let o=r(5902),a=r(56988),s=r(62856);class l{constructor(e){e&&(this.id=e.id)}}n([(0,s.IsUri)(),i("design:type",String)],l.prototype,"id",void 0),t.W3cIssuer=l,t.W3cIssuerTransformer=function(){return(0,o.Transform)(({value:e,type:t})=>t===o.TransformationType.PLAIN_TO_CLASS?(0,a.isString)(e)?e:(0,o.plainToInstance)(l,e):t===o.TransformationType.CLASS_TO_PLAIN?(0,a.isString)(e)?e:(0,o.instanceToPlain)(e):e)},t.IsW3cIssuer=function(e){return(0,a.ValidateBy)({name:"IsW3cIssuer",validator:{validate:e=>"string"==typeof e?(0,s.isUri)(e):!!(0,a.isInstance)(e,l)&&(0,s.isUri)(e.id),defaultMessage:(0,a.buildMessage)(e=>e+"$property must be an URI or an object with an id property which is an URI",e)}},e)}},19057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.W3cVerifiableCredentialTransformer=void 0;let n=r(5902),i=r(56988),o=r(99997),a=r(23333),s=r(45471),l=r(71569),c=e=>{try{return"string"==typeof e?l.W3cJwtVerifiableCredential.fromSerializedJwt(e):a.JsonTransformer.fromJSON(e,s.W3cJsonLdVerifiableCredential,{validate:!1})}catch(t){if(t instanceof i.ValidationError||t instanceof o.ClassValidationError)throw t;throw new o.AriesFrameworkError(`value '${e}' is not a valid W3cJwtVerifiableCredential. ${t.message}`)}},u=e=>e instanceof l.W3cJwtVerifiableCredential?e.serializedJwt:a.JsonTransformer.toJSON(e);t.W3cVerifiableCredentialTransformer=function(){return(0,n.Transform)(({value:e,type:t})=>t===n.TransformationType.PLAIN_TO_CLASS?Array.isArray(e)?e.map(c):c(e):t===n.TransformationType.CLASS_TO_PLAIN?Array.isArray(e)?e.map(u):u(e):e)}},95314:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(49258),t),i(r(17525),t),i(r(51401),t),i(r(26357),t),i(r(19057),t)},70056:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(95314),t),i(r(11063),t),i(r(59840),t),i(r(32699),t)},10075:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IsW3cHolder=t.W3cHolderTransformer=t.W3cHolder=void 0;let o=r(5902),a=r(56988),s=r(62856);class l{constructor(e){e&&(this.id=e.id)}}n([(0,s.IsUri)(),i("design:type",String)],l.prototype,"id",void 0),t.W3cHolder=l,t.W3cHolderTransformer=function(){return(0,o.Transform)(({value:e,type:t})=>t===o.TransformationType.PLAIN_TO_CLASS?(0,a.isString)(e)?e:(0,o.plainToInstance)(l,e):t===o.TransformationType.CLASS_TO_PLAIN?(0,a.isString)(e)?e:(0,o.instanceToPlain)(e):e)},t.IsW3cHolder=function(e){return(0,a.ValidateBy)({name:"IsW3cHolder",validator:{validate:e=>"string"==typeof e?(0,s.isUri)(e):!!(0,a.isInstance)(e,l)&&(0,s.isUri)(e.id),defaultMessage:(0,a.buildMessage)(e=>e+"$property must be an URI or an object with an id property which is an URI",e)}},e)}},99602:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.IsVerifiablePresentationType=t.W3cPresentation=void 0;let o=r(5902),a=r(56988),s=r(62856),l=r(26252),c=r(45471),u=r(71569),d=r(96859),f=r(19057),p=r(10075);class h{constructor(e){var t,r;e&&(this.id=e.id,this.context=null!==(t=e.context)&&void 0!==t?t:[l.CREDENTIALS_CONTEXT_V1_URL],this.type=null!==(r=e.type)&&void 0!==r?r:[l.VERIFIABLE_PRESENTATION_TYPE],this.verifiableCredential=e.verifiableCredential,e.holder&&(this.holder="string"==typeof e.holder?e.holder:new p.W3cHolder(e.holder)))}get holderId(){return this.holder?this.holder instanceof p.W3cHolder?this.holder.id:this.holder:null}}function y(e){return(0,a.ValidateBy)({name:"IsVerifiablePresentationType",validator:{validate:e=>!!Array.isArray(e)&&e.includes(l.VERIFIABLE_PRESENTATION_TYPE),defaultMessage:(0,a.buildMessage)(e=>e+'$property must be an array of strings which includes "VerifiablePresentation"',e)}},e)}n([(0,o.Expose)({name:"@context"}),(0,d.IsCredentialJsonLdContext)(),i("design:type",Array)],h.prototype,"context",void 0),n([(0,a.IsOptional)(),(0,s.IsUri)(),i("design:type",String)],h.prototype,"id",void 0),n([y(),i("design:type",Array)],h.prototype,"type",void 0),n([(0,p.W3cHolderTransformer)(),(0,p.IsW3cHolder)(),(0,a.IsOptional)(),i("design:type",Object)],h.prototype,"holder",void 0),n([(0,f.W3cVerifiableCredentialTransformer)(),(0,s.IsInstanceOrArrayOfInstances)({classType:[c.W3cJsonLdVerifiableCredential,u.W3cJwtVerifiableCredential]}),(0,a.ValidateNested)({each:!0}),i("design:type",Object)],h.prototype,"verifiableCredential",void 0),t.W3cPresentation=h,t.IsVerifiablePresentationType=y},6217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},11063:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(99602),t),i(r(6217),t)},9309:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialRecord=void 0;let o=r(79493),a=r(23333),s=r(15169),l=r(70056);class c extends o.BaseRecord{constructor(e){var t,r;super(),this.type=c.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,s.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this._tags=e.tags,this.credential=e.credential)}getTags(){let e=this.credential.contexts.filter(e=>"string"==typeof e),t=Object.assign(Object.assign({},this._tags),{issuerId:this.credential.issuerId,subjectIds:this.credential.credentialSubjectIds,schemaIds:this.credential.credentialSchemaIds,contexts:e,givenId:this.credential.id,claimFormat:this.credential.claimFormat});return this.credential.claimFormat===l.ClaimFormat.LdpVc?t.proofTypes=this.credential.proofTypes:this.credential.claimFormat===l.ClaimFormat.JwtVc&&(t.algs=[this.credential.jwt.header.alg]),t}clone(){return a.JsonTransformer.fromJSON(a.JsonTransformer.toJSON(this),this.constructor)}}c.type="W3cCredentialRecord",n([(0,l.W3cVerifiableCredentialTransformer)(),i("design:type",Object)],c.prototype,"credential",void 0),t.W3cCredentialRecord=c},74244:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.W3cCredentialRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(9309),d=class extends c.Repository{constructor(e,t){super(u.W3cCredentialRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.W3cCredentialRepository=d},24889:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9309),t),i(r(74244),t)},11013:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.w3cDate=void 0,t.w3cDate=e=>{let t=new Date;("number"==typeof e||"string"==typeof e)&&(t=new Date(e));let r=t.toISOString();return r.substr(0,r.length-5)+"Z"}},96859:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsCredentialJsonLdContext=void 0;let n=r(56988),i=r(23333),o=r(26252);t.IsCredentialJsonLdContext=function(e){return(0,n.ValidateBy)({name:"IsCredentialJsonLdContext",validator:{validate:e=>!!Array.isArray(e)&&e[0]===o.CREDENTIALS_CONTEXT_V1_URL&&e.every(e=>(0,n.isString)(e)&&(0,n.isURL)(e)||(0,i.isJsonObject)(e)),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be an array of strings or objects, where the first item is the verifiable credential context URL.",e)}},e)}},46936:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DependencyManager=void 0;let n=r(42984),i=r(30183),o=r(86865),a=r(99997);class s{constructor(e=n.container.createChildContainer(),t={}){this.container=e,this.registeredModules=t}registerModules(e){let t=this.resolve(i.FeatureRegistry);for(let[r,n]of Object.entries(e)){if(this.registeredModules[r])throw new a.AriesFrameworkError(`Module with key ${r} has already been registered. Only a single module can be registered with the same key.`);this.registeredModules[r]=n,n.register(this,t)}}registerMessageHandlers(e){let t=this.resolve(o.MessageHandlerRegistry);for(let r of e)t.registerMessageHandler(r)}registerSingleton(e,t){this.container.registerSingleton(e,t)}resolve(e){return this.container.resolve(e)}registerInstance(e,t){this.container.registerInstance(e,t)}isRegistered(e){return this.container.isRegistered(e)}registerContextScoped(e,t){t?this.container.register(e,t,{lifecycle:n.Lifecycle.ContainerScoped}):this.container.register(e,e,{lifecycle:n.Lifecycle.ContainerScoped})}async dispose(){await this.container.dispose()}createChild(){return new s(this.container.createChildContainer(),this.registeredModules)}}t.DependencyManager=s},85481:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90978:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.injectAll=t.injectable=t.inject=void 0,i(r(46936),t),i(r(85481),t);var o=r(42984);Object.defineProperty(t,"inject",{enumerable:!0,get:function(){return o.inject}}),Object.defineProperty(t,"injectable",{enumerable:!0,get:function(){return o.injectable}}),Object.defineProperty(t,"injectAll",{enumerable:!0,get:function(){return o.injectAll}})},79493:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseRecord=void 0;let o=r(5902),a=r(9905),s=r(26086),l=r(26501);class c{constructor(){this._tags={},this.type=c.type,this.metadata=new l.Metadata({})}setTag(e,t){this._tags[e]=t}getTag(e){return this.getTags()[e]}setTags(e){this._tags=Object.assign(Object.assign({},this._tags),e)}replaceTags(e){this._tags=e}toJSON(){return a.JsonTransformer.toJSON(this)}clone(){return a.JsonTransformer.clone(this)}}c.type="BaseRecord",n([(0,s.DateTransformer)(),i("design:type",Date)],c.prototype,"createdAt",void 0),n([(0,s.DateTransformer)(),i("design:type",Date)],c.prototype,"updatedAt",void 0),n([(0,o.Exclude)(),i("design:type",Object)],c.prototype,"type",void 0),n([(0,s.MetadataTransformer)(),i("design:type",l.Metadata)],c.prototype,"metadata",void 0),t.BaseRecord=c},71555:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryMessageRepository=void 0;let a=r(55090),s=r(90978),l=class{constructor(e){this.messages={},this.logger=e}getAvailableMessageCount(e){return this.messages[e]?this.messages[e].length:0}takeFromQueue(e,t,r){if(!this.messages[e])return[];let n=null!=t?t:this.messages[e].length;return this.logger.debug(`Taking ${n} messages from queue for connection ${e}`),r?this.messages[e].slice(0,n):this.messages[e].splice(0,n)}add(e,t){this.messages[e]||(this.messages[e]=[]),this.messages[e].push(t)}};l=n([(0,s.injectable)(),o(0,(0,s.inject)(a.InjectionSymbols.Logger)),i("design:paramtypes",[Object])],l),t.InMemoryMessageRepository=l},26501:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;class r{constructor(e){this.data=e}get(e){var t;return null!==(t=this.data[e])&&void 0!==t?t:null}set(e,t){this.data[e]=t}add(e,t){this.data[e]=Object.assign(Object.assign({},this.data[e]),t)}get keys(){return Object.keys(this.data)}delete(e){delete this.data[e]}}t.Metadata=r},29371:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Repository=void 0;let n=r(99997),i=r(96912);class o{constructor(e,t,r){this.storageService=t,this.recordClass=e,this.eventEmitter=r}async save(e,t){await this.storageService.save(e,t),this.eventEmitter.emit(e,{type:i.RepositoryEventTypes.RecordSaved,payload:{record:t.clone()}})}async update(e,t){await this.storageService.update(e,t),this.eventEmitter.emit(e,{type:i.RepositoryEventTypes.RecordUpdated,payload:{record:t.clone()}})}async delete(e,t){await this.storageService.delete(e,t),this.eventEmitter.emit(e,{type:i.RepositoryEventTypes.RecordDeleted,payload:{record:t.clone()}})}async deleteById(e,t){await this.storageService.deleteById(e,this.recordClass,t),this.eventEmitter.emit(e,{type:i.RepositoryEventTypes.RecordDeleted,payload:{record:{id:t,type:this.recordClass.type}}})}async getById(e,t){return this.storageService.getById(e,this.recordClass,t)}async findById(e,t){try{return await this.storageService.getById(e,this.recordClass,t)}catch(e){if(e instanceof n.RecordNotFoundError)return null;throw e}}async getAll(e){return this.storageService.getAll(e,this.recordClass)}async findByQuery(e,t){return this.storageService.findByQuery(e,this.recordClass,t)}async findSingleByQuery(e,t){let r=await this.findByQuery(e,t);if(r.length>1)throw new n.RecordDuplicateError(`Multiple records found for given query '${JSON.stringify(t)}'`,{recordType:this.recordClass.type});return r.length<1?null:r[0]}async getSingleByQuery(e,t){let r=await this.findSingleByQuery(e,t);if(!r)throw new n.RecordNotFoundError(`No record found for given query '${JSON.stringify(t)}'`,{recordType:this.recordClass.type});return r}}t.Repository=o},96912:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.RepositoryEventTypes=void 0,(r=t.RepositoryEventTypes||(t.RepositoryEventTypes={})).RecordSaved="RecordSaved",r.RecordUpdated="RecordUpdated",r.RecordDeleted="RecordDeleted"},40583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommMessageRecord=void 0;let n=r(99997),i=r(9905),o=r(51465),a=r(68373),s=r(15169),l=r(79493);class c extends l.BaseRecord{constructor(e){var t,r;super(),this.type=c.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,s.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.associatedRecordId=e.associatedRecordId,this.role=e.role,this.message=e.message)}getTags(){let e=this.message["@id"],t=this.message["@type"],{protocolName:r,protocolMajorVersion:n,protocolMinorVersion:i,messageName:s}=(0,o.parseMessageType)(t),l=this.message["~thread"],c=e;return(0,a.isJsonObject)(l)&&"string"==typeof l.thid&&(c=l.thid),Object.assign(Object.assign({},this._tags),{role:this.role,associatedRecordId:this.associatedRecordId,threadId:c,protocolName:r,messageName:s,protocolMajorVersion:n.toString(),protocolMinorVersion:i.toString(),messageType:t,messageId:e})}getMessageInstance(e){let t=(0,o.parseMessageType)(this.message["@type"]);if(!(0,o.canHandleMessageType)(e,t))throw new n.AriesFrameworkError("Provided message class type does not match type of stored message");return i.JsonTransformer.fromJSON(this.message,e)}}t.DidCommMessageRecord=c,c.type="DidCommMessageRecord"},42761:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommMessageRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(51465),u=r(29371),d=r(40583),f=class extends u.Repository{constructor(e,t){super(d.DidCommMessageRecord,e,t)}async saveAgentMessage(e,{role:t,agentMessage:r,associatedRecordId:n}){let i=new d.DidCommMessageRecord({message:r.toJSON(),role:t,associatedRecordId:n});await this.save(e,i)}async saveOrUpdateAgentMessage(e,t){let{messageName:r,protocolName:n,protocolMajorVersion:i}=(0,c.parseMessageType)(t.agentMessage.type),o=await this.findSingleByQuery(e,{associatedRecordId:t.associatedRecordId,messageName:r,protocolName:n,protocolMajorVersion:String(i)});if(o){o.message=t.agentMessage.toJSON(),o.role=t.role,await this.update(e,o);return}await this.saveAgentMessage(e,t)}async getAgentMessage(e,{associatedRecordId:t,messageClass:r}){let n=await this.getSingleByQuery(e,{associatedRecordId:t,messageName:r.type.messageName,protocolName:r.type.protocolName,protocolMajorVersion:String(r.type.protocolMajorVersion)});return n.getMessageInstance(r)}async findAgentMessage(e,{associatedRecordId:t,messageClass:r}){var n;let i=await this.findSingleByQuery(e,{associatedRecordId:t,messageName:r.type.messageName,protocolName:r.type.protocolName,protocolMajorVersion:String(r.type.protocolMajorVersion)});return null!==(n=null==i?void 0:i.getMessageInstance(r))&&void 0!==n?n:null}};f=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],f),t.DidCommMessageRepository=f},96062:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommMessageRole=void 0,(r=t.DidCommMessageRole||(t.DidCommMessageRole={})).Sender="sender",r.Receiver="receiver"},21961:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(40583),t),i(r(42761),t),i(r(96062),t)},90944:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(21961),t),i(r(87086),t)},58459:function(e,t,r){"use strict";var n,i=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUpdateService=void 0;let s=r(55090),l=r(90978),c=r(68438),u=r(44931),d=r(68692),f=r(24451),p=n=class{constructor(e,t){this.logger=e,this.storageVersionRepository=t}async isUpToDate(e,t){let r=(0,c.parseVersionString)(await this.getCurrentStorageVersion(e)),n=(0,c.parseVersionString)(null!=t?t:f.CURRENT_FRAMEWORK_STORAGE_VERSION),i=(0,c.isFirstVersionEqualToSecond)(r,n)||(0,c.isFirstVersionHigherThanSecond)(r,n);return i}async getCurrentStorageVersion(e){let t=await this.getStorageVersionRecord(e);return t.storageVersion}async setCurrentStorageVersion(e,t){this.logger.debug(`Setting current agent storage version to ${t}`);let r=await this.storageVersionRepository.findById(e,n.STORAGE_VERSION_RECORD_ID);r?(this.logger.trace("Storage upgrade record already exists. Updating."),r.storageVersion=t,await this.storageVersionRepository.update(e,r)):(this.logger.trace("Storage upgrade record does not exist yet. Creating."),await this.storageVersionRepository.save(e,new u.StorageVersionRecord({id:n.STORAGE_VERSION_RECORD_ID,storageVersion:t})))}async getStorageVersionRecord(e){let t=await this.storageVersionRepository.findById(e,n.STORAGE_VERSION_RECORD_ID);return t||(t=new u.StorageVersionRecord({id:n.STORAGE_VERSION_RECORD_ID,storageVersion:f.INITIAL_STORAGE_VERSION}),await this.storageVersionRepository.save(e,t)),t}};p.STORAGE_VERSION_RECORD_ID="STORAGE_VERSION_RECORD_ID",p=n=i([(0,l.injectable)(),a(0,(0,l.inject)(s.InjectionSymbols.Logger)),o("design:paramtypes",[Object,d.StorageVersionRepository])],p),t.StorageUpdateService=p},83144:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateAssistant=void 0;let n=r(55090),i=r(99997),o=r(68438),a=r(79102),s=r(7644),l=r(58459),c=r(21279),u=r(24451);class d{constructor(e,t){this.agent=e,this.updateConfig=t,this.storageUpdateService=this.agent.dependencyManager.resolve(l.StorageUpdateService),this.fileSystem=this.agent.dependencyManager.resolve(n.InjectionSymbols.FileSystem)}async initialize(){if(this.agent.isInitialized)throw new i.AriesFrameworkError("Can't initialize UpdateAssistant after agent is initialized");if(!this.agent.wallet.isInitialized&&this.agent.config.walletConfig)await this.agent.wallet.initialize(this.agent.config.walletConfig);else if(!this.agent.wallet.isInitialized)throw new s.WalletError("Wallet config has not been set on the agent config. Make sure to initialize the wallet yourself before initializing the update assistant, or provide the required wallet configuration in the agent constructor")}async isUpToDate(e){return this.storageUpdateService.isUpToDate(this.agent.context,e)}async getCurrentAgentStorageVersion(){return this.storageUpdateService.getCurrentStorageVersion(this.agent.context)}static get frameworkStorageVersion(){return u.CURRENT_FRAMEWORK_STORAGE_VERSION}async getNeededUpdates(e){let t=(0,o.parseVersionString)(await this.storageUpdateService.getCurrentStorageVersion(this.agent.context)),r=e?(0,o.parseVersionString)(e):void 0;if(r&&((0,o.isFirstVersionHigherThanSecond)(t,r)||(0,o.isFirstVersionEqualToSecond)(t,r)))return[];let n=u.supportedUpdates.filter(e=>{let n=(0,o.parseVersionString)(e.toVersion);return!(r&&(0,o.isFirstVersionHigherThanSecond)(n,r))&&(0,o.isFirstVersionHigherThanSecond)(n,t)});if(n.length>0&&(0,o.isFirstVersionHigherThanSecond)((0,o.parseVersionString)(n[0].fromVersion),t))throw new i.AriesFrameworkError(`First fromVersion is higher than current storage version. You need to use an older version of the framework to update to at least version ${n[0].fromVersion}`);let a=n.length>0?n[n.length-1].toVersion:void 0;if(e&&a&&a!==e)throw new i.AriesFrameworkError(`No update found for toVersion ${e}. Make sure the toVersion is a valid version you can update to`);return n}async update(e){var t;let r=Date.now().toString();try{this.agent.config.logger.info(`Starting update of agent storage with updateIdentifier ${r}`);let n=await this.getNeededUpdates(e),i=(0,o.parseVersionString)(await this.storageUpdateService.getCurrentStorageVersion(this.agent.context)),a=e?(0,o.parseVersionString)(e):void 0;if(a&&((0,o.isFirstVersionHigherThanSecond)(i,a)||(0,o.isFirstVersionEqualToSecond)(i,a)))throw new c.StorageUpdateError(`Can't update to version ${e} because it is lower or equal to the current agent storage version ${i[0]}.${i[1]}}`);if(0===n.length){this.agent.config.logger.info("No update needed. Agent storage is up to date.");return}let s=n[0].fromVersion,l=n[n.length-1].toVersion;this.agent.config.logger.info(`Starting update process. Total of ${n.length} update(s) will be applied to update the agent storage from version ${s} to version ${l}`),await this.createBackup(r);try{for(let e of n){let r=Object.values(this.agent.dependencyManager.registeredModules),n=[];for(let i of r){let r=null===(t=i.updates)||void 0===t?void 0:t.find(t=>t.fromVersion===e.fromVersion&&t.toVersion===e.toVersion);r&&n.push({module:i,update:r})}for(let t of(this.agent.config.logger.info(`Starting update of agent storage from version ${e.fromVersion} to version ${e.toVersion}. Found ${n.length} extension module(s) with update scripts`),await e.doUpdate(this.agent,this.updateConfig),this.agent.config.logger.info(`Finished update of core agent storage from version ${e.fromVersion} to version ${e.toVersion}. Starting update of extension modules`),n))this.agent.config.logger.info(`Starting update of extension module ${t.module.constructor.name} from version ${t.update.fromVersion} to version ${t.update.toVersion}`),await t.update.doUpdate(this.agent,this.updateConfig),this.agent.config.logger.info(`Finished update of extension module ${t.module.constructor.name} from version ${t.update.fromVersion} to version ${t.update.toVersion}`);await this.storageUpdateService.setCurrentStorageVersion(this.agent.context,e.toVersion),this.agent.config.logger.info(`Successfully updated agent storage from version ${e.fromVersion} to version ${e.toVersion}`)}await this.fileSystem.delete(this.getBackupPath(r))}catch(e){throw this.agent.config.logger.fatal("An error occurred while updating the wallet. Restoring backup",{error:e}),await this.restoreBackup(r),await this.fileSystem.delete(this.getBackupPath(r)),e}}catch(e){if(e instanceof a.WalletExportPathExistsError){let t=this.getBackupPath(r),n=`Error updating storage with updateIdentifier ${r} because the backup at path ${t} already exists`;throw this.agent.config.logger.fatal(n,{error:e,updateIdentifier:r,backupPath:t}),new c.StorageUpdateError(n,{cause:e})}throw this.agent.config.logger.error(`Error updating storage (updateIdentifier: ${r})`,{cause:e}),new c.StorageUpdateError(`Error updating storage (updateIdentifier: ${r}): ${e.message}`,{cause:e})}return r}getBackupPath(e){return`${this.fileSystem.dataPath}/migration/backup/${e}`}async createBackup(e){var t;let r=this.getBackupPath(e),n=null===(t=this.agent.wallet.walletConfig)||void 0===t?void 0:t.key;if(!n)throw new i.AriesFrameworkError("Could not extract wallet key from wallet module. Can't create backup");await this.agent.wallet.export({key:n,path:r}),this.agent.config.logger.info("Created backup of the wallet",{backupPath:r})}async restoreBackup(e){let t=this.getBackupPath(e),r=this.agent.wallet.walletConfig;if(!r)throw new i.AriesFrameworkError("Could not extract wallet config from wallet module. Cannot restore backup");await this.agent.wallet.export({key:r.key,path:`${t}-error`}),await this.agent.wallet.delete(),await this.agent.wallet.import(r,{key:r.key,path:t}),await this.agent.wallet.initialize(r),this.agent.config.logger.info(`Successfully restored wallet from backup ${e}`,{backupPath:t})}}t.UpdateAssistant=d},21279:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageUpdateError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{constructor(e,{cause:t}={}){super(e,{cause:t})}}t.StorageUpdateError=i},87086:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(44931),t),i(r(68692),t),i(r(58459),t),i(r(83144),t)},44931:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageVersionRecord=void 0;let n=r(15169),i=r(79493);class o extends i.BaseRecord{constructor(e){var t,r;super(),this.type=o.type,e&&(this.id=null!==(t=e.id)&&void 0!==t?t:(0,n.uuid)(),this.createdAt=null!==(r=e.createdAt)&&void 0!==r?r:new Date,this.storageVersion=e.storageVersion)}getTags(){return this._tags}}t.StorageVersionRecord=o,o.type="StorageVersionRecord"},68692:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.StorageVersionRepository=void 0;let a=r(26852),s=r(55090),l=r(90978),c=r(29371),u=r(44931),d=class extends c.Repository{constructor(e,t){super(u.StorageVersionRecord,e,t)}};d=n([(0,l.injectable)(),o(0,(0,l.inject)(s.InjectionSymbols.StorageService)),i("design:paramtypes",[Object,a.EventEmitter])],d),t.StorageVersionRepository=d},24451:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_FRAMEWORK_STORAGE_VERSION=t.supportedUpdates=t.DEFAULT_UPDATE_CONFIG=t.INITIAL_STORAGE_VERSION=void 0;let n=r(76581),i=r(38204),o=r(3270),a=r(11422);t.INITIAL_STORAGE_VERSION="0.1",t.DEFAULT_UPDATE_CONFIG={v0_1ToV0_2:{mediationRoleUpdateStrategy:"recipientIfEndpoint"}},t.supportedUpdates=[{fromVersion:"0.1",toVersion:"0.2",doUpdate:n.updateV0_1ToV0_2},{fromVersion:"0.2",toVersion:"0.3",doUpdate:i.updateV0_2ToV0_3},{fromVersion:"0.3",toVersion:"0.3.1",doUpdate:o.updateV0_3ToV0_3_1},{fromVersion:"0.3.1",toVersion:"0.4",doUpdate:a.updateV0_3_1ToV0_4}],t.CURRENT_FRAMEWORK_STORAGE_VERSION=t.supportedUpdates[t.supportedUpdates.length-1].toVersion},54464:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.didExchangeStateAndRoleFromRoleAndState=t.oobStateFromDidExchangeRoleAndState=t.migrateToOobRecord=t.extractDidDocument=t.updateConnectionRoleAndState=t.migrateConnectionRecordToV0_2=void 0;let n=r(52560),i=r(3042),o=r(83296),a=r(84212),s=r(38974),l=r(91415),c=r(61771),u=r(17155),d=r(22109),f=r(69510),p=r(23333);async function h(e){e.config.logger.info("Migrating connection records to storage version 0.2");let t=e.dependencyManager.resolve(n.ConnectionRepository);e.config.logger.debug("Fetching all connection records from storage");let r=await t.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${r.length} connection records to update.`),r)){e.config.logger.debug(`Migrating connection record with id ${n.id} to storage version 0.2`),await y(e,n),await g(e,n);let r=await v(e,n);r&&await t.update(e.context,n),e.config.logger.debug(`Successfully migrated connection record with id ${n.id} to storage version 0.2`)}}async function y(e,t){e.config.logger.debug("Extracting 'didDoc' and 'theirDidDoc' from connection record into separate DidRecord and updating unqualified dids to did:peer dids");let r=t.state,n=t.role,[i,o]=b(t.role,t.state);t.role=i,t.state=o,e.config.logger.debug(`Updated connection record state from ${r} to ${t.state} and role from ${n} to ${t.role}`)}async function g(e,t){e.config.logger.debug("Extracting 'didDoc' and 'theirDidDoc' from connection record into separate DidRecord and updating unqualified dids to did:peer dids");let r=e.dependencyManager.resolve(s.DidRepository),o=t.didDoc,c=t.theirDidDoc;if(o){let c=p.JsonTransformer.fromJSON(o,n.DidDoc);e.config.logger.debug(`Found a legacy did document for did ${c.id} in connection record didDoc. Converting it to a peer did document.`);let u=(0,i.convertToNewDidDocument)(c),d=await r.findById(e.context,u.id);d?e.config.logger.debug(`Found existing did record for did ${u.id}, not creating did record.`):(e.config.logger.debug(`Creating did record for our did ${u.id}`),(d=new s.DidRecord({id:u.id,did:u.id,role:a.DidDocumentRole.Created,didDocument:u,createdAt:t.createdAt,tags:{recipientKeyFingerprints:u.recipientKeys.map(e=>e.fingerprint)}})).metadata.set(l.DidRecordMetadataKeys.LegacyDid,{unqualifiedDid:c.id,didDocumentString:p.JsonEncoder.toString(o)}),await r.save(e.context,d),e.config.logger.debug(`Successfully saved did record for did ${u.id}`)),e.config.logger.debug("Deleting old did document from connection record and storing new did:peer did"),delete t.didDoc,t.did=u.id}else e.config.logger.debug("Did not find a did document in connection record didDoc. Not converting it to a peer did document.");if(c){let o=p.JsonTransformer.fromJSON(c,n.DidDoc);e.config.logger.debug(`Found a legacy did document for theirDid ${o.id} in connection record theirDidDoc. Converting it to a peer did document.`);let u=(0,i.convertToNewDidDocument)(o),d=await r.findById(e.context,u.id);d?e.config.logger.debug(`Found existing did record for theirDid ${u.id}, not creating did record.`):(e.config.logger.debug(`Creating did record for theirDid ${u.id}`),(d=new s.DidRecord({id:u.id,did:u.id,role:a.DidDocumentRole.Received,didDocument:u,createdAt:t.createdAt,tags:{recipientKeyFingerprints:u.recipientKeys.map(e=>e.fingerprint)}})).metadata.set(l.DidRecordMetadataKeys.LegacyDid,{unqualifiedDid:o.id,didDocumentString:p.JsonEncoder.toString(c)}),await r.save(e.context,d),e.config.logger.debug(`Successfully saved did record for theirDid ${u.id}`)),e.config.logger.debug("Deleting old theirDidDoc from connection record and storing new did:peer theirDid"),delete t.theirDidDoc,t.theirDid=u.id}else e.config.logger.debug("Did not find a did document in connection record theirDidDoc. Not converting it to a peer did document.");delete t.verkey}async function v(e,t){e.config.logger.debug(`Migrating properties from connection record with id ${t.id} to out of band record`);let r=e.dependencyManager.resolve(f.OutOfBandRepository),i=e.dependencyManager.resolve(n.ConnectionRepository),a=t.invitation,s=t.multiUseInvitation;if(a){let l=p.JsonTransformer.fromJSON(a,n.ConnectionInvitationMessage);e.config.logger.debug("Found a legacy invitation in connection record. Migrating it to an out of band record.");let h=(0,d.convertToNewInvitation)(l),y=h.getInlineServices().map(e=>e.recipientKeys).reduce((e,t)=>[...e,...t],[]).map(e=>o.DidKey.fromDid(e).key.fingerprint),g=t.role===n.DidExchangeRole.Responder?c.OutOfBandRole.Sender:c.OutOfBandRole.Receiver,v=await r.findByQuery(e.context,{invitationId:l.id,recipientKeyFingerprints:y,role:g}),b=v[0];if(b)e.config.logger.debug(`Found existing out of band record for invitation @id ${l.id} and did ${t.did}, not creating a new out of band record.`);else{e.config.logger.debug("Create out of band record.");let n=t.role,i=t.state,o=m(n,i);b=new f.OutOfBandRecord({role:g,state:o,alias:t.alias,autoAcceptConnection:t.autoAcceptConnection,outOfBandInvitation:h,reusable:s,mediatorId:t.mediatorId,createdAt:t.createdAt,tags:{recipientKeyFingerprints:y}}),await r.save(e.context,b),e.config.logger.debug(`Successfully saved out of band record for invitation @id ${l.id}`)}if(s){b.reusable=!0,b.state=u.OutOfBandState.AwaitResponse,b.mediatorId=t.mediatorId,b.autoAcceptConnection=t.autoAcceptConnection,await r.update(e.context,b),await i.delete(e.context,t),e.config.logger.debug(`Set reusable=true for out of band record with invitation @id ${b.outOfBandInvitation.id} and role ${g}.`);return}e.config.logger.debug("Setting invitationDid and outOfBand Id, and removing invitation from connection record");let[_]=b.outOfBandInvitation.invitationDids;t.invitationDid=_,delete t.invitation,t.outOfBandId=b.id}return e.config.logger.debug("Removing multiUseInvitation property from connection record"),delete t.multiUseInvitation,t}function m(e,t){let r={[n.DidExchangeState.InvitationReceived]:u.OutOfBandState.PrepareResponse,[n.DidExchangeState.InvitationSent]:u.OutOfBandState.AwaitResponse,[n.DidExchangeState.RequestReceived]:u.OutOfBandState.Done,[n.DidExchangeState.RequestSent]:u.OutOfBandState.Done,[n.DidExchangeState.ResponseReceived]:u.OutOfBandState.Done,[n.DidExchangeState.ResponseSent]:u.OutOfBandState.Done,[n.DidExchangeState.Completed]:u.OutOfBandState.Done,[n.DidExchangeState.Abandoned]:u.OutOfBandState.Done};return t===n.DidExchangeState.Start?e===n.DidExchangeRole.Requester?u.OutOfBandState.PrepareResponse:u.OutOfBandState.AwaitResponse:r[t]}function b(e,t){let r={[n.DidExchangeRole.Responder]:n.DidExchangeRole.Responder,[n.ConnectionRole.Inviter]:n.DidExchangeRole.Responder,[n.DidExchangeRole.Requester]:n.DidExchangeRole.Requester,[n.ConnectionRole.Invitee]:n.DidExchangeRole.Requester},i={[n.DidExchangeRole.Requester]:{[n.ConnectionState.Invited]:n.DidExchangeState.InvitationReceived,[n.ConnectionState.Requested]:n.DidExchangeState.RequestSent,[n.ConnectionState.Responded]:n.DidExchangeState.ResponseReceived,[n.ConnectionState.Complete]:n.DidExchangeState.Completed,[n.ConnectionState.Null]:n.DidExchangeState.Start},[n.DidExchangeRole.Responder]:{[n.ConnectionState.Invited]:n.DidExchangeState.InvitationSent,[n.ConnectionState.Requested]:n.DidExchangeState.RequestReceived,[n.ConnectionState.Responded]:n.DidExchangeState.ResponseSent,[n.ConnectionState.Complete]:n.DidExchangeState.Completed,[n.ConnectionState.Null]:n.DidExchangeState.Start}},o=r[e],a=i[o];return Object.values(n.ConnectionState).includes(t)?[o,a[t]]:[o,t]}t.migrateConnectionRecordToV0_2=h,t.updateConnectionRoleAndState=y,t.extractDidDocument=g,t.migrateToOobRecord=v,t.oobStateFromDidExchangeRoleAndState=m,t.didExchangeStateAndRoleFromRoleAndState=b},82934:function(e,t,r){"use strict";var n,i,o=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.moveDidCommMessages=t.migrateInternalCredentialRecordProperties=t.updateIndyMetadata=t.getCredentialRole=t.CredentialRole=t.migrateCredentialRecordToV0_2=void 0;let a=r(94486),s=r(63895),l=r(26501),c=r(21961);async function u(e){e.config.logger.info("Migrating credential records to storage version 0.2");let t=e.dependencyManager.resolve(s.CredentialRepository);e.config.logger.debug("Fetching all credential records from storage");let r=await t.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${r.length} credential records to update.`),r))e.config.logger.debug(`Migrating credential record with id ${n.id} to storage version 0.2`),await y(e,n),await g(e,n),await v(e,n),await t.update(e.context,n),e.config.logger.debug(`Successfully migrated credential record with id ${n.id} to storage version 0.2`)}t.migrateCredentialRecordToV0_2=u,(n=i=t.CredentialRole||(t.CredentialRole={}))[n.Issuer=0]="Issuer",n[n.Holder=1]="Holder";let d=[a.CredentialState.Declined,a.CredentialState.ProposalSent,a.CredentialState.OfferReceived,a.CredentialState.RequestSent,a.CredentialState.CredentialReceived],f={[i.Issuer]:{proposalMessage:c.DidCommMessageRole.Receiver,offerMessage:c.DidCommMessageRole.Sender,requestMessage:c.DidCommMessageRole.Receiver,credentialMessage:c.DidCommMessageRole.Sender},[i.Holder]:{proposalMessage:c.DidCommMessageRole.Sender,offerMessage:c.DidCommMessageRole.Receiver,requestMessage:c.DidCommMessageRole.Sender,credentialMessage:c.DidCommMessageRole.Receiver}},p=["proposalMessage","offerMessage","requestMessage","credentialMessage"];function h(e){if(e.credentials.length>0)return i.Holder;if(e.state===a.CredentialState.Done);else if(d.includes(e.state))return i.Holder;return i.Issuer}async function y(e,t){e.config.logger.debug("Updating indy metadata to use the generic metadata api available to records.");let r=t.metadata.data,{requestMetadata:n,schemaId:i,credentialDefinitionId:a}=r,s=o(r,["requestMetadata","schemaId","credentialDefinitionId"]),c=new l.Metadata(s),u="_internal/indyRequest",d="_internal/indyCredential";n&&(e.config.logger.trace(`Found top-level 'requestMetadata' key, moving to '${u}'`),c.add(u,Object.assign({},n))),i&&"string"==typeof i&&(e.config.logger.trace(`Found top-level 'schemaId' key, moving to '${d}.schemaId'`),c.add(d,{schemaId:i})),a&&"string"==typeof a&&(e.config.logger.trace(`Found top-level 'credentialDefinitionId' key, moving to '${d}.credentialDefinitionId'`),c.add(d,{credentialDefinitionId:a})),t.metadata=c}async function g(e,t){e.config.logger.debug(`Migrating internal credential record ${t.id} properties to storage version 0.2`),t.protocolVersion||(e.config.logger.debug("Setting protocolVersion to v1"),t.protocolVersion="v1"),t.credentialId&&(e.config.logger.debug(`Migrating indy credentialId ${t.id} to credentials array`),t.credentials=[{credentialRecordId:t.credentialId,credentialRecordType:"indy"}],delete t.credentialId),e.config.logger.debug(`Successfully migrated internal credential record ${t.id} properties to storage version 0.2`)}async function v(e,t){e.config.logger.debug(`Moving didcomm messages from credential record with id ${t.id} to DidCommMessageRecord`);let r=e.dependencyManager.resolve(c.DidCommMessageRepository);for(let n of p){e.config.logger.debug(`Starting move of ${n} from credential record with id ${t.id} to DIDCommMessageRecord`);let i=t[n];if(i){let o=h(t),a=f[o][n],s=new c.DidCommMessageRecord({role:a,associatedRecordId:t.id,message:i});await r.save(e.context,s),e.config.logger.debug(`Successfully moved ${n} from credential record with id ${t.id} to DIDCommMessageRecord`),delete t[n]}else e.config.logger.debug(`Credential record with id ${t.id} does not have a ${n}. Not creating a DIDCommMessageRecord`)}e.config.logger.debug(`Successfully moved didcomm messages from credential record with id ${t.id} to DIDCommMessageRecord`)}t.getCredentialRole=h,t.updateIndyMetadata=y,t.migrateInternalCredentialRecordProperties=g,t.moveDidCommMessages=v},76581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV0_1ToV0_2=void 0;let n=r(54464),i=r(82934),o=r(10661);async function a(e,t){await (0,i.migrateCredentialRecordToV0_2)(e),await (0,o.migrateMediationRecordToV0_2)(e,t.v0_1ToV0_2),await (0,n.migrateConnectionRecordToV0_2)(e)}t.updateV0_1ToV0_2=a},10661:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateMediationRole=t.migrateMediationRecordToV0_2=void 0;let n=r(34601);async function i(e,t){e.config.logger.info("Migrating mediation records to storage version 0.2");let r=e.dependencyManager.resolve(n.MediationRepository);e.config.logger.debug("Fetching all mediation records from storage");let i=await r.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${i.length} mediation records to update.`),i))e.config.logger.debug(`Migrating mediation record with id ${n.id} to storage version 0.2`),await o(e,n,t),await r.update(e.context,n),e.config.logger.debug(`Successfully migrated mediation record with id ${n.id} to storage version 0.2`)}async function o(e,t,{mediationRoleUpdateStrategy:r}){switch(e.config.logger.debug(`Updating mediation record role using strategy '${r}'`),r){case"allMediator":t.role=n.MediationRole.Mediator;break;case"allRecipient":t.role=n.MediationRole.Recipient;break;case"recipientIfEndpoint":t.endpoint?(e.config.logger.debug("Mediation record endpoint is set, setting mediation role to recipient"),t.role=n.MediationRole.Recipient):(e.config.logger.debug("Mediation record endpoint is not set, setting mediation role to mediator"),t.role=n.MediationRole.Mediator)}}t.migrateMediationRecordToV0_2=i,t.updateMediationRole=o},1064:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateConnectionRecordTags=t.migrateConnectionRecordToV0_3=void 0;let n=r(52560),i=r(34601);async function o(e){e.config.logger.info("Migrating connection records to storage version 0.3");let t=e.dependencyManager.resolve(n.ConnectionRepository),r=e.dependencyManager.resolve(i.MediationRepository);e.config.logger.debug("Fetching all connection records from storage");let o=await t.getAll(e.context);e.config.logger.debug(`Found a total of ${o.length} connection records to update`),e.config.logger.debug("Fetching all mediation records from storage");let s=await r.getAll(e.context);e.config.logger.debug(`Found a total of ${s.length} mediation records`);let l=new Set(s.map(e=>e.connectionId));for(let r of o)e.config.logger.debug(`Migrating connection record with id ${r.id} to storage version 0.3`),await a(e,r,l),await t.update(e.context,r),e.config.logger.debug(`Successfully migrated connection record with id ${r.id} to storage version 0.3`)}async function a(e,t,r=new Set){e.config.logger.debug(`Migrating internal connection record type tags ${t.id} to storage version 0.3`);let i=t.getTags().connectionType||[],o=[...i];r.has(t.id)&&!o.includes(n.ConnectionType.Mediator)&&o.push(n.ConnectionType.Mediator),t.connectionTypes=o,t.setTag("connectionType",void 0),e.config.logger.debug(`Successfully migrated internal connection record type tags ${t.id} to storage version 0.3`)}t.migrateConnectionRecordToV0_3=o,t.migrateConnectionRecordTags=a},38204:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV0_2ToV0_3=void 0;let n=r(1064),i=r(43352);async function o(e){await (0,i.migrateProofExchangeRecordToV0_3)(e),await (0,n.migrateConnectionRecordToV0_3)(e)}t.updateV0_2ToV0_3=o},43352:function(e,t,r){"use strict";var n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.moveDidCommMessages=t.migrateInternalProofExchangeRecordProperties=t.getProofRole=t.ProofRole=t.migrateProofExchangeRecordToV0_3=void 0;let o=r(49871),a=r(86334),s=r(21961);async function l(e){e.config.logger.info("Migrating proof records to storage version 0.3");let t=e.dependencyManager.resolve(a.ProofRepository);e.config.logger.debug("Fetching all proof records from storage");let r=await t.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${r.length} proof records to update.`),r))e.config.logger.debug(`Migrating proof record with id ${n.id} to storage version 0.3`),await p(e,n),await h(e,n),await t.update(e.context,n),e.config.logger.debug(`Successfully migrated proof record with id ${n.id} to storage version 0.3`)}t.migrateProofExchangeRecordToV0_3=l,(i=n=t.ProofRole||(t.ProofRole={}))[i.Verifier=0]="Verifier",i[i.Prover=1]="Prover";let c=[o.ProofState.Declined,o.ProofState.ProposalSent,o.ProofState.RequestReceived,o.ProofState.PresentationSent,o.ProofState.Done],u={[n.Verifier]:{proposalMessage:s.DidCommMessageRole.Receiver,requestMessage:s.DidCommMessageRole.Sender,presentationMessage:s.DidCommMessageRole.Receiver},[n.Prover]:{proposalMessage:s.DidCommMessageRole.Sender,requestMessage:s.DidCommMessageRole.Receiver,presentationMessage:s.DidCommMessageRole.Sender}},d=["proposalMessage","requestMessage","presentationMessage"];function f(e){if(void 0!==e.isVerified);else if(e.state===o.ProofState.Done)return n.Prover;else if(c.includes(e.state))return n.Prover;return n.Verifier}async function p(e,t){e.config.logger.debug(`Migrating internal proof record ${t.id} properties to storage version 0.3`),t.protocolVersion||(e.config.logger.debug("Setting protocolVersion to v1"),t.protocolVersion="v1"),e.config.logger.debug(`Successfully migrated internal proof record ${t.id} properties to storage version 0.3`)}async function h(e,t){e.config.logger.debug(`Moving didcomm messages from proof record with id ${t.id} to DidCommMessageRecord`);let r=e.dependencyManager.resolve(s.DidCommMessageRepository);for(let n of d){e.config.logger.debug(`Starting move of ${n} from proof record with id ${t.id} to DIDCommMessageRecord`);let i=t[n];if(i){let o=f(t),a=u[o][n],l=new s.DidCommMessageRecord({role:a,associatedRecordId:t.id,message:i});await r.save(e.context,l),e.config.logger.debug(`Successfully moved ${n} from proof record with id ${t.id} to DIDCommMessageRecord`),delete t[n]}else e.config.logger.debug(`Proof record with id ${t.id} does not have a ${n}. Not creating a DIDCommMessageRecord`)}e.config.logger.debug(`Successfully moved didcomm messages from proof record with id ${t.id} to DIDCommMessageRecord`)}t.getProofRole=f,t.migrateInternalProofExchangeRecordProperties=p,t.moveDidCommMessages=h},73151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateDidRecordToV0_3_1=void 0;let n=r(83296),i=r(15169);async function o(e){e.config.logger.info("Migrating did records to storage version 0.3.1");let t=e.dependencyManager.resolve(n.DidRepository);e.config.logger.debug("Fetching all did records from storage");let r=await t.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${r.length} did records to update.`),r)){e.config.logger.debug(`Migrating did record with id ${n.id} to storage version 0.3.1`);let r=(0,i.uuid)();e.config.logger.debug(`Updating id ${n.id} to ${r} for did record`),n.did=n.id,n.id=r,await t.save(e.context,n),await t.deleteById(e.context,n.did),e.config.logger.debug(`Successfully migrated did record with old id ${n.did} to new id ${n.id} to storage version 0.3.1`)}}t.migrateDidRecordToV0_3_1=o},3270:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV0_3ToV0_3_1=void 0;let n=r(73151);async function i(e){await (0,n.migrateDidRecordToV0_3_1)(e)}t.updateV0_3ToV0_3_1=i},76450:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateCacheToV0_4=void 0;let n=r(55090),i=r(79493);async function o(e){e.config.logger.info("Removing 0.3 cache records from storage");let t=e.dependencyManager.resolve(n.InjectionSymbols.StorageService);e.config.logger.debug("Fetching all cache records");let r=await t.getAll(e.context,a);for(let n of r)e.config.logger.debug(`Removing cache record with id ${n.id}`),await t.deleteById(e.context,a,n.id),e.config.logger.debug(`Successfully removed cache record with id ${n.id}`)}t.migrateCacheToV0_4=o;class a extends i.BaseRecord{constructor(){super(...arguments),this.type=a.type}getTags(){return this._tags}}a.type="CacheRecord"},54474:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateSovDidToIndyDid=t.migrateDidRecordToV0_4=void 0;let n=r(83296);async function i(e){e.config.logger.info("Migrating did records to storage version 0.4");let t=e.dependencyManager.resolve(n.DidRepository);e.config.logger.debug("Fetching all did records with did method did:sov from storage");let r=await t.findByQuery(e.context,{method:"sov",role:n.DidDocumentRole.Created});for(let n of(e.config.logger.debug(`Found a total of ${r.length} did:sov did records to update.`),r)){e.config.logger.debug(`Migrating did:sov did record with id ${n.id} to storage version 0.4`);let r=n.did;o(e,n),await t.update(e.context,n),e.config.logger.debug(`Successfully migrated did:sov did record with old did ${r} to new did ${n.did} for storage version 0.4`)}}function o(e,t){e.config.logger.debug(`Migrating did record with id ${t.id} and did ${t.did} to indy did for version 0.4`);let r=t.getTag("qualifiedIndyDid");t.did=r,t.setTag("qualifiedIndyDid",void 0)}t.migrateDidRecordToV0_4=i,t.migrateSovDidToIndyDid=o},11422:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV0_3_1ToV0_4=void 0;let n=r(76450),i=r(54474),o=r(73668);async function a(e){await (0,i.migrateDidRecordToV0_4)(e),await (0,n.migrateCacheToV0_4)(e),await (0,o.migrateW3cCredentialRecordToV0_4)(e)}t.updateV0_3_1ToV0_4=a},73668:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.migrateW3cCredentialRecordToV0_4=void 0;let n=r(24889);async function i(e){e.config.logger.info("Migration w3c credential records records to storage version 0.4");let t=e.dependencyManager.resolve(n.W3cCredentialRepository);e.config.logger.debug("Fetching all w3c credential records from storage");let r=await t.getAll(e.context);for(let n of(e.config.logger.debug(`Found a total of ${r.length} w3c credential records to update.`),r))e.config.logger.debug(`Re-saving w3c credential record with id ${n.id} to add claimFormat tag for storage version 0.4`),await t.update(e.context,n),e.config.logger.debug(`Successfully migrated w3c credential record with id ${n.id} to storage version 0.4`)}t.migrateW3cCredentialRecordToV0_4=i},84697:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HttpOutboundTransport=void 0;let n=r(26001),i=r(59078),o=r(32236),a=r(23333);class s{constructor(){this.supportedSchemes=["http","https"]}async start(e){this.agent=e,this.logger=this.agent.config.logger,this.fetch=this.agent.config.agentDependencies.fetch,this.logger.debug("Starting HTTP outbound transport")}async stop(){this.logger.debug("Stopping HTTP outbound transport")}async sendMessage(e){let{payload:t,endpoint:r}=e;if(!r)throw new o.AriesFrameworkError("Missing endpoint. I don't know how and where to send the message.");this.logger.debug(`Sending outbound message to endpoint '${e.endpoint}'`,{payload:e.payload});try{let o,s;let l=new n.AbortController,c=setTimeout(()=>l.abort(),15e3);try{o=await this.fetch(r,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":this.agent.config.didCommMimeType},signal:l.signal}),clearTimeout(c),s=await o.text()}catch(t){if("AbortError"==t.name&&e.responseRequested)this.logger.debug("Request was aborted due to timeout. Not throwing error due to return routing on sent message");else throw t}if(o&&s){this.logger.debug("Response received",{responseMessage:s,status:o.status});try{let e=a.JsonEncoder.fromString(s);if(!(0,a.isValidJweStructure)(e)){this.logger.error(`Received a response from the other agent but the structure of the incoming message is not a DIDComm message: ${s}`);return}this.agent.events.emit(this.agent.context,{type:i.AgentEventTypes.AgentMessageReceived,payload:{message:e}})}catch(e){this.logger.debug("Unable to parse response message")}}else this.logger.debug("No response received.")}catch(e){throw this.logger.error(`Error sending message to ${r}: ${e.message}`,{error:e,message:e.message,body:t,didCommMimeType:this.agent.config.didCommMimeType}),new o.AriesFrameworkError(`Error sending message to ${r}: ${e.message}`,{cause:e})}}}t.HttpOutboundTransport=s},37015:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},50645:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97487:function(e,t){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.TransportEventTypes=void 0,(r=t.TransportEventTypes||(t.TransportEventTypes={})).OutboundWebSocketClosedEvent="OutboundWebSocketClosedEvent",r.OutboundWebSocketOpenedEvent="OutboundWebSocketOpenedEvent"},97222:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WsOutboundTransport=void 0;let n=r(59078),i=r(32236),o=r(23333),a=r(9804),s=r(97487);class l{constructor(){this.transportTable=new Map,this.supportedSchemes=["ws","wss"],this.handleMessageEvent=e=>{this.logger.trace("WebSocket message event received.",{url:e.target.url});let t=o.JsonEncoder.fromBuffer(e.data);if(!(0,o.isValidJweStructure)(t))throw Error(`Received a response from the other agent but the structure of the incoming message is not a DIDComm message: ${t}`);this.logger.debug("Payload received from mediator:",t),this.agent.events.emit(this.agent.context,{type:n.AgentEventTypes.AgentMessageReceived,payload:{message:t}})}}async start(e){this.agent=e,this.logger=e.config.logger,this.logger.debug("Starting WS outbound transport"),this.WebSocketClass=e.config.agentDependencies.WebSocketClass}async stop(){this.logger.debug("Stopping WS outbound transport"),this.transportTable.forEach(e=>{e.removeEventListener("message",this.handleMessageEvent),e.close()})}async sendMessage(e){let{payload:t,endpoint:r,connectionId:n}=e;if(this.logger.debug(`Sending outbound message to endpoint '${r}' over WebSocket transport.`,{payload:t}),!r)throw new i.AriesFrameworkError("Missing connection or endpoint. I don't know how and where to send the message.");let o=`${r}-${n}`,s=!this.hasOpenSocket(o),l=await this.resolveSocket({socketId:o,endpoint:r,connectionId:n});l.send(a.Buffer.from(JSON.stringify(t))),s&&!e.responseRequested&&l.close()}hasOpenSocket(e){return void 0!==this.transportTable.get(e)}async resolveSocket({socketId:e,endpoint:t,connectionId:r}){let n=this.transportTable.get(e);if(!n||n.readyState===this.WebSocketClass.CLOSING){if(!t)throw new i.AriesFrameworkError("Missing endpoint. I don't know how and where to send the message.");n=await this.createSocketConnection({endpoint:t,socketId:e,connectionId:r}),this.transportTable.set(e,n),this.listenOnWebSocketMessages(n)}if(n.readyState!==this.WebSocketClass.OPEN)throw new i.AriesFrameworkError("Socket is not open.");return n}listenOnWebSocketMessages(e){e.addEventListener("message",this.handleMessageEvent)}createSocketConnection({socketId:e,endpoint:t,connectionId:r}){return new Promise((n,i)=>{this.logger.debug(`Connecting to WebSocket ${t}`);let o=new this.WebSocketClass(t);o.onopen=()=>{this.logger.debug(`Successfully connected to WebSocket ${t}`),n(o),this.agent.events.emit(this.agent.context,{type:s.TransportEventTypes.OutboundWebSocketOpenedEvent,payload:{socketId:e,connectionId:r}})},o.onerror=e=>{this.logger.debug(`Error while connecting to WebSocket ${t}`,{error:e}),i(e)},o.onclose=async()=>{this.logger.debug(`WebSocket closing to ${t}`),o.removeEventListener("message",this.handleMessageEvent),this.transportTable.delete(e),this.agent.events.emit(this.agent.context,{type:s.TransportEventTypes.OutboundWebSocketClosedEvent,payload:{socketId:e,connectionId:r}})}})}}t.WsOutboundTransport=l},59440:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(37015),t),i(r(50645),t),i(r(84697),t),i(r(97222),t),i(r(97487),t)},91696:function(e,t){"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.DidCommMimeType=t.KeyDerivationMethod=void 0,(r=t.KeyDerivationMethod||(t.KeyDerivationMethod={})).Argon2IMod="ARGON2I_MOD",r.Argon2IInt="ARGON2I_INT",r.Raw="RAW",(n=t.DidCommMimeType||(t.DidCommMimeType={})).V0="application/ssi-agent-wire",n.V1="application/didcomm-envelope-enc"},56791:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hasher=void 0;let n=r(87853),i={"sha2-256":e=>(0,n.hash)(e)};class o{static hash(e,t){let r=i[t];if(!r)throw Error(`Unsupported hash name '${t}'`);return r(e)}}t.Hasher=o},38219:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HashlinkEncoder=void 0;let i=n(r(8849)),o=r(39313),a=r(12895),s={urls:15,contentType:14};class l{static encode(e,t,r="base58btc",n){let i=this.encodeMultiHash(e,t,r),o=n&&Object.keys(n).length>0?this.encodeMetadata(n,r):null;return o?`hl:${i}:${o}`:`hl:${i}`}static decode(e){if(this.isValid(e)){let t=e.split(":"),[,r,n]=t;return n?{checksum:r,metadata:this.decodeMetadata(n)}:{checksum:r}}throw Error(`Invalid hashlink: ${e}`)}static isValid(e){let t=e.split(":"),r=o.MultiBaseEncoder.isValid(t[1]);if(!r)return!1;let{data:n}=o.MultiBaseEncoder.decode(t[1]),i=a.MultiHashEncoder.isValid(n);return!!i}static encodeMultiHash(e,t,r="base58btc"){let n=a.MultiHashEncoder.encode(e,t),i=o.MultiBaseEncoder.encode(n,r);return i}static encodeMetadata(e,t){let r=new Map;for(let t of Object.keys(e))if("urls"===t||"contentType"===t)r.set(s[t],e[t]);else throw Error(`Invalid metadata: ${e}`);let n=i.default.encode(r),a=o.MultiBaseEncoder.encode(n,t);return a}static decodeMetadata(e){let t={urls:[],contentType:""},{data:r}=o.MultiBaseEncoder.decode(e);try{let e=i.default.decode(r);return e.forEach((e,r)=>{if(r===s.urls)t.urls=e;else if(r===s.contentType)t.contentType=e;else throw Error(`Invalid metadata property: ${r}:${e}`)}),t}catch(t){throw Error(`Invalid metadata: ${e}, ${t}`)}}}t.HashlinkEncoder=l},15064:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidJweStructure=void 0,t.isValidJweStructure=function(e){return!!(e&&"object"==typeof e&&null!==e&&"string"==typeof e.protected&&e.iv&&e.ciphertext&&e.tag)}},72589:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonEncoder=void 0;let n=r(50334),i=r(9804);class o{static toBase64(e){return o.toBuffer(e).toString("base64")}static toBase64URL(e){return(0,n.base64ToBase64URL)(o.toBase64(e))}static fromBase64(e){return o.fromBuffer(i.Buffer.from(e,"base64"))}static toString(e){return JSON.stringify(e)}static fromString(e){return JSON.parse(e)}static toBuffer(e){return i.Buffer.from(o.toString(e))}static fromBuffer(e){return o.fromString(i.Buffer.from(e).toString("utf-8"))}}t.JsonEncoder=o},9905:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonTransformer=void 0;let n=r(5902),i=r(64802),o=r(90890);class a{static toJSON(e){return(0,n.instanceToPlain)(e,{exposeDefaultValues:!0})}static fromJSON(e,t,{validate:r=!0}={}){let a=(0,n.plainToInstance)(t,e,{exposeDefaultValues:!0});if(!r)return a;if(!a)throw new i.ClassValidationError("Cannot validate instance of ",{classType:Object.getPrototypeOf(t).name});return o.MessageValidator.validateSync(a),a}static clone(e){return(0,n.instanceToInstance)(e,{exposeDefaultValues:!0,enableCircularCheck:!0,enableImplicitConversion:!0,ignoreDecorators:!0})}static serialize(e){return JSON.stringify(this.toJSON(e))}static deserialize(e,t,{validate:r=!0}={}){return this.fromJSON(JSON.parse(e),t,{validate:r})}}t.JsonTransformer=a},25577:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedAttachment=void 0;let o=r(5902),a=r(56988),s=r(22548),l=r(84979);class c{constructor(e){this.attributeName=e.name,this.attachment=e.attachment,this.attachment.id=this.getId(e.attachment)}getId(e){return(0,l.encodeAttachment)(e).split(":")[1].substring(0,64)}}n([(0,a.IsString)(),i("design:type",String)],c.prototype,"attributeName",void 0),n([(0,o.Type)(()=>s.Attachment),i("design:type",s.Attachment)],c.prototype,"attachment",void 0),t.LinkedAttachment=c},90890:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageValidator=void 0;let n=r(56988),i=r(99997),o=r(97552);class a{static validateSync(e){let t=(0,n.validateSync)(e);if((0,o.isValidationErrorArray)(t))throw new i.ClassValidationError("Failed to validate class.",{classType:e.constructor.name,validationErrors:t});if(0!==t.length)throw new i.ClassValidationError("An unknown validation error occurred.",{classType:Object.prototype.constructor(e).name})}}t.MessageValidator=a},39313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiBaseEncoder=void 0;let n=r(36259),i={base58btc:e=>`z${(0,n.encodeToBase58)(e)}`},o={z:e=>({data:(0,n.decodeFromBase58)(e.substring(1)),baseName:"base58btc"})};class a{static encode(e,t){let r=i[t];if(!r)throw Error(`Unsupported encoding '${t}'`);return r(e)}static decode(e){let t=e[0],r=o[t];if(!r)throw Error(`No decoder found for multibase prefix '${t}'`);return r(e)}static isValid(e){try{return a.decode(e),!0}catch(e){return!1}}}t.MultiBaseEncoder=a},12895:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiHashEncoder=void 0;let n=r(56791),i=r(88749),o=r(9804),a={"sha2-256":18},s=Object.entries(a).reduce((e,[t,r])=>Object.assign(Object.assign({},e),{[r]:t}),{});class l{static encode(e,t){let r=n.Hasher.hash(e,t),s=a[t],l=i.VarintEncoder.encode(s),c=i.VarintEncoder.encode(r.length);return o.Buffer.concat([l,c,r])}static decode(e){let[t,r]=i.VarintEncoder.decode(e),n=e.slice(r),[,a]=i.VarintEncoder.decode(n),l=n.slice(a),c=s[t];if(!c)throw Error(`Unsupported hash code 0x${t.toString(16)}`);return{data:o.Buffer.from(l),hashName:s[t]}}static isValid(e){try{return l.decode(e),!0}catch(e){return!1}}}t.MultiHashEncoder=l},87055:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypedArrayEncoder=void 0;let n=r(36259),i=r(50334),o=r(9804);class a{static toBase64(e){return o.Buffer.from(e).toString("base64")}static toBase64URL(e){return(0,i.base64ToBase64URL)(a.toBase64(e))}static toBase58(e){return(0,n.encodeToBase58)(e)}static fromBase64(e){return o.Buffer.from(e,"base64")}static fromBase58(e){return o.Buffer.from((0,n.decodeFromBase58)(e))}static toHex(e){return o.Buffer.from(e).toString("hex")}static fromHex(e){return o.Buffer.from(e,"hex")}static fromString(e){return o.Buffer.from(e)}static toUtf8String(e){return o.Buffer.from(e).toString()}static isTypedArray(e){return"BYTES_PER_ELEMENT"in e}}t.TypedArrayEncoder=a},88749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VarintEncoder=void 0;let n=r(28965),i=r(9804);class o{static decode(e){let t=(0,n.decode)(e);return[t,n.decode.bytes]}static encode(e){let t=new i.Buffer(o.encodingLength(e));return(0,n.encode)(e,t),t}static encodingLength(e){return(0,n.encodingLength)(e)}}t.VarintEncoder=o},27963:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapSingleOrArray=t.asArray=void 0,t.asArray=e=>e?Array.isArray(e)?e:[e]:[],t.mapSingleOrArray=(e,r)=>{let n=(0,t.asArray)(e).map(r);return Array.isArray(e)?n:n[0]}},84979:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isLinkedAttachment=t.encodeAttachment=void 0;let n=r(32236),i=r(38219),o=r(87055);t.encodeAttachment=function(e,t="sha2-256",r="base58btc"){if(e.data.sha256)return`hl:${e.data.sha256}`;if(e.data.base64)return i.HashlinkEncoder.encode(o.TypedArrayEncoder.fromBase64(e.data.base64),t,r);if(e.data.json)throw new n.AriesFrameworkError(`Attachment: (${e.id}) has json encoded data. This is currently not supported`);throw new n.AriesFrameworkError(`Attachment: (${e.id}) has no data to create a link with`)},t.isLinkedAttachment=function(e){return i.HashlinkEncoder.isValid(`hl:${e.id}`)}},36259:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeToBase58=t.decodeFromBase58=void 0;let i=n(r(27081)),o=(0,i.default)("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");t.decodeFromBase58=function(e){return o.decode(e)},t.encodeToBase58=function(e){return o.encode(e)}},50334:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.base64ToBase64URL=void 0,t.base64ToBase64URL=function(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}},9804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=void 0;let n=r(67133);Object.defineProperty(t,"Buffer",{enumerable:!0,get:function(){return n.Buffer}})},314:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepEquality=void 0;let n=r(93609);t.deepEquality=function e(t,r){let i=t===r||(null==t&&null==r?t===r:t.constructor===r.constructor&&(t instanceof Function||t instanceof RegExp?t===r:!!t.valueOf&&!!r.valueOf&&t.valueOf()===r.valueOf()||!(t instanceof Date)&&!(r instanceof Date)&&void 0));if(void 0!==i)return i;if(!(t instanceof Map)||!(r instanceof Map))return(0,n.areObjectsEqual)(t,r);let o=Array.from(t.keys()),a=Array.from(r.keys());return!!(o.length===a.length&&o.every(e=>a.includes(e)))&&Array.from(t.entries()).every(([t,n])=>e(n,r.get(t)))}},57849:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDid=t.indyDidFromPublicKeyBase58=void 0;let n=r(87055);t.indyDidFromPublicKeyBase58=function(e){let t=n.TypedArrayEncoder.fromBase58(e),r=n.TypedArrayEncoder.toBase58(t.slice(0,16));return r},t.isDid=function(e,t){return t?e.startsWith(`did:${t}:`):e.startsWith("did:")}},23333:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87055),t),i(r(72589),t),i(r(9905),t),i(r(39313),t),i(r(9804),t),i(r(12895),t),i(r(15064),t),i(r(88749),t),i(r(56791),t),i(r(62856),t),i(r(68373),t),i(r(314),t),i(r(93609),t),i(r(90890),t),i(r(57849),t),i(r(27963),t)},51465:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.replaceNewDidCommPrefixWithLegacyDidSov=t.replaceLegacyDidSovPrefix=t.replaceNewDidCommPrefixWithLegacyDidSovOnMessage=t.replaceLegacyDidSovPrefixOnMessage=t.IsValidMessageType=t.canHandleMessageType=t.supportsIncomingMessageType=t.parseMessageType=void 0;let n=r(56988),i=r(2436),o=r(68438);function a(e){let[t,r,n,a]=(0,i.rightSplit)(e,"/",3),[s,l]=(0,o.parseVersionString)(n);return{documentUri:t,protocolName:r,protocolVersion:n,protocolMajorVersion:s,protocolMinorVersion:l,messageName:a,protocolUri:`${t}/${r}/${n}`,messageTypeUri:e}}function s(e,t,{allowLegacyDidSovPrefixMismatch:r=!0}={}){let n=r?l(e.documentUri):e.documentUri,i=t.documentUri===n,o=t.protocolName===e.protocolName,a=t.protocolMajorVersion===e.protocolMajorVersion,s=t.messageName===e.messageName;return i&&o&&a&&s}function l(e){let t="did:sov:BzCbsNYhMrjHiqZDTUASHg;spec";return e.startsWith(t)?e.replace(t,"https://didcomm.org"):e}function c(e){let t="https://didcomm.org";return e.startsWith(t)?e.replace(t,"did:sov:BzCbsNYhMrjHiqZDTUASHg;spec"):e}t.parseMessageType=a,t.supportsIncomingMessageType=s,t.canHandleMessageType=function(e,t){return s(e.type,t)},t.IsValidMessageType=function(e,t){return(0,n.ValidateBy)({name:"isValidMessageType",constraints:[e],validator:{validate:(e,t)=>{let[r]=t.constraints;if("string"!=typeof e)return!1;let n=a(e);return s(n,r)},defaultMessage:(0,n.buildMessage)(e=>e+"$property does not match the expected message type (only minor version may be lower)",t)}},t)},t.replaceLegacyDidSovPrefixOnMessage=function(e){e["@type"]=l(e["@type"])},t.replaceNewDidCommPrefixWithLegacyDidSovOnMessage=function(e){e["@type"]=c(e["@type"])},t.replaceLegacyDidSovPrefix=l,t.replaceNewDidCommPrefixWithLegacyDidSov=c},93609:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areObjectsEqual=void 0,t.areObjectsEqual=function e(t,r){if("object"!=typeof t||null==t||"object"!=typeof r||null==r)return t===r;if(Object.keys(t).length!==Object.keys(r).length)return!1;for(let n in t)if(!(n in r)||!e(t[n],r[n]))return!1;for(let n in r)if(!(n in t)||!e(r[n],t[n]))return!1;return!0}},9522:function(e,t,r){"use strict";var n=this&&this.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};Object.defineProperty(t,"__esModule",{value:!0}),t.parseInvitationShortUrl=t.oobInvitationFromShortUrl=t.parseInvitationUrl=t.parseInvitationJson=void 0;let i=r(26001),o=r(89291),a=r(92583),s=r(99997),l=r(52560),c=r(23823),u=r(22109),d=r(38395),f=r(72589),p=r(9905),h=r(90890),y=r(51465),g=async(e,t)=>{let r;let n=new i.AbortController,o=setTimeout(()=>n.abort(),15e3);try{r=await t.fetch(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}})}catch(e){throw new s.AriesFrameworkError(`Get request failed on provided url: ${e.message}`,{cause:e})}return clearTimeout(o),r};t.parseInvitationJson=e=>{let t=e["@type"];if(!t)throw new s.AriesFrameworkError("Invitation is not a valid DIDComm message");let r=(0,y.parseMessageType)(t);if((0,y.supportsIncomingMessageType)(r,d.OutOfBandInvitation.type)){let t=p.JsonTransformer.fromJSON(e,d.OutOfBandInvitation);return h.MessageValidator.validateSync(t),t.invitationType=d.InvitationType.OutOfBand,t}if((0,y.supportsIncomingMessageType)(r,l.ConnectionInvitationMessage.type)){let t=p.JsonTransformer.fromJSON(e,l.ConnectionInvitationMessage);h.MessageValidator.validateSync(t);let r=(0,u.convertToNewInvitation)(t);return r.invitationType=d.InvitationType.Connection,r}throw new s.AriesFrameworkError(`Invitation with '@type' ${r.messageTypeUri} not supported.`)},t.parseInvitationUrl=e=>{var r,n;let i=(0,o.parseUrl)(e).query,a=null!==(n=null!==(r=i.oob)&&void 0!==r?r:i.c_i)&&void 0!==n?n:i.d_m;if("string"==typeof a){let e=f.JsonEncoder.fromBase64(a);return(0,t.parseInvitationJson)(e)}throw new s.AriesFrameworkError("InvitationUrl is invalid. It needs to contain one, and only one, of the following parameters: `oob`, `c_i` or `d_m`.")};let v=async e=>{var r;if(e){if((null===(r=e.headers.get("Content-Type"))||void 0===r?void 0:r.startsWith("application/json"))&&e.ok){let r=await e.json();return(0,t.parseInvitationJson)(r)}if(e.url){let r;let n=e.headers.get("Location");return r=(302===e.status||301===e.status)&&n?n:e.url,(0,t.parseInvitationUrl)(r)}}throw new s.AriesFrameworkError("HTTP request time out or did not receive valid response")};t.oobInvitationFromShortUrl=v;let m=async(e,r)=>{let i=(0,o.parseUrl)(e).query;if(i.oob||i.c_i)return(0,t.parseInvitationUrl)(e);if(i.d_m){let e=f.JsonEncoder.fromBase64(i.d_m),t=p.JsonTransformer.fromJSON(e,a.AgentMessage);if(!t.service)throw new s.AriesFrameworkError("Invalid legacy connectionless invitation url. Missing ~service decorator.");let{"~service":r}=e,o=n(e,["~service"]),l=new d.OutOfBandInvitation({label:"",services:[c.OutOfBandDidCommService.fromResolvedDidCommService(t.service.resolvedDidCommService)]});return l.invitationType=d.InvitationType.Connectionless,l.addRequest(p.JsonTransformer.fromJSON(o,a.AgentMessage)),l}try{let n=await (0,t.oobInvitationFromShortUrl)(await g(e,r));return n.invitationType=d.InvitationType.OutOfBand,n}catch(e){throw new s.AriesFrameworkError("InvitationUrl is invalid. It needs to contain one, and only one, of the following parameters: `oob`, `c_i` or `d_m`, or be valid shortened URL")}};t.parseInvitationShortUrl=m},84273:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDirFromFilePath=void 0,t.getDirFromFilePath=function(e){return e.substring(0,Math.max(e.lastIndexOf("/"),e.lastIndexOf("\\")))}},2436:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rightSplit=void 0,t.rightSplit=function(e,t,r){let n=e.split(t);return r?[n.slice(0,-r).join(t)].concat(n.slice(-r)):n}},52974:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getThreadIdFromPlainTextMessage=void 0,t.getThreadIdFromPlainTextMessage=function(e){var t,r;return null!==(r=null===(t=e["~thread"])||void 0===t?void 0:t.thid)&&void 0!==r?r:e["@id"]}},26687:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=Date.now(),t=[];for(let r=0;r<8;r++){let r=255&e;t.push(r),e=(e-r)/256}return Uint8Array.from(t).reverse()}},26086:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsStringOrStringArray=t.IsMap=t.DateParser=t.DateTransformer=t.MetadataTransformer=void 0;let n=r(5902),i=r(56988),o=r(98029),a=r(26501);t.MetadataTransformer=function(){return(0,n.Transform)(({value:e,type:t})=>t===n.TransformationType.CLASS_TO_PLAIN?Object.assign({},e.data):t===n.TransformationType.PLAIN_TO_CLASS?new a.Metadata(e):t===n.TransformationType.CLASS_TO_CLASS?new a.Metadata(Object.assign({},e.data)):void 0)},t.DateTransformer=function(){return(0,n.Transform)(({value:e,type:t})=>t===n.TransformationType.CLASS_TO_PLAIN?e.toISOString():t===n.TransformationType.PLAIN_TO_CLASS?new Date(e):t===n.TransformationType.CLASS_TO_CLASS?new Date(e.getTime()):void 0)},t.DateParser=function(e){let t=new Date(e);if(t instanceof Date&&!isNaN(t.getTime()))return t;let r=o.DateTime.fromSQL(e);return r.isValid?new Date(r.toString()):new Date},t.IsMap=function(e){return(0,i.ValidateBy)({name:"isMap",validator:{validate:e=>e instanceof Map,defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a Map",e)}},e)},t.IsStringOrStringArray=function(e){return(0,i.ValidateBy)({name:"isStringOrStringArray",validator:{validate:e=>(0,i.isString)(e)||Array.isArray(e)&&e.every(e=>(0,i.isString)(e)),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a string or string array",e)}},e)}},68373:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isJsonObject=void 0,t.isJsonObject=e=>void 0!==e&&"object"==typeof e&&null!==e&&!Array.isArray(e)},79522:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProtocolScheme=void 0,t.getProtocolScheme=function(e){let[t]=e.split(":");return t}},15169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidUuid=t.uuid=void 0;let n=r(74916);t.uuid=function(){return(0,n.v4)()},t.isValidUuid=function(e){return(0,n.validate)(e)}},62856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsUri=t.isUri=t.UriValidator=t.isStringArray=t.IsInstanceOrArrayOfInstances=t.IsStringOrInstance=void 0;let n=r(56988),i=r(27963);function o(e){return t.UriValidator.test(e)}t.IsStringOrInstance=function(e,t){return(0,n.ValidateBy)({name:"IsStringOrInstance",constraints:[e],validator:{validate:(e,t)=>(0,n.isString)(e)||(0,n.isInstance)(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)((e,t)=>(null==t?void 0:t.constraints[0])?e+`$property must be of type string or instance of ${t.constraints[0].name}`:e+"IsStringOrInstance decorator expects an object as value, but got falsy value.",t)}},t)},t.IsInstanceOrArrayOfInstances=function(e){var t;let r=(0,i.asArray)(e.classType),o=null!==(t=e.allowEmptyArray)&&void 0!==t&&t;return(0,n.ValidateBy)({name:"isInstanceOrArrayOfInstances",validator:{validate:e=>!!e&&(Array.isArray(e)&&0===e.length?o:(0,i.asArray)(e).every(e=>r.some(t=>(0,n.isInstance)(e,t)))),defaultMessage:(0,n.buildMessage)(e=>e+`$property value must be an instance of, or an array of instances containing ${r.map(e=>e.name).join(", ")}`,e)}},e)},t.isStringArray=function(e){return Array.isArray(e)&&e.every(e=>"string"==typeof e)},t.UriValidator=/\w+:(\/?\/?)[^\s]+/,t.isUri=o,t.IsUri=function(e){return(0,n.ValidateBy)({name:"isUri",validator:{validate:e=>o(e),defaultMessage:(0,n.buildMessage)(e=>e+`$property must be an URI (that matches regex: ${t.UriValidator.source})`,e)}},e)}},68438:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFirstVersionEqualToSecond=t.isFirstVersionHigherThanSecond=t.parseVersionString=void 0,t.parseVersionString=function(e){let[t,r,n]=e.split(".");return[Number(t),Number(r),Number(null!=n?n:"0")]},t.isFirstVersionHigherThanSecond=function(e,t){return e[0]>t[0]||e[0]===t[0]&&e[1]>t[1]||e[0]===t[0]&&e[1]===t[1]&&e[2]>t[2]},t.isFirstVersionEqualToSecond=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]}},87676:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},35582:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a},i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},o=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.WalletApi=void 0;let a=r(77858),s=r(55090),l=r(90978),c=r(90944),u=r(24451),d=r(7644),f=r(62469),p=class{constructor(e,t,r){this.storageUpdateService=e,this.logger=r,this.wallet=t.wallet,this.agentContext=t}get isInitialized(){return this.wallet.isInitialized}get isProvisioned(){return this.wallet.isProvisioned}get walletConfig(){return this._walletConfig}async initialize(e){var t;if(this.logger.info(`Initializing wallet '${e.id}'`,Object.assign(Object.assign({},e),{key:(null==e?void 0:e.key)?"[*****]":void 0,storage:Object.assign(Object.assign({},null==e?void 0:e.storage),{credentials:(null===(t=null==e?void 0:e.storage)||void 0===t?void 0:t.credentials)?"[*****]":void 0})})),this.isInitialized)throw new d.WalletError("Wallet instance already initialized. Close the currently opened wallet before re-initializing the wallet");try{await this.open(e)}catch(t){if(t instanceof f.WalletNotFoundError)await this.createAndOpen(e);else throw t}}async createAndOpen(e){await this.wallet.createAndOpen(e),this._walletConfig=e,await this.storageUpdateService.setCurrentStorageVersion(this.agentContext,u.CURRENT_FRAMEWORK_STORAGE_VERSION)}async create(e){await this.createAndOpen(e),await this.close()}async open(e){await this.wallet.open(e),this._walletConfig=e}async close(){await this.wallet.close()}async rotateKey(e){await this.wallet.rotateKey(e)}async generateNonce(){return await this.wallet.generateNonce()}async delete(){await this.wallet.delete()}async export(e){await this.wallet.export(e)}async import(e,t){await this.wallet.import(e,t)}async createKey(e){return this.wallet.createKey(e)}};p=n([(0,l.injectable)(),o(2,(0,l.inject)(s.InjectionSymbols.Logger)),i("design:paramtypes",[c.StorageUpdateService,a.AgentContext,Object])],p),t.WalletApi=p},5624:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletModule=void 0;let n=r(35582);class i{constructor(){this.api=n.WalletApi}register(e){e.registerContextScoped(n.WalletApi)}}t.WalletModule=i},80648:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletDuplicateError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{walletType:t,cause:r}){super(`${t}: ${e}`,{cause:r})}}t.WalletDuplicateError=i},7644:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletError=void 0;let n=r(32236);class i extends n.AriesFrameworkError{constructor(e,{cause:t}={}){super(e,{cause:t})}}t.WalletError=i},893:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletExportPathExistsError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{cause:t}={}){super(e,{cause:t})}}t.WalletExportPathExistsError=i},17346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletImportPathExistsError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{cause:t}={}){super(e,{cause:t})}}t.WalletImportPathExistsError=i},72175:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletInvalidKeyError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{walletType:t,cause:r}){super(`${t}: ${e}`,{cause:r})}}t.WalletInvalidKeyError=i},41452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletKeyExistsError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{cause:t}={}){super(e,{cause:t})}}t.WalletKeyExistsError=i},62469:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletNotFoundError=void 0;let n=r(7644);class i extends n.WalletError{constructor(e,{walletType:t,cause:r}){super(`${t}: ${e}`,{cause:r})}}t.WalletNotFoundError=i},79102:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WalletExportPathExistsError=t.WalletImportPathExistsError=t.WalletKeyExistsError=t.WalletError=t.WalletInvalidKeyError=t.WalletNotFoundError=t.WalletDuplicateError=void 0;var n=r(80648);Object.defineProperty(t,"WalletDuplicateError",{enumerable:!0,get:function(){return n.WalletDuplicateError}});var i=r(62469);Object.defineProperty(t,"WalletNotFoundError",{enumerable:!0,get:function(){return i.WalletNotFoundError}});var o=r(72175);Object.defineProperty(t,"WalletInvalidKeyError",{enumerable:!0,get:function(){return o.WalletInvalidKeyError}});var a=r(7644);Object.defineProperty(t,"WalletError",{enumerable:!0,get:function(){return a.WalletError}});var s=r(41452);Object.defineProperty(t,"WalletKeyExistsError",{enumerable:!0,get:function(){return s.WalletKeyExistsError}});var l=r(17346);Object.defineProperty(t,"WalletImportPathExistsError",{enumerable:!0,get:function(){return l.WalletImportPathExistsError}});var c=r(893);Object.defineProperty(t,"WalletExportPathExistsError",{enumerable:!0,get:function(){return c.WalletExportPathExistsError}})},43141:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87676),t),i(r(35582),t),i(r(5624),t)},37830:function(e,t,r){"use strict";r.r(t),r.d(t,{CONTEXT:function(){return c},CONTEXT_URL:function(){return u},SECURITY_CONTEXT_V1_URL:function(){return d},SECURITY_CONTEXT_V2_URL:function(){return f},constants:function(){return l},contexts:function(){return s},default:function(){return a}});var n,i,o=(function(e,t){for(var r in t)e[r]=t[r]}((i={exports:{}}).exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t||4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){let n=r(1),i=r(2),o=r(3),{CONTEXT_URL:a,SECURITY_CONTEXT_V1_URL:s,SECURITY_CONTEXT_V2_URL:l}=o,c=new Map;c.set(s,n),c.set(l,i),e.exports={constants:o,contexts:c,SECURITY_CONTEXT_V1_URL:s,SECURITY_CONTEXT_V2_URL:l,CONTEXT_URL:a,CONTEXT:i}},function(e,t,r){e.exports={"@context":{id:"@id",type:"@type",dc:"http://purl.org/dc/terms/",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",EcdsaKoblitzSignature2016:"sec:EcdsaKoblitzSignature2016",Ed25519Signature2018:"sec:Ed25519Signature2018",EncryptedMessage:"sec:EncryptedMessage",GraphSignature2012:"sec:GraphSignature2012",LinkedDataSignature2015:"sec:LinkedDataSignature2015",LinkedDataSignature2016:"sec:LinkedDataSignature2016",CryptographicKey:"sec:Key",authenticationTag:"sec:authenticationTag",canonicalizationAlgorithm:"sec:canonicalizationAlgorithm",cipherAlgorithm:"sec:cipherAlgorithm",cipherData:"sec:cipherData",cipherKey:"sec:cipherKey",created:{"@id":"dc:created","@type":"xsd:dateTime"},creator:{"@id":"dc:creator","@type":"@id"},digestAlgorithm:"sec:digestAlgorithm",digestValue:"sec:digestValue",domain:"sec:domain",encryptionKey:"sec:encryptionKey",expiration:{"@id":"sec:expiration","@type":"xsd:dateTime"},expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},initializationVector:"sec:initializationVector",iterationCount:"sec:iterationCount",nonce:"sec:nonce",normalizationAlgorithm:"sec:normalizationAlgorithm",owner:{"@id":"sec:owner","@type":"@id"},password:"sec:password",privateKey:{"@id":"sec:privateKey","@type":"@id"},privateKeyPem:"sec:privateKeyPem",publicKey:{"@id":"sec:publicKey","@type":"@id"},publicKeyBase58:"sec:publicKeyBase58",publicKeyPem:"sec:publicKeyPem",publicKeyWif:"sec:publicKeyWif",publicKeyService:{"@id":"sec:publicKeyService","@type":"@id"},revoked:{"@id":"sec:revoked","@type":"xsd:dateTime"},salt:"sec:salt",signature:"sec:signature",signatureAlgorithm:"sec:signingAlgorithm",signatureValue:"sec:signatureValue"}}},function(e,t,r){e.exports={"@context":[{"@version":1.1},"https://w3id.org/security/v1",{AesKeyWrappingKey2019:"sec:AesKeyWrappingKey2019",DeleteKeyOperation:"sec:DeleteKeyOperation",DeriveSecretOperation:"sec:DeriveSecretOperation",EcdsaSecp256k1Signature2019:"sec:EcdsaSecp256k1Signature2019",EcdsaSecp256r1Signature2019:"sec:EcdsaSecp256r1Signature2019",EcdsaSecp256k1VerificationKey2019:"sec:EcdsaSecp256k1VerificationKey2019",EcdsaSecp256r1VerificationKey2019:"sec:EcdsaSecp256r1VerificationKey2019",Ed25519Signature2018:"sec:Ed25519Signature2018",Ed25519VerificationKey2018:"sec:Ed25519VerificationKey2018",EquihashProof2018:"sec:EquihashProof2018",ExportKeyOperation:"sec:ExportKeyOperation",GenerateKeyOperation:"sec:GenerateKeyOperation",KmsOperation:"sec:KmsOperation",RevokeKeyOperation:"sec:RevokeKeyOperation",RsaSignature2018:"sec:RsaSignature2018",RsaVerificationKey2018:"sec:RsaVerificationKey2018",Sha256HmacKey2019:"sec:Sha256HmacKey2019",SignOperation:"sec:SignOperation",UnwrapKeyOperation:"sec:UnwrapKeyOperation",VerifyOperation:"sec:VerifyOperation",WrapKeyOperation:"sec:WrapKeyOperation",X25519KeyAgreementKey2019:"sec:X25519KeyAgreementKey2019",allowedAction:"sec:allowedAction",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"},capability:{"@id":"sec:capability","@type":"@id"},capabilityAction:"sec:capabilityAction",capabilityChain:{"@id":"sec:capabilityChain","@type":"@id","@container":"@list"},capabilityDelegation:{"@id":"sec:capabilityDelegationMethod","@type":"@id","@container":"@set"},capabilityInvocation:{"@id":"sec:capabilityInvocationMethod","@type":"@id","@container":"@set"},caveat:{"@id":"sec:caveat","@type":"@id","@container":"@set"},challenge:"sec:challenge",ciphertext:"sec:ciphertext",controller:{"@id":"sec:controller","@type":"@id"},delegator:{"@id":"sec:delegator","@type":"@id"},equihashParameterK:{"@id":"sec:equihashParameterK","@type":"xsd:integer"},equihashParameterN:{"@id":"sec:equihashParameterN","@type":"xsd:integer"},invocationTarget:{"@id":"sec:invocationTarget","@type":"@id"},invoker:{"@id":"sec:invoker","@type":"@id"},jws:"sec:jws",keyAgreement:{"@id":"sec:keyAgreementMethod","@type":"@id","@container":"@set"},kmsModule:{"@id":"sec:kmsModule"},parentCapability:{"@id":"sec:parentCapability","@type":"@id"},plaintext:"sec:plaintext",proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab"},proofValue:"sec:proofValue",referenceId:"sec:referenceId",unwrappedKey:"sec:unwrappedKey",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"},verifyData:"sec:verifyData",wrappedKey:"sec:wrappedKey"}]}},function(e,t,r){e.exports={SECURITY_CONTEXT_V1_URL:"https://w3id.org/security/v1",SECURITY_CONTEXT_V2_URL:"https://w3id.org/security/v2",CONTEXT_URL:"https://w3id.org/security/v2"}}])),i.exports),a=o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o,s=o.contexts,l=o.constants,c=o.CONTEXT,u=o.CONTEXT_URL,d=o.SECURITY_CONTEXT_V1_URL,f=o.SECURITY_CONTEXT_V2_URL},54523:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(55410),i=n&&"object"==typeof n&&"default"in n?n:{default:n};/*!
 * Copyright (c) 2020 Digital Bazaar, Inc. All rights reserved.
 */let o={Accept:"application/ld+json, application/json"},a=i.default.create({headers:o}),s=new Set(["get","post","push","patch","head","delete"]),l=new Proxy(a,{apply:c,get(e,t){let r=e[t];return s.has(t)?async function(){return c(r,this,arguments)}:r}});async function c(e,t,r){let n;try{n=await e.apply(t,r)}catch(e){return u(e)}let{parseBody:i=!0}=r[1]||{};if(i){let e=n.headers.get("content-type");e&&e.includes("json")&&(n.data=await n.json())}return n}async function u(e){if(!e.response)throw"Failed to fetch"===e.message&&(e.message=`${e.message}. Possible CORS error.`),e;e.status=e.response.status;let t=e.response.headers.get("content-type");if(t&&t.includes("json")){let t=await e.response.json();e.message=t.message||e.message,e.data=t}throw e}var d={httpClient:l,ky:i.default,DEFAULT_HEADERS:o};t.DEFAULT_HEADERS=o,t.default=d,t.httpClient=l},51732:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n=r(9503),i=r(2190),{extendContextLoader:o,strictDocumentLoader:a}=r(52695),{serializeError:s}=r(89016),l=r(75256);async function c({document:e}){let t;if(t=i.getValues(e,"proof"),delete e.proof,0===t.length)throw Error("No matching proofs found in the given document.");let r=e["@context"]||n.SECURITY_CONTEXT_URL;return{proofSet:t=t.map(e=>({"@context":r,...e})),document:e}}async function u({document:e,suites:t,proofSet:r,purpose:n,documentLoader:i,expansionMap:o}){let a=Array.isArray(n)?n:[n],s=new Map,l=new Map,c=new Map;if(await Promise.all(a.map(n=>f({purposeToProofs:s,proofToSuite:l,purpose:n,proofSet:r,suites:t,suiteMatchQueue:c,document:e,documentLoader:i,expansionMap:o}))),s.size<a.length)return[];let u=new Map;return await Promise.all([...l.entries()].map(async([t,r])=>{let n;try{let a;let{verified:s,verificationMethod:l,error:c}=await r.verifyProof({proof:t,document:e,purpose:{validate:async(e,{verificationMethod:t})=>(a=t,{valid:!0})},documentLoader:i,expansionMap:o});a||(a=l),n={proof:t,verified:s,verificationMethod:a,error:c}}catch(e){n={proof:t,verified:!1,error:e}}n.error&&d(n.error),u.set(t,n)})),await Promise.all([...s.entries()].map(async([t,r])=>{for(let n of r){let r;let a=u.get(n);if(!a.verified)continue;let{verificationMethod:s}=a,c=l.get(n);try{r=await t.validate(n,{document:e,suite:c,verificationMethod:s,documentLoader:i,expansionMap:o})}catch(e){r={valid:!1,error:e}}a.purposeResult?Array.isArray(a.purposeResult)?a.purposeResult.push(r):a.purposeResult=[a.purposeResult,r]:a.purposeResult=r,r.valid||(d(r.error),a.error||(a.verified=!1,a.error=r.error))}})),[...u.values()]}function d(e){Object.defineProperty(e,"toJSON",{value:function(){return s(this)},configurable:!0,writable:!0})}async function f({purposeToProofs:e,proofToSuite:t,purpose:r,proofSet:n,suites:i,suiteMatchQueue:o,document:a,documentLoader:s,expansionMap:l}){for(let c of n){if(!await r.match(c,{document:a,documentLoader:s,expansionMap:l}))continue;let n=!1;for(let e of i){let r=o.get(e);r||o.set(e,r=new Map);let i=r.get(c);if(i||(i=e.matchProof({proof:c,document:a,documentLoader:s,expansionMap:l}),r.set(c,i)),await i){n=!0,t.set(c,e);break}}if(n){let t=e.get(r);t?t.push(c):e.set(r,[c])}}}e.exports=class{async add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:s}={}){if(!t)throw TypeError('"options.suite" is required.');if(!r)throw TypeError('"options.purpose" is required.');n=n?o(n):a,!1!==s&&(s=l);let c={...e};delete c.proof;let u=await t.createProof({document:c,purpose:r,documentLoader:n,expansionMap:s});return i.addValue(e,"proof",u),e}async verify(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}={}){if(!t)throw TypeError('"options.suite" is required.');if(!r)throw TypeError('"options.purpose" is required.');let s=Array.isArray(t)?t:[t];if(0===s.length)throw TypeError("At least one suite is required.");n=n?o(n):a,!1!==i&&(i=l);try{e={...e};let{proofSet:t,document:o}=await c({document:e,documentLoader:n,expansionMap:i});e=o;let a=await u({document:e,suites:s,proofSet:t,purpose:r,documentLoader:n,expansionMap:i});if(0===a.length){let e=Error("Did not verify any proofs; insufficient proofs matched the acceptable suite(s) and required purpose(s).");throw e.name="NotFoundError",e}let l=a.some(e=>e.verified);if(!l){let e=[].concat(...a.filter(e=>e.error).map(e=>e.error)),t={verified:l,results:a};return e.length>0&&(t.error=e),t}return{verified:l,results:a}}catch(e){return d(e),{verified:!1,error:e}}}}},87874:function(e){"use strict";/*!
 * Copyright (c) 2020 Digital Bazaar, Inc. All rights reserved.
 */class t extends Error{constructor(e){super("Verification error(s)."),this.name="VerificationError",this.errors=[].concat(e)}}e.exports=t},9503:function(e,t,r){"use strict";/*!
 * Copyright (c) 2017-2018 Digital Bazaar, Inc. All rights reserved.
 */let{constants:n}=r(37830);e.exports={SECURITY_CONTEXT_URL:n.SECURITY_CONTEXT_V2_URL,SECURITY_CONTEXT_V1_URL:n.SECURITY_CONTEXT_V1_URL,SECURITY_CONTEXT_V2_URL:n.SECURITY_CONTEXT_V2_URL,SECURITY_PROOF_URL:"https://w3id.org/security#proof",SECURITY_SIGNATURE_URL:"https://w3id.org/security#signature"}},55171:function(e,t,r){"use strict";let n=r(9503),{contexts:i}=r(37830);e.exports=new Map([[n.SECURITY_CONTEXT_V1_URL,i.get(n.SECURITY_CONTEXT_V1_URL)],[n.SECURITY_CONTEXT_V2_URL,i.get(n.SECURITY_CONTEXT_V2_URL)]])},52695:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018-2021 Digital Bazaar, Inc. All rights reserved.
 */let n=r(55171),i={};e.exports=i,i.extendContextLoader=e=>async t=>{let r=n.get(t);return void 0!==r?{contextUrl:null,documentUrl:t,document:r,tag:"static"}:e(t)},i.strictDocumentLoader=i.extendContextLoader(e=>{throw Error(`${e} not found.`)})},75256:function(e){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */e.exports=e=>{if(e.unmappedProperty)throw Error('The property "'+e.unmappedProperty+'" in the input was not defined in the context.')}},47680:function(e,t,r){"use strict";/*!
 * Copyright (c) 2010-2018 Digital Bazaar, Inc. All rights reserved.
 */let n={};e.exports=n;let i=r(9503);Object.assign(n,i);let o=r(51732),a=r(87874);n.sign=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i,addSuiteContext:a=!0}={}){if("object"!=typeof e)throw TypeError('The "document" parameter must be an object.');t.ensureSuiteContext({document:e,addSuiteContext:a});try{return await new o().add(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i})}catch(e){if(!n&&"jsonld.InvalidUrl"===e.name){let{details:{url:t}}=e,r=Error(`A URL "${t}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "sign".`);throw r.cause=e,r}throw e}},n.verify=async function(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}={}){if("object"!=typeof e)throw TypeError('The "document" parameter must be an object.');let s=await new o().verify(e,{suite:t,purpose:r,documentLoader:n,expansionMap:i}),{error:l}=s;if(l){if(n||"jsonld.InvalidUrl"!==l.name)s.error=new a(l);else{let{details:{url:e}}=l,t=Error(`A URL "${e}" could not be fetched; you need to pass "documentLoader" or resolve the URL before calling "verify".`);s.error=new a(t)}}return s},n.suites=r(52187).suites,n.purposes=r(38055).purposes,Object.assign(n,r(52695))},38055:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n={};e.exports=n,n.purposes={AssertionProofPurpose:r(69065),AuthenticationProofPurpose:r(82644),ControllerProofPurpose:r(18392),ProofPurpose:r(60751)}},69065:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n=r(18392);e.exports=class extends n{constructor({term:e="assertionMethod",controller:t,date:r,maxTimestampDelta:n=1/0}={}){super({term:e,controller:t,date:r,maxTimestampDelta:n})}}},82644:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n=r(18392);e.exports=class extends n{constructor({term:e="authentication",controller:t,challenge:r,date:n,domain:i,maxTimestampDelta:o=1/0}={}){if(super({term:e,controller:t,date:n,maxTimestampDelta:o}),"string"!=typeof r)throw TypeError('"challenge" must be a string.');if(void 0!==i&&"string"!=typeof i)throw TypeError('"domain" must be a string.');this.challenge=r,this.domain=i}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n}){try{if(e.challenge!==this.challenge)throw Error(`The challenge is not as expected; challenge="${e.challenge}", expected="${this.challenge}"`);if(void 0!==this.domain&&e.domain!==this.domain)throw Error(`The domain is not as expected; domain="${e.domain}", expected="${this.domain}"`);return super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:n})}catch(e){return{valid:!1,error:e}}}async update(e,{document:t,suite:r,documentLoader:n,expansionMap:i}){return(e=await super.update(e,{document:t,suite:r,documentLoader:n,expansionMap:i})).challenge=this.challenge,void 0!==this.domain&&(e.domain=this.domain),e}}},18392:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n=r(9503),i=r(2190),o=r(60751),a="https://www.w3.org/ns/did/v1",s=["assertionMethod","authentication","capabilityInvocation","capabilityDelegation","keyAgreement","verificationMethod"];e.exports=class extends o{constructor({term:e,controller:t,date:r,maxTimestampDelta:n=1/0}={}){if(super({term:e,date:r,maxTimestampDelta:n}),void 0!==t){if("object"!=typeof t)throw TypeError('"controller" must be an object.');this.controller=t}this._termDefinedByDIDContext=s.includes(e)}async validate(e,{verificationMethod:t,documentLoader:r,expansionMap:o}){try{let s=await super.validate(e,{verificationMethod:t,documentLoader:r,expansionMap:o});if(!s.valid)throw s.error;let{id:l}=t,{term:c,_termDefinedByDIDContext:u}=this;if(this.controller)s.controller=this.controller;else{let e;let{controller:o}=t;if(o){if("object"==typeof o)e=o.id;else if("string"!=typeof o)throw TypeError('"controller" must be a string representing a URL.');else e=o}let{document:d}=await r(e),f=!(u&&d["@context"]===a||Array.isArray(d["@context"])&&d["@context"][0]===a);f&&(d=await i.frame(d,{"@context":n.SECURITY_CONTEXT_URL,id:e,[c]:{"@embed":"@never",id:l}},{documentLoader:r,compactToRelative:!1})),s.controller=d}let d=i.getValues(s.controller,c);if(s.valid=d.some(e=>e===l||"object"==typeof e&&e.id===l),!s.valid)throw Error(`Verification method "${t.id}" not authorized by controller for proof purpose "${this.term}".`);return s}catch(e){return{valid:!1,error:e}}}}},60751:function(e){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */e.exports=class{constructor({term:e,date:t,maxTimestampDelta:r=1/0}={}){if(void 0===e)throw Error('"term" is required.');if(void 0!==r&&"number"!=typeof r)throw TypeError('"maxTimestampDelta" must be a number.');if(this.term=e,void 0!==t&&(this.date=new Date(t),isNaN(this.date)))throw TypeError(`"date" "${t}" is not a valid date.`);this.maxTimestampDelta=r}async validate(e,{}){try{if(this.maxTimestampDelta!==1/0){let t=(this.date||new Date).getTime(),r=1e3*this.maxTimestampDelta,n=new Date(e.created).getTime();if(!(n>=t-r&&n<=t+r))throw Error("The proof's created timestamp is out of range.")}return{valid:!0}}catch(e){return{valid:!1,error:e}}}async update(e,{}){return e.proofPurpose=this.term,e}async match(e,{}){return e.proofPurpose===this.term}}},97258:function(e){"use strict";let t=self&&(self.crypto||self.msCrypto);e.exports={async sha256digest({string:e}){let r=new TextEncoder().encode(e);return new Uint8Array(await t.subtle.digest("SHA-256",r))}}},52187:function(e,t,r){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */let n={};e.exports=n,n.suites={LinkedDataProof:r(3053),LinkedDataSignature:r(74549)}},3053:function(e){"use strict";/*!
 * Copyright (c) 2018 Digital Bazaar, Inc. All rights reserved.
 */e.exports=class{constructor({type:e}={}){if("string"!=typeof e)throw TypeError('A LinkedDataProof must have a "type".');this.type=e}async createProof({}){throw Error('"createProof" must be implemented in a derived class.')}async verifyProof({}){throw Error('"verifyProof" must be implemented in a derived class.')}async matchProof({proof:e}){return e.type===this.type}}},74549:function(e,t,r){"use strict";/*!
 * Copyright (c) 2017-2021 Digital Bazaar, Inc. All rights reserved.
 */let n=r(9503),i=r(2190),o=r(43693),{sha256digest:a}=r(97258),s=r(3053);e.exports=class extends s{constructor({type:e,proof:t,LDKeyClass:r,date:n,key:i,signer:o,verifier:a,useNativeCanonize:s,contextUrl:l}={}){super({type:e}),this.LDKeyClass=r,this.contextUrl=l,this.proof=t;let c=function({key:e,signer:t,verifier:r}){let n={};if(e){if(n.key=e,n.verificationMethod=e.id,"function"==typeof e.signer&&(n.signer=e.signer()),"function"==typeof e.verifier&&(n.verifier=e.verifier()),!(n.signer||n.verifier))throw TypeError('The "key" parameter must contain a "signer" or "verifier" method.')}else n.verificationMethod=t&&t.id||r&&r.id,n.signer=t,n.verifier=r;if(n.signer&&"function"!=typeof n.signer.sign)throw TypeError("A signer API has not been specified.");if(n.verifier&&"function"!=typeof n.verifier.verify)throw TypeError("A verifier API has not been specified.");return n}({key:i,signer:o,verifier:a});if(this.verificationMethod=c.verificationMethod,this.key=c.key,this.signer=c.signer,this.verifier=c.verifier,n&&(this.date=new Date(n),isNaN(this.date)))throw TypeError(`"date" "${n}" is not a valid date.`);this.useNativeCanonize=s,this._hashCache=null}async createProof({document:e,purpose:t,documentLoader:r,expansionMap:n}){let i;(i=this.proof?{...this.proof}:{}).type=this.type;let a=this.date;void 0===i.created&&void 0===a&&(a=new Date),a&&"string"!=typeof a&&(a=o.w3cDate(a)),a&&(i.created=a),i.verificationMethod=this.verificationMethod,i=await this.updateProof({document:e,proof:i,purpose:t,documentLoader:r,expansionMap:n}),i=await t.update(i,{document:e,suite:this,documentLoader:r,expansionMap:n});let s=await this.createVerifyData({document:e,proof:i,documentLoader:r,expansionMap:n});return await this.sign({verifyData:s,document:e,proof:i,documentLoader:r,expansionMap:n})}async updateProof({proof:e}){return e}async verifyProof({proof:e,document:t,documentLoader:r,expansionMap:n}){try{let i=await this.createVerifyData({document:t,proof:e,documentLoader:r,expansionMap:n}),o=await this.getVerificationMethod({proof:e,document:t,documentLoader:r,expansionMap:n}),a=await this.verifySignature({verifyData:i,verificationMethod:o,document:t,proof:e,documentLoader:r,expansionMap:n});if(!a)throw Error("Invalid signature.");return{verified:!0,verificationMethod:o}}catch(e){return{verified:!1,error:e}}}async canonize(e,{documentLoader:t,expansionMap:r,skipExpansion:n}){return i.canonize(e,{algorithm:"URDNA2015",format:"application/n-quads",documentLoader:t,expansionMap:r,skipExpansion:n,useNative:this.useNativeCanonize})}async canonizeProof(e,{document:t,documentLoader:r,expansionMap:i}){return e={"@context":t["@context"]||n.SECURITY_CONTEXT_URL,...e},delete e.jws,delete e.signatureValue,delete e.proofValue,this.canonize(e,{documentLoader:r,expansionMap:i,skipExpansion:!1})}async createVerifyData({document:e,proof:t,documentLoader:r,expansionMap:n}){let i;let{_hashCache:s}=this;s&&s.document===e?i=s.hash:this._hashCache={document:e,hash:i=this.canonize(e,{documentLoader:r,expansionMap:n}).then(e=>a({string:e}))};let[l,c]=await Promise.all([this.canonizeProof(t,{document:e,documentLoader:r,expansionMap:n}).then(e=>a({string:e})),i]);return o.concat(l,c)}async getVerificationMethod({proof:e,documentLoader:t}){let{verificationMethod:r}=e;if("object"==typeof r&&(r=r.id),!r)throw Error('No "verificationMethod" found in proof.');let o=await i.frame(r,{"@context":n.SECURITY_CONTEXT_URL,"@embed":"@always",id:r},{documentLoader:t,compactToRelative:!1});if(!o)throw Error(`Verification method ${r} not found.`);if(void 0!==o.revoked)throw Error("The verification method has been revoked.");return o}async sign(){throw Error("Must be implemented by a derived class.")}async verifySignature(){throw Error("Must be implemented by a derived class.")}ensureSuiteContext({document:e,addSuiteContext:t}){let{contextUrl:r}=this;if(function({document:e,contextUrl:t}){let r=e["@context"];return r===t||Array.isArray(r)&&r.includes(t)}({document:e,contextUrl:r}))return;if(!t)throw TypeError(`The document to be signed must contain this suite's @context, "${r}".`);let n=e["@context"]||[];e["@context"]=Array.isArray(n)?[...n,r]:[n,r]}}},43693:function(e){"use strict";let t={};e.exports=t,t.w3cDate=e=>{null==e?e=new Date:("number"==typeof e||"string"==typeof e)&&(e=new Date(e));let t=e.toISOString();return t.substr(0,t.length-5)+"Z"},t.concat=(e,t)=>{let r=new Uint8Array(e.length+t.length);return r.set(e,0),r.set(t,e.length),r}},31047:function(e,t,r){"use strict";let{isArray:n,isObject:i,isString:o}=r(33053),{asArray:a}=r(91127),{prependBase:s}=r(24264),l=r(5885),c=r(15858);e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:s,cycles:u=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);let d=[];for(let a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:r,base:s,cycles:u})),n(t)?d.push(...t):d.push(t);continue}if(null===a){d.push(new c({document:null}));continue}i(a)||function(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}(t);let f=JSON.stringify(a),p=this._get(f);p||(p=new c({document:a}),this._cacheResolvedContext({key:f,resolved:p,tag:"static"})),d.push(p)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){let r=this.sharedCache.get(e);r&&(t=r.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:a,cycles:l}){t=s(a,t);let{context:c,remoteDoc:u}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:l});!function e({context:t,base:r}){if(!t)return;let a=t["@context"];if(o(a)){t["@context"]=s(r,a);return}if(n(a)){for(let t=0;t<a.length;++t){let n=a[t];if(o(n)){a[t]=s(r,n);continue}i(n)&&e({context:{"@context":n},base:r})}return}if(i(a))for(let t in a)e({context:a[t],base:r})}({context:c,base:a=u.documentUrl||t});let d=await this.resolve({activeCtx:e,context:c,documentLoader:r,base:a,cycles:l});return this._cacheResolvedContext({key:t,resolved:d,tag:u.tag}),d}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:a}){let s,c;if(a.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});a.add(t);try{s=(c=await r(t)).document||null,o(s)&&(s=JSON.parse(s))}catch(e){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!i(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},5885:function(e){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},18105:function(e){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},50211:function(e,t,r){"use strict";e.exports=r(33512).NQuads},54312:function(e){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){let t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},15858:function(e,t,r){"use strict";let n=r(36134);e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},94171:function(e,t,r){"use strict";let n=r(5885),{isArray:i,isObject:o,isString:a,isUndefined:s}=r(33053),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:f}=r(84307),{expandIri:p,getContextValue:h,isKeyword:y,process:g,processingMode:v}=r(84024),{removeBase:m,prependBase:b}=r(24264),{addValue:_,asArray:w,compareShortestLeast:S}=r(91127),O={};function M(e,t,r){if("@nest"!==p(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=O,O.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:p={},compactionMap:m=()=>void 0})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=await O.compact({activeCtx:e,activeProperty:t,element:r[i],options:p,compactionMap:m});(null!==o||void 0!==(o=await m({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:p})))&&n.push(o)}if(p.compactArrays&&1===n.length){let r=h(e,t,"@container")||[];0===r.length&&(n=n[0])}return n}let b=h(e,t,"@context");if(s(b)||(e=await g({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:p})),o(r)){if(p.link&&"@id"in r&&p.link.hasOwnProperty(r["@id"])){let e=p.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||f(r)){let n=O.compactValue({activeCtx:e,activeProperty:t,value:r,options:p});return p.link&&f(r)&&(p.link.hasOwnProperty(r["@id"])||(p.link[r["@id"]]=[]),p.link[r["@id"]].push({expanded:r,compacted:n})),n}if(l(r)){let n=h(e,t,"@container")||[];if(n.includes("@list"))return O.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:p,compactionMap:m})}let b="@reverse"===t,S={},R=e;c(r)||f(r)||(e=e.revertToPreviousContext());let P=h(R,t,"@context");s(P)||(e=await g({activeCtx:e,localCtx:P,propagate:!0,overrideProtected:!0,options:p})),p.link&&"@id"in r&&(p.link.hasOwnProperty(r["@id"])||(p.link[r["@id"]]=[]),p.link[r["@id"]].push({expanded:r,compacted:S}));let E=r["@type"]||[];E.length>1&&(E=Array.from(E).sort());let I=e;for(let t of E){let r=O.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),n=h(R,r,"@context");s(n)||(e=await g({activeCtx:e,localCtx:n,options:p,propagate:!1}))}let x=Object.keys(r).sort();for(let s of x){let f=r[s];if("@id"===s){let t=w(f).map(t=>O.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:p.base}));1===t.length&&(t=t[0]);let r=O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});S[r]=t;continue}if("@type"===s){let t=w(f).map(e=>O.compactIri({activeCtx:R,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);let r=O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=h(e,r,"@container")||[],o=n.includes("@set")&&v(e,1.1),a=o||i(t)&&0===f.length;_(S,r,t,{propertyIsArray:a});continue}if("@reverse"===s){let t=await O.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:p,compactionMap:m});for(let r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){let n=t[r],i=h(e,r,"@container")||[],o=i.includes("@set")||!p.compactArrays;_(S,r,n,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){let r=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,r,t)}continue}if("@preserve"===s){let r=await O.compact({activeCtx:e,activeProperty:t,element:f,options:p,compactionMap:m});i(r)&&0===r.length||_(S,s,r);continue}if("@index"===s){let r=h(e,t,"@container")||[];if(r.includes("@index"))continue;let n=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,n,f);continue}if("@graph"!==s&&"@list"!==s&&"@included"!==s&&y(s)){let t=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,t,f);continue}if(!i(f))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){let t=O.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null,n=S;r&&(M(e,r,p),o(S[r])||(S[r]={}),n=S[r]),_(n,t,f,{propertyIsArray:!0})}for(let t of f){let r;let n=O.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),f=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null,y=S;f&&(M(e,f,p),o(S[f])||(S[f]={}),y=S[f]);let g=h(e,n,"@container")||[],v=u(t),R=l(t);R?r=t["@list"]:v&&(r=t["@graph"]);let P=await O.compact({activeCtx:e,activeProperty:n,element:R||v?r:t,options:p,compactionMap:m});if(R){if(i(P)||(P=[P]),g.includes("@list")){_(y,n,P,{valueIsArray:!0,allowDuplicate:!0});continue}P={[O.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:P},"@index"in t&&(P[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(v){if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&d(t))){let r;y.hasOwnProperty(n)?r=y[n]:y[n]=r={};let i=(g.includes("@id")?t["@id"]:t["@index"])||O.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});_(r,i,P,{propertyIsArray:!p.compactArrays||g.includes("@set")})}else g.includes("@graph")&&d(t)?i(P)&&P.length>1&&(P={"@included":P}):(i(P)&&1===P.length&&p.compactArrays&&(P=P[0]),P={[O.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:P},"@id"in t&&(P[O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(P[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])),_(y,n,P,{propertyIsArray:!p.compactArrays||g.includes("@set")})}else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,i;if(y.hasOwnProperty(n)?r=y[n]:y[n]=r={},g.includes("@language"))c(P)&&(P=P["@value"]),i=t["@language"];else if(g.includes("@index")){let r=h(e,n,"@index")||"@index",o=O.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete P[o];else{let e;if([i,...e]=w(P[r]||[]),a(i))switch(e.length){case 0:delete P[r];break;case 1:P[r]=e[0];break;default:P[r]=e}else i=null}}else if(g.includes("@id")){let t=O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=P[t],delete P[t]}else if(g.includes("@type")){let r;let o=O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});switch([i,...r]=w(P[o]||[]),r.length){case 0:delete P[o];break;case 1:P[o]=r[0];break;default:P[o]=r}1===Object.keys(P).length&&"@id"in t&&(P=await O.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:p,compactionMap:m}))}i||(i=O.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),_(r,i,P,{propertyIsArray:g.includes("@set")})}else{let e=!p.compactArrays||g.includes("@set")||g.includes("@list")||i(P)&&0===P.length||"@list"===s||"@graph"===s;_(y,n,P,{propertyIsArray:e})}}}return S}return r},O.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);let d=e.getInverse();if(y(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){let n=e["@language"]||"@none",i=[];o(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),u(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):o(r)&&!c(r)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",i.push("@set");else if(l(r)){"@index"in r||i.push("@list");let e=r["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){let i=e[n],o="@none",a="@none";if(c(i)){if("@direction"in i){let e=(i["@language"]||"").toLowerCase(),t=i["@direction"];o=`${e}_${t}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null"}else a="@id";if(null===t?t=o:o!==t&&c(i)&&(t="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none","@none"!==(r=r||"@none")?(s="@type",d=r):d=t}}else{if(c(r)){if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),d=r["@language"];let e=r["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in r&&!("@index"in r)?d=`_${r["@direction"]}`:"@type"in r&&(s="@type",d=r["@type"])}else s="@type",d="@id";i.push("@set")}i.push("@none"),!o(r)||"@index"in r||i.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");let f=function(e,t,r,n,i,a){null===a&&(a="@null");let s=[];if(("@id"===a||"@reverse"===a)&&o(r)&&"@id"in r){"@reverse"===a&&s.push("@reverse");let t=O.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);let e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");let l=e.inverse[t];for(let e of n){if(!(e in l))continue;let t=l[e][i];for(let e of s)if(e in t)return t[e]}return null}(e,t,r,i,s,d);if(null!==f)return f}if(i.vocab&&"@vocab"in e){let r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){let n=t.substr(r.length);if(!e.mappings.has(n))return n}}let f=null,p=[],h=e.fastCurieMap,g=t.length-1;for(let e=0;e<g&&(t[e]in h);++e)""in(h=h[t[e]])&&p.push(h[""][0]);for(let n=p.length-1;n>=0;--n){let i=p[n],o=i.terms;for(let n of o){let o=n+":"+t.substr(i.iri.length),a=e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t);a&&(null===f||0>S(o,f))&&(f=o)}}if(null!==f)return f;for(let[r,i]of e.mappings)if(i&&i._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!i.vocab){if(!("@base"in e))return m(s,t);if(e["@base"])return m(b(s,e["@base"]),t)}return t},O.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){let n=h(e,t,"@type"),i=h(e,t,"@language"),o=h(e,t,"@direction"),s=h(e,t,"@container")||[],l="@index"in r&&!s.includes("@index");if(!l&&"@none"!==n&&(r["@type"]===n||"@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o||"@language"in r&&r["@language"]===i||"@direction"in r&&r["@direction"]===o))return r["@value"];let c=Object.keys(r).length,u=1===c||2===c&&"@index"in r&&!l,d="@language"in e,f=a(r["@value"]),p=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==n&&(!d||!f||p))return r["@value"];let y={};return l&&(y[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?y[O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=O.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(y[O.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(y[O.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),y[O.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],y}let i=p(e,t,{vocab:!0},n),o=h(e,t,"@type"),s=O.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},32824:function(e){"use strict";let t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},84024:function(e,t,r){"use strict";let n=r(91127),i=r(5885),{isArray:o,isObject:a,isString:s,isUndefined:l}=r(33053),{isAbsolute:c,isRelative:u,prependBase:d}=r(24264),{asArray:f,compareShortestLeast:p}=r(91127),h=new Map,y=/^@[a-zA-Z]+$/,g={};function v(e,t,r,n,i,o){if(null===t||!s(t)||g.isKeyword(t))return t;if(t.match(y))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){let r=e.mappings.get(t);if(null===r)return null;if(a(r)&&"@id"in r)return r["@id"]}let l=t.indexOf(":");if(l>0){let r=t.substr(0,l),a=t.substr(l+1);if("_"===r||0===a.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:o});let s=e.mappings.get(r);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}let u=!1;if(void 0!==o&&void 0!==o.typeExpansion&&(u=o.typeExpansion),r.vocab&&"@vocab"in e){let r;let n=e["@vocab"]+t;o&&o.expansionMap&&(r=o.expansionMap({prependedIri:{type:"@vocab",vocab:e["@vocab"],value:t,result:n,typeExpansion:u},activeCtx:e,options:o})),t=void 0!==r?r:n}else if(r.base){let r,n,i;"@base"in e?e["@base"]?(i=d(o.base,e["@base"]),r=d(i,t)):(i=e["@base"],r=t):(i=o.base,r=d(o.base,t)),o&&o.expansionMap&&(n=o.expansionMap({prependedIri:{type:"@base",base:i,value:t,result:r,typeExpansion:u},activeCtx:e,options:o})),t=void 0!==n?n:r}if(!c(t)&&o&&o.expansionMap){let r=o.expansionMap({relativeIri:t,activeCtx:e,typeExpansion:u,options:o});void 0!==r&&(t=r)}return t}e.exports=g,g.process=async({activeCtx:e,localCtx:t,options:r,propagate:l=!0,overrideProtected:p=!1,cycles:h=new Set})=>{a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]);let y=f(t);if(0===y.length)return e;let m=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});a(m[0].document)&&"boolean"==typeof m[0].document["@propagate"]&&(l=m[0].document["@propagate"]);let b=e;for(let o of(l||b.previousContext||((b=b.clone()).previousContext=e),m)){let{document:l}=o;if(e=b,null===l){if(!p&&0!==Object.keys(e.protected).length){let a=r&&r.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");let t=o.getProcessed(e);if(t){b=e=t;continue}let i=e;for(let[t,o]of(b=e=g.getInitialContext(r).clone(),Object.entries(i.protected)))o&&(e.mappings[t]=n.clone(i.mappings[t]));e.protected=n.clone(i.protected),o.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:a})}b=e=g.getInitialContext(r).clone();continue}let f=o.getProcessed(e);if(f){b=e=f;continue}if(a(l)&&"@context"in l&&(l=l["@context"]),!a(l))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:l});b=b.clone();let y=new Map;if("@version"in l){if(1.1!==l["@version"])throw new i("Unsupported JSON-LD version: "+l["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:l});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+l["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:l});b.processingMode="json-ld-1.1",b["@version"]=l["@version"],y.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in l){let e=l["@base"];if(null===e||c(e));else if(u(e))e=d(b["@base"],e);else throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l});b["@base"]=e,y.set("@base",!0)}if("@vocab"in l){let e=l["@vocab"];if(null===e)delete b["@vocab"];else if(s(e)){if(!c(e)&&g.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});b["@vocab"]=v(b,e,{vocab:!0,base:!0},void 0,void 0,r)}else throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});y.set("@vocab",!0)}if("@language"in l){let e=l["@language"];if(null===e)delete b["@language"];else if(s(e))b["@language"]=e.toLowerCase();else throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:l});y.set("@language",!0)}if("@direction"in l){let t=l["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:l});if(null===t)delete b["@direction"];else if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:l});else b["@direction"]=t;y.set("@direction",!0)}if("@propagate"in l){let r=l["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if("boolean"!=typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in l){let n=l["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if(!s(n))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});let o=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});let a=o[0].getProcessed(e);if(a)l=a;else{let r=o[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(let e in r)l.hasOwnProperty(e)||(l[e]=r[e]);o[0].setProcessed(e,l)}y.set("@import",!0)}for(let e in y.set("@protected",l["@protected"]||!1),l)if(g.createTermDefinition({activeCtx:b,localCtx:l,term:e,defined:y,options:r,overrideProtected:p}),a(l[e])&&"@context"in l[e]){let t=l[e]["@context"],n=!0;if(s(t)){let e=d(r.base,t);h.has(e)?n=!1:h.add(e)}if(n)try{await g.process({activeCtx:b.clone(),localCtx:l[e]["@context"],overrideProtected:!0,options:r,cycles:h})}catch(t){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:l[e]["@context"],term:e})}}o.setProcessed(e,b)}return b},g.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:l,overrideProtected:u=!1})=>{let d;if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),t.hasOwnProperty(r)&&(d=t[r]),"@type"===r&&a(d)&&"@set"===(d["@container"]||"@set")&&g.processingMode(e,1.1)){let e=["@container","@id","@protected"],n=Object.keys(d);if(0===n.length||n.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else if(g.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});else if(r.match(y)){console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});return}else if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let f=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let p=!1;if((s(d)||null===d)&&(p=!0,d={"@id":d}),!a(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let h={};e.mappings.set(r,h),h.reverse=!1;let m=["@container","@id","@language","@reverse","@type"];for(let r in g.processingMode(e,1.1)&&m.push("@context","@direction","@index","@nest","@prefix","@protected"),d)if(!m.includes(r))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+r,"jsonld.SyntaxError",{code:"invalid term definition",context:t});let b=r.indexOf(":");if(h._termHasColon=b>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});let o=d["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!g.isKeyword(o)&&o.match(y)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),f?e.mappings.set(r,f):e.mappings.delete(r);return}let a=v(e,o,{vocab:!0,base:!1},t,n,l);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=a,h.reverse=!0}else if("@id"in d){let o=d["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)h["@id"]=null;else if(!g.isKeyword(o)&&o.match(y)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),f?e.mappings.set(r,f):e.mappings.delete(r);return}else if(o!==r){if(!c(o=v(e,o,{vocab:!0,base:!1},t,n,l))&&!g.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){let a=new Map(n).set(r,!0),s=v(e,r,{vocab:!0,base:!1},t,a,l);if(s!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}h["@id"]=o,h._prefix=p&&!h._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in h)){if(h._termHasColon){let i=r.substr(0,b);if(t.hasOwnProperty(i)&&g.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:n,options:l}),e.mappings.has(i)){let t=r.substr(b+1);h["@id"]=e.mappings.get(i)["@id"]+t}else h["@id"]=r}else if("@type"===r)h["@id"]=r;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});h["@id"]=e["@vocab"]+r}}if((!0===d["@protected"]||!0===n.get("@protected")&&!1!==d["@protected"])&&(e.protected[r]=!0,h.protected=!0),n.set(r,!0),"@type"in d){let r=d["@type"];if(!s(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(g.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(!c(r=v(e,r,{vocab:!0,base:!1},t,n,l)))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=r}if("@container"in d){let r=s(d["@container"])?[d["@container"]]:d["@container"]||[],n=["@list","@set","@index","@language"],a=!0,l=r.includes("@set");if(g.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=r.length<=(l?2:1);if(r.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(d["@container"]),a&=r.length<=1;if(a&=r.every(e=>n.includes(e)),!(a&=!(l&&r.includes("@list"))))throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=r}if("@index"in d){if(!("@container"in d)||!h["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});h["@index"]=d["@index"]}if("@context"in d&&(h["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in d){if(r.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(g.isKeyword(h["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"==typeof d["@prefix"])h._prefix=!0===d["@prefix"];else throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in d){let e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});h["@direction"]=e}if("@nest"in d){let e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}// disallow aliasing @context and @preserve
let _=h["@id"];if("@context"===_||"@preserve"===_)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!u&&(e.protected[r]=!0,h.protected=!0,!function e(t,r){if(!(t&&"object"==typeof t)||!(r&&"object"==typeof r))return t===r;let n=Array.isArray(t);if(n!==Array.isArray(r))return!1;if(n){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}let i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(let n in t){let i=t[n],o=r[n];if("@container"===n&&Array.isArray(i)&&Array.isArray(o)&&(i=i.slice().sort(),o=o.slice().sort()),!e(i,o))return!1}return!0}(f,h))){let e=l&&l.protectedMode||"error";if("error"===e)throw new i(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e){console.warn("WARNING: protected term redefinition",{term:r});return}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},g.expandIri=(e,t,r,n)=>v(e,t,r,void 0,void 0,n),g.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),r=h.get(t);if(r)return r;let i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;let e=this.inverse={},t=this.fastCurieMap={},r={},n=(this["@language"]||"@none").toLowerCase(),i=this["@direction"],a=this.mappings,s=[...a.keys()].sort(p);for(let l of s){let s=a.get(l);if(null===s)continue;let c=s["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===s["@id"])continue;let u=f(s["@id"]);for(let a of u){let u=e[a],d=g.isKeyword(a);if(u)d||s._termHasColon||r[a].push(l);else if(e[a]=u={},!d&&!s._termHasColon){r[a]=[l];let e={iri:a,terms:r[a]};a[0]in t?t[a[0]].push(e):t[a[0]]=[e]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),o(l,(u=u[c])["@any"],"@none"),s.reverse)o(l,u["@type"],"@reverse");else if("@none"===s["@type"])o(l,u["@any"],"@none"),o(l,u["@language"],"@none"),o(l,u["@type"],"@none");else if("@type"in s)o(l,u["@type"],s["@type"]);else if("@language"in s&&"@direction"in s){let e=s["@language"],t=s["@direction"];e&&t?o(l,u["@language"],`${e}_${t}`.toLowerCase()):e?o(l,u["@language"],e.toLowerCase()):t?o(l,u["@language"],`_${t}`):o(l,u["@language"],"@null")}else"@language"in s?o(l,u["@language"],(s["@language"]||"@null").toLowerCase()):"@direction"in s?s["@direction"]?o(l,u["@language"],`_${s["@direction"]}`):o(l,u["@language"],"@none"):(i?o(l,u["@language"],`_${i}`):o(l,u["@language"],n),o(l,u["@language"],"@none"),o(l,u["@type"],"@none"))}}for(let e in t)(function e(t,r,n){let i,o;let a=t[r],s=t[r]={};for(let e of a)(o=n>=(i=e.iri).length?"":i[n])in s?s[o].push(e):s[o]=[e];for(let t in s)""!==t&&e(s,t,n+1)})(t,e,1);return e},clone:function(){let e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===h.size&&h.clear(),h.set(t,i),i;function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},g.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){let n=e.mappings.get(t);if(l(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},g.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,g.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},72886:function(e,t,r){"use strict";let{parseLinkHeader:n,buildHeaders:i}=r(91127),{LINK_HEADER_CONTEXT:o}=r(32824),a=r(5885),s=r(54312),{prependBase:l}=r(24264),c=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>{t=i(t);let u=new s;return u.wrapLoader(d);async function d(i){let s,u;if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});try{s=await function(e,t,r){e=e||XMLHttpRequest;let n=new e;return new Promise((e,i)=>{for(let o in n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0),r)n.setRequestHeader(o,r[o]);n.send()})}(r,i,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let f={contextUrl:null,documentUrl:i,document:s.response},p=null,h=s.getResponseHeader("Content-Type");if(c.test(s.getAllResponseHeaders())&&(u=s.getResponseHeader("Link")),u&&"application/ld+json"!==h){let e=n(u),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(f.contextUrl=t.target),(p=e.alternate)&&"application/ld+json"==p.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(f=await d(l(i,p.target)))}return f}}},55169:function(e,t,r){"use strict";let n=r(5885),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:l}=r(33053),{isList:c,isValue:u,isGraph:d,isSubject:f}=r(84307),{expandIri:p,getContextValue:h,isKeyword:y,process:g,processingMode:v}=r(84024),{isAbsolute:m}=r(24264),{addValue:b,asArray:_,getValues:w,validateTypeValue:S}=r(91127),O={};e.exports=O;let M=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function R({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:d,expandedParent:w,options:P={},insideList:I,typeKey:x,typeScopedContext:A,expansionMap:C}){let j;let T=Object.keys(d).sort(),$=[];P={...P,expansionMap:C};let D=d[x]&&"@json"===p(e,i(d[x])?d[x][0]:d[x],{vocab:!0},{...P,typeExpansion:!0});for(let R of T){let x,T=d[R];if("@context"===R)continue;let N=p(e,R,{vocab:!0},P);if((null===N||!(m(N)||y(N)))&&void 0===(N=C({unmappedProperty:R,activeCtx:e,activeProperty:t,parent:d,options:P,insideList:I,value:T,expandedParent:w})))continue;if(y(N)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:T});if(N in w&&"@included"!==N&&"@type"!==N)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:N})}if("@id"===N){if(!s(T)){if(!P.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(o(T)){if(!a(T))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else if(i(T)){if(!T.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}b(w,"@id",_(T).map(t=>s(t)?p(e,t,{base:!0},P):t),{propertyIsArray:P.isFrame});continue}if("@type"===N){o(T)&&(T=Object.fromEntries(Object.entries(T).map(([e,t])=>[p(A,e,{vocab:!0}),_(t).map(e=>p(A,e,{base:!0,vocab:!0},{...P,typeExpansion:!0}))]))),S(T,P.isFrame),b(w,"@type",_(T).map(e=>s(e)?p(A,e,{base:!0,vocab:!0},{...P,typeExpansion:!0}):e),{propertyIsArray:P.isFrame});continue}if("@included"===N&&v(e,1.1)){let r=_(await O.expand({activeCtx:e,activeProperty:t,element:T,options:P,expansionMap:C}));if(!r.every(e=>f(e)))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:T});b(w,"@included",r,{propertyIsArray:!0});continue}if("@graph"===N&&!(o(T)||i(T)))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:T});if("@value"===N){j=T,D&&v(e,1.1)?w["@value"]=T:b(w,"@value",T,{propertyIsArray:P.isFrame});continue}if("@language"===N){if(null===T)continue;if(!s(T)&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:T});for(let e of T=_(T).map(e=>s(e)?e.toLowerCase():e))s(e)&&!e.match(M)&&console.warn(`@language must be valid BCP47: ${e}`);b(w,"@language",T,{propertyIsArray:P.isFrame});continue}if("@direction"===N){if(!s(T)&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:T});for(let e of T=_(T))if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:T});b(w,"@direction",T,{propertyIsArray:P.isFrame});continue}if("@index"===N){if(!s(T))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:T});b(w,"@index",T);continue}if("@reverse"===N){if(!o(T))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:T});if("@reverse"in(x=await O.expand({activeCtx:e,activeProperty:"@reverse",element:T,options:P,expansionMap:C})))for(let e in x["@reverse"])b(w,e,x["@reverse"][e],{propertyIsArray:!0});let t=w["@reverse"]||null;for(let e in x){if("@reverse"===e)continue;null===t&&(t=w["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});let r=x[e];for(let i=0;i<r.length;++i){let o=r[i];if(u(o)||c(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});b(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===N){$.push(R);continue}let k=e,B=h(e,R,"@context");l(B)||(k=await g({activeCtx:e,localCtx:B,propagate:!0,overrideProtected:!0,options:P}));let F=h(k,R,"@container")||[];if(F.includes("@language")&&o(T)){let e=h(k,R,"@direction");x=function(e,t,r,o){let a=[],l=Object.keys(t).sort();for(let c of l){let l=p(e,c,{vocab:!0},o),u=t[c];for(let e of(i(u)||(u=[u]),u)){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let i={"@value":e};"@none"!==l&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),a.push(i)}}return a}(k,T,e,P)}else if(F.includes("@index")&&o(T)){let t=F.includes("@graph"),r=h(k,R,"@index")||"@index",n="@index"!==r&&p(e,r,{vocab:!0},P);x=await E({activeCtx:k,options:P,activeProperty:R,value:T,expansionMap:C,asGraph:t,indexKey:r,propertyIndex:n})}else if(F.includes("@id")&&o(T)){let e=F.includes("@graph");x=await E({activeCtx:k,options:P,activeProperty:R,value:T,expansionMap:C,asGraph:e,indexKey:"@id"})}else if(F.includes("@type")&&o(T))x=await E({activeCtx:k.revertToPreviousContext(),options:P,activeProperty:R,value:T,expansionMap:C,asGraph:!1,indexKey:"@type"});else{let n="@list"===N;if(n||"@set"===N){let e=t;n&&"@graph"===r&&(e=null),x=await O.expand({activeCtx:k,activeProperty:e,element:T,options:P,insideList:n,expansionMap:C})}else x="@json"===h(e,R,"@type")?{"@type":"@json","@value":T}:await O.expand({activeCtx:k,activeProperty:R,element:T,options:P,insideList:!1,expansionMap:C})}if(null!==x||"@value"===N||void 0!==(x=C({unmappedValue:T,expandedProperty:N,activeCtx:k,activeProperty:t,parent:d,options:P,insideList:I,key:R,expandedParent:w}))){if("@list"!==N&&!c(x)&&F.includes("@list")&&(x={"@list":_(x)}),F.includes("@graph")&&!F.some(e=>"@id"===e||"@index"===e)&&(x=_(x).map(e=>({"@graph":_(e)}))),k.mappings.has(R)&&k.mappings.get(R).reverse){let e=w["@reverse"]=w["@reverse"]||{};x=_(x);for(let t=0;t<x.length;++t){let r=x[t];if(u(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});b(e,N,r,{propertyIsArray:!0})}continue}b(w,N,x,{propertyIsArray:!0})}}if("@value"in w){if("@json"===w["@type"]&&v(e,1.1));else if((o(j)||i(j))&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:j})}for(let a of $){let s=i(d[a])?d[a]:[d[a]];for(let i of s){if(!o(i)||Object.keys(i).some(t=>"@value"===p(e,t,{vocab:!0},P)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await R({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:i,expandedParent:w,options:P,insideList:I,typeScopedContext:A,typeKey:x,expansionMap:C})}}}function P({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;let i=p(e,t,{vocab:!0},n);if("@id"===i)return p(e,r,{base:!0},n);if("@type"===i)return p(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});let o=h(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(r))return{"@id":p(e,r,{base:!0},n)};if("@vocab"===o&&s(r))return{"@id":p(e,r,{vocab:!0,base:!0},n)};if(y(i))return r;let a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(r)){let r=h(e,t,"@language");null!==r&&(a["@language"]=r);let n=h(e,t,"@direction");null!==n&&(a["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}async function E({activeCtx:e,options:t,activeProperty:r,value:o,expansionMap:a,asGraph:s,indexKey:c,propertyIndex:f}){let y=[],v=Object.keys(o).sort(),m="@type"===c;for(let _ of v){let v;if(m){let r=h(e,_,"@context");l(r)||(e=await g({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let w=o[_];for(let o of(i(w)||(w=[w]),w=await O.expand({activeCtx:e,activeProperty:r,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),v=f?"@none"===_?"@none":P({activeCtx:e,activeProperty:c,value:_,options:t}):p(e,_,{vocab:!0},t),"@id"===c?_=p(e,_,{base:!0},t):m&&(_=v),w)){if(s&&!d(o)&&(o={"@graph":[o]}),"@type"===c)"@none"===v||(o["@type"]?o["@type"]=[_].concat(o["@type"]):o["@type"]=[_]);else if(u(o)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:o});else f?"@none"!==v&&b(o,f,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||c in o||(o[c]=_);y.push(o)}}return y}O.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:c={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:y=()=>void 0})=>{if(c={...c,expansionMap:y},null==r)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!i(r)&&!o(r)){if(!u&&(null===t||"@graph"===p(e,t,{vocab:!0},c))){let n=await y({unmappedValue:r,activeCtx:e,activeProperty:t,options:c,insideList:u});return void 0===n?null:n}return P({activeCtx:e,activeProperty:t,value:r,options:c})}if(i(r)){let n=[],o=h(e,t,"@container")||[];u=u||o.includes("@list");for(let o=0;o<r.length;++o){let a=await O.expand({activeCtx:e,activeProperty:t,element:r[o],options:c,expansionMap:y,insideIndex:d,typeScopedContext:f});u&&i(a)&&(a={"@list":a}),(null!==a||void 0!==(a=await y({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:c,expandedParent:n,insideList:u})))&&(i(a)?n=n.concat(a):n.push(a))}return n}let b=p(e,t,{vocab:!0},c),S=h(e,t,"@context");f=f||(e.previousContext?e:null);let M=Object.keys(r).sort(),E=!d;if(E&&f&&M.length<=2&&!M.includes("@context"))for(let t of M){let r=p(f,t,{vocab:!0},c);if("@value"===r){E=!1,e=f;break}if("@id"===r&&1===M.length){E=!1;break}}E&&(e=e.revertToPreviousContext()),l(S)||(e=await g({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:c})),"@context"in r&&(e=await g({activeCtx:e,localCtx:r["@context"],options:c})),f=e;let I=null;for(let t of M){let n=p(e,t,{vocab:!0},c);if("@type"===n){I=I||t;let n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(let t of i){let r=h(f,t,"@context");l(r)||(e=await g({activeCtx:e,localCtx:r,options:c,propagate:!1}))}}}let x={};await R({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:r,expandedParent:x,options:c,insideList:u,typeKey:I,typeScopedContext:f,expansionMap:y});let A=(M=Object.keys(x)).length;if("@value"in x){if("@type"in x&&("@language"in x||"@direction"in x))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:x});let i=A-1;if("@type"in x&&(i-=1),"@index"in x&&(i-=1),"@language"in x&&(i-=1),"@direction"in x&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:x});let o=null===x["@value"]?[]:_(x["@value"]),l=w(x,"@type");if(v(e,1.1)&&l.includes("@json")&&1===l.length);else if(0===o.length){let n=await y({unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}else if(!o.every(e=>s(e)||a(e))&&"@language"in x)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:x});else if(!l.every(e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:x})}else if("@type"in x&&!i(x["@type"]))x["@type"]=[x["@type"]];else if("@set"in x||"@list"in x){if(A>1&&!(2===A&&"@index"in x))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:x});"@set"in x&&(A=(M=Object.keys(x=x["@set"])).length)}else if(1===A&&"@language"in x){let n=await y(x,{unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}if(o(x)&&!c.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===b)&&(0===A||"@value"in x||"@list"in x||1===A&&"@id"in x)){let n=await y({unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}return x}},29437:function(e,t,r){"use strict";let{isSubjectReference:n}=r(84307),{createMergedNodeMap:i}=r(53082),o={};e.exports=o,o.flatten=e=>{let t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){let i=t[o[e]];n(i)||r.push(i)}return r}},87127:function(e,t,r){"use strict";let{isKeyword:n}=r(84024),i=r(84307),o=r(33053),a=r(91127),s=r(24264),l=r(5885),{createNodeMap:c,mergeNodeMapGraphs:u}=r(53082),d={};function f(e){let t={};for(let r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function p(e,t,r){let n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r){if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function h(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of a.asArray(e[0]["@id"]))if(!(o.isObject(t)||s.isAbsolute(t))||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of a.asArray(e[0]["@type"]))if(!(o.isObject(t)||s.isAbsolute(t))||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function y(e,t,r,s){let l=!0,c=!1;for(let u in r){let d=!1,f=a.getValues(t,u),p=0===a.getValues(r,u).length;if("@id"===u){if(o.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(f[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,p){if(f.length>0)return!1;d=!0}else if(1===r["@type"].length&&o.isEmptyObject(r["@type"][0]))d=f.length>0;else for(let e of r["@type"])d=!!o.isObject(e)&&"@default"in e||d||f.some(t=>t===e);if(!s.requireAll)return d}else{if(n(u))continue;let t=a.getValues(r,u)[0],c=!1;if(t&&(h([t]),c="@default"in t),l=!1,0===f.length&&c)continue;if(f.length>0&&p)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){let r=t["@list"][0];if(i.isList(f[0])){let t=f[0]["@list"];i.isValue(r)?d=t.some(e=>m(r,e)):(i.isSubject(r)||i.isSubjectReference(r))&&(d=t.some(t=>v(e,r,t,s)))}}else d=i.isValue(t)?f.some(e=>m(t,e)):i.isSubjectReference(t)?f.some(r=>v(e,t,r,s)):!!o.isObject(t)&&f.length>0}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function g(e,t,r){o.isObject(e)?a.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function v(e,t,r,n){if(!("@id"in r))return!1;let i=e.subjects[r["@id"]];return i&&y(e,i,t,n)}function m(e,t){let r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!!((a.includes(r)||o.isEmptyObject(a[0]))&&(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&(!i&&0===l.length||l.includes(i)||i&&o.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,r)=>{let n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new a.IdentifierIssuer("_:b");c(e,n.graphMap,"@default",s),r.merged&&(n.graphMap["@merged"]=u(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];let l=[];return d.frame(n,Object.keys(n.subjects).sort(),t,l),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),// remove @preserve from results
r.link={},/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function e(t,r){if(o.isArray(t))return t.map(t=>e(t,r));if(o.isObject(t)){// remove @preserve
if("@preserve"in t)return t["@preserve"][0];if(i.isValue(t))return t;if(i.isList(t))return t["@list"]=e(t["@list"],r),t;if("@id"in t){let e=t["@id"];if(r.link.hasOwnProperty(e)){let n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}for(let n in t){if("@id"===n&&r.bnodesToClear.includes(t[n])){delete t["@id"];continue}t[n]=e(t[n],r)}}return t}(l,r)},d.frame=(e,t,r,s,c=null)=>{h(r),r=r[0];let u=e.options,v={embed:p(r,u,"embed"),explicit:p(r,u,"explicit"),requireAll:p(r,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let b=e.link[e.graph],_=function(e,t,r,n){let i={};for(let o of t){let t=e.graphMap[e.graph][o];y(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,v),w=Object.keys(_).sort();for(let h of w){let y=_[h];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&h in b){g(s,c,b[h]);continue}let w={"@id":h};if(0===h.indexOf("_:")&&a.addValue(e.bnodeMap,h,w,{propertyIsArray:!0}),b[h]=w,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(h))){if(e.embedded&&("@never"===v.embed||function(e,t,r){for(let n=r.length-1;n>=0;--n){let i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}(y,e.graph,e.subjectStack))||e.embedded&&("@first"==v.embed||"@once"==v.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(h)){g(s,c,w);continue}if("@last"===v.embed&&h in e.uniqueEmbeds[e.graph]&&function(e,t){let r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,l={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],l)){i[e]=l;break}}else{let e=o.isArray(i[s]);a.removeValue(i,s,l,{propertyIsArray:e}),a.addValue(i,s,l,{propertyIsArray:e})}let c=e=>{let t=Object.keys(r);for(let n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}(e,h),e.uniqueEmbeds[e.graph][h]={parent:s,property:c},e.subjectStack.push({subject:y,graph:e.graph}),h in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===h||"@default"===h),o.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&d.frame({...e,graph:h,embedded:!1},Object.keys(e.graphMap[h]).sort(),[n],w,"@graph")}for(let o of("@included"in r&&d.frame({...e,embedded:!1},t,r["@included"],w,"@included"),Object.keys(y).sort())){if(n(o)){if(w[o]=a.clone(y[o]),"@type"===o)for(let t of y["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,w,{propertyIsArray:!0});continue}if(!v.explicit||o in r)for(let t of y[o]){let n=o in r?r[o]:f(v);if(i.isList(t)){let n=r[o]&&r[o][0]&&r[o][0]["@list"]?r[o][0]["@list"]:f(v),s={"@list":[]};g(w,o,s);let l=t["@list"];for(let t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],n,s,"@list"):g(s,"@list",a.clone(t))}else i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],n,w,o):m(n[0],t)&&g(w,o,a.clone(t))}}for(let e of Object.keys(r).sort()){if("@type"===e){if(!o.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;let t=r[e][0]||{},i=p(t,u,"omitDefault");if(!i&&!(e in w)){let r="@null";"@default"in t&&(r=a.clone(t["@default"])),o.isArray(r)||(r=[r]),w[e]=[{"@preserve":r}]}}for(let t of Object.keys(r["@reverse"]||{}).sort()){let n=r["@reverse"][t];for(let r of Object.keys(e.subjects)){let i=a.getValues(e.subjects[r],t);i.some(e=>e["@id"]===h)&&(w["@reverse"]=w["@reverse"]||{},a.addValue(w["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[r],n,w["@reverse"][t],c))}}g(s,c,w),e.subjectStack.pop()}}},d.cleanupNull=(e,t)=>{if(o.isArray(e)){let r=e.map(e=>d.cleanupNull(e,t));return r.filter(e=>e)}if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){let r=e["@id"];if(t.link.hasOwnProperty(r)){let n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(let r in e)e[r]=d.cleanupNull(e[r],t)}return e}},46391:function(e,t,r){"use strict";let n=r(5885),i=r(84307),o=r(33053),a=r(91127),{RDF_LIST:s,RDF_FIRST:l,RDF_REST:c,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:f,XSD_BOOLEAN:p,XSD_DOUBLE:h,XSD_INTEGER:y,XSD_STRING:g}=r(32824),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:m=null})=>{let b={},_={"@default":b},w={};for(let i of e){let e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in _||(_[e]={}),"@default"===e||e in b||(b[e]={"@id":e});let s=_[e],l=i.subject.value,c=i.predicate.value,S=i.object;l in s||(s[l]={"@id":l});let O=s[l],M=S.termType.endsWith("Node");if(!M||S.value in s||(s[S.value]={"@id":S.value}),c===d&&!t&&M){a.addValue(O,"@type",S.value,{propertyIsArray:!0});continue}let R=function(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};let i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let a=e.datatype.value;if(a||(a=g),a===f){a="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:e})}}if(t){if(a===p)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"])){if(a===y){let e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else a===h&&(i["@value"]=parseFloat(i["@value"]))}[p,y,h,g].includes(a)||(i["@type"]=a)}else if("i18n-datatype"===r&&a.startsWith("https://www.w3.org/ns/i18n#")){let[,e,t]=a.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn(`@language must be valid BCP47: ${e}`)),i["@direction"]=t}else a!==g&&(i["@type"]=a)}return i}(S,r,m);if(a.addValue(O,c,R,{propertyIsArray:!0}),M){if(S.value===u){let e=s[S.value];"usages"in e||(e.usages=[]),e.usages.push({node:O,property:c,value:R})}else S.value in w?w[S.value]=!1:w[S.value]={node:O,property:c,value:R}}}for(let e in _){let t=_[e];if(!(u in t))continue;let r=t[u];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,a=e.value,u=[],d=[],f=Object.keys(r).length;for(;n===c&&o.isObject(w[r["@id"]])&&o.isArray(r[l])&&1===r[l].length&&o.isArray(r[c])&&1===r[c].length&&(3===f||4===f&&o.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===s)&&(u.push(r[l][0]),d.push(r["@id"]),r=(e=w[r["@id"]]).node,n=e.property,a=e.value,f=Object.keys(r).length,i.isBlankNode(r)););for(let e of(delete a["@id"],a["@list"]=u.reverse(),d))delete t[e]}delete r.usages}}let S=[],O=Object.keys(b).sort();for(let e of O){let t=b[e];if(e in _){let r=t["@graph"]=[],n=_[e],o=Object.keys(n).sort();for(let e of o){let t=n[e];i.isSubjectReference(t)||r.push(t)}}i.isSubjectReference(t)||S.push(t)}return S}},84307:function(e,t,r){"use strict";let n=r(33053),i={};e.exports=i,i.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){let t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},i.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>n.isObject(e)&&"@value"in e,i.isList=e=>n.isObject(e)&&"@list"in e,i.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},2190:function(e,t,r){/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let n=r(33512),i=r(95078),o=r(91127),a=r(31047),s=o.IdentifierIssuer,l=r(5885),c=r(36134),u=r(50211),{expand:d}=r(55169),{flatten:f}=r(29437),{fromRDF:p}=r(46391),{toRDF:h}=r(56217),{frameMergedOrDefault:y,cleanupNull:g}=r(87127),{isArray:v,isObject:m,isString:b}=r(33053),{isSubjectReference:_}=r(84307),{expandIri:w,getInitialContext:S,process:O,processingMode:M}=r(84024),{compact:R,compactIri:P}=r(94171),{createNodeMap:E,createMergedNodeMap:I,mergeNodeMaps:x}=r(53082),A=function(e){let t={},A=new c({max:100});function C(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){let i;if(arguments.length<2)throw TypeError("Could not compact, too few arguments.");if(null===r)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;A=new c({max:100}),(n=C(n,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:A})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);let u=await e.processContext(S(n),r,n),d=await R({activeCtx:u,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&v(d)?1===d.length?d=d[0]:0===d.length&&(d={}):n.graph&&m(d)&&(d=[d]),m(r)&&"@context"in r&&(r=r["@context"]),v(r=o.clone(r))||(r=[r]);let f=r;r=[];for(let e=0;e<f.length;++e)(!m(f[e])||Object.keys(f[e]).length>0)&&r.push(f[e]);let p=r.length>0;if(1===r.length&&(r=r[0]),v(d)){let e=P({activeCtx:u,iri:"@graph",relativeTo:{vocab:!0}}),t=d;d={},p&&(d["@context"]=r),d[e]=t}else if(m(d)&&p){let e=d;for(let t in d={"@context":r},e)d[t]=e[t]}return d},e.expand=async function(t,r){let n;if(arguments.length<1)throw TypeError("Could not expand, too few arguments.");!1===(r=C(r,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:A=new c({max:100})})})).expansionMap&&(r.expansionMap=void 0);let i={},s=[];if("expandContext"in r){let e=o.clone(r.expandContext);m(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},s.push(i.expandContext)}if(b(t)){let o=await e.get(t,r);n=o.documentUrl,i.input=o.document,o.contextUrl&&(i.remoteContext={"@context":o.contextUrl},s.push(i.remoteContext))}else i.input=o.clone(t);"base"in r||(r.base=n||"");let l=S(r);for(let e of s)l=await O({activeCtx:l,localCtx:e,options:r});let u=await d({activeCtx:l,element:i.input,options:r,expansionMap:r.expansionMap});return m(u)&&"@graph"in u&&1===Object.keys(u).length?u=u["@graph"]:null===u&&(u=[]),v(u)||(u=[u]),u},e.flatten=async function(t,r,n){if(arguments.length<1)return TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,A=new c({max:100}),n=C(n,{base:b(t)?t:"",contextResolver:new a({sharedCache:A})});let i=await e.expand(t,n),o=f(i);if(null===r)return o;n.graph=!0,n.skipExpansion=!0;let s=await e.compact(o,r,n);return s},e.frame=async function(t,r,n){if(arguments.length<2)throw TypeError("Could not frame, too few arguments.");if(A=new c({max:100}),n=C(n,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:A})}),b(r)){let t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}let i=r&&r["@context"]||{},o=await e.processContext(S(n),i,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=M(o,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=M(o,1.1));let s=await e.expand(t,n),l={...n};l.isFrame=!0,l.keepFreeFloatingNodes=!0;let u=await e.expand(r,l),d=Object.keys(r).map(e=>w(o,e,{vocab:!0}));l.merged=!d.includes("@graph"),l.is11=M(o,1.1);let f=y(s,u,l);l.graph=!n.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let p=await e.compact(f,i,l);return l.link={},p=g(p,l)},e.link=async function(t,r,n){let i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw TypeError("Could not canonize, too few arguments.");if(A=new c({max:100}),"inputFormat"in(r=C(r,{base:b(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:A})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");let e=u.parse(t);return n.canonize(e,r)}let i={...r};delete i.format,i.produceGeneralizedRdf=!1;let o=await e.toRDF(t,i);return n.canonize(o,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw TypeError("Could not convert from RDF, too few arguments.");r=C(r,{format:b(e)?"application/n-quads":void 0});let{format:n}=r,{rdfParser:i}=r;if(n){if(!(i=i||t[n]))throw new l("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=()=>e;let o=await i(e);return p(o,r)},e.toRDF=async function(t,r){let n;if(arguments.length<1)throw TypeError("Could not convert to RDF, too few arguments.");A=new c({max:100}),n=(r=C(r,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:A})})).skipExpansion?t:await e.expand(t,r);let i=h(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},e.createNodeMap=async function(t,r){if(arguments.length<1)throw TypeError("Could not create node map, too few arguments.");A=new c({max:100}),r=C(r,{base:b(t)?t:"",contextResolver:new a({sharedCache:A})});let n=await e.expand(t,r);return I(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw TypeError("Could not merge, too few arguments.");if(!v(t))throw TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,A=new c({max:100}),n=C(n,{contextResolver:new a({sharedCache:A})});let i=await Promise.all(t.map(t=>{let r={...n};return e.expand(t,r)})),l=!0;"mergeNodes"in n&&(l=n.mergeNodes);let u=n.issuer||new s("_:b"),d={"@default":{}};for(let e=0;e<i.length;++e){let t=o.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),r=l||0===e?d:{"@default":{}};if(E(t,r,"@default",u),r!==d)for(let e in r){let t=r[e];if(!(e in d)){d[e]=t;continue}let n=d[e];for(let e in t)e in n||(n[e]=t[e])}}let f=x(d),p=[],h=Object.keys(f).sort();for(let e=0;e<h.length;++e){let t=f[h[e]];_(t)||p.push(t)}if(null===r)return p;n.graph=!0,n.skipExpansion=!0;let y=await e.compact(p,r,n);return y},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:e.documentLoader;let i=await n(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,r){return(r=C(r,{base:"",contextResolver:new a({sharedCache:A=new c({max:100})})}),null===t)?S(r):(m(t=o.clone(t))&&"@context"in t||(t={"@context":t}),O({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r(84024).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=r(24264),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=r(54312),e.JsonLdProcessor=r(18105)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},C=function(){return A(function(){return C()})};A(C),e.exports=C},53082:function(e,t,r){"use strict";let{isKeyword:n}=r(84024),i=r(84307),o=r(33053),a=r(91127),s=r(5885),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{t=t||{};let r=t.issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return l.createNodeMap(e,n,"@default",r),l.mergeNodeMaps(n)},l.createNodeMap=(e,t,r,c,u,d)=>{if(o.isArray(e)){for(let n of e)l.createNodeMap(n,t,r,c,void 0,d);return}if(!o.isObject(e)){d&&d.push(e);return}if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}d&&d.push(e);return}if(d&&i.isList(e)){let n=[];l.createNodeMap(e["@list"],t,r,c,u,n),d.push({"@list":n});return}if("@type"in e){let t=e["@type"];for(let e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});let f=t[r],p=f[u]=f[u]||{};p["@id"]=u;let h=Object.keys(e).sort();for(let o of h){if("@id"===o)continue;if("@reverse"===o){let n={"@id":u},o=e["@reverse"];for(let e in o){let s=o[e];for(let o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),l.createNodeMap(o,t,r,c,s),a.addValue(f[s],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),l.createNodeMap(e[o],t,u,c);continue}if("@included"===o){l.createNodeMap(e[o],t,r,c);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in p&&(e[o]!==p[o]||e[o]["@id"]!==p[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[o]=e[o];continue}let d=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0===d.length){a.addValue(p,o,[],{propertyIsArray:!0});continue}for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;let n=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(p,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,r,c,n)}else if(i.isValue(e))a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){let n=[];l.createNodeMap(e["@list"],t,r,c,u,n),e={"@list":n},a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,r,c,u),a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1})}},l.mergeNodeMapGraphs=e=>{let t={};for(let r of Object.keys(e).sort())for(let i of Object.keys(e[r]).sort()){let o=e[r][i];i in t||(t[i]={"@id":i});let s=t[i];for(let e of Object.keys(o).sort())if(n(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(let t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{let t=e["@default"],r=Object.keys(e).sort();for(let n of r){if("@default"===n)continue;let r=e[n],o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};let a=o["@graph"];for(let e of Object.keys(r).sort()){let t=r[e];i.isSubjectReference(t)||a.push(t)}}return t}},95078:function(e,t,r){"use strict";let n=r(72886),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},56217:function(e,t,r){"use strict";let{createNodeMap:n}=r(53082),{isKeyword:i}=r(84024),o=r(84307),a=r(75765),s=r(33053),l=r(91127),{RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:f,RDF_JSON_LITERAL:p,RDF_LANGSTRING:h,XSD_BOOLEAN:y,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:m}=r(32824),{isAbsolute:b}=r(24264),_={};e.exports=_,_.toRDF=(e,t)=>{let r=new l.IdentifierIssuer("_:b"),_={"@default":{}};n(e,_,"@default",r);let w=[],S=Object.keys(_).sort();for(let e of S){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!b(e))continue;(n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}(function(e,t,r,n,l){let _=Object.keys(t).sort();for(let w of _){let _=t[w],S=Object.keys(_).sort();for(let t of S){let S=_[t];if("@type"===t)t=f;else if(i(t))continue;for(let i of S){let f={termType:w.startsWith("_:")?"BlankNode":"NamedNode",value:w};if(!b(w))continue;let _={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t)||"BlankNode"===_.termType&&!l.produceGeneralizedRdf)continue;let S=function e(t,r,n,i,l){let f={};if(o.isValue(t)){f.termType="Literal",f.value=void 0,f.datatype={termType:"NamedNode"};let e=t["@value"],r=t["@type"]||null;if("@json"===r)f.value=a(e),f.datatype.value=p;else if(s.isBoolean(e))f.value=e.toString(),f.datatype.value=r||y;else if(s.isDouble(e)||r===g)s.isDouble(e)||(e=parseFloat(e)),f.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),f.datatype.value=r||g;else if(s.isNumber(e))f.value=e.toFixed(0),f.datatype.value=r||v;else if("i18n-datatype"===l&&"@direction"in t){let r="https://www.w3.org/ns/i18n#"+(t["@language"]||"")+`_${t["@direction"]}`;f.datatype.value=r,f.value=e}else"@language"in t?(f.value=e,f.datatype.value=r||h,f.language=t["@language"]):(f.value=e,f.datatype.value=r||m)}else if(o.isList(t)){let o=function(t,r,n,i,o){let a={termType:"NamedNode",value:c},s={termType:"NamedNode",value:u},l={termType:"NamedNode",value:d},f=t.pop(),p=f?{termType:"BlankNode",value:r.getId()}:l,h=p;for(let l of t){let t=e(l,r,n,i,o),c={termType:"BlankNode",value:r.getId()};n.push({subject:h,predicate:a,object:t,graph:i}),n.push({subject:h,predicate:s,object:c,graph:i}),h=c}if(f){let t=e(f,r,n,i,o);n.push({subject:h,predicate:a,object:t,graph:i}),n.push({subject:h,predicate:s,object:l,graph:i})}return p}(t["@list"],r,n,i,l);f.termType=o.termType,f.value=o.value}else{let e=s.isObject(t)?t["@id"]:t;f.termType=e.startsWith("_:")?"BlankNode":"NamedNode",f.value=e}return"NamedNode"!==f.termType||b(f.value)?f:null}(i,n,e,r,l.rdfDirection);S&&e.push({subject:f,predicate:_,object:S,graph:r})}}}})(w,_[e],n,r,t)}return w}},33053:function(e){"use strict";let t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},24264:function(e,t,r){"use strict";let n=r(33053),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{let r={},n=i.parsers[t||"full"],o=n.regex.exec(e),a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(e,t)=>{if(null===e||i.isAbsolute(t))return t;(!e||n.isString(e))&&(e=i.parse(e||""));let r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;((t=t.substr(0,t.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;(!e||n.isString(e))&&(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;let o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;for(;a.length>0&&s.length>l&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";let t=e.split("/"),r=[];for(;t.length>0;){let e=t.shift(),n=0===t.length;if("."===e){n&&r.push("");continue}if(".."===e){r.pop(),n&&r.push("");continue}r.push(e)}return("/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0])?"/":r.join("/")};let o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>n.isString(e)&&o.test(e),i.isRelative=e=>n.isString(e)},91127:function(e,t,r){"use strict";let n=r(84307),i=r(33053),o=r(33512).IdentifierIssuer,a=r(5885),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={headers:{accept:"application/ld+json, application/json"}},d={};e.exports=d,d.IdentifierIssuer=o,d.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(e instanceof Map)for(let[r,n]of(t=new Map,e))t.set(r,d.clone(n));else if(e instanceof Set)for(let r of(t=new Set,e))t.add(d.clone(r));else if(i.isObject(e))for(let r in t={},e)t[r]=d.clone(e[r]);else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{let t=Object.keys(e).some(e=>"accept"===e.toLowerCase());if(t)throw RangeError('Accept header may not be specified; only "'+u.headers.accept+'" is supported.');return Object.assign({Accept:u.headers.accept},e)},d.parseLinkHeader=e=>{let t={},r=e.match(s);for(let e=0;e<r.length;++e){let n=r[e].match(l);if(!n)continue;let i={target:n[1]},o=n[2];for(;n=c.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];let a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},d.validateTypeValue=(e,t)=>{if(!(i.isString(e)||i.isArray(e)&&e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let r=e[t];return!i.isArray(r)||r.length>0}return!1},d.hasValue=(e,t,r)=>{if(d.hasProperty(e,t)){let o=e[t],a=n.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(r,o[e]))return!0}else if(!i.isArray(r))return d.compareValues(r,o)}return!1},d.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)d.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){let o=!n.allowDuplicate&&d.hasValue(e,t,r);i.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);let i=d.getValues(e,t).filter(e=>!d.compareValues(e,r));0===i.length?d.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};let r=t.issuer||new o("_:b");return function e(t,r){if(i.isArray(r))for(let n=0;n<r.length;++n)r[n]=e(t,r[n]);else if(n.isList(r))r["@list"]=e(t,r["@list"]);else if(i.isObject(r)){n.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));let i=Object.keys(r).sort();for(let n=0;n<i.length;++n){let o=i[n];"@id"!==o&&(r[o]=e(t,r[o]))}}return r}(r,e)},d.compareValues=(e,t)=>!!(e===t||n.isValue(e)&&n.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t))&&"@id"in t&&e["@id"]===t["@id"],d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},82265:function(e,t,r){"use strict";let{isArray:n,isObject:i,isString:o}=r(78830),{asArray:a}=r(14649),{prependBase:s}=r(54616),l=r(64649),c=r(90023);e.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({activeCtx:e,context:t,documentLoader:r,base:s,cycles:u=new Set}){t&&i(t)&&t["@context"]&&(t=t["@context"]),t=a(t);let d=[];for(let a of t){if(o(a)){let t=this._get(a);t||(t=await this._resolveRemoteContext({activeCtx:e,url:a,documentLoader:r,base:s,cycles:u})),n(t)?d.push(...t):d.push(t);continue}if(null===a){d.push(new c({document:null}));continue}i(a)||function(e){throw new l("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}(t);let f=JSON.stringify(a),p=this._get(f);p||(p=new c({document:a}),this._cacheResolvedContext({key:f,resolved:p,tag:"static"})),d.push(p)}return d}_get(e){let t=this.perOpCache.get(e);if(!t){let r=this.sharedCache.get(e);r&&(t=r.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:a,cycles:l}){t=s(a,t);let{context:c,remoteDoc:u}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:l});!function e({context:t,base:r}){if(!t)return;let a=t["@context"];if(o(a)){t["@context"]=s(r,a);return}if(n(a)){for(let t=0;t<a.length;++t){let n=a[t];if(o(n)){a[t]=s(r,n);continue}i(n)&&e({context:{"@context":n},base:r})}return}if(i(a))for(let t in a)e({context:a[t],base:r})}({context:c,base:a=u.documentUrl||t});let d=await this.resolve({activeCtx:e,context:c,documentLoader:r,base:a,cycles:l});return this._cacheResolvedContext({key:t,resolved:d,tag:u.tag}),d}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:a}){let s,c;if(a.size>10)throw new l("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"loading remote context failed":"context overflow",max:10});if(a.has(t))throw new l("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"json-ld-1.0"===e.processingMode?"recursive context inclusion":"context overflow",url:t});a.add(t);try{s=(c=await r(t)).document||null,o(s)&&(s=JSON.parse(s))}catch(e){throw new l("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!i(s))throw new l("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:t});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},c.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(c.contextUrl)),{context:s,remoteDoc:c}}}},64649:function(e){"use strict";e.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},63429:function(e){"use strict";e.exports=e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t}},25165:function(e,t,r){"use strict";e.exports=r(33512).NQuads},43651:function(e){"use strict";e.exports=class{constructor(){this._requests={}}wrapLoader(e){let t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},90023:function(e,t,r){"use strict";let n=r(36134);e.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},68605:function(e,t,r){"use strict";let n=r(64649),{isArray:i,isObject:o,isString:a,isUndefined:s}=r(78830),{isList:l,isValue:c,isGraph:u,isSimpleGraph:d,isSubjectReference:f}=r(64248),{expandIri:p,getContextValue:h,isKeyword:y,process:g,processingMode:v}=r(82387),{removeBase:m,prependBase:b}=r(54616),{addValue:_,asArray:w,compareShortestLeast:S}=r(14649),O={};function M(e,t,r){if("@nest"!==p(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}e.exports=O,O.compact=async({activeCtx:e,activeProperty:t=null,element:r,options:p={},compactionMap:m=()=>void 0})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=await O.compact({activeCtx:e,activeProperty:t,element:r[i],options:p,compactionMap:m});(null!==o||void 0!==(o=await m({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:p})))&&n.push(o)}if(p.compactArrays&&1===n.length){let r=h(e,t,"@container")||[];0===r.length&&(n=n[0])}return n}let b=h(e,t,"@context");if(s(b)||(e=await g({activeCtx:e,localCtx:b,propagate:!0,overrideProtected:!0,options:p})),o(r)){if(p.link&&"@id"in r&&p.link.hasOwnProperty(r["@id"])){let e=p.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(c(r)||f(r)){let n=O.compactValue({activeCtx:e,activeProperty:t,value:r,options:p});return p.link&&f(r)&&(p.link.hasOwnProperty(r["@id"])||(p.link[r["@id"]]=[]),p.link[r["@id"]].push({expanded:r,compacted:n})),n}if(l(r)){let n=h(e,t,"@container")||[];if(n.includes("@list"))return O.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:p,compactionMap:m})}let b="@reverse"===t,S={},R=e;c(r)||f(r)||(e=e.revertToPreviousContext());let P=h(R,t,"@context");s(P)||(e=await g({activeCtx:e,localCtx:P,propagate:!0,overrideProtected:!0,options:p})),p.link&&"@id"in r&&(p.link.hasOwnProperty(r["@id"])||(p.link[r["@id"]]=[]),p.link[r["@id"]].push({expanded:r,compacted:S}));let E=r["@type"]||[];E.length>1&&(E=Array.from(E).sort());let I=e;for(let t of E){let r=O.compactIri({activeCtx:I,iri:t,relativeTo:{vocab:!0}}),n=h(R,r,"@context");s(n)||(e=await g({activeCtx:e,localCtx:n,options:p,propagate:!1}))}let x=Object.keys(r).sort();for(let s of x){let f=r[s];if("@id"===s){let t=w(f).map(t=>O.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1},base:p.base}));1===t.length&&(t=t[0]);let r=O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});S[r]=t;continue}if("@type"===s){let t=w(f).map(e=>O.compactIri({activeCtx:R,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);let r=O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=h(e,r,"@container")||[],o=n.includes("@set")&&v(e,1.1),a=o||i(t)&&0===f.length;_(S,r,t,{propertyIsArray:a});continue}if("@reverse"===s){let t=await O.compact({activeCtx:e,activeProperty:"@reverse",element:f,options:p,compactionMap:m});for(let r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){let n=t[r],i=h(e,r,"@container")||[],o=i.includes("@set")||!p.compactArrays;_(S,r,n,{propertyIsArray:o}),delete t[r]}if(Object.keys(t).length>0){let r=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,r,t)}continue}if("@preserve"===s){let r=await O.compact({activeCtx:e,activeProperty:t,element:f,options:p,compactionMap:m});i(r)&&0===r.length||_(S,s,r);continue}if("@index"===s){let r=h(e,t,"@container")||[];if(r.includes("@index"))continue;let n=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,n,f);continue}if("@graph"!==s&&"@list"!==s&&"@included"!==s&&y(s)){let t=O.compactIri({activeCtx:e,iri:s,relativeTo:{vocab:!0}});_(S,t,f);continue}if(!i(f))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===f.length){let t=O.compactIri({activeCtx:e,iri:s,value:f,relativeTo:{vocab:!0},reverse:b}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null,n=S;r&&(M(e,r,p),o(S[r])||(S[r]={}),n=S[r]),_(n,t,f,{propertyIsArray:!0})}for(let t of f){let r;let n=O.compactIri({activeCtx:e,iri:s,value:t,relativeTo:{vocab:!0},reverse:b}),f=e.mappings.has(n)?e.mappings.get(n)["@nest"]:null,y=S;f&&(M(e,f,p),o(S[f])||(S[f]={}),y=S[f]);let g=h(e,n,"@container")||[],v=u(t),R=l(t);R?r=t["@list"]:v&&(r=t["@graph"]);let P=await O.compact({activeCtx:e,activeProperty:n,element:R||v?r:t,options:p,compactionMap:m});if(R){if(i(P)||(P=[P]),g.includes("@list")){_(y,n,P,{valueIsArray:!0,allowDuplicate:!0});continue}P={[O.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:P},"@index"in t&&(P[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(v){if(g.includes("@graph")&&(g.includes("@id")||g.includes("@index")&&d(t))){let r;y.hasOwnProperty(n)?r=y[n]:y[n]=r={};let i=(g.includes("@id")?t["@id"]:t["@index"])||O.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}});_(r,i,P,{propertyIsArray:!p.compactArrays||g.includes("@set")})}else g.includes("@graph")&&d(t)?i(P)&&P.length>1&&(P={"@included":P}):(i(P)&&1===P.length&&p.compactArrays&&(P=P[0]),P={[O.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:P},"@id"in t&&(P[O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(P[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])),_(y,n,P,{propertyIsArray:!p.compactArrays||g.includes("@set")})}else if(g.includes("@language")||g.includes("@index")||g.includes("@id")||g.includes("@type")){let r,i;if(y.hasOwnProperty(n)?r=y[n]:y[n]=r={},g.includes("@language"))c(P)&&(P=P["@value"]),i=t["@language"];else if(g.includes("@index")){let r=h(e,n,"@index")||"@index",o=O.compactIri({activeCtx:e,iri:r,relativeTo:{vocab:!0}});if("@index"===r)i=t["@index"],delete P[o];else{let e;if([i,...e]=w(P[r]||[]),a(i))switch(e.length){case 0:delete P[r];break;case 1:P[r]=e[0];break;default:P[r]=e}else i=null}}else if(g.includes("@id")){let t=O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});i=P[t],delete P[t]}else if(g.includes("@type")){let r;let o=O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}});switch([i,...r]=w(P[o]||[]),r.length){case 0:delete P[o];break;case 1:P[o]=r[0];break;default:P[o]=r}1===Object.keys(P).length&&"@id"in t&&(P=await O.compact({activeCtx:e,activeProperty:n,element:{"@id":t["@id"]},options:p,compactionMap:m}))}i||(i=O.compactIri({activeCtx:e,iri:"@none",relativeTo:{vocab:!0}})),_(r,i,P,{propertyIsArray:g.includes("@set")})}else{let e=!p.compactArrays||g.includes("@set")||g.includes("@list")||i(P)&&0===P.length||"@list"===s||"@graph"===s;_(y,n,P,{propertyIsArray:e})}}}return S}return r},O.compactIri=({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:a=!1,base:s=null})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);let d=e.getInverse();if(y(t)&&t in d&&"@none"in d[t]&&"@type"in d[t]["@none"]&&"@none"in d[t]["@none"]["@type"])return d[t]["@none"]["@type"]["@none"];if(i.vocab&&t in d){let n=e["@language"]||"@none",i=[];o(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),u(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):o(r)&&!c(r)&&i.push("@id","@id@set","@type","@set@type");let s="@language",d="@null";if(a)s="@type",d="@reverse",i.push("@set");else if(l(r)){"@index"in r||i.push("@list");let e=r["@list"];if(0===e.length)s="@any",d="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){let i=e[n],o="@none",a="@none";if(c(i)){if("@direction"in i){let e=(i["@language"]||"").toLowerCase(),t=i["@direction"];o=`${e}_${t}`}else"@language"in i?o=i["@language"].toLowerCase():"@type"in i?a=i["@type"]:o="@null"}else a="@id";if(null===t?t=o:o!==t&&c(i)&&(t="@none"),null===r?r=a:a!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none","@none"!==(r=r||"@none")?(s="@type",d=r):d=t}}else{if(c(r)){if("@language"in r&&!("@index"in r)){i.push("@language","@language@set"),d=r["@language"];let e=r["@direction"];e&&(d=`${d}_${e}`)}else"@direction"in r&&!("@index"in r)?d=`_${r["@direction"]}`:"@type"in r&&(s="@type",d=r["@type"])}else s="@type",d="@id";i.push("@set")}i.push("@none"),!o(r)||"@index"in r||i.push("@index","@index@set"),c(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");let f=function(e,t,r,n,i,a){null===a&&(a="@null");let s=[];if(("@id"===a||"@reverse"===a)&&o(r)&&"@id"in r){"@reverse"===a&&s.push("@reverse");let t=O.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?s.push.apply(s,["@vocab","@id"]):s.push.apply(s,["@id","@vocab"])}else{s.push(a);let e=s.find(e=>e.includes("_"));e&&s.push(e.replace(/^[^_]+_/,"_"))}s.push("@none");let l=e.inverse[t];for(let e of n){if(!(e in l))continue;let t=l[e][i];for(let e of s)if(e in t)return t[e]}return null}(e,t,r,i,s,d);if(null!==f)return f}if(i.vocab&&"@vocab"in e){let r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){let n=t.substr(r.length);if(!e.mappings.has(n))return n}}let f=null,p=[],h=e.fastCurieMap,g=t.length-1;for(let e=0;e<g&&(t[e]in h);++e)""in(h=h[t[e]])&&p.push(h[""][0]);for(let n=p.length-1;n>=0;--n){let i=p[n],o=i.terms;for(let n of o){let o=n+":"+t.substr(i.iri.length),a=e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t);a&&(null===f||0>S(o,f))&&(f=o)}}if(null!==f)return f;for(let[r,i]of e.mappings)if(i&&i._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});if(!i.vocab){if(!("@base"in e))return m(s,t);if(e["@base"])return m(b(s,e["@base"]),t)}return t},O.compactValue=({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(c(r)){let n=h(e,t,"@type"),i=h(e,t,"@language"),o=h(e,t,"@direction"),s=h(e,t,"@container")||[],l="@index"in r&&!s.includes("@index");if(!l&&"@none"!==n&&(r["@type"]===n||"@language"in r&&r["@language"]===i&&"@direction"in r&&r["@direction"]===o||"@language"in r&&r["@language"]===i||"@direction"in r&&r["@direction"]===o))return r["@value"];let c=Object.keys(r).length,u=1===c||2===c&&"@index"in r&&!l,d="@language"in e,f=a(r["@value"]),p=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(u&&"@none"!==n&&(!d||!f||p))return r["@value"];let y={};return l&&(y[O.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?y[O.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=O.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(y[O.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),"@direction"in r&&(y[O.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:!0}})]=r["@direction"]),y[O.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],y}let i=p(e,t,{vocab:!0},n),o=h(e,t,"@type"),s=O.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o},base:n.base});return"@id"===o||"@vocab"===o||"@graph"===i?s:{[O.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:s}}},36417:function(e){"use strict";let t="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#";e.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:t,RDF_LIST:t+"List",RDF_FIRST:t+"first",RDF_REST:t+"rest",RDF_NIL:t+"nil",RDF_TYPE:t+"type",RDF_PLAIN_LITERAL:t+"PlainLiteral",RDF_XML_LITERAL:t+"XMLLiteral",RDF_JSON_LITERAL:t+"JSON",RDF_OBJECT:t+"object",RDF_LANGSTRING:t+"langString",XSD:r,XSD_BOOLEAN:r+"boolean",XSD_DOUBLE:r+"double",XSD_INTEGER:r+"integer",XSD_STRING:r+"string"}},82387:function(e,t,r){"use strict";let n=r(14649),i=r(64649),{isArray:o,isObject:a,isString:s,isUndefined:l}=r(78830),{isAbsolute:c,isRelative:u,prependBase:d}=r(54616),{asArray:f,compareShortestLeast:p}=r(14649),h=new Map,y=/^@[a-zA-Z]+$/,g={};function v(e,t,r,n,i,o){if(null===t||!s(t)||g.isKeyword(t))return t;if(t.match(y))return null;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){let r=e.mappings.get(t);if(null===r)return null;if(a(r)&&"@id"in r)return r["@id"]}let l=t.indexOf(":");if(l>0){let r=t.substr(0,l),a=t.substr(l+1);if("_"===r||0===a.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&g.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:o});let s=e.mappings.get(r);if(s&&s._prefix)return s["@id"]+a;if(c(t))return t}let u=!1;if(void 0!==o&&void 0!==o.typeExpansion&&(u=o.typeExpansion),r.vocab&&"@vocab"in e){let r;let n=e["@vocab"]+t;o&&o.expansionMap&&(r=o.expansionMap({prependedIri:{type:"@vocab",vocab:e["@vocab"],value:t,result:n,typeExpansion:u},activeCtx:e,options:o})),t=void 0!==r?r:n}else if(r.base){let r,n,i;"@base"in e?e["@base"]?(i=d(o.base,e["@base"]),r=d(i,t)):(i=e["@base"],r=t):(i=o.base,r=d(o.base,t)),o&&o.expansionMap&&(n=o.expansionMap({prependedIri:{type:"@base",base:i,value:t,result:r,typeExpansion:u},activeCtx:e,options:o})),t=void 0!==n?n:r}if(!c(t)&&o&&o.expansionMap){let r=o.expansionMap({relativeIri:t,activeCtx:e,typeExpansion:u,options:o});void 0!==r&&(t=r)}return t}e.exports=g,g.process=async({activeCtx:e,localCtx:t,options:r,propagate:l=!0,overrideProtected:p=!1,cycles:h=new Set})=>{a(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]);let y=f(t);if(0===y.length)return e;let m=await r.contextResolver.resolve({activeCtx:e,context:t,documentLoader:r.documentLoader,base:r.base});a(m[0].document)&&"boolean"==typeof m[0].document["@propagate"]&&(l=m[0].document["@propagate"]);let b=e;for(let o of(l||b.previousContext||((b=b.clone()).previousContext=e),m)){let{document:l}=o;if(e=b,null===l){if(!p&&0!==Object.keys(e.protected).length){let a=r&&r.protectedMode||"error";if("error"===a)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===a){console.warn("WARNING: invalid context nullification");let t=o.getProcessed(e);if(t){b=e=t;continue}let i=e;for(let[t,o]of(b=e=g.getInitialContext(r).clone(),Object.entries(i.protected)))o&&(e.mappings[t]=n.clone(i.mappings[t]));e.protected=n.clone(i.protected),o.setProcessed(i,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:a})}b=e=g.getInitialContext(r).clone();continue}let f=o.getProcessed(e);if(f){b=e=f;continue}if(a(l)&&"@context"in l&&(l=l["@context"]),!a(l))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:l});b=b.clone();let y=new Map;if("@version"in l){if(1.1!==l["@version"])throw new i("Unsupported JSON-LD version: "+l["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:l});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+l["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:l});b.processingMode="json-ld-1.1",b["@version"]=l["@version"],y.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in l){let e=l["@base"];if(null===e||c(e));else if(u(e))e=d(b["@base"],e);else throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:l});b["@base"]=e,y.set("@base",!0)}if("@vocab"in l){let e=l["@vocab"];if(null===e)delete b["@vocab"];else if(s(e)){if(!c(e)&&g.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});b["@vocab"]=v(b,e,{vocab:!0,base:!0},void 0,void 0,r)}else throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:l});y.set("@vocab",!0)}if("@language"in l){let e=l["@language"];if(null===e)delete b["@language"];else if(s(e))b["@language"]=e.toLowerCase();else throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:l});y.set("@language",!0)}if("@direction"in l){let t=l["@direction"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:l});if(null===t)delete b["@direction"];else if("ltr"!==t&&"rtl"!==t)throw new i('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:l});else b["@direction"]=t;y.set("@direction",!0)}if("@propagate"in l){let r=l["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if("boolean"!=typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}if("@import"in l){let n=l["@import"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:l});if(!s(n))throw new i("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:t});let o=await r.contextResolver.resolve({activeCtx:e,context:n,documentLoader:r.documentLoader,base:r.base});if(1!==o.length)throw new i("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:t});let a=o[0].getProcessed(e);if(a)l=a;else{let r=o[0].document;if("@import"in r)throw new i("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:t});for(let e in r)l.hasOwnProperty(e)||(l[e]=r[e]);o[0].setProcessed(e,l)}y.set("@import",!0)}for(let e in y.set("@protected",l["@protected"]||!1),l)if(g.createTermDefinition({activeCtx:b,localCtx:l,term:e,defined:y,options:r,overrideProtected:p}),a(l[e])&&"@context"in l[e]){let t=l[e]["@context"],n=!0;if(s(t)){let e=d(r.base,t);h.has(e)?n=!1:h.add(e)}if(n)try{await g.process({activeCtx:b.clone(),localCtx:l[e]["@context"],overrideProtected:!0,options:r,cycles:h})}catch(t){throw new i("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:l[e]["@context"],term:e})}}o.setProcessed(e,b)}return b},g.createTermDefinition=({activeCtx:e,localCtx:t,term:r,defined:n,options:l,overrideProtected:u=!1})=>{let d;if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}if(n.set(r,!1),t.hasOwnProperty(r)&&(d=t[r]),"@type"===r&&a(d)&&"@set"===(d["@container"]||"@set")&&g.processingMode(e,1.1)){let e=["@container","@id","@protected"],n=Object.keys(d);if(0===n.length||n.some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else if(g.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});else if(r.match(y)){console.warn('WARNING: terms beginning with "@" are reserved for future use and ignored',{term:r});return}else if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let f=e.mappings.get(r);e.mappings.has(r)&&e.mappings.delete(r);let p=!1;if((s(d)||null===d)&&(p=!0,d={"@id":d}),!a(d))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});let h={};e.mappings.set(r,h),h.reverse=!1;let m=["@container","@id","@language","@reverse","@type"];for(let r in g.processingMode(e,1.1)&&m.push("@context","@direction","@index","@nest","@prefix","@protected"),d)if(!m.includes(r))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+r,"jsonld.SyntaxError",{code:"invalid term definition",context:t});let b=r.indexOf(":");if(h._termHasColon=b>0,"@reverse"in d){if("@id"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in d)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});let o=d["@reverse"];if(!s(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(!g.isKeyword(o)&&o.match(y)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{reverse:o}),f?e.mappings.set(r,f):e.mappings.delete(r);return}let a=v(e,o,{vocab:!0,base:!1},t,n,l);if(!c(a))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});h["@id"]=a,h.reverse=!0}else if("@id"in d){let o=d["@id"];if(o&&!s(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(null===o)h["@id"]=null;else if(!g.isKeyword(o)&&o.match(y)){console.warn('WARNING: values beginning with "@" are reserved for future use and ignored',{id:o}),f?e.mappings.set(r,f):e.mappings.delete(r);return}else if(o!==r){if(!c(o=v(e,o,{vocab:!0,base:!1},t,n,l))&&!g.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(r.match(/(?::[^:])|\//)){let a=new Map(n).set(r,!0),s=v(e,r,{vocab:!0,base:!1},t,a,l);if(s!==o)throw new i("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t})}h["@id"]=o,h._prefix=p&&!h._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in h)){if(h._termHasColon){let i=r.substr(0,b);if(t.hasOwnProperty(i)&&g.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:n,options:l}),e.mappings.has(i)){let t=r.substr(b+1);h["@id"]=e.mappings.get(i)["@id"]+t}else h["@id"]=r}else if("@type"===r)h["@id"]=r;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});h["@id"]=e["@vocab"]+r}}if((!0===d["@protected"]||!0===n.get("@protected")&&!1!==d["@protected"])&&(e.protected[r]=!0,h.protected=!0),n.set(r,!0),"@type"in d){let r=d["@type"];if(!s(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(g.processingMode(e,1))throw new i(`Invalid JSON-LD syntax; an @context @type value must not be "${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(!c(r=v(e,r,{vocab:!0,base:!1},t,n,l)))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}h["@type"]=r}if("@container"in d){let r=s(d["@container"])?[d["@container"]]:d["@container"]||[],n=["@list","@set","@index","@language"],a=!0,l=r.includes("@set");if(g.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else a&=r.length<=(l?2:1);if(r.includes("@type")&&(h["@type"]=h["@type"]||"@id",!["@id","@vocab"].includes(h["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else a&=!o(d["@container"]),a&=r.length<=1;if(a&=r.every(e=>n.includes(e)),!(a&=!(l&&r.includes("@list"))))throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(h.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});h["@container"]=r}if("@index"in d){if(!("@container"in d)||!h["@container"].includes("@index"))throw new i(`Invalid JSON-LD syntax; @index without @index in @container: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!s(d["@index"])||0===d["@index"].indexOf("@"))throw new i(`Invalid JSON-LD syntax; @index must expand to an IRI: "${d["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});h["@index"]=d["@index"]}if("@context"in d&&(h["@context"]=d["@context"]),"@language"in d&&!("@type"in d)){let e=d["@language"];if(null!==e&&!s(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),h["@language"]=e}if("@prefix"in d){if(r.match(/:|\//))throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if(g.isKeyword(h["@id"]))throw new i("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"==typeof d["@prefix"])h._prefix=!0===d["@prefix"];else throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t})}if("@direction"in d){let e=d["@direction"];if(null!==e&&"ltr"!==e&&"rtl"!==e)throw new i('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t});h["@direction"]=e}if("@nest"in d){let e=d["@nest"];if(!s(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});h["@nest"]=e}// disallow aliasing @context and @preserve
let _=h["@id"];if("@context"===_||"@preserve"===_)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(f&&f.protected&&!u&&(e.protected[r]=!0,h.protected=!0,!function e(t,r){if(!(t&&"object"==typeof t)||!(r&&"object"==typeof r))return t===r;let n=Array.isArray(t);if(n!==Array.isArray(r))return!1;if(n){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}let i=Object.keys(t),o=Object.keys(r);if(i.length!==o.length)return!1;for(let n in t){let i=t[n],o=r[n];if("@container"===n&&Array.isArray(i)&&Array.isArray(o)&&(i=i.slice().sort(),o=o.slice().sort()),!e(i,o))return!1}return!0}(f,h))){let e=l&&l.protectedMode||"error";if("error"===e)throw new i(`Invalid JSON-LD syntax; tried to redefine "${r}" which is a protected term.`,"jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e){console.warn("WARNING: protected term redefinition",{term:r});return}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}},g.expandIri=(e,t,r,n)=>v(e,t,r,void 0,void 0,n),g.getInitialContext=e=>{let t=JSON.stringify({processingMode:e.processingMode}),r=h.get(t);if(r)return r;let i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){if(this.inverse)return this.inverse;let e=this.inverse={},t=this.fastCurieMap={},r={},n=(this["@language"]||"@none").toLowerCase(),i=this["@direction"],a=this.mappings,s=[...a.keys()].sort(p);for(let l of s){let s=a.get(l);if(null===s)continue;let c=s["@container"]||"@none";if(c=[].concat(c).sort().join(""),null===s["@id"])continue;let u=f(s["@id"]);for(let a of u){let u=e[a],d=g.isKeyword(a);if(u)d||s._termHasColon||r[a].push(l);else if(e[a]=u={},!d&&!s._termHasColon){r[a]=[l];let e={iri:a,terms:r[a]};a[0]in t?t[a[0]].push(e):t[a[0]]=[e]}if(u[c]||(u[c]={"@language":{},"@type":{},"@any":{}}),o(l,(u=u[c])["@any"],"@none"),s.reverse)o(l,u["@type"],"@reverse");else if("@none"===s["@type"])o(l,u["@any"],"@none"),o(l,u["@language"],"@none"),o(l,u["@type"],"@none");else if("@type"in s)o(l,u["@type"],s["@type"]);else if("@language"in s&&"@direction"in s){let e=s["@language"],t=s["@direction"];e&&t?o(l,u["@language"],`${e}_${t}`.toLowerCase()):e?o(l,u["@language"],e.toLowerCase()):t?o(l,u["@language"],`_${t}`):o(l,u["@language"],"@null")}else"@language"in s?o(l,u["@language"],(s["@language"]||"@null").toLowerCase()):"@direction"in s?s["@direction"]?o(l,u["@language"],`_${s["@direction"]}`):o(l,u["@language"],"@none"):(i?o(l,u["@language"],`_${i}`):o(l,u["@language"],n),o(l,u["@language"],"@none"),o(l,u["@type"],"@none"))}}for(let e in t)(function e(t,r,n){let i,o;let a=t[r],s=t[r]={};for(let e of a)(o=n>=(i=e.iri).length?"":i[n])in s?s[o].push(e):s[o]=[e];for(let t in s)""!==t&&e(s,t,n+1)})(t,e,1);return e},clone:function(){let e={};return e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone()),e.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(e["@base"]=this["@base"]),"@language"in this&&(e["@language"]=this["@language"]),"@vocab"in this&&(e["@vocab"]=this["@vocab"]),e},revertToPreviousContext:function(){return this.previousContext?this.previousContext.clone():this},protected:{}};return 1e4===h.size&&h.clear(),h.set(t,i),i;function o(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}},g.getContextValue=(e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){let n=e.mappings.get(t);if(l(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&r in e||"@direction"===r&&r in e?e[r]:"@context"!==r?null:void 0},g.processingMode=(e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode,g.isKeyword=e=>{if(!s(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1}},13872:function(e,t,r){"use strict";let n=r(83104),{parseLinkHeader:i,buildHeaders:o}=r(14649),{LINK_HEADER_CONTEXT:a}=r(36417),s=r(64649),l=r(43651),{prependBase:c}=r(54616),{httpClient:u}=r(54523);async function d({url:e,headers:t,strictSSL:r,httpAgent:i,httpsAgent:o}){try{let a={headers:t,redirect:"manual"},s=e.startsWith("https:");s?a.agent=o||new n.Agent({rejectUnauthorized:r}):i&&(a.agent=i);let l=await u.get(e,a);return{res:l,body:l.data}}catch(t){if(t.response)return{res:t.response,body:null};throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:e,cause:t})}}e.exports=({secure:e,strictSSL:t=!0,maxRedirects:n=-1,headers:u={},httpAgent:f,httpsAgent:p}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{"user-agent"in(u=o(u))||(u=Object.assign({},u,{"user-agent":"jsonld.js"}));let h=r(61635),y=new l;return y.wrapLoader(function(e){return g(e,[])});async function g(r,o){let l=r.startsWith("http:"),y=r.startsWith("https:");if(!l&&!y)throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:r});if(e&&!y)throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:r});let v=null,m=null,{res:b,body:_}=await d({url:r,headers:u,strictSSL:t,httpAgent:f,httpsAgent:p});v={contextUrl:null,documentUrl:r,document:_||null};let w=h.STATUS_CODES[b.status];if(b.status>=400)throw new s(`URL "${r}" could not be dereferenced: ${w}`,"jsonld.InvalidUrl",{code:"loading document failed",url:r,httpStatusCode:b.status});let S=b.headers.get("link"),O=b.headers.get("location"),M=b.headers.get("content-type");if(S&&"application/ld+json"!==M){let e=i(S),t=e[a];if(Array.isArray(t))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:r});t&&(v.contextUrl=t.target),(m=e.alternate)&&"application/ld+json"==m.type&&!(M||"").match(/^application\/(\w*\+)?json$/)&&(O=c(r,m.target))}if((m||b.status>=300&&b.status<400)&&O){if(o.length===n)throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:r,httpStatusCode:b.status,redirects:o});if(-1!==o.indexOf(r))throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:r,httpStatusCode:b.status,redirects:o});return o.push(r),g(O,o)}return o.push(r),v}}},45200:function(e,t,r){"use strict";let{parseLinkHeader:n,buildHeaders:i}=r(14649),{LINK_HEADER_CONTEXT:o}=r(36417),a=r(64649),s=r(43651),{prependBase:l}=r(54616),c=/(^|(\r\n))link:/i;e.exports=({secure:e,headers:t={},xhr:r}={headers:{}})=>{t=i(t);let u=new s;return u.wrapLoader(d);async function d(i){let s,u;if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new a('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});try{s=await function(e,t,r){e=e||XMLHttpRequest;let n=new e;return new Promise((e,i)=>{for(let o in n.onload=()=>e(n),n.onerror=e=>i(e),n.open("GET",t,!0),r)n.setRequestHeader(o,r[o]);n.send()})}(r,i,t)}catch(e){throw new a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(s.status>=400)throw new a("URL could not be dereferenced: "+s.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:s.status});let f={contextUrl:null,documentUrl:i,document:s.response},p=null,h=s.getResponseHeader("Content-Type");if(c.test(s.getAllResponseHeaders())&&(u=s.getResponseHeader("Link")),u&&"application/ld+json"!==h){let e=n(u),t=e[o];if(Array.isArray(t))throw new a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});t&&(f.contextUrl=t.target),(p=e.alternate)&&"application/ld+json"==p.type&&!(h||"").match(/^application\/(\w*\+)?json$/)&&(f=await d(l(i,p.target)))}return f}}},4628:function(e,t,r){"use strict";let n=r(64649),{isArray:i,isObject:o,isEmptyObject:a,isString:s,isUndefined:l}=r(78830),{isList:c,isValue:u,isGraph:d,isSubject:f}=r(64248),{expandIri:p,getContextValue:h,isKeyword:y,process:g,processingMode:v}=r(82387),{isAbsolute:m}=r(54616),{addValue:b,asArray:_,getValues:w,validateTypeValue:S}=r(14649),O={};e.exports=O;let M=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;async function R({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:d,expandedParent:w,options:P={},insideList:I,typeKey:x,typeScopedContext:A,expansionMap:C}){let j;let T=Object.keys(d).sort(),$=[];P={...P,expansionMap:C};let D=d[x]&&"@json"===p(e,i(d[x])?d[x][0]:d[x],{vocab:!0},{...P,typeExpansion:!0});for(let R of T){let x,T=d[R];if("@context"===R)continue;let N=p(e,R,{vocab:!0},P);if((null===N||!(m(N)||y(N)))&&void 0===(N=C({unmappedProperty:R,activeCtx:e,activeProperty:t,parent:d,options:P,insideList:I,value:T,expandedParent:w})))continue;if(y(N)){if("@reverse"===r)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:T});if(N in w&&"@included"!==N&&"@type"!==N)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:N})}if("@id"===N){if(!s(T)){if(!P.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:T});if(o(T)){if(!a(T))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else if(i(T)){if(!T.every(e=>s(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}else throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:T})}b(w,"@id",_(T).map(t=>s(t)?p(e,t,{base:!0},P):t),{propertyIsArray:P.isFrame});continue}if("@type"===N){o(T)&&(T=Object.fromEntries(Object.entries(T).map(([e,t])=>[p(A,e,{vocab:!0}),_(t).map(e=>p(A,e,{base:!0,vocab:!0},{...P,typeExpansion:!0}))]))),S(T,P.isFrame),b(w,"@type",_(T).map(e=>s(e)?p(A,e,{base:!0,vocab:!0},{...P,typeExpansion:!0}):e),{propertyIsArray:P.isFrame});continue}if("@included"===N&&v(e,1.1)){let r=_(await O.expand({activeCtx:e,activeProperty:t,element:T,options:P,expansionMap:C}));if(!r.every(e=>f(e)))throw new n("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:T});b(w,"@included",r,{propertyIsArray:!0});continue}if("@graph"===N&&!(o(T)||i(T)))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:T});if("@value"===N){j=T,D&&v(e,1.1)?w["@value"]=T:b(w,"@value",T,{propertyIsArray:P.isFrame});continue}if("@language"===N){if(null===T)continue;if(!s(T)&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:T});for(let e of T=_(T).map(e=>s(e)?e.toLowerCase():e))s(e)&&!e.match(M)&&console.warn(`@language must be valid BCP47: ${e}`);b(w,"@language",T,{propertyIsArray:P.isFrame});continue}if("@direction"===N){if(!s(T)&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:T});for(let e of T=_(T))if(s(e)&&"ltr"!==e&&"rtl"!==e)throw new n('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:T});b(w,"@direction",T,{propertyIsArray:P.isFrame});continue}if("@index"===N){if(!s(T))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:T});b(w,"@index",T);continue}if("@reverse"===N){if(!o(T))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:T});if("@reverse"in(x=await O.expand({activeCtx:e,activeProperty:"@reverse",element:T,options:P,expansionMap:C})))for(let e in x["@reverse"])b(w,e,x["@reverse"][e],{propertyIsArray:!0});let t=w["@reverse"]||null;for(let e in x){if("@reverse"===e)continue;null===t&&(t=w["@reverse"]={}),b(t,e,[],{propertyIsArray:!0});let r=x[e];for(let i=0;i<r.length;++i){let o=r[i];if(u(o)||c(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});b(t,e,o,{propertyIsArray:!0})}}continue}if("@nest"===N){$.push(R);continue}let k=e,B=h(e,R,"@context");l(B)||(k=await g({activeCtx:e,localCtx:B,propagate:!0,overrideProtected:!0,options:P}));let F=h(k,R,"@container")||[];if(F.includes("@language")&&o(T)){let e=h(k,R,"@direction");x=function(e,t,r,o){let a=[],l=Object.keys(t).sort();for(let c of l){let l=p(e,c,{vocab:!0},o),u=t[c];for(let e of(i(u)||(u=[u]),u)){if(null===e)continue;if(!s(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});let i={"@value":e};"@none"!==l&&(i["@language"]=c.toLowerCase()),r&&(i["@direction"]=r),a.push(i)}}return a}(k,T,e,P)}else if(F.includes("@index")&&o(T)){let t=F.includes("@graph"),r=h(k,R,"@index")||"@index",n="@index"!==r&&p(e,r,{vocab:!0},P);x=await E({activeCtx:k,options:P,activeProperty:R,value:T,expansionMap:C,asGraph:t,indexKey:r,propertyIndex:n})}else if(F.includes("@id")&&o(T)){let e=F.includes("@graph");x=await E({activeCtx:k,options:P,activeProperty:R,value:T,expansionMap:C,asGraph:e,indexKey:"@id"})}else if(F.includes("@type")&&o(T))x=await E({activeCtx:k.revertToPreviousContext(),options:P,activeProperty:R,value:T,expansionMap:C,asGraph:!1,indexKey:"@type"});else{let n="@list"===N;if(n||"@set"===N){let e=t;n&&"@graph"===r&&(e=null),x=await O.expand({activeCtx:k,activeProperty:e,element:T,options:P,insideList:n,expansionMap:C})}else x="@json"===h(e,R,"@type")?{"@type":"@json","@value":T}:await O.expand({activeCtx:k,activeProperty:R,element:T,options:P,insideList:!1,expansionMap:C})}if(null!==x||"@value"===N||void 0!==(x=C({unmappedValue:T,expandedProperty:N,activeCtx:k,activeProperty:t,parent:d,options:P,insideList:I,key:R,expandedParent:w}))){if("@list"!==N&&!c(x)&&F.includes("@list")&&(x={"@list":_(x)}),F.includes("@graph")&&!F.some(e=>"@id"===e||"@index"===e)&&(x=_(x).map(e=>({"@graph":_(e)}))),k.mappings.has(R)&&k.mappings.get(R).reverse){let e=w["@reverse"]=w["@reverse"]||{};x=_(x);for(let t=0;t<x.length;++t){let r=x[t];if(u(r)||c(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:x});b(e,N,r,{propertyIsArray:!0})}continue}b(w,N,x,{propertyIsArray:!0})}}if("@value"in w){if("@json"===w["@type"]&&v(e,1.1));else if((o(j)||i(j))&&!P.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:j})}for(let a of $){let s=i(d[a])?d[a]:[d[a]];for(let i of s){if(!o(i)||Object.keys(i).some(t=>"@value"===p(e,t,{vocab:!0},P)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await R({activeCtx:e,activeProperty:t,expandedActiveProperty:r,element:i,expandedParent:w,options:P,insideList:I,typeScopedContext:A,typeKey:x,expansionMap:C})}}}function P({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;let i=p(e,t,{vocab:!0},n);if("@id"===i)return p(e,r,{base:!0},n);if("@type"===i)return p(e,r,{vocab:!0,base:!0},{...n,typeExpansion:!0});let o=h(e,t,"@type");if(("@id"===o||"@graph"===i)&&s(r))return{"@id":p(e,r,{base:!0},n)};if("@vocab"===o&&s(r))return{"@id":p(e,r,{vocab:!0,base:!0},n)};if(y(i))return r;let a={};if(o&&!["@id","@vocab","@none"].includes(o))a["@type"]=o;else if(s(r)){let r=h(e,t,"@language");null!==r&&(a["@language"]=r);let n=h(e,t,"@direction");null!==n&&(a["@direction"]=n)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),a["@value"]=r,a}async function E({activeCtx:e,options:t,activeProperty:r,value:o,expansionMap:a,asGraph:s,indexKey:c,propertyIndex:f}){let y=[],v=Object.keys(o).sort(),m="@type"===c;for(let _ of v){let v;if(m){let r=h(e,_,"@context");l(r)||(e=await g({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let w=o[_];for(let o of(i(w)||(w=[w]),w=await O.expand({activeCtx:e,activeProperty:r,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:a}),v=f?"@none"===_?"@none":P({activeCtx:e,activeProperty:c,value:_,options:t}):p(e,_,{vocab:!0},t),"@id"===c?_=p(e,_,{base:!0},t):m&&(_=v),w)){if(s&&!d(o)&&(o={"@graph":[o]}),"@type"===c)"@none"===v||(o["@type"]?o["@type"]=[_].concat(o["@type"]):o["@type"]=[_]);else if(u(o)&&!["@language","@type","@index"].includes(c))throw new n(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${c}".`,"jsonld.SyntaxError",{code:"invalid value object",value:o});else f?"@none"!==v&&b(o,f,v,{propertyIsArray:!0,prependValue:!0}):"@none"===v||c in o||(o[c]=_);y.push(o)}}return y}O.expand=async({activeCtx:e,activeProperty:t=null,element:r,options:c={},insideList:u=!1,insideIndex:d=!1,typeScopedContext:f=null,expansionMap:y=()=>void 0})=>{if(c={...c,expansionMap:y},null==r)return null;if("@default"===t&&(c=Object.assign({},c,{isFrame:!1})),!i(r)&&!o(r)){if(!u&&(null===t||"@graph"===p(e,t,{vocab:!0},c))){let n=await y({unmappedValue:r,activeCtx:e,activeProperty:t,options:c,insideList:u});return void 0===n?null:n}return P({activeCtx:e,activeProperty:t,value:r,options:c})}if(i(r)){let n=[],o=h(e,t,"@container")||[];u=u||o.includes("@list");for(let o=0;o<r.length;++o){let a=await O.expand({activeCtx:e,activeProperty:t,element:r[o],options:c,expansionMap:y,insideIndex:d,typeScopedContext:f});u&&i(a)&&(a={"@list":a}),(null!==a||void 0!==(a=await y({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:c,expandedParent:n,insideList:u})))&&(i(a)?n=n.concat(a):n.push(a))}return n}let b=p(e,t,{vocab:!0},c),S=h(e,t,"@context");f=f||(e.previousContext?e:null);let M=Object.keys(r).sort(),E=!d;if(E&&f&&M.length<=2&&!M.includes("@context"))for(let t of M){let r=p(f,t,{vocab:!0},c);if("@value"===r){E=!1,e=f;break}if("@id"===r&&1===M.length){E=!1;break}}E&&(e=e.revertToPreviousContext()),l(S)||(e=await g({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:c})),"@context"in r&&(e=await g({activeCtx:e,localCtx:r["@context"],options:c})),f=e;let I=null;for(let t of M){let n=p(e,t,{vocab:!0},c);if("@type"===n){I=I||t;let n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(let t of i){let r=h(f,t,"@context");l(r)||(e=await g({activeCtx:e,localCtx:r,options:c,propagate:!1}))}}}let x={};await R({activeCtx:e,activeProperty:t,expandedActiveProperty:b,element:r,expandedParent:x,options:c,insideList:u,typeKey:I,typeScopedContext:f,expansionMap:y});let A=(M=Object.keys(x)).length;if("@value"in x){if("@type"in x&&("@language"in x||"@direction"in x))throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:x});let i=A-1;if("@type"in x&&(i-=1),"@index"in x&&(i-=1),"@language"in x&&(i-=1),"@direction"in x&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:x});let o=null===x["@value"]?[]:_(x["@value"]),l=w(x,"@type");if(v(e,1.1)&&l.includes("@json")&&1===l.length);else if(0===o.length){let n=await y({unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}else if(!o.every(e=>s(e)||a(e))&&"@language"in x)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:x});else if(!l.every(e=>m(e)&&!(s(e)&&0===e.indexOf("_:"))||a(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:x})}else if("@type"in x&&!i(x["@type"]))x["@type"]=[x["@type"]];else if("@set"in x||"@list"in x){if(A>1&&!(2===A&&"@index"in x))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:x});"@set"in x&&(A=(M=Object.keys(x=x["@set"])).length)}else if(1===A&&"@language"in x){let n=await y(x,{unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}if(o(x)&&!c.keepFreeFloatingNodes&&!u&&(null===t||"@graph"===b)&&(0===A||"@value"in x||"@list"in x||1===A&&"@id"in x)){let n=await y({unmappedValue:x,activeCtx:e,activeProperty:t,element:r,options:c,insideList:u});x=void 0!==n?n:null}return x}},65180:function(e,t,r){"use strict";let{isSubjectReference:n}=r(64248),{createMergedNodeMap:i}=r(15167),o={};e.exports=o,o.flatten=e=>{let t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){let i=t[o[e]];n(i)||r.push(i)}return r}},66356:function(e,t,r){"use strict";let{isKeyword:n}=r(82387),i=r(64248),o=r(78830),a=r(14649),s=r(54616),l=r(64649),{createNodeMap:c,mergeNodeMapGraphs:u}=r(15167),d={};function f(e){let t={};for(let r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function p(e,t,r){let n="@"+r,i=n in e?e[n][0]:t[r];if("embed"===r){if(!0===i)i="@once";else if(!1===i)i="@never";else if("@always"!==i&&"@never"!==i&&"@link"!==i&&"@first"!==i&&"@last"!==i&&"@once"!==i)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}return i}function h(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new l("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e});if("@id"in e[0]){for(let t of a.asArray(e[0]["@id"]))if(!(o.isObject(t)||s.isAbsolute(t))||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}if("@type"in e[0]){for(let t of a.asArray(e[0]["@type"]))if(!(o.isObject(t)||s.isAbsolute(t))||o.isString(t)&&0===t.indexOf("_:"))throw new l("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}function y(e,t,r,s){let l=!0,c=!1;for(let u in r){let d=!1,f=a.getValues(t,u),p=0===a.getValues(r,u).length;if("@id"===u){if(o.isEmptyObject(r["@id"][0]||{})?d=!0:r["@id"].length>=0&&(d=r["@id"].includes(f[0])),!s.requireAll)return d}else if("@type"===u){if(l=!1,p){if(f.length>0)return!1;d=!0}else if(1===r["@type"].length&&o.isEmptyObject(r["@type"][0]))d=f.length>0;else for(let e of r["@type"])d=!!o.isObject(e)&&"@default"in e||d||f.some(t=>t===e);if(!s.requireAll)return d}else{if(n(u))continue;let t=a.getValues(r,u)[0],c=!1;if(t&&(h([t]),c="@default"in t),l=!1,0===f.length&&c)continue;if(f.length>0&&p)return!1;if(void 0===t){if(f.length>0)return!1;d=!0}else if(i.isList(t)){let r=t["@list"][0];if(i.isList(f[0])){let t=f[0]["@list"];i.isValue(r)?d=t.some(e=>m(r,e)):(i.isSubject(r)||i.isSubjectReference(r))&&(d=t.some(t=>v(e,r,t,s)))}}else d=i.isValue(t)?f.some(e=>m(t,e)):i.isSubjectReference(t)?f.some(r=>v(e,t,r,s)):!!o.isObject(t)&&f.length>0}if(!d&&s.requireAll)return!1;c=c||d}return l||c}function g(e,t,r){o.isObject(e)?a.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function v(e,t,r,n){if(!("@id"in r))return!1;let i=e.subjects[r["@id"]];return i&&y(e,i,t,n)}function m(e,t){let r=t["@value"],n=t["@type"],i=t["@language"],a=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],s=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],l=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===a.length&&0===s.length&&0===l.length||!!((a.includes(r)||o.isEmptyObject(a[0]))&&(!n&&0===s.length||s.includes(n)||n&&o.isEmptyObject(s[0]))&&(!i&&0===l.length||l.includes(i)||i&&o.isEmptyObject(l[0])))}e.exports=d,d.frameMergedOrDefault=(e,t,r)=>{let n={options:r,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},s=new a.IdentifierIssuer("_:b");c(e,n.graphMap,"@default",s),r.merged&&(n.graphMap["@merged"]=u(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];let l=[];return d.frame(n,Object.keys(n.subjects).sort(),t,l),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),// remove @preserve from results
r.link={},/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function e(t,r){if(o.isArray(t))return t.map(t=>e(t,r));if(o.isObject(t)){// remove @preserve
if("@preserve"in t)return t["@preserve"][0];if(i.isValue(t))return t;if(i.isList(t))return t["@list"]=e(t["@list"],r),t;if("@id"in t){let e=t["@id"];if(r.link.hasOwnProperty(e)){let n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}for(let n in t){if("@id"===n&&r.bnodesToClear.includes(t[n])){delete t["@id"];continue}t[n]=e(t[n],r)}}return t}(l,r)},d.frame=(e,t,r,s,c=null)=>{h(r),r=r[0];let u=e.options,v={embed:p(r,u,"embed"),explicit:p(r,u,"explicit"),requireAll:p(r,u,"requireAll")};e.link.hasOwnProperty(e.graph)||(e.link[e.graph]={});let b=e.link[e.graph],_=function(e,t,r,n){let i={};for(let o of t){let t=e.graphMap[e.graph][o];y(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,v),w=Object.keys(_).sort();for(let h of w){let y=_[h];if(null===c?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{},"@link"===v.embed&&h in b){g(s,c,b[h]);continue}let w={"@id":h};if(0===h.indexOf("_:")&&a.addValue(e.bnodeMap,h,w,{propertyIsArray:!0}),b[h]=w,("@first"===v.embed||"@last"===v.embed)&&e.is11)throw new l("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:r});if(!(!e.embedded&&e.uniqueEmbeds[e.graph].hasOwnProperty(h))){if(e.embedded&&("@never"===v.embed||function(e,t,r){for(let n=r.length-1;n>=0;--n){let i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}(y,e.graph,e.subjectStack))||e.embedded&&("@first"==v.embed||"@once"==v.embed)&&e.uniqueEmbeds[e.graph].hasOwnProperty(h)){g(s,c,w);continue}if("@last"===v.embed&&h in e.uniqueEmbeds[e.graph]&&function(e,t){let r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,s=n.property,l={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(a.compareValues(i[e],l)){i[e]=l;break}}else{let e=o.isArray(i[s]);a.removeValue(i,s,l,{propertyIsArray:e}),a.addValue(i,s,l,{propertyIsArray:e})}let c=e=>{let t=Object.keys(r);for(let n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],c(n))};c(t)}(e,h),e.uniqueEmbeds[e.graph][h]={parent:s,property:c},e.subjectStack.push({subject:y,graph:e.graph}),h in e.graphMap){let t=!1,n=null;"@graph"in r?(n=r["@graph"][0],t=!("@merged"===h||"@default"===h),o.isObject(n)||(n={})):(t="@merged"!==e.graph,n={}),t&&d.frame({...e,graph:h,embedded:!1},Object.keys(e.graphMap[h]).sort(),[n],w,"@graph")}for(let o of("@included"in r&&d.frame({...e,embedded:!1},t,r["@included"],w,"@included"),Object.keys(y).sort())){if(n(o)){if(w[o]=a.clone(y[o]),"@type"===o)for(let t of y["@type"])0===t.indexOf("_:")&&a.addValue(e.bnodeMap,t,w,{propertyIsArray:!0});continue}if(!v.explicit||o in r)for(let t of y[o]){let n=o in r?r[o]:f(v);if(i.isList(t)){let n=r[o]&&r[o][0]&&r[o][0]["@list"]?r[o][0]["@list"]:f(v),s={"@list":[]};g(w,o,s);let l=t["@list"];for(let t of l)i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],n,s,"@list"):g(s,"@list",a.clone(t))}else i.isSubjectReference(t)?d.frame({...e,embedded:!0},[t["@id"]],n,w,o):m(n[0],t)&&g(w,o,a.clone(t))}}for(let e of Object.keys(r).sort()){if("@type"===e){if(!o.isObject(r[e][0])||!("@default"in r[e][0]))continue}else if(n(e))continue;let t=r[e][0]||{},i=p(t,u,"omitDefault");if(!i&&!(e in w)){let r="@null";"@default"in t&&(r=a.clone(t["@default"])),o.isArray(r)||(r=[r]),w[e]=[{"@preserve":r}]}}for(let t of Object.keys(r["@reverse"]||{}).sort()){let n=r["@reverse"][t];for(let r of Object.keys(e.subjects)){let i=a.getValues(e.subjects[r],t);i.some(e=>e["@id"]===h)&&(w["@reverse"]=w["@reverse"]||{},a.addValue(w["@reverse"],t,[],{propertyIsArray:!0}),d.frame({...e,embedded:!0},[r],n,w["@reverse"][t],c))}}g(s,c,w),e.subjectStack.pop()}}},d.cleanupNull=(e,t)=>{if(o.isArray(e)){let r=e.map(e=>d.cleanupNull(e,t));return r.filter(e=>e)}if("@null"===e)return null;if(o.isObject(e)){if("@id"in e){let r=e["@id"];if(t.link.hasOwnProperty(r)){let n=t.link[r].indexOf(e);if(-1!==n)return t.link[r][n];t.link[r].push(e)}else t.link[r]=[e]}for(let r in e)e[r]=d.cleanupNull(e[r],t)}return e}},63537:function(e,t,r){"use strict";let n=r(64649),i=r(64248),o=r(78830),a=r(14649),{RDF_LIST:s,RDF_FIRST:l,RDF_REST:c,RDF_NIL:u,RDF_TYPE:d,RDF_JSON_LITERAL:f,XSD_BOOLEAN:p,XSD_DOUBLE:h,XSD_INTEGER:y,XSD_STRING:g}=r(36417),v=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,m={};e.exports=m,m.fromRDF=async(e,{useRdfType:t=!1,useNativeTypes:r=!1,rdfDirection:m=null})=>{let b={},_={"@default":b},w={};for(let i of e){let e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in _||(_[e]={}),"@default"===e||e in b||(b[e]={"@id":e});let s=_[e],l=i.subject.value,c=i.predicate.value,S=i.object;l in s||(s[l]={"@id":l});let O=s[l],M=S.termType.endsWith("Node");if(!M||S.value in s||(s[S.value]={"@id":S.value}),c===d&&!t&&M){a.addValue(O,"@type",S.value,{propertyIsArray:!0});continue}let R=function(e,t,r){if(e.termType.endsWith("Node"))return{"@id":e.value};let i={"@value":e.value};if(e.language)i["@language"]=e.language;else{let a=e.datatype.value;if(a||(a=g),a===f){a="@json";try{i["@value"]=JSON.parse(i["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:i["@value"],cause:e})}}if(t){if(a===p)"true"===i["@value"]?i["@value"]=!0:"false"===i["@value"]&&(i["@value"]=!1);else if(o.isNumeric(i["@value"])){if(a===y){let e=parseInt(i["@value"],10);e.toFixed(0)===i["@value"]&&(i["@value"]=e)}else a===h&&(i["@value"]=parseFloat(i["@value"]))}[p,y,h,g].includes(a)||(i["@type"]=a)}else if("i18n-datatype"===r&&a.startsWith("https://www.w3.org/ns/i18n#")){let[,e,t]=a.split(/[#_]/);e.length>0&&(i["@language"]=e,e.match(v)||console.warn(`@language must be valid BCP47: ${e}`)),i["@direction"]=t}else a!==g&&(i["@type"]=a)}return i}(S,r,m);if(a.addValue(O,c,R,{propertyIsArray:!0}),M){if(S.value===u){let e=s[S.value];"usages"in e||(e.usages=[]),e.usages.push({node:O,property:c,value:R})}else S.value in w?w[S.value]=!1:w[S.value]={node:O,property:c,value:R}}}for(let e in _){let t=_[e];if(!(u in t))continue;let r=t[u];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,a=e.value,u=[],d=[],f=Object.keys(r).length;for(;n===c&&o.isObject(w[r["@id"]])&&o.isArray(r[l])&&1===r[l].length&&o.isArray(r[c])&&1===r[c].length&&(3===f||4===f&&o.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===s)&&(u.push(r[l][0]),d.push(r["@id"]),r=(e=w[r["@id"]]).node,n=e.property,a=e.value,f=Object.keys(r).length,i.isBlankNode(r)););for(let e of(delete a["@id"],a["@list"]=u.reverse(),d))delete t[e]}delete r.usages}}let S=[],O=Object.keys(b).sort();for(let e of O){let t=b[e];if(e in _){let r=t["@graph"]=[],n=_[e],o=Object.keys(n).sort();for(let e of o){let t=n[e];i.isSubjectReference(t)||r.push(t)}}i.isSubjectReference(t)||S.push(t)}return S}},64248:function(e,t,r){"use strict";let n=r(78830),i={};e.exports=i,i.isSubject=e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){let t=Object.keys(e).length;return t>1||!("@id"in e)}return!1},i.isSubjectReference=e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e,i.isValue=e=>n.isObject(e)&&"@value"in e,i.isList=e=>n.isObject(e)&&"@list"in e,i.isGraph=e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length,i.isSimpleGraph=e=>i.isGraph(e)&&!("@id"in e),i.isBlankNode=e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e))},38038:function(e,t,r){/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2019 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let n=r(33512),i=r(56091),o=r(14649),a=r(82265),s=o.IdentifierIssuer,l=r(64649),c=r(36134),u=r(25165),{expand:d}=r(4628),{flatten:f}=r(65180),{fromRDF:p}=r(63537),{toRDF:h}=r(8615),{frameMergedOrDefault:y,cleanupNull:g}=r(66356),{isArray:v,isObject:m,isString:b}=r(78830),{isSubjectReference:_}=r(64248),{expandIri:w,getInitialContext:S,process:O,processingMode:M}=r(82387),{compact:R,compactIri:P}=r(68605),{createNodeMap:E,createMergedNodeMap:I,mergeNodeMaps:x}=r(15167),A=function(e){let t={},A=new c({max:100});function C(t,{documentLoader:r=e.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,t)}return e.compact=async function(t,r,n){let i;if(arguments.length<2)throw TypeError("Could not compact, too few arguments.");if(null===r)throw new l("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===t)return null;(n=C(n,{base:b(t)?t:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new s("_:b"),contextResolver:new a({sharedCache:A})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?t:await e.expand(t,n);let c=await e.processContext(S(n),r,n),u=await R({activeCtx:c,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&v(u)?1===u.length?u=u[0]:0===u.length&&(u={}):n.graph&&m(u)&&(u=[u]),m(r)&&"@context"in r&&(r=r["@context"]),v(r=o.clone(r))||(r=[r]);let d=r;r=[];for(let e=0;e<d.length;++e)(!m(d[e])||Object.keys(d[e]).length>0)&&r.push(d[e]);let f=r.length>0;if(1===r.length&&(r=r[0]),v(u)){let e=P({activeCtx:c,iri:"@graph",relativeTo:{vocab:!0}}),t=u;u={},f&&(u["@context"]=r),u[e]=t}else if(m(u)&&f){let e=u;for(let t in u={"@context":r},e)u[t]=e[t]}return u},e.expand=async function(t,r){let n;if(arguments.length<1)throw TypeError("Could not expand, too few arguments.");!1===(r=C(r,{keepFreeFloatingNodes:!1,contextResolver:new a({sharedCache:A})})).expansionMap&&(r.expansionMap=void 0);let i={},s=[];if("expandContext"in r){let e=o.clone(r.expandContext);m(e)&&"@context"in e?i.expandContext=e:i.expandContext={"@context":e},s.push(i.expandContext)}if(b(t)){let o=await e.get(t,r);n=o.documentUrl,i.input=o.document,o.contextUrl&&(i.remoteContext={"@context":o.contextUrl},s.push(i.remoteContext))}else i.input=o.clone(t);"base"in r||(r.base=n||"");let l=S(r);for(let e of s)l=await O({activeCtx:l,localCtx:e,options:r});let c=await d({activeCtx:l,element:i.input,options:r,expansionMap:r.expansionMap});return m(c)&&"@graph"in c&&1===Object.keys(c).length?c=c["@graph"]:null===c&&(c=[]),v(c)||(c=[c]),c},e.flatten=async function(t,r,n){if(arguments.length<1)return TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=C(n,{base:b(t)?t:"",contextResolver:new a({sharedCache:A})});let i=await e.expand(t,n),o=f(i);if(null===r)return o;n.graph=!0,n.skipExpansion=!0;let s=await e.compact(o,r,n);return s},e.frame=async function(t,r,n){if(arguments.length<2)throw TypeError("Could not frame, too few arguments.");if(n=C(n,{base:b(t)?t:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new a({sharedCache:A})}),b(r)){let t=await e.get(r,n);if(r=t.document,t.contextUrl){let e=r["@context"];e?v(e)?e.push(t.contextUrl):e=[e,t.contextUrl]:e=t.contextUrl,r["@context"]=e}}let i=r&&r["@context"]||{},o=await e.processContext(S(n),i,n);n.hasOwnProperty("omitGraph")||(n.omitGraph=M(o,1.1)),n.hasOwnProperty("pruneBlankNodeIdentifiers")||(n.pruneBlankNodeIdentifiers=M(o,1.1));let s=await e.expand(t,n),l={...n};l.isFrame=!0,l.keepFreeFloatingNodes=!0;let c=await e.expand(r,l),u=Object.keys(r).map(e=>w(o,e,{vocab:!0}));l.merged=!u.includes("@graph"),l.is11=M(o,1.1);let d=y(s,c,l);l.graph=!n.omitGraph,l.skipExpansion=!0,l.link={},l.framing=!0;let f=await e.compact(d,i,l);return l.link={},f=g(f,l)},e.link=async function(t,r,n){let i={};return r&&(i["@context"]=r),i["@embed"]="@link",e.frame(t,i,n)},e.normalize=e.canonize=async function(t,r){if(arguments.length<1)throw TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=C(r,{base:b(t)?t:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new a({sharedCache:A})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new l("Unknown canonicalization input format.","jsonld.CanonizeError");let e=u.parse(t);return n.canonize(e,r)}let i={...r};delete i.format,i.produceGeneralizedRdf=!1;let o=await e.toRDF(t,i);return n.canonize(o,r)},e.fromRDF=async function(e,r){if(arguments.length<1)throw TypeError("Could not convert from RDF, too few arguments.");r=C(r,{format:b(e)?"application/n-quads":void 0});let{format:n}=r,{rdfParser:i}=r;if(n){if(!(i=i||t[n]))throw new l("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=()=>e;let o=await i(e);return p(o,r)},e.toRDF=async function(t,r){let n;if(arguments.length<1)throw TypeError("Could not convert to RDF, too few arguments.");n=(r=C(r,{base:b(t)?t:"",skipExpansion:!1,contextResolver:new a({sharedCache:A})})).skipExpansion?t:await e.expand(t,r);let i=h(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return u.serialize(i);throw new l("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},e.createNodeMap=async function(t,r){if(arguments.length<1)throw TypeError("Could not create node map, too few arguments.");r=C(r,{base:b(t)?t:"",contextResolver:new a({sharedCache:A})});let n=await e.expand(t,r);return I(n,r)},e.merge=async function(t,r,n){if(arguments.length<1)throw TypeError("Could not merge, too few arguments.");if(!v(t))throw TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=C(n,{contextResolver:new a({sharedCache:A})});let i=await Promise.all(t.map(t=>{let r={...n};return e.expand(t,r)})),l=!0;"mergeNodes"in n&&(l=n.mergeNodes);let c=n.issuer||new s("_:b"),u={"@default":{}};for(let e=0;e<i.length;++e){let t=o.relabelBlankNodes(i[e],{issuer:new s("_:b"+e+"-")}),r=l||0===e?u:{"@default":{}};if(E(t,r,"@default",c),r!==u)for(let e in r){let t=r[e];if(!(e in u)){u[e]=t;continue}let n=u[e];for(let e in t)e in n||(n[e]=t[e])}}let d=x(u),f=[],p=Object.keys(d).sort();for(let e=0;e<p.length;++e){let t=d[p[e]];_(t)||f.push(t)}if(null===r)return f;n.graph=!0,n.skipExpansion=!0;let h=await e.compact(f,r,n);return h},Object.defineProperty(e,"documentLoader",{get:()=>e._documentLoader,set:t=>e._documentLoader=t}),e.documentLoader=async e=>{throw new l("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})},e.get=async function(t,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:e.documentLoader;let i=await n(t);try{if(!i.document)throw new l("No remote document found at the given URL.","jsonld.NullRemoteDocument");b(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new l("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},e.processContext=async function(e,t,r){return(r=C(r,{base:"",contextResolver:new a({sharedCache:A})}),null===t)?S(r):(m(t=o.clone(t))&&"@context"in t||(t={"@context":t}),O({activeCtx:e,localCtx:t,options:r}))},e.getContextValue=r(82387).getContextValue,e.documentLoaders={},e.useDocumentLoader=function(t){if(!(t in e.documentLoaders))throw new l('Unknown document loader type: "'+t+'"',"jsonld.UnknownDocumentLoader",{type:t});e.documentLoader=e.documentLoaders[t].apply(e,Array.prototype.slice.call(arguments,1))},e.registerRDFParser=function(e,r){t[e]=r},e.unregisterRDFParser=function(e){delete t[e]},e.registerRDFParser("application/n-quads",u.parse),e.registerRDFParser("application/nquads",u.parse),e.url=r(54616),e.util=o,Object.assign(e,o),e.promises=e,e.RequestQueue=r(43651),e.JsonLdProcessor=r(63429)(e),i.setupGlobals(e),i.setupDocumentLoaders(e),e},C=function(){return A(function(){return C()})};A(C),e.exports=C},15167:function(e,t,r){"use strict";let{isKeyword:n}=r(82387),i=r(64248),o=r(78830),a=r(14649),s=r(64649),l={};e.exports=l,l.createMergedNodeMap=(e,t)=>{t=t||{};let r=t.issuer||new a.IdentifierIssuer("_:b"),n={"@default":{}};return l.createNodeMap(e,n,"@default",r),l.mergeNodeMaps(n)},l.createNodeMap=(e,t,r,c,u,d)=>{if(o.isArray(e)){for(let n of e)l.createNodeMap(n,t,r,c,void 0,d);return}if(!o.isObject(e)){d&&d.push(e);return}if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=c.getId(t))}d&&d.push(e);return}if(d&&i.isList(e)){let n=[];l.createNodeMap(e["@list"],t,r,c,u,n),d.push({"@list":n});return}if("@type"in e){let t=e["@type"];for(let e of t)0===e.indexOf("_:")&&c.getId(e)}o.isUndefined(u)&&(u=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"]),d&&d.push({"@id":u});let f=t[r],p=f[u]=f[u]||{};p["@id"]=u;let h=Object.keys(e).sort();for(let o of h){if("@id"===o)continue;if("@reverse"===o){let n={"@id":u},o=e["@reverse"];for(let e in o){let s=o[e];for(let o of s){let s=o["@id"];i.isBlankNode(o)&&(s=c.getId(s)),l.createNodeMap(o,t,r,c,s),a.addValue(f[s],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){u in t||(t[u]={}),l.createNodeMap(e[o],t,u,c);continue}if("@included"===o){l.createNodeMap(e[o],t,r,c);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in p&&(e[o]!==p[o]||e[o]["@id"]!==p[o]["@id"]))throw new s("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:p});p[o]=e[o];continue}let d=e[o];if(0===o.indexOf("_:")&&(o=c.getId(o)),0===d.length){a.addValue(p,o,[],{propertyIsArray:!0});continue}for(let e of d)if("@type"===o&&(e=0===e.indexOf("_:")?c.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){if("@id"in e&&!e["@id"])continue;let n=i.isBlankNode(e)?c.getId(e["@id"]):e["@id"];a.addValue(p,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),l.createNodeMap(e,t,r,c,n)}else if(i.isValue(e))a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){let n=[];l.createNodeMap(e["@list"],t,r,c,u,n),e={"@list":n},a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else l.createNodeMap(e,t,r,c,u),a.addValue(p,o,e,{propertyIsArray:!0,allowDuplicate:!1})}},l.mergeNodeMapGraphs=e=>{let t={};for(let r of Object.keys(e).sort())for(let i of Object.keys(e[r]).sort()){let o=e[r][i];i in t||(t[i]={"@id":i});let s=t[i];for(let e of Object.keys(o).sort())if(n(e)&&"@type"!==e)s[e]=a.clone(o[e]);else for(let t of o[e])a.addValue(s,e,a.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t},l.mergeNodeMaps=e=>{let t=e["@default"],r=Object.keys(e).sort();for(let n of r){if("@default"===n)continue;let r=e[n],o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};let a=o["@graph"];for(let e of Object.keys(r).sort()){let t=r[e];i.isSubjectReference(t)||a.push(t)}}return t}},56091:function(e,t,r){"use strict";let n=r(45200),i={};e.exports=i,i.setupDocumentLoaders=function(e){"undefined"!=typeof XMLHttpRequest&&(e.documentLoaders.xhr=n,e.useDocumentLoader("xhr"))},i.setupGlobals=function(e){void 0===globalThis.JsonLdProcessor&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:e.JsonLdProcessor})}},8615:function(e,t,r){"use strict";let{createNodeMap:n}=r(15167),{isKeyword:i}=r(82387),o=r(64248),a=r(75765),s=r(78830),l=r(14649),{RDF_FIRST:c,RDF_REST:u,RDF_NIL:d,RDF_TYPE:f,RDF_JSON_LITERAL:p,RDF_LANGSTRING:h,XSD_BOOLEAN:y,XSD_DOUBLE:g,XSD_INTEGER:v,XSD_STRING:m}=r(36417),{isAbsolute:b}=r(54616),_={};e.exports=_,_.toRDF=(e,t)=>{let r=new l.IdentifierIssuer("_:b"),_={"@default":{}};n(e,_,"@default",r);let w=[],S=Object.keys(_).sort();for(let e of S){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!b(e))continue;(n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}(function(e,t,r,n,l){let _=Object.keys(t).sort();for(let w of _){let _=t[w],S=Object.keys(_).sort();for(let t of S){let S=_[t];if("@type"===t)t=f;else if(i(t))continue;for(let i of S){let f={termType:w.startsWith("_:")?"BlankNode":"NamedNode",value:w};if(!b(w))continue;let _={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!b(t)||"BlankNode"===_.termType&&!l.produceGeneralizedRdf)continue;let S=function e(t,r,n,i,l){let f={};if(o.isValue(t)){f.termType="Literal",f.value=void 0,f.datatype={termType:"NamedNode"};let e=t["@value"],r=t["@type"]||null;if("@json"===r)f.value=a(e),f.datatype.value=p;else if(s.isBoolean(e))f.value=e.toString(),f.datatype.value=r||y;else if(s.isDouble(e)||r===g)s.isDouble(e)||(e=parseFloat(e)),f.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),f.datatype.value=r||g;else if(s.isNumber(e))f.value=e.toFixed(0),f.datatype.value=r||v;else if("i18n-datatype"===l&&"@direction"in t){let r="https://www.w3.org/ns/i18n#"+(t["@language"]||"")+`_${t["@direction"]}`;f.datatype.value=r,f.value=e}else"@language"in t?(f.value=e,f.datatype.value=r||h,f.language=t["@language"]):(f.value=e,f.datatype.value=r||m)}else if(o.isList(t)){let o=function(t,r,n,i,o){let a={termType:"NamedNode",value:c},s={termType:"NamedNode",value:u},l={termType:"NamedNode",value:d},f=t.pop(),p=f?{termType:"BlankNode",value:r.getId()}:l,h=p;for(let l of t){let t=e(l,r,n,i,o),c={termType:"BlankNode",value:r.getId()};n.push({subject:h,predicate:a,object:t,graph:i}),n.push({subject:h,predicate:s,object:c,graph:i}),h=c}if(f){let t=e(f,r,n,i,o);n.push({subject:h,predicate:a,object:t,graph:i}),n.push({subject:h,predicate:s,object:l,graph:i})}return p}(t["@list"],r,n,i,l);f.termType=o.termType,f.value=o.value}else{let e=s.isObject(t)?t["@id"]:t;f.termType=e.startsWith("_:")?"BlankNode":"NamedNode",f.value=e}return"NamedNode"!==f.termType||b(f.value)?f:null}(i,n,e,r,l.rdfDirection);S&&e.push({subject:f,predicate:_,object:S,graph:r})}}}})(w,_[e],n,r,t)}return w}},78830:function(e){"use strict";let t={};e.exports=t,t.isArray=Array.isArray,t.isBoolean=e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e),t.isDouble=e=>t.isNumber(e)&&(-1!==String(e).indexOf(".")||Math.abs(e)>=1e21),t.isEmptyObject=e=>t.isObject(e)&&0===Object.keys(e).length,t.isNumber=e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e),t.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e),t.isObject=e=>"[object Object]"===Object.prototype.toString.call(e),t.isString=e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e),t.isUndefined=e=>void 0===e},54616:function(e,t,r){"use strict";let n=r(78830),i={};e.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=(e,t)=>{let r={},n=i.parsers[t||"full"],o=n.regex.exec(e),a=n.keys.length;for(;a--;)r[n.keys[a]]=void 0===o[a]?null:o[a];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r},i.prependBase=(e,t)=>{if(null===e||i.isAbsolute(t))return t;(!e||n.isString(e))&&(e=i.parse(e||""));let r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;((t=t.substr(0,t.lastIndexOf("/")+1)).length>0||e.authority)&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let a=o.protocol;return null!==o.authority&&(a+="//"+o.authority),a+=o.path,null!==o.query&&(a+="?"+o.query),null!==r.fragment&&(a+="#"+r.fragment),""===a&&(a="./"),a},i.removeBase=(e,t)=>{if(null===e)return t;(!e||n.isString(e))&&(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;let o=i.parse(t.substr(r.length)),a=e.normalizedPath.split("/"),s=o.normalizedPath.split("/"),l=o.fragment||o.query?0:1;for(;a.length>0&&s.length>l&&a[0]===s[0];)a.shift(),s.shift();let c="";if(a.length>0){a.pop();for(let e=0;e<a.length;++e)c+="../"}return c+=s.join("/"),null!==o.query&&(c+="?"+o.query),null!==o.fragment&&(c+="#"+o.fragment),""===c&&(c="./"),c},i.removeDotSegments=e=>{if(0===e.length)return"";let t=e.split("/"),r=[];for(;t.length>0;){let e=t.shift(),n=0===t.length;if("."===e){n&&r.push("");continue}if(".."===e){r.pop(),n&&r.push("");continue}r.push(e)}return("/"===e[0]&&r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0])?"/":r.join("/")};let o=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;i.isAbsolute=e=>n.isString(e)&&o.test(e),i.isRelative=e=>n.isString(e)},14649:function(e,t,r){"use strict";let n=r(64248),i=r(78830),o=r(33512).IdentifierIssuer,a=r(64649),s=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,l=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,c=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,u={headers:{accept:"application/ld+json, application/json"}},d={};e.exports=d,d.IdentifierIssuer=o,d.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=d.clone(e[r])}else if(e instanceof Map)for(let[r,n]of(t=new Map,e))t.set(r,d.clone(n));else if(e instanceof Set)for(let r of(t=new Set,e))t.add(d.clone(r));else if(i.isObject(e))for(let r in t={},e)t[r]=d.clone(e[r]);else t=e.toString();return t}return e},d.asArray=function(e){return Array.isArray(e)?e:[e]},d.buildHeaders=(e={})=>{let t=Object.keys(e).some(e=>"accept"===e.toLowerCase());if(t)throw RangeError('Accept header may not be specified; only "'+u.headers.accept+'" is supported.');return Object.assign({Accept:u.headers.accept},e)},d.parseLinkHeader=e=>{let t={},r=e.match(s);for(let e=0;e<r.length;++e){let n=r[e].match(l);if(!n)continue;let i={target:n[1]},o=n[2];for(;n=c.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];let a=i.rel||"";Array.isArray(t[a])?t[a].push(i):t.hasOwnProperty(a)?t[a]=[t[a],i]:t[a]=i}return t},d.validateTypeValue=(e,t)=>{if(!(i.isString(e)||i.isArray(e)&&e.every(e=>i.isString(e)))){if(t&&i.isObject(e))switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&d.asArray(e["@default"]).every(e=>i.isString(e)))return}throw new a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}},d.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){let r=e[t];return!i.isArray(r)||r.length>0}return!1},d.hasValue=(e,t,r)=>{if(d.hasProperty(e,t)){let o=e[t],a=n.isList(o);if(i.isArray(o)||a){a&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(d.compareValues(r,o[e]))return!0}else if(!i.isArray(r))return d.compareValues(r,o)}return!1},d.addValue=(e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)d.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){let o=!n.allowDuplicate&&d.hasValue(e,t,r);i.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r},d.getValues=(e,t)=>[].concat(e[t]||[]),d.removeProperty=(e,t)=>{delete e[t]},d.removeValue=(e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);let i=d.getValues(e,t).filter(e=>!d.compareValues(e,r));0===i.length?d.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]},d.relabelBlankNodes=(e,t)=>{t=t||{};let r=t.issuer||new o("_:b");return function e(t,r){if(i.isArray(r))for(let n=0;n<r.length;++n)r[n]=e(t,r[n]);else if(n.isList(r))r["@list"]=e(t,r["@list"]);else if(i.isObject(r)){n.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));let i=Object.keys(r).sort();for(let n=0;n<i.length;++n){let o=i[n];"@id"!==o&&(r[o]=e(t,r[o]))}}return r}(r,e)},d.compareValues=(e,t)=>!!(e===t||n.isValue(e)&&n.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t))&&"@id"in t&&e["@id"]===t["@id"],d.compareShortestLeast=(e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1},33512:function(e,t,r){e.exports=r(12003)},79896:function(e){"use strict";e.exports=class e{constructor(e,t=new Map,r=0){this.prefix=e,this._existing=t,this.counter=r}clone(){let{prefix:t,_existing:r,counter:n}=this;return new e(t,new Map(r),n)}getId(e){let t=e&&this._existing.get(e);if(t)return t;let r=this.prefix+this.counter;return this.counter++,e&&this._existing.set(e,r),r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},96959:function(e){"use strict";let t=self.crypto||self.msCrypto;e.exports=class{constructor(e){if(!(t&&t.subtle))throw Error("crypto.subtle not found.");if("sha256"===e)this.algorithm={name:"SHA-256"};else if("sha1"===e)this.algorithm={name:"SHA-1"};else throw Error(`Unsupported algorithm "${e}".`);this._content=""}update(e){this._content+=e}async digest(){let e=new TextEncoder().encode(this._content),r=new Uint8Array(await t.subtle.digest(this.algorithm,e)),n="";for(let e=0;e<r.length;++e)n+=r[e].toString(16).padStart(2,"0");return n}}},19723:function(e){"use strict";let t="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",r="http://www.w3.org/2001/XMLSchema#string",n="NamedNode",i="BlankNode",o="Literal",a="DefaultGraph",s={};(()=>{let e="(?:<([^:]+:[^>]*)>)",t="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_",r=t+"0-9-\xb7̀-ͯ‿-⁀",n="(_:(?:["+t+"0-9])(?:(?:["+r+".])*(?:["+r+"]))?)",i="[ \\t]+",o="[ \\t]*";s.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,s.empty=RegExp("^"+o+"$"),s.quad=RegExp("^"+o+("(?:"+e+"|")+n+")"+i+(e+i)+("(?:"+e+"|"+n+'|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^'+e)+")|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))"+o+("(?:\\.|(?:(?:"+e+"|"+n)+")"+o+"\\.))"+o+"$")})(),e.exports=class e{static parse(e){let l=[],u={},d=e.split(s.eoln),f=0;for(let e of d){if(f++,s.empty.test(e))continue;let d=e.match(s.quad);if(null===d)throw Error("N-Quads parse error on line "+f+".");let p={subject:null,predicate:null,object:null,graph:null};if(void 0!==d[1]?p.subject={termType:n,value:d[1]}:p.subject={termType:i,value:d[2]},p.predicate={termType:n,value:d[3]},void 0!==d[4]?p.object={termType:n,value:d[4]}:void 0!==d[5]?p.object={termType:i,value:d[5]}:(p.object={termType:o,value:void 0,datatype:{termType:n}},void 0!==d[7]?p.object.datatype.value=d[7]:void 0!==d[8]?(p.object.datatype.value=t,p.object.language=d[8]):p.object.datatype.value=r,p.object.value=d[6].replace(c,function(e,t,r,n){if(t)switch(t){case"t":return"	";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw Error("Unsupported U escape")})),void 0!==d[9]?p.graph={termType:n,value:d[9]}:void 0!==d[10]?p.graph={termType:i,value:d[10]}:p.graph={termType:a,value:""},p.graph.value in u){let e=!0,t=u[p.graph.value];for(let r of t)if(r.subject.termType===p.subject.termType&&r.object.termType===p.object.termType&&r.subject.value===p.subject.value&&r.predicate.value===p.predicate.value&&r.object.value===p.object.value&&(r.object.termType!==o||r.object.datatype.termType===p.object.datatype.termType&&r.object.language===p.object.language&&r.object.datatype.value===p.object.datatype.value)){e=!1;break}e&&(t.push(p),l.push(p))}else u[p.graph.value]=[p],l.push(p)}return l}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));let r=[];for(let n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){let o=e.subject,a=e.predicate,s=e.object,c=e.graph,u="";return o.termType===n?u+=`<${o.value}>`:u+=`${o.value}`,u+=` <${a.value}> `,s.termType===n?u+=`<${s.value}>`:s.termType===i?u+=s.value:(u+=`"${s.value.replace(l,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}"`,s.datatype.value===t?s.language&&(u+=`@${s.language}`):s.datatype.value!==r&&(u+=`^^<${s.datatype.value}>`)),c.termType===n?u+=` <${c.value}>`:c.termType===i&&(u+=` ${c.value}`),u+=" .\n"}static legacyDatasetToQuads(e){let s=[],l={"blank node":i,IRI:n,literal:o};for(let c in e){let u=e[c];u.forEach(e=>{let u={};for(let i in e){let a=e[i],s={termType:l[a.type],value:a.value};s.termType!==o||(s.datatype={termType:n},"datatype"in a&&(s.datatype.value=a.datatype),"language"in a?("datatype"in a||(s.datatype.value=t),s.language=a.language):"datatype"in a||(s.datatype.value=r)),u[i]=s}"@default"===c?u.graph={termType:a,value:""}:u.graph={termType:c.startsWith("_:")?i:n,value:c},s.push(u)})}return s}};let l=/["\\\n\r]/g,c=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},9188:function(e){"use strict";e.exports=class{constructor(e){this.current=e.sort(),this.done=!1,this.dir=new Map;for(let t=0;t<e.length;++t)this.dir.set(e[t],!0)}hasNext(){return!this.done}next(){let{current:e,dir:t}=this,r=e.slice(),n=null,i=0,o=e.length;for(let r=0;r<o;++r){let a=e[r],s=t.get(a);(null===n||a>n)&&(s&&r>0&&a>e[r-1]||!s&&r<o-1&&a>e[r+1])&&(n=a,i=r)}if(null===n)this.done=!0;else{let r=t.get(n)?i-1:i+1;for(let o of(e[i]=e[r],e[r]=n,e))o>n&&t.set(o,!t.get(o))}return r}}},53618:function(e,t,r){"use strict";let n=r(79896),i=r(96959),o=r(9188),a=r(19723);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}async main(e){for(let t of(this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map,r=[...this.blankNodeInfo.keys()],i=0;for(let e of r)++i%100==0&&await this._yield(),await this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let o=[...t.keys()].sort(),l=[];for(let e of o){let r=t.get(e);if(r.length>1){l.push(r);continue}let n=r[0];this.canonicalIssuer.getId(n)}for(let e of l){let t=[];for(let r of e){if(this.canonicalIssuer.hasId(r))continue;let e=new n("_:b");e.getId(r);let i=await this.hashNDegreeQuads(r,e);t.push(i)}for(let e of(t.sort(s),t)){let t=e.issuer.getOldIds();for(let e of t)this.canonicalIssuer.getId(e)}}let c=[];for(let e of this.quads){let t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),c.push(a.serializeQuad(t))}return c.sort(),c.join("")}async hashFirstDegreeQuads(e){let t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(let r of n){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();let o=new i(this.hashAlgorithm);for(let e of t)o.update(e);return r.hash=await o.digest(),r.hash}async hashRelatedBlankNode(e,t,r,n){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;let a=new i(this.hashAlgorithm);return a.update(n),"g"!==n&&a.update(this.getRelatedPredicate(t)),a.update(o),a.digest()}async hashNDegreeQuads(e,t){let r=new i(this.hashAlgorithm),n=await this.createHashToRelated(e,t),a=[...n.keys()].sort();for(let e of a){let i;r.update(e);let a="",s=new o(n.get(e)),l=0;for(;s.hasNext();){let e=s.next();++l%3==0&&await this._yield();let r=t.clone(),n="",o=[],c=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||o.push(t),n+=r.getId(t)),0!==a.length&&n>a){c=!0;break}if(!c){for(let e of o){let t=await this.hashNDegreeQuads(e,r);if(n+=r.getId(e)+`<${t.hash}>`,r=t.issuer,0!==a.length&&n>a){c=!0;break}}!c&&(0===a.length||n<a)&&(a=n,i=r)}}r.update(a),t=i}return{hash:await r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){let r=new Map,n=this.blankNodeInfo.get(e).quads,i=0;for(let o of n)++i%100==0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:o,component:o.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:o,component:o.graph,position:"g",id:e,issuer:t,hashToRelated:r})]);return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){let r=await this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;let r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if(!("BlankNode"===t.termType&&t.value!==n))return;let a=t.value,s=await this.hashRelatedBlankNode(a,e,i,r),l=o.get(s);l?l.push(a):o.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}async _yield(){return new Promise(e=>setImmediate(e))}}},65373:function(e,t,r){"use strict";let n=r(79896),i=r(96959),o=r(9188),a=r(19723);function s(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}e.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads=null}main(e){for(let t of(this.quads=e,e))this._addBlankNodeQuadInfo({quad:t,component:t.subject}),this._addBlankNodeQuadInfo({quad:t,component:t.object}),this._addBlankNodeQuadInfo({quad:t,component:t.graph});let t=new Map,r=[...this.blankNodeInfo.keys()];for(let e of r)this._hashAndTrackBlankNode({id:e,hashToBlankNodes:t});let i=[...t.keys()].sort(),o=[];for(let e of i){let r=t.get(e);if(r.length>1){o.push(r);continue}let n=r[0];this.canonicalIssuer.getId(n)}for(let e of o){let t=[];for(let r of e){if(this.canonicalIssuer.hasId(r))continue;let e=new n("_:b");e.getId(r);let i=this.hashNDegreeQuads(r,e);t.push(i)}for(let e of(t.sort(s),t)){let t=e.issuer.getOldIds();for(let e of t)this.canonicalIssuer.getId(e)}}let l=[];for(let e of this.quads){let t={...e};t.subject=this._useCanonicalId({component:t.subject}),t.object=this._useCanonicalId({component:t.object}),t.graph=this._useCanonicalId({component:t.graph}),l.push(a.serializeQuad(t))}return l.sort(),l.join("")}hashFirstDegreeQuads(e){let t=[],r=this.blankNodeInfo.get(e),n=r.quads;for(let r of n){let n={subject:null,predicate:r.predicate,object:null,graph:null};n.subject=this.modifyFirstDegreeComponent(e,r.subject,"subject"),n.object=this.modifyFirstDegreeComponent(e,r.object,"object"),n.graph=this.modifyFirstDegreeComponent(e,r.graph,"graph"),t.push(a.serializeQuad(n))}t.sort();let o=new i(this.hashAlgorithm);for(let e of t)o.update(e);return r.hash=o.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){let o;o=this.canonicalIssuer.hasId(e)?this.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):this.blankNodeInfo.get(e).hash;let a=new i(this.hashAlgorithm);return a.update(n),"g"!==n&&a.update(this.getRelatedPredicate(t)),a.update(o),a.digest()}hashNDegreeQuads(e,t){let r=new i(this.hashAlgorithm),n=this.createHashToRelated(e,t),a=[...n.keys()].sort();for(let e of a){let i;r.update(e);let a="",s=new o(n.get(e));for(;s.hasNext();){let e=s.next(),r=t.clone(),n="",o=[],l=!1;for(let t of e)if(this.canonicalIssuer.hasId(t)?n+=this.canonicalIssuer.getId(t):(r.hasId(t)||o.push(t),n+=r.getId(t)),0!==a.length&&n>a){l=!0;break}if(!l){for(let e of o){let t=this.hashNDegreeQuads(e,r);if(n+=r.getId(e)+`<${t.hash}>`,r=t.issuer,0!==a.length&&n>a){l=!0;break}}!l&&(0===a.length||n<a)&&(a=n,i=r)}}r.update(a),t=i}return{hash:r.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){let r=new Map,n=this.blankNodeInfo.get(e).quads;for(let i of n)this._addRelatedBlankNodeHash({quad:i,component:i.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:i,component:i.graph,position:"g",id:e,issuer:t,hashToRelated:r});return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){let r=this.hashFirstDegreeQuads(e),n=t.get(r);n?n.push(e):t.set(r,[e])}_addBlankNodeQuadInfo({quad:e,component:t}){if("BlankNode"!==t.termType)return;let r=t.value,n=this.blankNodeInfo.get(r);n?n.quads.add(e):this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:n,issuer:i,hashToRelated:o}){if(!("BlankNode"===t.termType&&t.value!==n))return;let a=t.value,s=this.hashRelatedBlankNode(a,e,i,r),l=o.get(s);l?l.push(a):o.set(s,[a])}_useCanonicalId({component:e}){return"BlankNode"!==e.termType||e.value.startsWith(this.canonicalIssuer.prefix)?e:{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}}},9698:function(e,t,r){"use strict";let n=r(53618);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(e,t){let r=new Map,n=this.blankNodeInfo.get(e).quads,i=0;for(let o of n){let n,a;if("BlankNode"===o.subject.termType&&o.subject.value!==e)a=o.subject.value,n="p";else{if("BlankNode"!==o.object.termType||o.object.value===e)continue;a=o.object.value,n="r"}++i%100==0&&await this._yield();let s=await this.hashRelatedBlankNode(a,o,t,n),l=r.get(s);l?l.push(a):r.set(s,[a])}return r}}},36553:function(e,t,r){"use strict";let n=r(65373);e.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:"graph"===r?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){let r=new Map,n=this.blankNodeInfo.get(e).quads;for(let i of n){let n,o;if("BlankNode"===i.subject.termType&&i.subject.value!==e)o=i.subject.value,n="p";else{if("BlankNode"!==i.object.termType||i.object.value===e)continue;o=i.object.value,n="r"}let a=this.hashRelatedBlankNode(o,i,t,n),s=r.get(a);s?s.push(o):r.set(a,[o])}return r}}},12003:function(e,t,r){"use strict";let n;let i=r(53618),o=r(9698),a=r(65373),s=r(36553);try{n=r(Object(function(){var e=Error("Cannot find module 'rdf-canonize-native'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){}let l={};e.exports=l,l.NQuads=r(19723),l.IdentifierIssuer=r(79896),l._rdfCanonizeNative=function(e){return e&&(n=e),n},l.canonize=async function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!n)throw Error("rdf-canonize-native not available");return new Promise((r,i)=>n.canonize(e,t,(e,t)=>e?i(e):r(t)))}if("URDNA2015"===t.algorithm)return new i(t).main(e);if("URGNA2012"===t.algorithm)return new o(t).main(e);if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)},l._canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(n)return n.canonizeSync(e,t);throw Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new a(t).main(e);if("URGNA2012"===t.algorithm)return new s(t).main(e);if(!("algorithm"in t))throw Error("No RDF Dataset Canonicalization algorithm specified.");throw Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},82812:function(e,t,r){"use strict";/*!
 * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
 */let n=r(38038),{AssertionProofPurpose:i}=r(47680).purposes;class o extends i{constructor({controller:e,date:t,maxTimestampDelta:r}={}){super({controller:e,date:t,maxTimestampDelta:r})}async validate(e,{document:t,suite:r,verificationMethod:i,documentLoader:o,expansionMap:a}){try{let s=await super.validate(e,{document:t,suite:r,verificationMethod:i,documentLoader:o,expansionMap:a});if(!s.valid)throw s.error;let l=n.getValues(t,"issuer");if(!l||0===l.length)throw Error("Credential issuer is required.");let c="string"==typeof l[0]?l[0]:l[0].id;if(s.controller.id!==c)throw Error("Credential issuer must match the verification method controller.");return{valid:!0}}catch(e){return{valid:!1,error:e}}}}e.exports=o},81105:function(e,t,r){"use strict";/*!
 * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
 */let{contexts:n,constants:i}=r(53578),o=e.exports={"https://www.w3.org/2018/credentials/examples/v1":r(18467),"https://www.w3.org/ns/odrl.jsonld":r(38466)};for(let e in i){let t=i[e];e.includes("URL")&&(o[t]=n.get(t))}},38466:function(e){"use strict";/*!
 * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
 */e.exports={"@context":{odrl:"http://www.w3.org/ns/odrl/2/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",skos:"http://www.w3.org/2004/02/skos/core#",dct:"http://purl.org/dc/terms/",xsd:"http://www.w3.org/2001/XMLSchema#",vcard:"http://www.w3.org/2006/vcard/ns#",foaf:"http://xmlns.com/foaf/0.1/",schema:"http://schema.org/",cc:"http://creativecommons.org/ns#",uid:"@id",type:"@type",Policy:"odrl:Policy",Rule:"odrl:Rule",profile:{"@type":"@id","@id":"odrl:profile"},inheritFrom:{"@type":"@id","@id":"odrl:inheritFrom"},ConflictTerm:"odrl:ConflictTerm",conflict:{"@type":"@vocab","@id":"odrl:conflict"},perm:"odrl:perm",prohibit:"odrl:prohibit",invalid:"odrl:invalid",Agreement:"odrl:Agreement",Assertion:"odrl:Assertion",Offer:"odrl:Offer",Privacy:"odrl:Privacy",Request:"odrl:Request",Set:"odrl:Set",Ticket:"odrl:Ticket",Asset:"odrl:Asset",AssetCollection:"odrl:AssetCollection",relation:{"@type":"@id","@id":"odrl:relation"},hasPolicy:{"@type":"@id","@id":"odrl:hasPolicy"},target:{"@type":"@id","@id":"odrl:target"},output:{"@type":"@id","@id":"odrl:output"},partOf:{"@type":"@id","@id":"odrl:partOf"},source:{"@type":"@id","@id":"odrl:source"},Party:"odrl:Party",PartyCollection:"odrl:PartyCollection",function:{"@type":"@vocab","@id":"odrl:function"},PartyScope:"odrl:PartyScope",assignee:{"@type":"@id","@id":"odrl:assignee"},assigner:{"@type":"@id","@id":"odrl:assigner"},assigneeOf:{"@type":"@id","@id":"odrl:assigneeOf"},assignerOf:{"@type":"@id","@id":"odrl:assignerOf"},attributedParty:{"@type":"@id","@id":"odrl:attributedParty"},attributingParty:{"@type":"@id","@id":"odrl:attributingParty"},compensatedParty:{"@type":"@id","@id":"odrl:compensatedParty"},compensatingParty:{"@type":"@id","@id":"odrl:compensatingParty"},consentingParty:{"@type":"@id","@id":"odrl:consentingParty"},consentedParty:{"@type":"@id","@id":"odrl:consentedParty"},informedParty:{"@type":"@id","@id":"odrl:informedParty"},informingParty:{"@type":"@id","@id":"odrl:informingParty"},trackingParty:{"@type":"@id","@id":"odrl:trackingParty"},trackedParty:{"@type":"@id","@id":"odrl:trackedParty"},contractingParty:{"@type":"@id","@id":"odrl:contractingParty"},contractedParty:{"@type":"@id","@id":"odrl:contractedParty"},Action:"odrl:Action",action:{"@type":"@vocab","@id":"odrl:action"},includedIn:{"@type":"@id","@id":"odrl:includedIn"},implies:{"@type":"@id","@id":"odrl:implies"},Permission:"odrl:Permission",permission:{"@type":"@id","@id":"odrl:permission"},Prohibition:"odrl:Prohibition",prohibition:{"@type":"@id","@id":"odrl:prohibition"},obligation:{"@type":"@id","@id":"odrl:obligation"},use:"odrl:use",grantUse:"odrl:grantUse",aggregate:"odrl:aggregate",annotate:"odrl:annotate",anonymize:"odrl:anonymize",archive:"odrl:archive",concurrentUse:"odrl:concurrentUse",derive:"odrl:derive",digitize:"odrl:digitize",display:"odrl:display",distribute:"odrl:distribute",execute:"odrl:execute",extract:"odrl:extract",give:"odrl:give",index:"odrl:index",install:"odrl:install",modify:"odrl:modify",move:"odrl:move",play:"odrl:play",present:"odrl:present",print:"odrl:print",read:"odrl:read",reproduce:"odrl:reproduce",sell:"odrl:sell",stream:"odrl:stream",textToSpeech:"odrl:textToSpeech",transfer:"odrl:transfer",transform:"odrl:transform",translate:"odrl:translate",Duty:"odrl:Duty",duty:{"@type":"@id","@id":"odrl:duty"},consequence:{"@type":"@id","@id":"odrl:consequence"},remedy:{"@type":"@id","@id":"odrl:remedy"},acceptTracking:"odrl:acceptTracking",attribute:"odrl:attribute",compensate:"odrl:compensate",delete:"odrl:delete",ensureExclusivity:"odrl:ensureExclusivity",include:"odrl:include",inform:"odrl:inform",nextPolicy:"odrl:nextPolicy",obtainConsent:"odrl:obtainConsent",reviewPolicy:"odrl:reviewPolicy",uninstall:"odrl:uninstall",watermark:"odrl:watermark",Constraint:"odrl:Constraint",LogicalConstraint:"odrl:LogicalConstraint",constraint:{"@type":"@id","@id":"odrl:constraint"},refinement:{"@type":"@id","@id":"odrl:refinement"},Operator:"odrl:Operator",operator:{"@type":"@vocab","@id":"odrl:operator"},RightOperand:"odrl:RightOperand",rightOperand:"odrl:rightOperand",rightOperandReference:{"@type":"xsd:anyURI","@id":"odrl:rightOperandReference"},LeftOperand:"odrl:LeftOperand",leftOperand:{"@type":"@vocab","@id":"odrl:leftOperand"},unit:"odrl:unit",dataType:{"@type":"xsd:anyType","@id":"odrl:datatype"},status:"odrl:status",absolutePosition:"odrl:absolutePosition",absoluteSpatialPosition:"odrl:absoluteSpatialPosition",absoluteTemporalPosition:"odrl:absoluteTemporalPosition",absoluteSize:"odrl:absoluteSize",count:"odrl:count",dateTime:"odrl:dateTime",delayPeriod:"odrl:delayPeriod",deliveryChannel:"odrl:deliveryChannel",elapsedTime:"odrl:elapsedTime",event:"odrl:event",fileFormat:"odrl:fileFormat",industry:"odrl:industry:",language:"odrl:language",media:"odrl:media",meteredTime:"odrl:meteredTime",payAmount:"odrl:payAmount",percentage:"odrl:percentage",product:"odrl:product",purpose:"odrl:purpose",recipient:"odrl:recipient",relativePosition:"odrl:relativePosition",relativeSpatialPosition:"odrl:relativeSpatialPosition",relativeTemporalPosition:"odrl:relativeTemporalPosition",relativeSize:"odrl:relativeSize",resolution:"odrl:resolution",spatial:"odrl:spatial",spatialCoordinates:"odrl:spatialCoordinates",systemDevice:"odrl:systemDevice",timeInterval:"odrl:timeInterval",unitOfCount:"odrl:unitOfCount",version:"odrl:version",virtualLocation:"odrl:virtualLocation",eq:"odrl:eq",gt:"odrl:gt",gteq:"odrl:gteq",lt:"odrl:lt",lteq:"odrl:lteq",neq:"odrl:neg",isA:"odrl:isA",hasPart:"odrl:hasPart",isPartOf:"odrl:isPartOf",isAllOf:"odrl:isAllOf",isAnyOf:"odrl:isAnyOf",isNoneOf:"odrl:isNoneOf",or:"odrl:or",xone:"odrl:xone",and:"odrl:and",andSequence:"odrl:andSequence",policyUsage:"odrl:policyUsage"}}},18467:function(e){/*!
 * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
 */e.exports={"@context":[{"@version":1.1},"https://www.w3.org/ns/odrl.jsonld",{ex:"https://example.org/examples#",schema:"http://schema.org/",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#","3rdPartyCorrelation":"ex:3rdPartyCorrelation",AllVerifiers:"ex:AllVerifiers",Archival:"ex:Archival",BachelorDegree:"ex:BachelorDegree",Child:"ex:Child",CLCredentialDefinition2019:"ex:CLCredentialDefinition2019",CLSignature2019:"ex:CLSignature2019",IssuerPolicy:"ex:IssuerPolicy",HolderPolicy:"ex:HolderPolicy",Mother:"ex:Mother",RelationshipCredential:"ex:RelationshipCredential",UniversityDegreeCredential:"ex:UniversityDegreeCredential",ZkpExampleSchema2018:"ex:ZkpExampleSchema2018",alumniOf:{"@id":"schema:alumniOf","@type":"rdf:HTML"},child:{"@id":"ex:child","@type":"@id"},degree:"ex:degree",name:{"@id":"schema:name","@type":"rdf:HTML"},parent:{"@id":"ex:parent","@type":"@id"},referenceId:"ex:referenceId",documentPresence:"ex:documentPresence",evidenceDocument:"ex:evidenceDocument",subjectPresence:"ex:subjectPresence",verifier:{"@id":"ex:verifier","@type":"@id"}}]}},78016:function(e,t,r){"use strict";/*!
 * Copyright (c) 2019-2021 Digital Bazaar, Inc. All rights reserved.
 */let n=r(81105);e.exports=async function(e){let t=n[e];if(void 0!==t)return{contextUrl:null,documentUrl:e,document:t};throw Error(`Document loader unable to load URL "${e}".`)}},79406:function(e,t,r){e.exports=r(45193)},45193:function(e,t,r){"use strict";/**
 * A JavaScript implementation of Verifiable Credentials.
 *
 * @author Dave Longley
 * @author David I. Lehn
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2017-2021 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */let n=r(38038),i=r(47680),{AuthenticationProofPurpose:o}=i.purposes,a=r(82812),s=i.extendContextLoader(r(78016)),{constants:{CREDENTIALS_CONTEXT_V1_URL:l}}=r(53578),c=RegExp("^(\\d{4})-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01][0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9]|60)(\\.[0-9]+)?(Z|(\\+|-)([01][0-9]|2[0-3]):([0-5][0-9]))$","i");async function u({credential:e,suite:t,expansionMap:r,purpose:n=new a,documentLoader:o=s}={}){if(!t)throw TypeError('"suite" parameter is required for issuing.');if(!t.verificationMethod)throw TypeError('"suite.verificationMethod" property is required.');if(!e)throw TypeError('"credential" parameter is required for issuing.');if(!e.issuanceDate){let t=new Date().toJSON();e.issuanceDate=`${t.substr(0,t.length-5)}Z`}return m(e),i.sign(e,{purpose:n,documentLoader:o,suite:t,expansionMap:r})}async function d(e={}){let{presentation:t}=e;try{if(!t)throw TypeError('A "presentation" property is required for verifying.');return y(e)}catch(e){return{verified:!1,results:[{presentation:t,verified:!1,error:e}],error:e}}}async function f(e={}){let{credential:t}=e;try{if(!t)throw TypeError('A "credential" property is required for verifying.');return p(e)}catch(e){return{verified:!1,results:[{credential:t,verified:!1,error:e}],error:e}}}async function p(e={}){let{credential:t,checkStatus:r}=e;if(m(t),t.credentialStatus&&"function"!=typeof e.checkStatus)throw TypeError('A "checkStatus" function must be given to verify credentials with "credentialStatus".');let n=e.documentLoader||s,{controller:o}=e,l=e.purpose||new a({controller:o}),c=await i.verify(t,{purpose:l,documentLoader:n,...e});return c.verified&&t.credentialStatus&&(c.statusResult=await r(e),c.statusResult.verified||(c.verified=!1)),c}async function h(e={}){let{presentation:t,domain:r,challenge:n}=e,a=e.purpose||new o({domain:r,challenge:n}),l=e.documentLoader||s;return i.sign(t,{purpose:a,documentLoader:l,...e})}async function y(e={}){let t;let{presentation:r,unsignedPresentation:a}=e;v(r);let l=e.documentLoader||s,c=!0,u=n.getValues(r,"verifiableCredential");if(u.length>0){for(let[r,n]of(t=await Promise.all(u.map(t=>f({credential:t,documentLoader:l,...e})))).entries())n.credentialId=u[r].id;let r=t.every(e=>e.verified);r||(c=!1)}if(a)return{verified:c,results:[r],credentialResults:t};let{controller:d,domain:p,challenge:h}=e;if(!e.presentationPurpose&&!h)throw Error('A "challenge" param is required for AuthenticationProofPurpose.');let y=e.presentationPurpose||new o({controller:d,domain:p,challenge:h}),g=await i.verify(r,{purpose:y,documentLoader:l,...e});return{presentationResult:g,verified:c&&g.verified,credentialResults:t,error:g.error}}function g(e){return"string"==typeof e?e:"id"in e?e.id:void 0}function v(e){let t=Array.isArray(e["@context"])?e["@context"]:[e["@context"]];if(t[0]!==l)throw Error(`"${l}" needs to be first in the list of contexts.`);let r=n.getValues(e,"type");if(!r.includes("VerifiablePresentation"))throw Error('"type" must include "VerifiablePresentation".')}function m(e){if(e["@context"][0]!==l)throw Error(`"${l}" needs to be first in the list of contexts.`);if(!e.type)throw Error('"type" property is required.');if(!n.getValues(e,"type").includes("VerifiableCredential"))throw Error('"type" must include `VerifiableCredential`.');if(!e.credentialSubject)throw Error('"credentialSubject" property is required.');if(e.credentialSubject.id&&b({id:e.credentialSubject.id,propertyName:"credentialSubject.id"}),!e.issuer)throw Error('"issuer" property is required.');if(n.getValues(e,"issuanceDate").length>1)throw Error('"issuanceDate" property can only have one value.');if(!e.issuanceDate)throw Error('"issuanceDate" property is required.');if("issuanceDate"in e&&!c.test(e.issuanceDate))throw Error(`"issuanceDate" must be a valid date: ${e.issuanceDate}`);if(n.getValues(e,"issuer").length>1)throw Error('"issuer" property can only have one value.');if("issuer"in e){let t=g(e.issuer);if(!t)throw Error('"issuer" id is required.');b({id:t,propertyName:"issuer"})}if("credentialStatus"in e){if(!e.credentialStatus.id)throw Error('"credentialStatus" must include an id.');if(!e.credentialStatus.type)throw Error('"credentialStatus" must include a type.')}if(n.getValues(e,"evidence").forEach(e=>{let t=g(e);t&&b({id:t,propertyName:"evidence"})}),"expirationDate"in e&&!c.test(e.expirationDate))throw Error(`"expirationDate" must be a valid date: ${e.expirationDate}`)}function b({id:e,propertyName:t}){try{new URL(e)}catch(n){let r=TypeError(`"${t}" must be a URI: "${e}".`);throw r.cause=n,r}}e.exports={issue:u,createPresentation:function({verifiableCredential:e,id:t,holder:r}={}){let n={"@context":[l],type:["VerifiablePresentation"]};if(e){let t=[].concat(e);for(let e of t)m(e);n.verifiableCredential=t}return t&&(n.id=t),r&&(n.holder=r),v(n),n},signPresentation:h,verify:d,verifyCredential:f,CredentialIssuancePurpose:a,defaultDocumentLoader:s,_checkCredential:m,_checkPresentation:v,dateRegex:c}},94717:function(e,t,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(64468));class l{constructor(e,t){n.set(this,void 0),i(this,n,e.languages.reduce((r,n)=>(r[n]=new s.default(e,t,n),r),{}),"f")}localizedCredential(e){return o(this,n,"f")[e]}}n=new WeakMap,t.default=l},5987:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let n=r(25529);class i extends n.CredentialPreviewAttribute{constructor(e,t,r){var n,i;super(e),this.characterEncoding=t.characterEncoding,this.standard=t.standard,this.format=t.format,this.information=null===(n=t.information)||void 0===n?void 0:n[r],this.label=null===(i=t.label)||void 0===i?void 0:i[r]}toJSON(){return Object.assign(Object.assign({},super.toJSON()),{format:this.format,information:this.information,label:this.label})}}t.default=i},64468:function(e,t,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=r(25529),l=a(r(5987));class c{constructor(e,t,r){var o,a,c,u;if(n.set(this,void 0),!r)throw Error("language is required");i(this,n,e,"f"),this.issuer=null===(o=e.metadata.issuer)||void 0===o?void 0:o[r],this.name=null===(a=e.metadata.name)||void 0===a?void 0:a[r];let d=(null===(c=t.credentialAttributes)||void 0===c?void 0:c.length)?t.credentialAttributes:e.attributes.map(e=>new s.CredentialPreviewAttribute(Object.assign(Object.assign({},e),{value:""})));this.attributes=null!==(u=null==d?void 0:d.filter(t=>e.getAttribute(t.name)).map(e=>new l.default(e,{name:e.name,type:""},r)))&&void 0!==u?u:[]}get primaryAttribute(){var e;let t=null===(e=o(this,n,"f").branding)||void 0===e?void 0:e.primaryAttribute;return this.getAttribute(t)}get secondaryAttribute(){var e;let t=null===(e=o(this,n,"f").branding)||void 0===e?void 0:e.secondaryAttribute;return this.getAttribute(t)}getAttribute(e){if(e)return this.attributes.find(t=>t.name===e)}}n=new WeakMap,t.default=c},95601:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LocalizedCredential=t.DisplayAttribute=t.CredentialFormatter=void 0;let i=n(r(94717));t.CredentialFormatter=i.default;let o=n(r(5987));t.DisplayAttribute=o.default;let a=n(r(64468));t.LocalizedCredential=a.default},86287:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.legacy=void 0,o(r(95601),t),o(r(74899),t),o(r(30850),t),o(r(84914),t),t.legacy=a(r(98881))},41668:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74899:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(41668),t),i(r(20826),t)},20826:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},98881:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9378),t),i(r(55424),t),i(r(1452),t)},9378:function(e,t,r){"use strict";var n,i,o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultOCABundleResolver=t.OCABundle=t.BrandingOverlayType=void 0;let a=o(r(98615)),s=r(30850),l=r(10879),c=r(5125);(n=i||(t.BrandingOverlayType=i={})).Branding01="aries/overlays/branding/0.1",n.Branding10="aries/overlays/branding/1.0";class u{constructor(e,t){var r,n;this.bundle=e,this.options={brandingOverlayType:null!==(r=null==t?void 0:t.brandingOverlayType)&&void 0!==r?r:i.Branding10,language:null!==(n=null==t?void 0:t.language)&&void 0!==n?n:"en"}}get captureBase(){let e=this.bundle.captureBase;if(!e)throw Error("Capture Base must be defined");return e}get characterEncodingOverlay(){return this.getOverlay(s.OverlayType.CharacterEncoding10)}get formatOverlay(){return this.getOverlay(s.OverlayType.Format10)}get labelOverlay(){return this.getOverlay(s.OverlayType.Label10,this.options.language)}get metaOverlay(){return this.getOverlay(s.OverlayType.Meta10,this.options.language)}get brandingOverlay(){var e;return this.getOverlay((null===(e=this.options)||void 0===e?void 0:e.brandingOverlayType)||i.Branding10)}buildOverlay(e,t){return new s.MetaOverlay({capture_base:"",type:s.OverlayType.Meta10,name:e,language:t,description:"",credential_help_text:"",credential_support_url:"",issuer:"",issuer_description:"",issuer_url:""})}getOverlay(e,t){if(e===s.OverlayType.CaptureBase10)return this.bundle.captureBase;if(void 0!==t){let r=this.bundle.overlays.find(r=>void 0===r.language&&r.type===e.toString()||r.type===e.toString()&&r.language===t);if(r)return r}return this.bundle.overlays.find(t=>t.type===e.toString())}}t.OCABundle=u;class d{constructor(e={},t){var r,n;for(let t in this.bundles={},e)try{"string"!=typeof e[t]?this.bundles[t]=new s.OverlayBundle(t,e[t]):this.bundles[t]=e[t]}catch(e){}this.options={brandingOverlayType:null!==(r=null==t?void 0:t.brandingOverlayType)&&void 0!==r?r:i.Branding10,language:null!==(n=null==t?void 0:t.language)&&void 0!==n?n:"en"}}getBrandingOverlayType(){var e;return null!==(e=this.options.brandingOverlayType)&&void 0!==e?e:i.Branding10}getDefaultBundle(e){var t,r,n,o,d,f,p,h,y,g;e.language||(e.language="en");let v={capture_base:"",type:s.OverlayType.Meta10,name:(0,a.default)(null!==(r=null===(t=e.meta)||void 0===t?void 0:t.credName)&&void 0!==r?r:(0,c.parseCredDefFromId)(null===(n=e.identifiers)||void 0===n?void 0:n.credentialDefinitionId,null===(o=e.identifiers)||void 0===o?void 0:o.schemaId)),issuer:(null===(d=e.meta)||void 0===d?void 0:d.alias)||(null===(f=e.meta)||void 0===f?void 0:f.credConnectionId)||"Unknown Contact",language:null!==(p=e.language)&&void 0!==p?p:null===(h=this.options)||void 0===h?void 0:h.language,description:"",credential_help_text:"",credential_support_url:"",issuer_description:"",issuer_url:""},m="default";(null==v?void 0:v.name)?m=v.name:(null==v?void 0:v.issuer)&&(m=v.issuer);let b={capture_base:"",type:s.OverlayType.Branding01,background_color:(0,l.generateColor)(m)},_={capture_base:"",type:s.OverlayType.Branding10,primary_background_color:(0,l.generateColor)(m)},w=new s.OverlayBundle(null===(y=e.identifiers)||void 0===y?void 0:y.credentialDefinitionId,{capture_base:{attributes:{},classification:"",type:s.OverlayType.CaptureBase10,flagged_attributes:[]},overlays:[v,this.getBrandingOverlayType()===i.Branding01?b:_]});return Promise.resolve(new u(w,Object.assign(Object.assign({},this.options),{language:null!==(g=e.language)&&void 0!==g?g:this.options.language})))}resolveDefaultBundle(e){return this.getDefaultBundle(e)}resolve(e){var t,r,n;let i=e.language||"en";for(let o of[null===(t=e.identifiers)||void 0===t?void 0:t.credentialDefinitionId,null===(r=e.identifiers)||void 0===r?void 0:r.schemaId,null===(n=e.identifiers)||void 0===n?void 0:n.templateId])if(o&&void 0!==this.bundles[o]){let e=this.bundles[o];return"string"==typeof e&&(e=this.bundles[e]),Promise.resolve(new u(e,Object.assign(Object.assign({},this.options),{language:null!=i?i:this.options.language})))}return Promise.resolve(void 0)}async presentationFields(e){var t,r,n,i,o,a,s;let l=await this.resolve(e),c=[...e.attributes];if(null===(t=null==l?void 0:l.captureBase)||void 0===t?void 0:t.attributes){let e=Object.keys(l.captureBase.attributes);c=c.filter(t=>t.name&&e.includes(t.name));for(let e=0;e<c.length;e++){let t=c[e],u=t.name||"";l.captureBase.attributes[u]&&(t.label=null===(r=null==l?void 0:l.labelOverlay)||void 0===r?void 0:r.attributeLabels[u],t.format=null===(n=null==l?void 0:l.formatOverlay)||void 0===n?void 0:n.attributeFormats[u],t.type=null===(o=null===(i=null==l?void 0:l.captureBase)||void 0===i?void 0:i.attributes)||void 0===o?void 0:o[u],t.encoding=null===(s=null===(a=null==l?void 0:l.characterEncodingOverlay)||void 0===a?void 0:a.attributeCharacterEncoding)||void 0===s?void 0:s[u])}}return c}async resolveAllBundles(e){let[t,r]=await Promise.all([this.resolve(e),this.resolveDefaultBundle(e)]),n=e.attributes?await this.presentationFields(Object.assign(Object.assign({},e),{attributes:e.attributes})):[],i=null!=t?t:r,o=null==i?void 0:i.metaOverlay,a=null==i?void 0:i.brandingOverlay;return{bundle:i,presentationFields:n,metaOverlay:o,brandingOverlay:a}}}t.DefaultOCABundleResolver=d},55424:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Predicate=t.Attribute=t.Field=void 0;class r{constructor(e){this.name=e.name,this.format=e.format,this.type=e.type,this.encoding=e.encoding,this.mimeType=e.mimeType,this.revoked=e.revoked,this.credentialId=e.credentialId,this.label=e.label,this.restrictions=e.restrictions,this.nonRevoked=e.nonRevoked}}t.Field=r;class n extends r{constructor(e){super(e),this.value=e.value,this.revealed=e.revealed}}t.Attribute=n;class i extends r{constructor(e){super(e),this.pValue=e.pValue,this.pType=e.pType,this.parameterizable=e.parameterizable,this.satisfied=e.satisfied}}t.Predicate=i},1452:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteOCABundleResolver=void 0;let i=n(r(55994)),o=r(30850),a=r(84914),s=r(9378);class l extends s.DefaultOCABundleResolver{constructor(e,t){var r;super({},t),this.indexFile={},this.remoteServer=i.default.create({baseURL:e}),this.remoteServer.get(null!==(r=null==t?void 0:t.indexFileName)&&void 0!==r?r:"ocabundles.json").then(e=>{this.indexFile=e.data})}resolve(e){var t,r,n,i,a,l,c,u,d;let f=e.language||"en",p="";if(p=this.indexFile[null!==(t=e.identifiers.schemaId)&&void 0!==t?t:""]?null!==(r=e.identifiers.schemaId)&&void 0!==r?r:"":this.indexFile[null!==(n=e.identifiers.credentialDefinitionId)&&void 0!==n?n:""]?null!==(i=e.identifiers.credentialDefinitionId)&&void 0!==i?i:"":null!==(a=e.identifiers.templateId)&&void 0!==a?a:"",this.bundles[p])return Promise.resolve(new s.OCABundle(this.bundles[p],Object.assign(Object.assign({},this.options),{language:null!=f?f:this.options.language})));let h="";return(this.indexFile[null!==(l=e.identifiers.schemaId)&&void 0!==l?l:""]?(p=null!==(c=e.identifiers.schemaId)&&void 0!==c?c:"",h=this.indexFile[p].path):this.indexFile[null!==(u=e.identifiers.credentialDefinitionId)&&void 0!==u?u:""]&&(p=null!==(d=e.identifiers.credentialDefinitionId)&&void 0!==d?d:"",h=this.indexFile[p].path),""!==h)?this.remoteServer.get(h).then(t=>{var r;try{let n=t.data,i=new o.OverlayBundle(null!==(r=e.identifiers.credentialDefinitionId)&&void 0!==r?r:"",n[0]);return i.overlays.find(e=>e.type===s.BrandingOverlayType.Branding01||e.type===s.BrandingOverlayType.Branding10)||i.overlays.push(...this.getFallbackBrandingOverlays(i.credentialDefinitionId,i.captureBase.digest)),this.bundles[p]=i,new s.OCABundle(i,Object.assign(Object.assign({},this.options),{language:null!=f?f:this.options.language}))}catch(e){return}}):Promise.resolve(void 0)}getFallbackBrandingOverlays(e,t){let r=new o.LegacyBrandingOverlay(e,{capture_base:t,type:"aries/overlays/branding/0.1",background_color:(0,a.generateColor)(e)}),n=new o.BrandingOverlay(e,{capture_base:t,type:"aries/overlays/branding/1.0",primary_background_color:(0,a.generateColor)(e)});return[r,n]}}t.RemoteOCABundleResolver=l},24417:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(18580)),o=n(r(22611)),a=n(r(71675)),s=n(r(1792)),l=n(r(76975)),c=n(r(99201)),u=n(r(2684)),d=n(r(29732)),f=new Map(Object.entries({"spec/overlays/character_encoding/1.0":a.default,"spec/overlays/label/1.0":c.default,"spec/overlays/information/1.0":l.default,"spec/overlays/format/1.0":s.default,"spec/overlays/standard/1.0":d.default,"spec/overlays/meta/1.0":u.default,"aries/overlays/branding/1.0":i.default,"aries/overlays/branding/0.1":o.default}));t.default=f},67182:function(e,t){"use strict";var r,n,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayType=t.CaptureBaseAttributeType=void 0,(i=r||(t.CaptureBaseAttributeType=r={})).Binary="Binary",i.Text="Text",i.DateTime="DateTime",i.Numeric="Numeric",i.DateInt="DateInt",(o=n||(t.OverlayType=n={})).CaptureBase10="spec/capture_base/1.0",o.Meta10="spec/overlays/meta/1.0",o.Label10="spec/overlays/label/1.0",o.Format10="spec/overlays/format/1.0",o.CharacterEncoding10="spec/overlays/character_encoding/1.0",o.Branding01="aries/overlays/branding/0.1",o.Branding10="aries/overlays/branding/1.0"},20017:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e){var t;r.set(this,void 0),this.type=e.type,n(this,r,e.capture_base,"f"),this.digest=null!==(t=e.digest)&&void 0!==t?t:""}get captureBase(){return i(this,r,"f")}}r=new WeakMap,t.default=o},18580:function(e,t,r){"use strict";var n,i,o,a,s,l,c,u,d=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},f=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},p=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let h=r(10879),y=p(r(20017));class g extends y.default{constructor(e,t){var r;super(t),n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),s.set(this,void 0),l.set(this,void 0),c.set(this,void 0),u.set(this,void 0),this.logo=t.logo,d(this,n,t.background_image,"f"),d(this,i,t.background_image_slice,"f"),d(this,o,null!==(r=t.primary_background_color)&&void 0!==r?r:(0,h.generateColor)(e),"f"),d(this,a,t.secondary_background_color,"f"),d(this,s,t.primary_attribute,"f"),d(this,l,t.secondary_attribute,"f"),d(this,c,t.issued_date_attribute,"f"),d(this,u,t.expiry_date_attribute,"f")}get backgroundImage(){return f(this,n,"f")}get backgroundImageSlice(){return f(this,i,"f")}get primaryBackgroundColor(){return f(this,o,"f")}get secondaryBackgroundColor(){return f(this,a,"f")}get primaryAttribute(){return f(this,s,"f")}get secondaryAttribute(){return f(this,l,"f")}get issuedDateAttribute(){return f(this,c,"f")}get expiryDateAttribute(){return f(this,u,"f")}}n=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,s=new WeakMap,l=new WeakMap,c=new WeakMap,u=new WeakMap,t.default=g},22611:function(e,t,r){"use strict";var n,i,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let l=r(10879),c=s(r(20017));class u extends c.default{constructor(e,t){var r,a,s,c,u,d,f;super(t),n.set(this,void 0),i.set(this,void 0),o(this,n,null!==(r=t.background_color)&&void 0!==r?r:(0,l.generateColor)(e),"f"),o(this,i,t.image_source,"f"),t.header&&(this.header={color:null===(a=t.header)||void 0===a?void 0:a.color,backgroundColor:null===(s=t.header)||void 0===s?void 0:s.background_color,imageSource:null===(c=t.header)||void 0===c?void 0:c.image_source,hideIssuer:null===(u=t.header)||void 0===u?void 0:u.hide_issuer}),t.footer&&(this.footer={color:null===(d=t.footer)||void 0===d?void 0:d.color,backgroundColor:null===(f=t.footer)||void 0===f?void 0:f.background_color})}get backgroundColor(){return a(this,n,"f")}get imageSource(){return a(this,i,"f")}}n=new WeakMap,i=new WeakMap,t.default=u},4614:function(e,t,r){"use strict";var n,i,o,a,s,l,c,u,d,f,p=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let y=h(r(24417)),g=h(r(20017)),v=h(r(18580)),m=h(r(22611)),b=h(r(17086));class _{constructor(e,t){n.add(this),this.credentialDefinitionId=e,this.captureBase=new b.default(t.capture_base),this.overlays=t.overlays.filter(e=>!e.type.startsWith("aries/overlays/branding/")).map(e=>{let t=y.default.get(e.type)||g.default;return new t(e)}),this.overlays.push(...t.overlays.filter(e=>"aries/overlays/branding/0.1"===e.type).map(t=>{let r=y.default.get(t.type)||m.default;return new r(e,t)})),this.overlays.push(...t.overlays.filter(e=>"aries/overlays/branding/1.0"===e.type).map(t=>{let r=y.default.get(t.type)||v.default;return new r(e,t)})),this.languages=p(this,n,"m",o).call(this),this.metadata=p(this,n,"m",i).call(this),this.attributes=p(this,n,"m",a).call(this),this.flaggedAttributes=this.attributes.filter(e=>this.captureBase.flaggedAttributes.includes(e.name))}get branding(){return p(this,n,"m",f).call(this,"aries/overlays/branding/1.0")[0]}getAttribute(e){return this.attributes.find(t=>t.name===e)}getFlaggedAttribute(e){return this.flaggedAttributes.find(t=>t.name===e)}}n=new WeakSet,i=function(){var e;let t={name:{},description:{},credentialHelpText:{},credentialSupportUrl:{},issuer:{},issuerDescription:{},issuerUrl:{}};for(let r of p(this,n,"m",f).call(this,"spec/overlays/meta/1.0")){let n=null!==(e=r.language)&&void 0!==e?e:"en",{name:i,description:o,credentialHelpText:a,credentialSupportUrl:s,issuer:l,issuerDescription:c,issuerUrl:u}=r;i&&(t.name[n]=i),o&&(t.description[n]=o),a&&(t.credentialHelpText[n]=a),s&&(t.credentialSupportUrl[n]=s),l&&(t.issuer[n]=l),c&&(t.issuerDescription[n]=c),u&&(t.issuerUrl[n]=u)}return t},o=function(){let e=[];for(let t of p(this,n,"m",f).call(this,"spec/overlays/meta/1.0")){let r=t.language;r&&!e.includes(r)&&e.push(r)}return e.sort((e,t)=>e.localeCompare(t)),e},a=function(){let e=[],t=new Map(Object.entries(this.captureBase.attributes));for(let[r,i]of t)e.push({name:r,type:i,information:p(this,n,"m",s).call(this,r),label:p(this,n,"m",l).call(this,r),characterEncoding:p(this,n,"m",c).call(this,r),standard:p(this,n,"m",u).call(this,r),format:p(this,n,"m",d).call(this,r)});return e},s=function(e){var t,r;let i={};for(let o of p(this,n,"m",f).call(this,"spec/overlays/information/1.0"))if(null===(t=o.attributeInformation)||void 0===t?void 0:t[e]){let t=null!==(r=o.language)&&void 0!==r?r:"en";i[t]=o.attributeInformation[e]}return i},l=function(e){var t,r;let i={};for(let o of p(this,n,"m",f).call(this,"spec/overlays/label/1.0"))if(null===(t=o.attributeLabels)||void 0===t?void 0:t[e]){let t=null!==(r=o.language)&&void 0!==r?r:"en";i[t]=o.attributeLabels[e]}return i},c=function(e){var t;for(let r of p(this,n,"m",f).call(this,"spec/overlays/character_encoding/1.0"))if(null===(t=r.attributeCharacterEncoding)||void 0===t?void 0:t[e])return r.attributeCharacterEncoding[e]},u=function(e){var t;for(let r of p(this,n,"m",f).call(this,"spec/overlays/standard/1.0"))if(null===(t=r.attributeStandards)||void 0===t?void 0:t[e])return r.attributeStandards[e]},d=function(e){var t;for(let r of p(this,n,"m",f).call(this,"spec/overlays/format/1.0"))if(null===(t=r.attributeFormats)||void 0===t?void 0:t[e])return r.attributeFormats[e]},f=function(e){return this.overlays.filter(t=>t.type===e)},t.default=_},17086:function(e,t){"use strict";var r,n=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},i=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0});class o{constructor(e){var t;r.set(this,void 0),this.type=e.type,this.classification=e.classification,this.attributes=e.attributes,n(this,r,e.flagged_attributes,"f"),this.digest=null!==(t=e.digest)&&void 0!==t?t:""}get flaggedAttributes(){return i(this,r,"f")}}r=new WeakMap,t.default=o},30850:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverlayTypeMap=t.StandardOverlay=t.MetaOverlay=t.LabelOverlay=t.InformationOverlay=t.FormatOverlay=t.CharacterEncodingOverlay=t.LegacyBrandingOverlay=t.BrandingOverlay=t.OverlayBundle=t.CaptureBase=t.BaseOverlay=t.CaptureBaseAttributeType=t.OverlayType=void 0;let i=n(r(24417));t.OverlayTypeMap=i.default;let o=r(67182);Object.defineProperty(t,"OverlayType",{enumerable:!0,get:function(){return o.OverlayType}}),Object.defineProperty(t,"CaptureBaseAttributeType",{enumerable:!0,get:function(){return o.CaptureBaseAttributeType}});let a=n(r(20017));t.BaseOverlay=a.default;let s=n(r(18580));t.BrandingOverlay=s.default;let l=n(r(22611));t.LegacyBrandingOverlay=l.default;let c=n(r(4614));t.OverlayBundle=c.default;let u=n(r(17086));t.CaptureBase=u.default;let d=n(r(71675));t.CharacterEncodingOverlay=d.default;let f=n(r(1792));t.FormatOverlay=f.default;let p=n(r(76975));t.InformationOverlay=p.default;let h=n(r(99201));t.LabelOverlay=h.default;let y=n(r(2684));t.MetaOverlay=y.default;let g=n(r(29732));t.StandardOverlay=g.default},71675:function(e,t,r){"use strict";var n,i,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let c=l(r(20017));class u extends c.default{constructor(e){super(e),n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a(this,n,e.default_character_encoding,"f"),a(this,i,e.attr_character_encoding,"f"),a(this,o,e.attribute_character_encoding,"f")}get defaultCharacterEncoding(){return s(this,n,"f")}get attrCharacterEncoding(){return s(this,i,"f")}get attributeCharacterEncoding(){return s(this,o,"f")}}n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=u},1792:function(e,t,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(20017));class l extends s.default{constructor(e){super(e),n.set(this,void 0),i(this,n,e.attribute_formats,"f")}get attributeFormats(){return o(this,n,"f")}}n=new WeakMap,t.default=l},76975:function(e,t,r){"use strict";var n,i=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},o=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let s=a(r(20017));class l extends s.default{constructor(e){super(e),n.set(this,void 0),this.language=e.language,i(this,n,e.attribute_information,"f")}get attributeInformation(){return o(this,n,"f")}}n=new WeakMap,t.default=l},99201:function(e,t,r){"use strict";var n,i,o,a=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},s=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let c=l(r(20017));class u extends c.default{constructor(e){super(e),n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),this.language=e.language,a(this,n,e.attribute_labels,"f"),a(this,i,e.attribute_categories,"f"),a(this,o,e.category_labels,"f")}get attributeLabels(){return s(this,n,"f")}get attributeCategories(){return s(this,i,"f")}get categoryLabels(){return s(this,o,"f")}}n=new WeakMap,i=new WeakMap,o=new WeakMap,t.default=u},2684:function(e,t,r){"use strict";var n,i,o,a,s,l=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},c=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let d=u(r(20017));class f extends d.default{constructor(e){super(e),n.set(this,void 0),i.set(this,void 0),o.set(this,void 0),a.set(this,void 0),s.set(this,void 0),this.language=e.language,this.name=e.name,this.description=e.description,l(this,n,e.credential_help_text,"f"),l(this,i,e.credential_support_url,"f"),this.issuer=e.issuer,l(this,o,e.issuer_description,"f"),l(this,a,e.issuer_url,"f"),l(this,s,e.watermark,"f")}get credentialHelpText(){return c(this,n,"f")}get credentialSupportUrl(){return c(this,i,"f")}get issuerDescription(){return c(this,o,"f")}get issuerUrl(){return c(this,a,"f")}get watermark(){return c(this,s,"f")}}n=new WeakMap,i=new WeakMap,o=new WeakMap,a=new WeakMap,s=new WeakMap,t.default=f},29732:function(e,t,r){"use strict";var n,i,o=this&&this.__classPrivateFieldSet||function(e,t,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r},a=this&&this.__classPrivateFieldGet||function(e,t,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let l=s(r(20017));class c extends l.default{constructor(e){super(e),n.set(this,void 0),i.set(this,void 0),o(this,n,e.attr_standards,"f"),o(this,i,e.attribute_standards,"f")}get attrStandards(){return a(this,n,"f")}get attributeStandards(){return a(this,i,"f")}}n=new WeakMap,i=new WeakMap,t.default=c},40336:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(11892)),o=n(r(92727));t.default=e=>(0,o.default)((0,i.default)(e))},11892:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>e.split("").reduce((e,t)=>t.charCodeAt(0)+((e<<5)-e),0)},92727:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});let i=n(r(46471));t.default=e=>{let t="#";for(let r=0;r<3;r++)t+=("0"+Math.floor(256*(0,i.default)(e+r)/2).toString(16)).slice(-2);return t}},10879:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.hashToRGBA=t.hashCode=t.textColorForBackground=t.generateColor=void 0;let i=n(r(40336));t.generateColor=i.default;let o=n(r(11892));t.hashCode=o.default;let a=n(r(92727));t.hashToRGBA=a.default;let s=r(17996);Object.defineProperty(t,"textColorForBackground",{enumerable:!0,get:function(){return s.textColorForBackground}})},72014:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{if(!/^#([A-Fa-f0-9]{6})$/.test(e))return;let t=Number(`0x${e.slice(1)}`),[r,n,i]=[t>>16&255,t>>8&255,255&t];return Math.round(.2126*r+.7152*n+.0722*i)}},46471:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296}},17996:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.textColorForBackground=void 0;let i=n(r(72014));t.textColorForBackground=e=>{var t;let r={darkGrey:"#313132",white:"#FFFFFF"};return(null!==(t=(0,i.default)(null!=e?e:""))&&void 0!==t?t:0)>=127.5?r.darkGrey:r.white}},5125:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCredDefFromId=void 0;let n=r(46932);t.parseCredDefFromId=function(e,t){let r="Credential";if(e){let t=e.match(/[^:]+/g);(null==t?void 0:t.length)===5&&(r=`${null==t?void 0:t[4].replace(/_|-/g," ")}`.split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join(" "))}return("default"===r.toLocaleLowerCase()||"credential"===r.toLowerCase())&&(r=(0,n.parseSchemaFromId)(t).name),r}},84914:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(10879),t)},46932:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSchemaFromId=void 0,t.parseSchemaFromId=function(e){let t="Credential",r="";if(e){let n=e.match(/(.*?):([0-9]):([a-zA-Z .\-_0-9]+):([a-z0-9._-]+)$/);(null==n?void 0:n.length)===5&&(t=`${null==n?void 0:n[3].replace(/_|-/g," ")}`.split(" ").map(e=>e.charAt(0).toUpperCase()+e.substring(1)).join(" "),r=null==n?void 0:n[4])}return{name:t,version:r}}},57852:function(e,t,r){"use strict";r.d(t,{Z:function(){return R}});var n=r(20791),i=r(13428),o=r(2265),a=r(57042),s=r(95600),l=r(35843),c=r(87927),u=r(58731),d=r(41101),f=r(4439),p=r(37663),h=r(57437);let y=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],g={entering:{opacity:1},entered:{opacity:1}},v=o.forwardRef(function(e,t){let r=(0,d.Z)(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:l=!0,children:c,easing:v,in:m,onEnter:b,onEntered:_,onEntering:w,onExit:S,onExited:O,onExiting:M,style:R,timeout:P=a,TransitionComponent:E=u.ZP}=e,I=(0,n.Z)(e,y),x=o.useRef(null),A=(0,p.Z)(x,c.ref,t),C=e=>t=>{if(e){let r=x.current;void 0===t?e(r):e(r,t)}},j=C(w),T=C((e,t)=>{(0,f.n)(e);let n=(0,f.C)({style:R,timeout:P,easing:v},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),b&&b(e,t)}),$=C(_),D=C(M),N=C(e=>{let t=(0,f.C)({style:R,timeout:P,easing:v},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),S&&S(e)}),k=C(O);return(0,h.jsx)(E,(0,i.Z)({appear:l,in:m,nodeRef:x,onEnter:T,onEntered:$,onEntering:j,onExit:N,onExited:k,onExiting:D,addEndListener:e=>{s&&s(x.current,e)},timeout:P},I,{children:(e,t)=>o.cloneElement(c,(0,i.Z)({style:(0,i.Z)({opacity:0,visibility:"exited"!==e||m?void 0:"hidden"},g[e],R,c.props.style),ref:A},t))}))});var m=r(26520),b=r(25702);function _(e){return(0,b.Z)("MuiBackdrop",e)}(0,m.Z)("MuiBackdrop",["root","invisible"]);let w=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],S=e=>{let{classes:t,invisible:r}=e;return(0,s.Z)({root:["root",r&&"invisible"]},_,t)},O=(0,l.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>(0,i.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),M=o.forwardRef(function(e,t){var r,o,s;let l=(0,c.Z)({props:e,name:"MuiBackdrop"}),{children:u,className:d,component:f="div",components:p={},componentsProps:y={},invisible:g=!1,open:m,slotProps:b={},slots:_={},TransitionComponent:M=v,transitionDuration:R}=l,P=(0,n.Z)(l,w),E=(0,i.Z)({},l,{component:f,invisible:g}),I=S(E),x=null!=(r=b.root)?r:y.root;return(0,h.jsx)(M,(0,i.Z)({in:m,timeout:R},P,{children:(0,h.jsx)(O,(0,i.Z)({"aria-hidden":!0},x,{as:null!=(o=null!=(s=_.root)?s:p.Root)?o:f,className:(0,a.Z)(I.root,d,null==x?void 0:x.className),ownerState:(0,i.Z)({},E,null==x?void 0:x.ownerState),classes:I,ref:t,children:u}))}))});var R=M},47827:function(e,t,r){"use strict";r.d(t,{Z:function(){return E}});var n=r(20791),i=r(13428),o=r(2265),a=r(57042),s=r(95600),l=r(89975),c=r(59782),u=r(57437),d=(0,c.Z)((0,u.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),f=r(37663),p=r(28702),h=r(16659),y=r(87927),g=r(35843),v=r(26520),m=r(25702);function b(e){return(0,m.Z)("MuiChip",e)}let _=(0,v.Z)("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),w=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],S=e=>{let{classes:t,disabled:r,size:n,color:i,iconColor:o,onDelete:a,clickable:l,variant:c}=e,u={root:["root",c,r&&"disabled",`size${(0,p.Z)(n)}`,`color${(0,p.Z)(i)}`,l&&"clickable",l&&`clickableColor${(0,p.Z)(i)}`,a&&"deletable",a&&`deletableColor${(0,p.Z)(i)}`,`${c}${(0,p.Z)(i)}`],label:["label",`label${(0,p.Z)(n)}`],avatar:["avatar",`avatar${(0,p.Z)(n)}`,`avatarColor${(0,p.Z)(i)}`],icon:["icon",`icon${(0,p.Z)(n)}`,`iconColor${(0,p.Z)(o)}`],deleteIcon:["deleteIcon",`deleteIcon${(0,p.Z)(n)}`,`deleteIconColor${(0,p.Z)(i)}`,`deleteIcon${(0,p.Z)(c)}Color${(0,p.Z)(i)}`]};return(0,s.Z)(u,b,t)},O=(0,g.ZP)("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{color:n,iconColor:i,clickable:o,onDelete:a,size:s,variant:l}=r;return[{[`& .${_.avatar}`]:t.avatar},{[`& .${_.avatar}`]:t[`avatar${(0,p.Z)(s)}`]},{[`& .${_.avatar}`]:t[`avatarColor${(0,p.Z)(n)}`]},{[`& .${_.icon}`]:t.icon},{[`& .${_.icon}`]:t[`icon${(0,p.Z)(s)}`]},{[`& .${_.icon}`]:t[`iconColor${(0,p.Z)(i)}`]},{[`& .${_.deleteIcon}`]:t.deleteIcon},{[`& .${_.deleteIcon}`]:t[`deleteIcon${(0,p.Z)(s)}`]},{[`& .${_.deleteIcon}`]:t[`deleteIconColor${(0,p.Z)(n)}`]},{[`& .${_.deleteIcon}`]:t[`deleteIcon${(0,p.Z)(l)}Color${(0,p.Z)(n)}`]},t.root,t[`size${(0,p.Z)(s)}`],t[`color${(0,p.Z)(n)}`],o&&t.clickable,o&&"default"!==n&&t[`clickableColor${(0,p.Z)(n)})`],a&&t.deletable,a&&"default"!==n&&t[`deletableColor${(0,p.Z)(n)}`],t[l],t[`${l}${(0,p.Z)(n)}`]]}})(({theme:e,ownerState:t})=>{let r="light"===e.palette.mode?e.palette.grey[700]:e.palette.grey[300];return(0,i.Z)({maxWidth:"100%",fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(e.vars||e).palette.text.primary,backgroundColor:(e.vars||e).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${_.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${_.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:e.vars?e.vars.palette.Chip.defaultAvatarColor:r,fontSize:e.typography.pxToRem(12)},[`& .${_.avatarColorPrimary}`]:{color:(e.vars||e).palette.primary.contrastText,backgroundColor:(e.vars||e).palette.primary.dark},[`& .${_.avatarColorSecondary}`]:{color:(e.vars||e).palette.secondary.contrastText,backgroundColor:(e.vars||e).palette.secondary.dark},[`& .${_.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)},[`& .${_.icon}`]:(0,i.Z)({marginLeft:5,marginRight:-6},"small"===t.size&&{fontSize:18,marginLeft:4,marginRight:-4},t.iconColor===t.color&&(0,i.Z)({color:e.vars?e.vars.palette.Chip.defaultIconColor:r},"default"!==t.color&&{color:"inherit"})),[`& .${_.deleteIcon}`]:(0,i.Z)({WebkitTapHighlightColor:"transparent",color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.26)`:(0,l.Fq)(e.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / 0.4)`:(0,l.Fq)(e.palette.text.primary,.4)}},"small"===t.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==t.color&&{color:e.vars?`rgba(${e.vars.palette[t.color].contrastTextChannel} / 0.7)`:(0,l.Fq)(e.palette[t.color].contrastText,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].contrastText}})},"small"===t.size&&{height:24},"default"!==t.color&&{backgroundColor:(e.vars||e).palette[t.color].main,color:(e.vars||e).palette[t.color].contrastText},t.onDelete&&{[`&.${_.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},t.onDelete&&"default"!==t.color&&{[`&.${_.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}})},({theme:e,ownerState:t})=>(0,i.Z)({},t.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,l.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)},[`&.${_.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.action.selectedChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,l.Fq)(e.palette.action.selected,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)},"&:active":{boxShadow:(e.vars||e).shadows[1]}},t.clickable&&"default"!==t.color&&{[`&:hover, &.${_.focusVisible}`]:{backgroundColor:(e.vars||e).palette[t.color].dark}}),({theme:e,ownerState:t})=>(0,i.Z)({},"outlined"===t.variant&&{backgroundColor:"transparent",border:e.vars?`1px solid ${e.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===e.palette.mode?e.palette.grey[400]:e.palette.grey[700]}`,[`&.${_.clickable}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${_.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`& .${_.avatar}`]:{marginLeft:4},[`& .${_.avatarSmall}`]:{marginLeft:2},[`& .${_.icon}`]:{marginLeft:4},[`& .${_.iconSmall}`]:{marginLeft:2},[`& .${_.deleteIcon}`]:{marginRight:5},[`& .${_.deleteIconSmall}`]:{marginRight:3}},"outlined"===t.variant&&"default"!==t.color&&{color:(e.vars||e).palette[t.color].main,border:`1px solid ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,l.Fq)(e.palette[t.color].main,.7)}`,[`&.${_.clickable}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:(0,l.Fq)(e.palette[t.color].main,e.palette.action.hoverOpacity)},[`&.${_.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.focusOpacity})`:(0,l.Fq)(e.palette[t.color].main,e.palette.action.focusOpacity)},[`& .${_.deleteIcon}`]:{color:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.7)`:(0,l.Fq)(e.palette[t.color].main,.7),"&:hover, &:active":{color:(e.vars||e).palette[t.color].main}}})),M=(0,g.ZP)("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:r}=e,{size:n}=r;return[t.label,t[`label${(0,p.Z)(n)}`]]}})(({ownerState:e})=>(0,i.Z)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===e.variant&&{paddingLeft:11,paddingRight:11},"small"===e.size&&{paddingLeft:8,paddingRight:8},"small"===e.size&&"outlined"===e.variant&&{paddingLeft:7,paddingRight:7}));function R(e){return"Backspace"===e.key||"Delete"===e.key}let P=o.forwardRef(function(e,t){let r=(0,y.Z)({props:e,name:"MuiChip"}),{avatar:s,className:l,clickable:c,color:p="default",component:g,deleteIcon:v,disabled:m=!1,icon:b,label:_,onClick:P,onDelete:E,onKeyDown:I,onKeyUp:x,size:A="medium",variant:C="filled",tabIndex:j,skipFocusWhenDisabled:T=!1}=r,$=(0,n.Z)(r,w),D=o.useRef(null),N=(0,f.Z)(D,t),k=e=>{e.stopPropagation(),E&&E(e)},B=!1!==c&&!!P||c,F=B||E?h.Z:g||"div",L=(0,i.Z)({},r,{component:F,disabled:m,size:A,color:p,iconColor:o.isValidElement(b)&&b.props.color||p,onDelete:!!E,clickable:B,variant:C}),U=S(L),V=F===h.Z?(0,i.Z)({component:g||"div",focusVisibleClassName:U.focusVisible},E&&{disableRipple:!0}):{},K=null;E&&(K=v&&o.isValidElement(v)?o.cloneElement(v,{className:(0,a.Z)(v.props.className,U.deleteIcon),onClick:k}):(0,u.jsx)(d,{className:(0,a.Z)(U.deleteIcon),onClick:k}));let W=null;s&&o.isValidElement(s)&&(W=o.cloneElement(s,{className:(0,a.Z)(U.avatar,s.props.className)}));let J=null;return b&&o.isValidElement(b)&&(J=o.cloneElement(b,{className:(0,a.Z)(U.icon,b.props.className)})),(0,u.jsxs)(O,(0,i.Z)({as:F,className:(0,a.Z)(U.root,l),disabled:!!B&&!!m||void 0,onClick:P,onKeyDown:e=>{e.currentTarget===e.target&&R(e)&&e.preventDefault(),I&&I(e)},onKeyUp:e=>{e.currentTarget===e.target&&(E&&R(e)?E(e):"Escape"===e.key&&D.current&&D.current.blur()),x&&x(e)},ref:N,tabIndex:T&&m?-1:j,ownerState:L},V,$,{children:[W||J,(0,u.jsx)(M,{className:(0,a.Z)(U.label),ownerState:L,children:_}),K]}))});var E=P},57328:function(e,t,r){"use strict";var n=r(20791),i=r(13428),o=r(2265),a=r(15959),s=r(95600),l=r(98599),c=r(35843),u=r(87927),d=r(19274),f=r(57437);let p=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],h=e=>{let{classes:t,disableUnderline:r}=e,n=(0,s.Z)({root:["root",!r&&"underline"],input:["input"]},d._,t);return(0,i.Z)({},t,n)},y=(0,c.ZP)(l.Ej,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...(0,l.Gx)(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;let n="light"===e.palette.mode,o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)";return(0,i.Z)({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${d.Z.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${d.Z.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${null==(r=(e.vars||e).palette[t.color||"primary"])?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${d.Z.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${d.Z.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)"}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${d.Z.disabled}, .${d.Z.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${d.Z.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&(0,i.Z)({padding:"25px 12px 8px"},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9}))}),g=(0,c.ZP)(l.rA,{name:"MuiFilledInput",slot:"Input",overridesResolver:l._o})(({theme:e,ownerState:t})=>(0,i.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&"small"===t.size&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),v=o.forwardRef(function(e,t){var r,o,s,c;let d=(0,u.Z)({props:e,name:"MuiFilledInput"}),{components:v={},componentsProps:m,fullWidth:b=!1,inputComponent:_="input",multiline:w=!1,slotProps:S,slots:O={},type:M="text"}=d,R=(0,n.Z)(d,p),P=(0,i.Z)({},d,{fullWidth:b,inputComponent:_,multiline:w,type:M}),E=h(d),I={root:{ownerState:P},input:{ownerState:P}},x=(null!=S?S:m)?(0,a.Z)(I,null!=S?S:m):I,A=null!=(r=null!=(o=O.root)?o:v.Root)?r:y,C=null!=(s=null!=(c=O.input)?c:v.Input)?s:g;return(0,f.jsx)(l.ZP,(0,i.Z)({slots:{root:A,input:C},componentsProps:x,fullWidth:b,inputComponent:_,multiline:w,ref:t,type:M},R,{classes:E}))});v.muiName="Input",t.Z=v},19274:function(e,t,r){"use strict";r.d(t,{_:function(){return s}});var n=r(13428),i=r(26520),o=r(25702),a=r(97044);function s(e){return(0,o.Z)("MuiFilledInput",e)}let l=(0,n.Z)({},a.Z,(0,i.Z)("MuiFilledInput",["root","underline","input"]));t.Z=l},33546:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n=r(20791),i=r(13428),o=r(2265),a=r(57042),s=r(95600),l=r(87927),c=r(35843),u=r(5454),d=r(28702),f=r(8051).Z,p=r(2592),h=r(26520),y=r(25702);function g(e){return(0,y.Z)("MuiFormControl",e)}(0,h.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var v=r(57437);let m=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],b=e=>{let{classes:t,margin:r,fullWidth:n}=e,i={root:["root","none"!==r&&`margin${(0,d.Z)(r)}`,n&&"fullWidth"]};return(0,s.Z)(i,g,t)},_=(0,c.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.Z)({},t.root,t[`margin${(0,d.Z)(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>(0,i.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===e.margin&&{marginTop:16,marginBottom:8},"dense"===e.margin&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),w=o.forwardRef(function(e,t){let r;let s=(0,l.Z)({props:e,name:"MuiFormControl"}),{children:c,className:d,color:h="primary",component:y="div",disabled:g=!1,error:w=!1,focused:S,fullWidth:O=!1,hiddenLabel:M=!1,margin:R="none",required:P=!1,size:E="medium",variant:I="outlined"}=s,x=(0,n.Z)(s,m),A=(0,i.Z)({},s,{color:h,component:y,disabled:g,error:w,fullWidth:O,hiddenLabel:M,margin:R,required:P,size:E,variant:I}),C=b(A),[j,T]=o.useState(()=>{let e=!1;return c&&o.Children.forEach(c,t=>{if(!f(t,["Input","Select"]))return;let r=f(t,["Select"])?t.props.input:t;r&&(0,u.B7)(r.props)&&(e=!0)}),e}),[$,D]=o.useState(()=>{let e=!1;return c&&o.Children.forEach(c,t=>{f(t,["Input","Select"])&&((0,u.vd)(t.props,!0)||(0,u.vd)(t.props.inputProps,!0))&&(e=!0)}),e}),[N,k]=o.useState(!1);g&&N&&k(!1);let B=void 0===S||g?N:S,F=o.useMemo(()=>({adornedStart:j,setAdornedStart:T,color:h,disabled:g,error:w,filled:$,focused:B,fullWidth:O,hiddenLabel:M,size:E,onBlur:()=>{k(!1)},onEmpty:()=>{D(!1)},onFilled:()=>{D(!0)},onFocus:()=>{k(!0)},registerEffect:r,required:P,variant:I}),[j,h,g,w,$,B,O,M,r,P,E,I]);return(0,v.jsx)(p.Z.Provider,{value:F,children:(0,v.jsx)(_,(0,i.Z)({as:y,ownerState:A,className:(0,a.Z)(C.root,d),ref:t},x,{children:c}))})});var S=w},2592:function(e,t,r){"use strict";var n=r(2265);let i=n.createContext(void 0);t.Z=i},54379:function(e,t,r){"use strict";function n({props:e,states:t,muiFormControl:r}){return t.reduce((t,n)=>(t[n]=e[n],r&&void 0===e[n]&&(t[n]=r[n]),t),{})}r.d(t,{Z:function(){return n}})},59592:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2265),i=r(2592);function o(){return n.useContext(i.Z)}},14172:function(e,t,r){"use strict";var n=r(20791),i=r(13428),o=r(2265),a=r(57042),s=r(95600),l=r(54379),c=r(59592),u=r(28702),d=r(87927),f=r(35843),p=r(2331),h=r(57437);let y=["children","className","color","component","disabled","error","filled","focused","required"],g=e=>{let{classes:t,color:r,focused:n,disabled:i,error:o,filled:a,required:l}=e,c={root:["root",`color${(0,u.Z)(r)}`,i&&"disabled",o&&"error",a&&"filled",n&&"focused",l&&"required"],asterisk:["asterisk",o&&"error"]};return(0,s.Z)(c,p.M,t)},v=(0,f.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>(0,i.Z)({},t.root,"secondary"===e.color&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>(0,i.Z)({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${p.Z.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${p.Z.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${p.Z.error}`]:{color:(e.vars||e).palette.error.main}})),m=(0,f.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${p.Z.error}`]:{color:(e.vars||e).palette.error.main}})),b=o.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiFormLabel"}),{children:o,className:s,component:u="label"}=r,f=(0,n.Z)(r,y),p=(0,c.Z)(),b=(0,l.Z)({props:r,muiFormControl:p,states:["color","required","focused","disabled","error","filled"]}),_=(0,i.Z)({},r,{color:b.color||"primary",component:u,disabled:b.disabled,error:b.error,filled:b.filled,focused:b.focused,required:b.required}),w=g(_);return(0,h.jsxs)(v,(0,i.Z)({as:u,ownerState:_,className:(0,a.Z)(w.root,s),ref:t},f,{children:[o,b.required&&(0,h.jsxs)(m,{ownerState:_,"aria-hidden":!0,className:w.asterisk,children:[" ","*"]})]}))});t.Z=b},2331:function(e,t,r){"use strict";r.d(t,{M:function(){return o}});var n=r(26520),i=r(25702);function o(e){return(0,i.Z)("MuiFormLabel",e)}let a=(0,n.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]);t.Z=a},98599:function(e,t,r){"use strict";r.d(t,{rA:function(){return k},Ej:function(){return N},ZP:function(){return L},_o:function(){return $},Gx:function(){return T}});var n=r(20791),i=r(13428),o=r(30018),a=r(2265),s=r(57042),l=r(95600),c=r(54887),u=r(95137),d=r(88221),f=r(1091),p=r(78078),h=r(57437);let y=["onChange","maxRows","minRows","style","value"];function g(e){return parseInt(e,10)||0}let v={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function m(e){return null==e||0===Object.keys(e).length||0===e.outerHeightStyle&&!e.overflow}let b=a.forwardRef(function(e,t){let{onChange:r,maxRows:o,minRows:s=1,style:l,value:b}=e,_=(0,n.Z)(e,y),{current:w}=a.useRef(null!=b),S=a.useRef(null),O=(0,u.Z)(t,S),M=a.useRef(null),R=a.useRef(0),[P,E]=a.useState({outerHeightStyle:0}),I=a.useCallback(()=>{let t=S.current,r=(0,d.Z)(t),n=r.getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0};let i=M.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");let a=n.boxSizing,l=g(n.paddingBottom)+g(n.paddingTop),c=g(n.borderBottomWidth)+g(n.borderTopWidth),u=i.scrollHeight;i.value="x";let f=i.scrollHeight,p=u;s&&(p=Math.max(Number(s)*f,p)),o&&(p=Math.min(Number(o)*f,p)),p=Math.max(p,f);let h=p+("border-box"===a?l+c:0),y=1>=Math.abs(p-u);return{outerHeightStyle:h,overflow:y}},[o,s,e.placeholder]),x=(e,t)=>{let{outerHeightStyle:r,overflow:n}=t;return R.current<20&&(r>0&&Math.abs((e.outerHeightStyle||0)-r)>1||e.overflow!==n)?(R.current+=1,{overflow:n,outerHeightStyle:r}):e},A=a.useCallback(()=>{let e=I();m(e)||E(t=>x(t,e))},[I]);return(0,f.Z)(()=>{let e,t;let r=()=>{let e=I();m(e)||c.flushSync(()=>{E(t=>x(t,e))})},n=()=>{R.current=0,r()},i=(0,p.Z)(n),o=S.current,a=(0,d.Z)(o);return a.addEventListener("resize",i),"undefined"!=typeof ResizeObserver&&(t=new ResizeObserver(n)).observe(o),()=>{i.clear(),cancelAnimationFrame(e),a.removeEventListener("resize",i),t&&t.disconnect()}},[I]),(0,f.Z)(()=>{A()}),a.useEffect(()=>{R.current=0},[b]),(0,h.jsxs)(a.Fragment,{children:[(0,h.jsx)("textarea",(0,i.Z)({value:b,onChange:e=>{R.current=0,w||A(),r&&r(e)},ref:O,rows:s,style:(0,i.Z)({height:P.outerHeightStyle,overflow:P.overflow?"hidden":void 0},l)},_)),(0,h.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:M,tabIndex:-1,style:(0,i.Z)({},v.shadow,l,{paddingTop:0,paddingBottom:0})})]})});var _=r(43655),w=r(54379),S=r(2592),O=r(59592),M=r(35843),R=r(87927),P=r(28702),E=r(37663),I=r(57613),x=r(29826),A=r(5454),C=r(97044);let j=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],T=(e,t)=>{let{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,"small"===r.size&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${(0,P.Z)(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},$=(e,t)=>{let{ownerState:r}=e;return[t.input,"small"===r.size&&t.inputSizeSmall,r.multiline&&t.inputMultiline,"search"===r.type&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},D=e=>{let{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:a,formControl:s,fullWidth:c,hiddenLabel:u,multiline:d,readOnly:f,size:p,startAdornment:h,type:y}=e,g={root:["root",`color${(0,P.Z)(r)}`,n&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",s&&"formControl",p&&"medium"!==p&&`size${(0,P.Z)(p)}`,d&&"multiline",h&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",n&&"disabled","search"===y&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",u&&"inputHiddenLabel",h&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return(0,l.Z)(g,C.u,t)},N=(0,M.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:T})(({theme:e,ownerState:t})=>(0,i.Z)({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${C.Z.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&(0,i.Z)({padding:"4px 0 5px"},"small"===t.size&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),k=(0,M.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:$})(({theme:e,ownerState:t})=>{let r="light"===e.palette.mode,n=(0,i.Z)({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),o={opacity:"0 !important"},a=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,i.Z)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${C.Z.formControl} &`]:{"&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus::-webkit-input-placeholder":a,"&:focus::-moz-placeholder":a,"&:focus:-ms-input-placeholder":a,"&:focus::-ms-input-placeholder":a},[`&.${C.Z.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===t.size&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===t.type&&{MozAppearance:"textfield"})}),B=(0,h.jsx)(x.Z,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),F=a.forwardRef(function(e,t){var r;let l=(0,R.Z)({props:e,name:"MuiInputBase"}),{"aria-describedby":c,autoComplete:u,autoFocus:d,className:f,components:p={},componentsProps:y={},defaultValue:g,disabled:v,disableInjectingGlobalStyles:m,endAdornment:M,fullWidth:P=!1,id:x,inputComponent:C="input",inputProps:T={},inputRef:$,maxRows:F,minRows:L,multiline:U=!1,name:V,onBlur:K,onChange:W,onClick:J,onFocus:H,onKeyDown:q,onKeyUp:Z,placeholder:G,readOnly:z,renderSuffix:Y,rows:X,slotProps:Q={},slots:ee={},startAdornment:et,type:er="text",value:en}=l,ei=(0,n.Z)(l,j),eo=null!=T.value?T.value:en,{current:ea}=a.useRef(null!=eo),es=a.useRef(),el=a.useCallback(e=>{},[]),ec=(0,E.Z)(es,$,T.ref,el),[eu,ed]=a.useState(!1),ef=(0,O.Z)(),ep=(0,w.Z)({props:l,muiFormControl:ef,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ep.focused=ef?ef.focused:eu,a.useEffect(()=>{!ef&&v&&eu&&(ed(!1),K&&K())},[ef,v,eu,K]);let eh=ef&&ef.onFilled,ey=ef&&ef.onEmpty,eg=a.useCallback(e=>{(0,A.vd)(e)?eh&&eh():ey&&ey()},[eh,ey]);(0,I.Z)(()=>{ea&&eg({value:eo})},[eo,eg,ea]),a.useEffect(()=>{eg(es.current)},[]);let ev=C,em=T;U&&"input"===ev&&(em=X?(0,i.Z)({type:void 0,minRows:X,maxRows:X},em):(0,i.Z)({type:void 0,maxRows:F,minRows:L},em),ev=b),a.useEffect(()=>{ef&&ef.setAdornedStart(!!et)},[ef,et]);let eb=(0,i.Z)({},l,{color:ep.color||"primary",disabled:ep.disabled,endAdornment:M,error:ep.error,focused:ep.focused,formControl:ef,fullWidth:P,hiddenLabel:ep.hiddenLabel,multiline:U,size:ep.size,startAdornment:et,type:er}),e_=D(eb),ew=ee.root||p.Root||N,eS=Q.root||y.root||{},eO=ee.input||p.Input||k;return em=(0,i.Z)({},em,null!=(r=Q.input)?r:y.input),(0,h.jsxs)(a.Fragment,{children:[!m&&B,(0,h.jsxs)(ew,(0,i.Z)({},eS,!(0,_.X)(ew)&&{ownerState:(0,i.Z)({},eb,eS.ownerState)},{ref:t,onClick:e=>{es.current&&e.currentTarget===e.target&&es.current.focus(),J&&J(e)}},ei,{className:(0,s.Z)(e_.root,eS.className,f,z&&"MuiInputBase-readOnly"),children:[et,(0,h.jsx)(S.Z.Provider,{value:null,children:(0,h.jsx)(eO,(0,i.Z)({ownerState:eb,"aria-invalid":ep.error,"aria-describedby":c,autoComplete:u,autoFocus:d,defaultValue:g,disabled:ep.disabled,id:x,onAnimationStart:e=>{eg("mui-auto-fill-cancel"===e.animationName?es.current:{value:"x"})},name:V,placeholder:G,readOnly:z,required:ep.required,rows:X,value:eo,onKeyDown:q,onKeyUp:Z,type:er},em,!(0,_.X)(eO)&&{as:ev,ownerState:(0,i.Z)({},eb,em.ownerState)},{ref:ec,className:(0,s.Z)(e_.input,em.className,z&&"MuiInputBase-readOnly"),onBlur:e=>{K&&K(e),T.onBlur&&T.onBlur(e),ef&&ef.onBlur?ef.onBlur(e):ed(!1)},onChange:(e,...t)=>{if(!ea){let t=e.target||es.current;if(null==t)throw Error((0,o.Z)(1));eg({value:t.value})}T.onChange&&T.onChange(e,...t),W&&W(e,...t)},onFocus:e=>{if(ep.disabled){e.stopPropagation();return}H&&H(e),T.onFocus&&T.onFocus(e),ef&&ef.onFocus?ef.onFocus(e):ed(!0)}}))}),M,Y?Y((0,i.Z)({},ep,{startAdornment:et})):null]}))]})});var L=F},97044:function(e,t,r){"use strict";r.d(t,{u:function(){return o}});var n=r(26520),i=r(25702);function o(e){return(0,i.Z)("MuiInputBase",e)}let a=(0,n.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);t.Z=a},5454:function(e,t,r){"use strict";function n(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function i(e,t=!1){return e&&(n(e.value)&&""!==e.value||t&&n(e.defaultValue)&&""!==e.defaultValue)}function o(e){return e.startAdornment}r.d(t,{B7:function(){return o},vd:function(){return i}})},2510:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(20791),i=r(13428),o=r(2265),a=r(95600),s=r(57042),l=r(54379),c=r(59592),u=r(14172),d=r(2331),f=r(87927),p=r(28702),h=r(35843),y=r(26520),g=r(25702);function v(e){return(0,g.Z)("MuiInputLabel",e)}(0,y.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var m=r(57437);let b=["disableAnimation","margin","shrink","variant","className"],_=e=>{let{classes:t,formControl:r,size:n,shrink:o,disableAnimation:s,variant:l,required:c}=e,u={root:["root",r&&"formControl",!s&&"animated",o&&"shrink",n&&"normal"!==n&&`size${(0,p.Z)(n)}`,l],asterisk:[c&&"asterisk"]},d=(0,a.Z)(u,v,t);return(0,i.Z)({},t,d)},w=(0,h.ZP)(u.Z,{shouldForwardProp:e=>(0,h.FO)(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`& .${d.Z.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,"small"===r.size&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>(0,i.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===t.size&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},"filled"===t.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&(0,i.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===t.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===t.variant&&(0,i.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===t.size&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}),"standard"===t.variant&&{"&:not(label) + div":{marginTop:16}})),S=o.forwardRef(function(e,t){let r=(0,f.Z)({name:"MuiInputLabel",props:e}),{disableAnimation:o=!1,shrink:a,className:u}=r,d=(0,n.Z)(r,b),p=(0,c.Z)(),h=a;void 0===h&&p&&(h=p.filled||p.focused||p.adornedStart);let y=(0,l.Z)({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),g=(0,i.Z)({},r,{disableAnimation:o,formControl:p,shrink:h,size:y.size,variant:y.variant,required:y.required,focused:y.focused}),v=_(g);return(0,m.jsx)(w,(0,i.Z)({"data-shrink":h,ownerState:g,ref:t,className:(0,s.Z)(v.root,u)},d,{classes:v}))});var O=S},71711:function(e,t,r){"use strict";var n=r(20791),i=r(13428),o=r(2265),a=r(95600),s=r(15959),l=r(98599),c=r(35843),u=r(87927),d=r(10466),f=r(57437);let p=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],h=e=>{let{classes:t,disableUnderline:r}=e,n=(0,a.Z)({root:["root",!r&&"underline"],input:["input"]},d.l,t);return(0,i.Z)({},t,n)},y=(0,c.ZP)(l.Ej,{shouldForwardProp:e=>(0,c.FO)(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[...(0,l.Gx)(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let r="light"===e.palette.mode,n=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),(0,i.Z)({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${d.Z.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${d.Z.error}`]:{"&:before, &:after":{borderBottomColor:(e.vars||e).palette.error.main}},"&:before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${d.Z.disabled}, .${d.Z.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${d.Z.disabled}:before`]:{borderBottomStyle:"dotted"}})}),g=(0,c.ZP)(l.rA,{name:"MuiInput",slot:"Input",overridesResolver:l._o})({}),v=o.forwardRef(function(e,t){var r,o,a,c;let d=(0,u.Z)({props:e,name:"MuiInput"}),{disableUnderline:v,components:m={},componentsProps:b,fullWidth:_=!1,inputComponent:w="input",multiline:S=!1,slotProps:O,slots:M={},type:R="text"}=d,P=(0,n.Z)(d,p),E=h(d),I={root:{ownerState:{disableUnderline:v}}},x=(null!=O?O:b)?(0,s.Z)(null!=O?O:b,I):I,A=null!=(r=null!=(o=M.root)?o:m.Root)?r:y,C=null!=(a=null!=(c=M.input)?c:m.Input)?a:g;return(0,f.jsx)(l.ZP,(0,i.Z)({slots:{root:A,input:C},slotProps:x,fullWidth:_,inputComponent:w,multiline:S,ref:t,type:R},P,{classes:E}))});v.muiName="Input",t.Z=v},10466:function(e,t,r){"use strict";r.d(t,{l:function(){return s}});var n=r(13428),i=r(26520),o=r(25702),a=r(97044);function s(e){return(0,o.Z)("MuiInput",e)}let l=(0,n.Z)({},a.Z,(0,i.Z)("MuiInput",["root","underline","input"]));t.Z=l},77820:function(e,t,r){"use strict";var n=r(2265);let i=n.createContext({});t.Z=i},90923:function(e,t,r){"use strict";r.d(t,{Z:function(){return M}});var n,i=r(20791),o=r(13428),a=r(2265),s=r(95600),l=r(35843),c=r(57437);let u=["children","classes","className","label","notched"],d=(0,l.ZP)("fieldset",{shouldForwardProp:l.FO})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),f=(0,l.ZP)("legend",{shouldForwardProp:l.FO})(({ownerState:e,theme:t})=>(0,o.Z)({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&(0,o.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));var p=r(59592),h=r(54379),y=r(90130),g=r(98599),v=r(87927);let m=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],b=e=>{let{classes:t}=e,r=(0,s.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},y.e,t);return(0,o.Z)({},t,r)},_=(0,l.ZP)(g.Ej,{shouldForwardProp:e=>(0,l.FO)(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:g.Gx})(({theme:e,ownerState:t})=>{let r="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,o.Z)({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${y.Z.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${y.Z.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${y.Z.focused} .${y.Z.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${y.Z.error} .${y.Z.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${y.Z.disabled} .${y.Z.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&(0,o.Z)({padding:"16.5px 14px"},"small"===t.size&&{padding:"8.5px 14px"}))}),w=(0,l.ZP)(function(e){let{className:t,label:r,notched:a}=e,s=(0,i.Z)(e,u),l=null!=r&&""!==r,p=(0,o.Z)({},e,{notched:a,withLabel:l});return(0,c.jsx)(d,(0,o.Z)({"aria-hidden":!0,className:t,ownerState:p},s,{children:(0,c.jsx)(f,{ownerState:p,children:l?(0,c.jsx)("span",{children:r}):n||(n=(0,c.jsx)("span",{className:"notranslate",children:"​"}))})}))},{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{let t="light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),S=(0,l.ZP)(g.rA,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:g._o})(({theme:e,ownerState:t})=>(0,o.Z)({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===e.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===e.palette.mode?null:"#fff",caretColor:"light"===e.palette.mode?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===t.size&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),O=a.forwardRef(function(e,t){var r,n,s,l,u;let d=(0,v.Z)({props:e,name:"MuiOutlinedInput"}),{components:f={},fullWidth:y=!1,inputComponent:O="input",label:M,multiline:R=!1,notched:P,slots:E={},type:I="text"}=d,x=(0,i.Z)(d,m),A=b(d),C=(0,p.Z)(),j=(0,h.Z)({props:d,muiFormControl:C,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),T=(0,o.Z)({},d,{color:j.color||"primary",disabled:j.disabled,error:j.error,focused:j.focused,formControl:C,fullWidth:y,hiddenLabel:j.hiddenLabel,multiline:R,size:j.size,type:I}),$=null!=(r=null!=(n=E.root)?n:f.Root)?r:_,D=null!=(s=null!=(l=E.input)?l:f.Input)?s:S;return(0,c.jsx)(g.ZP,(0,o.Z)({slots:{root:$,input:D},renderSuffix:e=>(0,c.jsx)(w,{ownerState:T,className:A.notchedOutline,label:null!=M&&""!==M&&j.required?u||(u=(0,c.jsxs)(a.Fragment,{children:[M," ","*"]})):M,notched:void 0!==P?P:!!(e.startAdornment||e.filled||e.focused)}),fullWidth:y,inputComponent:O,multiline:R,ref:t,type:I},x,{classes:(0,o.Z)({},A,{notchedOutline:null})}))});O.muiName="Input";var M=O},90130:function(e,t,r){"use strict";r.d(t,{e:function(){return s}});var n=r(13428),i=r(26520),o=r(25702),a=r(97044);function s(e){return(0,o.Z)("MuiOutlinedInput",e)}let l=(0,n.Z)({},a.Z,(0,i.Z)("MuiOutlinedInput",["root","notchedOutline","input"]));t.Z=l},48982:function(e,t,r){"use strict";r.d(t,{XS:function(){return et},ZP:function(){return en}});var n=r(13428),i=r(20791),o=r(2265),a=r(57042),s=r(95600),l=r(27282),c=r(43655),u=r(35843),d=r(87927),f=r(78078).Z,p=r(53931),h=r(88221),y=h.Z,g=r(37663),v=r(56176),m=r(95137),b=r(96278),_=r(78136),w=r(62940),S=r(55095),O=r(60878);function M(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function R(e){return parseInt((0,h.Z)(e).getComputedStyle(e).paddingRight,10)||0}function P(e,t,r,n,i){let o=[t,r,...n];[].forEach.call(e.children,e=>{let t=-1===o.indexOf(e),r=!function(e){let t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),r="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||r}(e);t&&r&&M(e,i)})}function E(e,t){let r=-1;return e.some((e,n)=>!!t(e)&&(r=n,!0)),r}class I{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let r=this.modals.indexOf(e);if(-1!==r)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&M(e.modalRef,!1);let n=function(e){let t=[];return[].forEach.call(e.children,e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)}),t}(t);P(t,e.mount,e.modalRef,n,!0);let i=E(this.containers,e=>e.container===t);return -1!==i?this.containers[i].modals.push(e):this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:n}),r}mount(e,t){let r=E(this.containers,t=>-1!==t.modals.indexOf(e)),n=this.containers[r];n.restore||(n.restore=function(e,t){let r=[],n=e.container;if(!t.disableScrollLock){let e;if(function(e){let t=(0,b.Z)(e);return t.body===e?(0,h.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(n)){let e=(0,O.Z)((0,b.Z)(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${R(n)+e}px`;let t=(0,b.Z)(n).querySelectorAll(".mui-fixed");[].forEach.call(t,t=>{r.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${R(t)+e}px`})}if(n.parentNode instanceof DocumentFragment)e=(0,b.Z)(n).body;else{let t=n.parentElement,r=(0,h.Z)(n);e=(null==t?void 0:t.nodeName)==="HTML"&&"scroll"===r.getComputedStyle(t).overflowY?t:n}r.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{r.forEach(({value:e,el:t,property:r})=>{e?t.style.setProperty(r,e):t.style.removeProperty(r)})}}(n,t))}remove(e,t=!0){let r=this.modals.indexOf(e);if(-1===r)return r;let n=E(this.containers,t=>-1!==t.modals.indexOf(e)),i=this.containers[n];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(r,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&M(e.modalRef,t),P(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(n,1);else{let e=i.modals[i.modals.length-1];e.modalRef&&M(e.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}let x=new I;var A=r(57437);function C(e){let t=[],r=[];return Array.from(e.querySelectorAll('input,select,textarea,a[href],button,[tabindex],audio[controls],video[controls],[contenteditable]:not([contenteditable="false"])')).forEach((e,n)=>{let i=function(e){let t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1===i||e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type||!e.name)return!1;let t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`),r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}(e)||(0===i?t.push(e):r.push({documentOrder:n,tabIndex:i,node:e}))}),r.sort((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex).map(e=>e.node).concat(t)}function j(){return!0}function T(e){let{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:a=C,isEnabled:s=j,open:l}=e,c=o.useRef(!1),u=o.useRef(null),d=o.useRef(null),f=o.useRef(null),p=o.useRef(null),h=o.useRef(!1),y=o.useRef(null),g=(0,m.Z)(t.ref,y),v=o.useRef(null);o.useEffect(()=>{l&&y.current&&(h.current=!r)},[r,l]),o.useEffect(()=>{if(!l||!y.current)return;let e=(0,b.Z)(y.current);return!y.current.contains(e.activeElement)&&(y.current.hasAttribute("tabIndex")||y.current.setAttribute("tabIndex","-1"),h.current&&y.current.focus()),()=>{i||(f.current&&f.current.focus&&(c.current=!0,f.current.focus()),f.current=null)}},[l]),o.useEffect(()=>{if(!l||!y.current)return;let e=(0,b.Z)(y.current),t=t=>{v.current=t,!n&&s()&&"Tab"===t.key&&e.activeElement===y.current&&t.shiftKey&&(c.current=!0,d.current&&d.current.focus())},r=()=>{let t=y.current;if(null===t)return;if(!e.hasFocus()||!s()||c.current){c.current=!1;return}if(t.contains(e.activeElement)||n&&e.activeElement!==u.current&&e.activeElement!==d.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!h.current)return;let r=[];if((e.activeElement===u.current||e.activeElement===d.current)&&(r=a(y.current)),r.length>0){var i,o;let e=!!((null==(i=v.current)?void 0:i.shiftKey)&&(null==(o=v.current)?void 0:o.key)==="Tab"),t=r[0],n=r[r.length-1];"string"!=typeof t&&"string"!=typeof n&&(e?n.focus():t.focus())}else t.focus()};e.addEventListener("focusin",r),e.addEventListener("keydown",t,!0);let i=setInterval(()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&r()},50);return()=>{clearInterval(i),e.removeEventListener("focusin",r),e.removeEventListener("keydown",t,!0)}},[r,n,i,s,l,a]);let _=e=>{null===f.current&&(f.current=e.relatedTarget),h.current=!0};return(0,A.jsxs)(o.Fragment,{children:[(0,A.jsx)("div",{tabIndex:l?0:-1,onFocus:_,ref:u,"data-testid":"sentinelStart"}),o.cloneElement(t,{ref:g,onFocus:e=>{null===f.current&&(f.current=e.relatedTarget),h.current=!0,p.current=e.target;let r=t.props.onFocus;r&&r(e)}}),(0,A.jsx)("div",{tabIndex:l?0:-1,onFocus:_,ref:d,"data-testid":"sentinelEnd"})]})}var $=r(57379),D=r(57852),N=r(26520),k=r(25702);function B(e){return(0,k.Z)("MuiModal",e)}(0,N.Z)("MuiModal",["root","hidden","backdrop"]);let F=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],L=e=>{let{open:t,exited:r,classes:n}=e;return(0,s.Z)({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},B,n)},U=(0,u.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>(0,n.Z)({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),V=(0,u.ZP)(D.Z,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),K=o.forwardRef(function(e,t){var r,s,c,u,f,p;let h=(0,d.Z)({name:"MuiModal",props:e}),{BackdropComponent:y=V,BackdropProps:g,className:v,closeAfterTransition:O=!1,children:R,container:P,component:E,components:I={},componentsProps:C={},disableAutoFocus:j=!1,disableEnforceFocus:D=!1,disableEscapeKeyDown:N=!1,disablePortal:k=!1,disableRestoreFocus:B=!1,disableScrollLock:K=!1,hideBackdrop:W=!1,keepMounted:J=!1,onBackdropClick:H,open:q,slotProps:Z,slots:G}=h,z=(0,i.Z)(h,F),Y=(0,n.Z)({},h,{closeAfterTransition:O,disableAutoFocus:j,disableEnforceFocus:D,disableEscapeKeyDown:N,disablePortal:k,disableRestoreFocus:B,disableScrollLock:K,hideBackdrop:W,keepMounted:J}),{getRootProps:X,getBackdropProps:Q,getTransitionProps:ee,portalRef:et,isTopModal:er,exited:en,hasTransition:ei}=function(e){let{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:i=!1,manager:a=x,closeAfterTransition:s=!1,onTransitionEnter:l,onTransitionExited:c,children:u,onClose:d,open:f,rootRef:p}=e,h=o.useRef({}),y=o.useRef(null),g=o.useRef(null),v=(0,m.Z)(g,p),[O,R]=o.useState(!f),P=!!u&&u.props.hasOwnProperty("in"),E=!0;("false"===e["aria-hidden"]||!1===e["aria-hidden"])&&(E=!1);let I=()=>(0,b.Z)(y.current),A=()=>(h.current.modalRef=g.current,h.current.mount=y.current,h.current),C=()=>{a.mount(A(),{disableScrollLock:i}),g.current&&(g.current.scrollTop=0)},j=(0,_.Z)(()=>{let e=("function"==typeof t?t():t)||I().body;a.add(A(),e),g.current&&C()}),T=o.useCallback(()=>a.isTopModal(A()),[a]),$=(0,_.Z)(e=>{y.current=e,e&&(f&&T()?C():g.current&&M(g.current,E))}),D=o.useCallback(()=>{a.remove(A(),E)},[E,a]);o.useEffect(()=>()=>{D()},[D]),o.useEffect(()=>{f?j():P&&s||D()},[f,D,P,s,j]);let N=e=>t=>{var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&T()&&!r&&(t.stopPropagation(),d&&d(t,"escapeKeyDown"))},k=e=>t=>{var r;null==(r=e.onClick)||r.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:(t={})=>{let r=(0,S._)(e);delete r.onTransitionEnter,delete r.onTransitionExited;let i=(0,n.Z)({},r,t);return(0,n.Z)({role:"presentation"},i,{onKeyDown:N(i),ref:v})},getBackdropProps:(e={})=>(0,n.Z)({"aria-hidden":!0},e,{onClick:k(e),open:f}),getTransitionProps:()=>({onEnter:(0,w.Z)(()=>{R(!1),l&&l()},null==u?void 0:u.props.onEnter),onExited:(0,w.Z)(()=>{R(!0),c&&c(),s&&D()},null==u?void 0:u.props.onExited)}),rootRef:v,portalRef:$,isTopModal:T,exited:O,hasTransition:P}}((0,n.Z)({},Y,{rootRef:t})),eo=(0,n.Z)({},Y,{exited:en}),ea=L(eo),es={};if(void 0===R.props.tabIndex&&(es.tabIndex="-1"),ei){let{onEnter:e,onExited:t}=ee();es.onEnter=e,es.onExited=t}let el=null!=(r=null!=(s=null==G?void 0:G.root)?s:I.Root)?r:U,ec=null!=(c=null!=(u=null==G?void 0:G.backdrop)?u:I.Backdrop)?c:y,eu=null!=(f=null==Z?void 0:Z.root)?f:C.root,ed=null!=(p=null==Z?void 0:Z.backdrop)?p:C.backdrop,ef=(0,l.y)({elementType:el,externalSlotProps:eu,externalForwardedProps:z,getSlotProps:X,additionalProps:{ref:t,as:E},ownerState:eo,className:(0,a.Z)(v,null==eu?void 0:eu.className,null==ea?void 0:ea.root,!eo.open&&eo.exited&&(null==ea?void 0:ea.hidden))}),ep=(0,l.y)({elementType:ec,externalSlotProps:ed,additionalProps:g,getSlotProps:e=>Q((0,n.Z)({},e,{onClick:t=>{H&&H(t),null!=e&&e.onClick&&e.onClick(t)}})),className:(0,a.Z)(null==ed?void 0:ed.className,null==g?void 0:g.className,null==ea?void 0:ea.backdrop),ownerState:eo});return J||q||ei&&!en?(0,A.jsx)($.h,{ref:et,container:P,disablePortal:k,children:(0,A.jsxs)(el,(0,n.Z)({},ef,{children:[!W&&y?(0,A.jsx)(ec,(0,n.Z)({},ep)):null,(0,A.jsx)(T,{disableEnforceFocus:D,disableAutoFocus:j,disableRestoreFocus:B,isEnabled:er,open:q,children:o.cloneElement(R,es)})]}))}):null});var W=r(68395);function J(e){return(0,k.Z)("MuiPopover",e)}(0,N.Z)("MuiPopover",["root","paper"]);let H=["onEntering"],q=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Z=["slotProps"];function G(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.height/2:"bottom"===t&&(r=e.height),r}function z(e,t){let r=0;return"number"==typeof t?r=t:"center"===t?r=e.width/2:"right"===t&&(r=e.width),r}function Y(e){return[e.horizontal,e.vertical].map(e=>"number"==typeof e?`${e}px`:e).join(" ")}function X(e){return"function"==typeof e?e():e}let Q=e=>{let{classes:t}=e;return(0,s.Z)({root:["root"],paper:["paper"]},J,t)},ee=(0,u.ZP)(K,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),et=(0,u.ZP)(W.Z,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),er=o.forwardRef(function(e,t){var r,s,u;let h=(0,d.Z)({props:e,name:"MuiPopover"}),{action:m,anchorEl:b,anchorOrigin:_={vertical:"top",horizontal:"left"},anchorPosition:w,anchorReference:S="anchorEl",children:O,className:M,container:R,elevation:P=8,marginThreshold:E=16,open:I,PaperProps:x={},slots:C,slotProps:j,transformOrigin:T={vertical:"top",horizontal:"left"},TransitionComponent:$=v.Z,transitionDuration:D="auto",TransitionProps:{onEntering:N}={},disableScrollLock:k=!1}=h,B=(0,i.Z)(h.TransitionProps,H),F=(0,i.Z)(h,q),L=null!=(r=null==j?void 0:j.paper)?r:x,U=o.useRef(),V=(0,g.Z)(U,L.ref),K=(0,n.Z)({},h,{anchorOrigin:_,anchorReference:S,elevation:P,marginThreshold:E,externalPaperSlotProps:L,transformOrigin:T,TransitionComponent:$,transitionDuration:D,TransitionProps:B}),W=Q(K),J=o.useCallback(()=>{if("anchorPosition"===S)return w;let e=X(b),t=e&&1===e.nodeType?e:(0,p.Z)(U.current).body,r=t.getBoundingClientRect();return{top:r.top+G(r,_.vertical),left:r.left+z(r,_.horizontal)}},[b,_.horizontal,_.vertical,w,S]),er=o.useCallback(e=>({vertical:G(e,T.vertical),horizontal:z(e,T.horizontal)}),[T.horizontal,T.vertical]),en=o.useCallback(e=>{let t={width:e.offsetWidth,height:e.offsetHeight},r=er(t);if("none"===S)return{top:null,left:null,transformOrigin:Y(r)};let n=J(),i=n.top-r.vertical,o=n.left-r.horizontal,a=i+t.height,s=o+t.width,l=y(X(b)),c=l.innerHeight-E,u=l.innerWidth-E;if(null!==E&&i<E){let e=i-E;i-=e,r.vertical+=e}else if(null!==E&&a>c){let e=a-c;i-=e,r.vertical+=e}if(null!==E&&o<E){let e=o-E;o-=e,r.horizontal+=e}else if(s>u){let e=s-u;o-=e,r.horizontal+=e}return{top:`${Math.round(i)}px`,left:`${Math.round(o)}px`,transformOrigin:Y(r)}},[b,S,J,er,E]),[ei,eo]=o.useState(I),ea=o.useCallback(()=>{let e=U.current;if(!e)return;let t=en(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,eo(!0)},[en]);o.useEffect(()=>(k&&window.addEventListener("scroll",ea),()=>window.removeEventListener("scroll",ea)),[b,k,ea]),o.useEffect(()=>{I&&ea()}),o.useImperativeHandle(m,()=>I?{updatePosition:()=>{ea()}}:null,[I,ea]),o.useEffect(()=>{if(!I)return;let e=f(()=>{ea()}),t=y(b);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}},[b,I,ea]);let es=D;"auto"!==D||$.muiSupportAuto||(es=void 0);let el=R||(b?(0,p.Z)(X(b)).body:void 0),ec=null!=(s=null==C?void 0:C.root)?s:ee,eu=null!=(u=null==C?void 0:C.paper)?u:et,ed=(0,l.y)({elementType:eu,externalSlotProps:(0,n.Z)({},L,{style:ei?L.style:(0,n.Z)({},L.style,{opacity:0})}),additionalProps:{elevation:P,ref:V},ownerState:K,className:(0,a.Z)(W.paper,null==L?void 0:L.className)}),ef=(0,l.y)({elementType:ec,externalSlotProps:(null==j?void 0:j.root)||{},externalForwardedProps:F,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:el,open:I},ownerState:K,className:(0,a.Z)(W.root,M)}),{slotProps:ep}=ef,eh=(0,i.Z)(ef,Z);return(0,A.jsx)(ec,(0,n.Z)({},eh,!(0,c.X)(ec)&&{slotProps:ep,disableScrollLock:k},{children:(0,A.jsx)($,(0,n.Z)({appear:!0,in:I,onEntering:(e,t)=>{N&&N(e,t),ea()},onExited:()=>{eo(!1)},timeout:es},B,{children:(0,A.jsx)(eu,(0,n.Z)({},ed,{children:O}))}))}))});var en=er},60599:function(e,t,r){"use strict";r.d(t,{Z:function(){return eE}});var n,i=r(13428),o=r(20791),a=r(2265),s=r(57042),l=r(15959),c=r(30018);r(68185);var u=r(95600),d=r(33449),f=r(53931),p=r(28702),h=r(27282),y=r(35843),g=r(87927),v=r(77820),m=r(26520),b=r(25702);function _(e){return(0,b.Z)("MuiList",e)}(0,m.Z)("MuiList",["root","padding","dense","subheader"]);var w=r(57437);let S=["children","className","component","dense","disablePadding","subheader"],O=e=>{let{classes:t,disablePadding:r,dense:n,subheader:i}=e;return(0,u.Z)({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},_,t)},M=(0,y.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>(0,i.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),R=a.forwardRef(function(e,t){let r=(0,g.Z)({props:e,name:"MuiList"}),{children:n,className:l,component:c="ul",dense:u=!1,disablePadding:d=!1,subheader:f}=r,p=(0,o.Z)(r,S),h=a.useMemo(()=>({dense:u}),[u]),y=(0,i.Z)({},r,{component:c,dense:u,disablePadding:d}),m=O(y);return(0,w.jsx)(v.Z.Provider,{value:h,children:(0,w.jsxs)(M,(0,i.Z)({as:c,className:(0,s.Z)(m.root,l),ref:t,ownerState:y},p,{children:[f,n]}))})});var P=r(60878).Z,E=r(37663),I=r(57613);let x=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function A(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function C(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function j(e,t){if(void 0===t)return!0;let r=e.innerText;return void 0===r&&(r=e.textContent),0!==(r=r.trim().toLowerCase()).length&&(t.repeating?r[0]===t.keys[0]:0===r.indexOf(t.keys.join("")))}function T(e,t,r,n,i,o){let a=!1,s=i(e,t,!!t&&r);for(;s;){if(s===e.firstChild){if(a)return!1;a=!0}let t=!n&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&j(s,o)&&!t)return s.focus(),!0;s=i(e,s,r)}return!1}let $=a.forwardRef(function(e,t){let{actions:r,autoFocus:n=!1,autoFocusItem:s=!1,children:l,className:c,disabledItemsFocusable:u=!1,disableListWrap:d=!1,onKeyDown:p,variant:h="selectedMenu"}=e,y=(0,o.Z)(e,x),g=a.useRef(null),v=a.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,I.Z)(()=>{n&&g.current.focus()},[n]),a.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(e,t)=>{let r=!g.current.style.width;if(e.clientHeight<g.current.clientHeight&&r){let r=`${P((0,f.Z)(e))}px`;g.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,g.current.style.width=`calc(100% + ${r})`}return g.current}}),[]);let m=(0,E.Z)(g,t),b=-1;a.Children.forEach(l,(e,t)=>{if(!a.isValidElement(e)){b===t&&(b+=1)>=l.length&&(b=-1);return}e.props.disabled||("selectedMenu"===h&&e.props.selected?b=t:-1!==b||(b=t)),b===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(b+=1)>=l.length&&(b=-1)});let _=a.Children.map(l,(e,t)=>{if(t===b){let t={};return s&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===h&&(t.tabIndex=0),a.cloneElement(e,t)}return e});return(0,w.jsx)(R,(0,i.Z)({role:"menu",ref:m,className:c,onKeyDown:e=>{let t=g.current,r=e.key,n=(0,f.Z)(t).activeElement;if("ArrowDown"===r)e.preventDefault(),T(t,n,d,u,A);else if("ArrowUp"===r)e.preventDefault(),T(t,n,d,u,C);else if("Home"===r)e.preventDefault(),T(t,null,d,u,A);else if("End"===r)e.preventDefault(),T(t,null,d,u,C);else if(1===r.length){let i=v.current,o=r.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);let s=n&&!i.repeating&&j(n,i);i.previousKeyMatched&&(s||T(t,n,!1,u,A,i))?e.preventDefault():i.previousKeyMatched=!1}p&&p(e)},tabIndex:n?0:-1},y,{children:_}))});var D=r(48982),N=r(41101);function k(e){return(0,b.Z)("MuiMenu",e)}(0,m.Z)("MuiMenu",["root","paper","list"]);let B=["onEntering"],F=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],L={vertical:"top",horizontal:"right"},U={vertical:"top",horizontal:"left"},V=e=>{let{classes:t}=e;return(0,u.Z)({root:["root"],paper:["paper"],list:["list"]},k,t)},K=(0,y.ZP)(D.ZP,{shouldForwardProp:e=>(0,y.FO)(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),W=(0,y.ZP)(D.XS,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),J=(0,y.ZP)($,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),H=a.forwardRef(function(e,t){var r,n;let l=(0,g.Z)({props:e,name:"MuiMenu"}),{autoFocus:c=!0,children:u,className:d,disableAutoFocusItem:f=!1,MenuListProps:p={},onClose:y,open:v,PaperProps:m={},PopoverClasses:b,transitionDuration:_="auto",TransitionProps:{onEntering:S}={},variant:O="selectedMenu",slots:M={},slotProps:R={}}=l,P=(0,o.Z)(l.TransitionProps,B),E=(0,o.Z)(l,F),I=(0,N.Z)(),x="rtl"===I.direction,A=(0,i.Z)({},l,{autoFocus:c,disableAutoFocusItem:f,MenuListProps:p,onEntering:S,PaperProps:m,transitionDuration:_,TransitionProps:P,variant:O}),C=V(A),j=c&&!f&&v,T=a.useRef(null),$=-1;a.Children.map(u,(e,t)=>{a.isValidElement(e)&&(e.props.disabled||("selectedMenu"===O&&e.props.selected?$=t:-1!==$||($=t)))});let D=null!=(r=M.paper)?r:W,k=null!=(n=R.paper)?n:m,H=(0,h.y)({elementType:M.root,externalSlotProps:R.root,ownerState:A,className:[C.root,d]}),q=(0,h.y)({elementType:D,externalSlotProps:k,ownerState:A,className:C.paper});return(0,w.jsx)(K,(0,i.Z)({onClose:y,anchorOrigin:{vertical:"bottom",horizontal:x?"right":"left"},transformOrigin:x?L:U,slots:{paper:D,root:M.root},slotProps:{root:H,paper:q},open:v,ref:t,transitionDuration:_,TransitionProps:(0,i.Z)({onEntering:(e,t)=>{T.current&&T.current.adjustStyleForScrollbar(e,I),S&&S(e,t)}},P),ownerState:A},E,{classes:b,children:(0,w.jsx)(J,(0,i.Z)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),y&&y(e,"tabKeyDown"))},actions:T,autoFocus:c&&(-1===$||f),autoFocusItem:j,variant:O},p,{className:(0,s.Z)(C.list,p.className),children:u}))}))});function q(e){return(0,b.Z)("MuiNativeSelect",e)}let Z=(0,m.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),G=["className","disabled","error","IconComponent","inputRef","variant"],z=e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e,s={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${(0,p.Z)(r)}`,o&&"iconOpen",n&&"disabled"]};return(0,u.Z)(s,q,t)},Y=({ownerState:e,theme:t})=>(0,i.Z)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,i.Z)({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===t.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Z.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===e.variant&&{"&&&":{paddingRight:32}},"outlined"===e.variant&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),X=(0,y.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:y.FO,overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${Z.multiple}`]:t.multiple}]}})(Y),Q=({ownerState:e,theme:t})=>(0,i.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${Z.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},"filled"===e.variant&&{right:7},"outlined"===e.variant&&{right:7}),ee=(0,y.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,p.Z)(r.variant)}`],r.open&&t.iconOpen]}})(Q),et=a.forwardRef(function(e,t){let{className:r,disabled:n,error:l,IconComponent:c,inputRef:u,variant:d="standard"}=e,f=(0,o.Z)(e,G),p=(0,i.Z)({},e,{disabled:n,variant:d,error:l}),h=z(p);return(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(X,(0,i.Z)({ownerState:p,className:(0,s.Z)(h.select,r),disabled:n,ref:u||t},f)),e.multiple?null:(0,w.jsx)(ee,{as:c,ownerState:p,className:h.icon})]})});var er=r(5454),en=r(73292);function ei(e){return(0,b.Z)("MuiSelect",e)}let eo=(0,m.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),ea=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],es=(0,y.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[{[`&.${eo.select}`]:t.select},{[`&.${eo.select}`]:t[r.variant]},{[`&.${eo.error}`]:t.error},{[`&.${eo.multiple}`]:t.multiple}]}})(Y,{[`&.${eo.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),el=(0,y.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${(0,p.Z)(r.variant)}`],r.open&&t.iconOpen]}})(Q),ec=(0,y.ZP)("input",{shouldForwardProp:e=>(0,y.Dz)(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function eu(e,t){return"object"==typeof t&&null!==t?e===t:String(e)===String(t)}let ed=e=>{let{classes:t,variant:r,disabled:n,multiple:i,open:o,error:a}=e,s={select:["select",r,n&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${(0,p.Z)(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return(0,u.Z)(s,ei,t)},ef=a.forwardRef(function(e,t){var r,l;let u,p;let{"aria-describedby":h,"aria-label":y,autoFocus:g,autoWidth:v,children:m,className:b,defaultOpen:_,defaultValue:S,disabled:O,displayEmpty:M,error:R=!1,IconComponent:P,inputRef:I,labelId:x,MenuProps:A={},multiple:C,name:j,onBlur:T,onChange:$,onClose:D,onFocus:N,onOpen:k,open:B,readOnly:F,renderValue:L,SelectDisplayProps:U={},tabIndex:V,value:K,variant:W="standard"}=e,J=(0,o.Z)(e,ea),[q,Z]=(0,en.Z)({controlled:K,default:S,name:"Select"}),[G,z]=(0,en.Z)({controlled:B,default:_,name:"Select"}),Y=a.useRef(null),X=a.useRef(null),[Q,ee]=a.useState(null),{current:et}=a.useRef(null!=B),[ei,eo]=a.useState(),ef=(0,E.Z)(t,I),ep=a.useCallback(e=>{X.current=e,e&&ee(e)},[]),eh=null==Q?void 0:Q.parentNode;a.useImperativeHandle(ef,()=>({focus:()=>{X.current.focus()},node:Y.current,value:q}),[q]),a.useEffect(()=>{_&&G&&Q&&!et&&(eo(v?null:eh.clientWidth),X.current.focus())},[Q,v]),a.useEffect(()=>{g&&X.current.focus()},[g]),a.useEffect(()=>{if(!x)return;let e=(0,f.Z)(X.current).getElementById(x);if(e){let t=()=>{getSelection().isCollapsed&&X.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}},[x]);let ey=(e,t)=>{e?k&&k(t):D&&D(t),et||(eo(v?null:eh.clientWidth),z(e))},eg=a.Children.toArray(m),ev=e=>t=>{let r;if(t.currentTarget.hasAttribute("tabindex")){if(C){r=Array.isArray(q)?q.slice():[];let t=q.indexOf(e.props.value);-1===t?r.push(e.props.value):r.splice(t,1)}else r=e.props.value;if(e.props.onClick&&e.props.onClick(t),q!==r&&(Z(r),$)){let n=t.nativeEvent||t,i=new n.constructor(n.type,n);Object.defineProperty(i,"target",{writable:!0,value:{value:r,name:j}}),$(i,e)}C||ey(!1,t)}},em=null!==Q&&G;delete J["aria-invalid"];let eb=[],e_=!1;((0,er.vd)({value:q})||M)&&(L?u=L(q):e_=!0);let ew=eg.map(e=>{let t;if(!a.isValidElement(e))return null;if(C){if(!Array.isArray(q))throw Error((0,c.Z)(2));(t=q.some(t=>eu(t,e.props.value)))&&e_&&eb.push(e.props.children)}else(t=eu(q,e.props.value))&&e_&&(p=e.props.children);return a.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ev(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})});e_&&(u=C?0===eb.length?null:eb.reduce((e,t,r)=>(e.push(t),r<eb.length-1&&e.push(", "),e),[]):p);let eS=ei;!v&&et&&Q&&(eS=eh.clientWidth);let eO=U.id||(j?`mui-component-select-${j}`:void 0),eM=(0,i.Z)({},e,{variant:W,value:q,open:em,error:R}),eR=ed(eM),eP=(0,i.Z)({},A.PaperProps,null==(r=A.slotProps)?void 0:r.paper),eE=(0,d.Z)(),eI=(0,d.Z)();return(0,w.jsxs)(a.Fragment,{children:[(0,w.jsx)(es,(0,i.Z)({ref:ep,tabIndex:void 0!==V?V:O?null:0,role:"combobox","aria-controls":eE,"aria-disabled":O?"true":void 0,"aria-expanded":em?"true":"false","aria-haspopup":"listbox","aria-label":y,"aria-labelledby":[x,eO].filter(Boolean).join(" ")||void 0,"aria-describedby":h,onKeyDown:e=>{F||-1===[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)||(e.preventDefault(),ey(!0,e))},onMouseDown:O||F?null:e=>{0===e.button&&(e.preventDefault(),X.current.focus(),ey(!0,e))},onBlur:e=>{!em&&T&&(Object.defineProperty(e,"target",{writable:!0,value:{value:q,name:j}}),T(e))},onFocus:N},U,{ownerState:eM,className:(0,s.Z)(U.className,eR.select,b),id:eO,children:null!=(l=u)&&("string"!=typeof l||l.trim())?u:n||(n=(0,w.jsx)("span",{className:"notranslate",children:"​"}))})),(0,w.jsx)(ec,(0,i.Z)({"aria-invalid":R,value:Array.isArray(q)?q.join(","):q,name:null!=j?j:eI,ref:Y,"aria-hidden":!0,onChange:e=>{let t=eg.find(t=>t.props.value===e.target.value);void 0!==t&&(Z(t.props.value),$&&$(e,t))},tabIndex:-1,disabled:O,className:eR.nativeInput,autoFocus:g,ownerState:eM},J)),(0,w.jsx)(el,{as:P,className:eR.icon,ownerState:eM}),(0,w.jsx)(H,(0,i.Z)({id:`menu-${j||""}`,anchorEl:eh,open:em,onClose:e=>{ey(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},A,{MenuListProps:(0,i.Z)({"aria-labelledby":x,role:"listbox","aria-multiselectable":C?"true":void 0,disableListWrap:!0,id:eE},A.MenuListProps),slotProps:(0,i.Z)({},A.slotProps,{paper:(0,i.Z)({},eP,{style:(0,i.Z)({minWidth:eS},null!=eP?eP.style:null)})}),children:ew}))]})});var ep=r(54379),eh=r(59592),ey=r(92246),eg=r(71711),ev=r(57328),em=r(90923);let eb=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],e_=["root"],ew=e=>{let{classes:t}=e;return t},eS={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>(0,y.FO)(e)&&"variant"!==e,slot:"Root"},eO=(0,y.ZP)(eg.Z,eS)(""),eM=(0,y.ZP)(em.Z,eS)(""),eR=(0,y.ZP)(ev.Z,eS)(""),eP=a.forwardRef(function(e,t){let r=(0,g.Z)({name:"MuiSelect",props:e}),{autoWidth:n=!1,children:c,classes:u={},className:d,defaultOpen:f=!1,displayEmpty:p=!1,IconComponent:h=ey.Z,id:y,input:v,inputProps:m,label:b,labelId:_,MenuProps:S,multiple:O=!1,native:M=!1,onClose:R,onOpen:P,open:I,renderValue:x,SelectDisplayProps:A,variant:C="outlined"}=r,j=(0,o.Z)(r,eb),T=M?et:ef,$=(0,eh.Z)(),D=(0,ep.Z)({props:r,muiFormControl:$,states:["variant","error"]}),N=D.variant||C,k=(0,i.Z)({},r,{variant:N,classes:u}),B=ew(k),F=(0,o.Z)(B,e_),L=v||({standard:(0,w.jsx)(eO,{ownerState:k}),outlined:(0,w.jsx)(eM,{label:b,ownerState:k}),filled:(0,w.jsx)(eR,{ownerState:k})})[N],U=(0,E.Z)(t,L.ref);return(0,w.jsx)(a.Fragment,{children:a.cloneElement(L,(0,i.Z)({inputComponent:T,inputProps:(0,i.Z)({children:c,error:D.error,IconComponent:h,variant:N,type:void 0,multiple:O},M?{id:y}:{autoWidth:n,defaultOpen:f,displayEmpty:p,labelId:_,MenuProps:S,onClose:R,onOpen:P,open:I,renderValue:x,SelectDisplayProps:(0,i.Z)({id:y},A)},m,{classes:m?(0,l.Z)(F,m.classes):F},v?v.props.inputProps:{})},O&&M&&"outlined"===N?{notched:!0}:{},{ref:U,className:(0,s.Z)(L.props.className,d,B.root)},!v&&{variant:N},j))})});eP.muiName="Select";var eE=eP},21975:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n,i=r(13428),o=r(20791),a=r(2265),s=r(57042),l=r(95600),c=r(33449),u=r(35843),d=r(87927),f=r(71711),p=r(57328),h=r(90923),y=r(2510),g=r(33546),v=r(54379),m=r(59592),b=r(28702),_=r(26520),w=r(25702);function S(e){return(0,w.Z)("MuiFormHelperText",e)}let O=(0,_.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var M=r(57437);let R=["children","className","component","disabled","error","filled","focused","margin","required","variant"],P=e=>{let{classes:t,contained:r,size:n,disabled:i,error:o,filled:a,focused:s,required:c}=e,u={root:["root",i&&"disabled",o&&"error",n&&`size${(0,b.Z)(n)}`,r&&"contained",s&&"focused",a&&"filled",c&&"required"]};return(0,l.Z)(u,S,t)},E=(0,u.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.size&&t[`size${(0,b.Z)(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>(0,i.Z)({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${O.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${O.error}`]:{color:(e.vars||e).palette.error.main}},"small"===t.size&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),I=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiFormHelperText"}),{children:a,className:l,component:c="p"}=r,u=(0,o.Z)(r,R),f=(0,m.Z)(),p=(0,v.Z)({props:r,muiFormControl:f,states:["variant","size","disabled","error","filled","focused","required"]}),h=(0,i.Z)({},r,{component:c,contained:"filled"===p.variant||"outlined"===p.variant,variant:p.variant,size:p.size,disabled:p.disabled,error:p.error,filled:p.filled,focused:p.focused,required:p.required}),y=P(h);return(0,M.jsx)(E,(0,i.Z)({as:c,ownerState:h,className:(0,s.Z)(y.root,l),ref:t},u,{children:" "===a?n||(n=(0,M.jsx)("span",{className:"notranslate",children:"​"})):a}))});var x=r(60599);function A(e){return(0,w.Z)("MuiTextField",e)}(0,_.Z)("MuiTextField",["root"]);let C=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],j={standard:f.Z,filled:p.Z,outlined:h.Z},T=e=>{let{classes:t}=e;return(0,l.Z)({root:["root"]},A,t)},$=(0,u.ZP)(g.Z,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),D=a.forwardRef(function(e,t){let r=(0,d.Z)({props:e,name:"MuiTextField"}),{autoComplete:n,autoFocus:a=!1,children:l,className:u,color:f="primary",defaultValue:p,disabled:h=!1,error:g=!1,FormHelperTextProps:v,fullWidth:m=!1,helperText:b,id:_,InputLabelProps:w,inputProps:S,InputProps:O,inputRef:R,label:P,maxRows:E,minRows:A,multiline:D=!1,name:N,onBlur:k,onChange:B,onFocus:F,placeholder:L,required:U=!1,rows:V,select:K=!1,SelectProps:W,type:J,value:H,variant:q="outlined"}=r,Z=(0,o.Z)(r,C),G=(0,i.Z)({},r,{autoFocus:a,color:f,disabled:h,error:g,fullWidth:m,multiline:D,required:U,select:K,variant:q}),z=T(G),Y={};"outlined"===q&&(w&&void 0!==w.shrink&&(Y.notched=w.shrink),Y.label=P),K&&(W&&W.native||(Y.id=void 0),Y["aria-describedby"]=void 0);let X=(0,c.Z)(_),Q=b&&X?`${X}-helper-text`:void 0,ee=P&&X?`${X}-label`:void 0,et=j[q],er=(0,M.jsx)(et,(0,i.Z)({"aria-describedby":Q,autoComplete:n,autoFocus:a,defaultValue:p,fullWidth:m,multiline:D,name:N,rows:V,maxRows:E,minRows:A,type:J,value:H,id:X,inputRef:R,onBlur:k,onChange:B,onFocus:F,placeholder:L,inputProps:S},Y,O));return(0,M.jsxs)($,(0,i.Z)({className:(0,s.Z)(z.root,u),disabled:h,error:g,fullWidth:m,ref:t,required:U,color:f,variant:q,ownerState:G},Z,{children:[null!=P&&""!==P&&(0,M.jsx)(y.Z,(0,i.Z)({htmlFor:X,id:ee},w,{children:P})),K?(0,M.jsx)(x.Z,(0,i.Z)({"aria-describedby":Q,id:X,labelId:ee,value:H,input:er},W,{children:l})):er,b&&(0,M.jsx)(I,(0,i.Z)({id:Q},v,{children:b}))]}))});var N=D},43226:function(e,t,r){"use strict";r.d(t,{Z:function(){return O}});var n=r(20791),i=r(13428),o=r(2265),a=r(57042),s=r(43381),l=r(95600),c=r(35843),u=r(87927),d=r(28702),f=r(26520),p=r(25702);function h(e){return(0,p.Z)("MuiTypography",e)}(0,f.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var y=r(57437);let g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],v=e=>{let{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,"inherit"!==e.align&&`align${(0,d.Z)(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return(0,l.Z)(s,h,a)},m=(0,c.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],"inherit"!==r.align&&t[`align${(0,d.Z)(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>(0,i.Z)({margin:0},"inherit"===t.variant&&{font:"inherit"},"inherit"!==t.variant&&e.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),b={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},_={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},w=e=>_[e]||e,S=o.forwardRef(function(e,t){let r=(0,u.Z)({props:e,name:"MuiTypography"}),o=w(r.color),l=(0,s.Z)((0,i.Z)({},r,{color:o})),{align:c="inherit",className:d,component:f,gutterBottom:p=!1,noWrap:h=!1,paragraph:_=!1,variant:S="body1",variantMapping:O=b}=l,M=(0,n.Z)(l,g),R=(0,i.Z)({},l,{align:c,color:o,className:d,component:f,gutterBottom:p,noWrap:h,paragraph:_,variant:S,variantMapping:O}),P=f||(_?"p":O[S]||b[S])||"span",E=v(R);return(0,y.jsx)(m,(0,i.Z)({as:P,ref:t,ownerState:R,className:(0,a.Z)(E.root,d)},M))});var O=S},92246:function(e,t,r){"use strict";r(2265);var n=r(59782),i=r(57437);t.Z=(0,n.Z)((0,i.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown")},51156:function(e,t){"use strict";Symbol.for("react.element"),Symbol.for("react.portal"),Symbol.for("react.fragment"),Symbol.for("react.strict_mode"),Symbol.for("react.profiler"),Symbol.for("react.provider"),Symbol.for("react.context"),Symbol.for("react.server_context"),Symbol.for("react.forward_ref"),Symbol.for("react.suspense"),Symbol.for("react.suspense_list"),Symbol.for("react.memo"),Symbol.for("react.lazy"),Symbol.for("react.offscreen"),Symbol.for("react.module.reference")},68185:function(e,t,r){"use strict";r(51156)},53931:function(e,t,r){"use strict";var n=r(96278);t.Z=n.Z},57613:function(e,t,r){"use strict";var n=r(1091);t.Z=n.Z},62940:function(e,t,r){"use strict";function n(...e){return e.reduce((e,t)=>null==t?e:function(...r){e.apply(this,r),t.apply(this,r)},()=>{})}r.d(t,{Z:function(){return n}})},78078:function(e,t,r){"use strict";function n(e,t=166){let r;function n(...i){clearTimeout(r),r=setTimeout(()=>{e.apply(this,i)},t)}return n.clear=()=>{clearTimeout(r)},n}r.d(t,{Z:function(){return n}})},60878:function(e,t,r){"use strict";function n(e){let t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}r.d(t,{Z:function(){return n}})},8051:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2265);function i(e,t){var r,i;return n.isValidElement(e)&&-1!==t.indexOf(null!=(r=e.type.muiName)?r:null==(i=e.type)||null==(i=i._payload)||null==(i=i.value)?void 0:i.muiName)}},88221:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(96278);function i(e){let t=(0,n.Z)(e);return t.defaultView||window}},27081:function(e){"use strict";e.exports=function(e){if(e.length>=255)throw TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw TypeError(i+" is ambiguous");t[o]=n}var a=e.length,s=e.charAt(0),l=Math.log(a)/Math.log(256),c=Math.log(256)/Math.log(a);function u(e){if("string"!=typeof e)throw TypeError("Expected String");if(0===e.length)return new Uint8Array;var r=0;if(" "!==e[0]){for(var n=0,i=0;e[r]===s;)n++,r++;for(var o=(e.length-r)*l+1>>>0,c=new Uint8Array(o);e[r];){var u=t[e.charCodeAt(r)];if(255===u)return;for(var d=0,f=o-1;(0!==u||d<i)&&-1!==f;f--,d++)u+=a*c[f]>>>0,c[f]=u%256>>>0,u=u/256>>>0;if(0!==u)throw Error("Non-zero carry");i=d,r++}if(" "!==e[r]){for(var p=o-i;p!==o&&0===c[p];)p++;for(var h=new Uint8Array(n+(o-p)),y=n;p!==o;)h[y++]=c[p++];return h}}}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var l=(o-i)*c+1>>>0,u=new Uint8Array(l);i!==o;){for(var d=t[i],f=0,p=l-1;(0!==d||f<n)&&-1!==p;p--,f++)d+=256*u[p]>>>0,u[p]=d%a>>>0,d=d/a>>>0;if(0!==d)throw Error("Non-zero carry");n=f,i++}for(var h=l-n;h!==l&&0===u[h];)h++;for(var y=s.repeat(r);h<l;++h)y+=e.charAt(u[h]);return y},decodeUnsafe:u,decode:function(e){var t=u(e);if(t)return t;throw Error("Non-base"+a+" character")}}}},68036:function(e){"use strict";let t;function r(e,t,r){return(r<0&&(r+=1),r>1&&(r-=1),r<1/6)?e+(t-e)*6*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function n(e,t,n){let i=n<.5?n*(1+t):n+t-n*t,o=2*n-i,a=r(o,i,e+1/3),s=r(o,i,e),l=r(o,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*l)<<8}let i="[-+]?\\d*\\.?\\d+",o=i+"%";function a(...e){return"\\(\\s*("+e.join(")\\s*,?\\s*(")+")\\s*\\)"}function s(...e){return"\\(\\s*("+e.slice(0,e.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+e[e.length-1]+")\\s*\\)"}function l(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}function c(e){let t=parseInt(e,10);return t<0?0:t>255?255:t}function u(e){let t=parseFloat(e);return(t%360+360)%360/360}function d(e){let t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function f(e){let t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){let p;if("number"==typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!=typeof e)return null;let h=(void 0===t&&(t={rgb:RegExp("rgb"+a(i,i,i)),rgba:RegExp("rgba("+l(i,i,i,i)+"|"+s(i,i,i,i)+")"),hsl:RegExp("hsl"+a(i,o,o)),hsla:RegExp("hsla("+l(i,o,o,i)+"|"+s(i,o,o,i)+")"),hwb:RegExp("hwb"+a(i,o,o)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/}),t);if(p=h.hex6.exec(e))return parseInt(p[1]+"ff",16)>>>0;let y=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=y?y:(p=h.rgb.exec(e))?(c(p[1])<<24|c(p[2])<<16|c(p[3])<<8|255)>>>0:(p=h.rgba.exec(e))?void 0!==p[6]?(c(p[6])<<24|c(p[7])<<16|c(p[8])<<8|d(p[9]))>>>0:(c(p[2])<<24|c(p[3])<<16|c(p[4])<<8|d(p[5]))>>>0:(p=h.hex3.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+"ff",16)>>>0:(p=h.hex8.exec(e))?parseInt(p[1],16)>>>0:(p=h.hex4.exec(e))?parseInt(p[1]+p[1]+p[2]+p[2]+p[3]+p[3]+p[4]+p[4],16)>>>0:(p=h.hsl.exec(e))?(255|n(u(p[1]),f(p[2]),f(p[3])))>>>0:(p=h.hsla.exec(e))?void 0!==p[6]?(n(u(p[6]),f(p[7]),f(p[8]))|d(p[9]))>>>0:(n(u(p[2]),f(p[3]),f(p[4]))|d(p[5]))>>>0:(p=h.hwb.exec(e))?(255|function(e,t,n){if(t+n>=1){let e=Math.round(255*t/(t+n));return e<<24|e<<16|e<<8}let i=r(0,1,e+1/3)*(1-t-n)+t,o=r(0,1,e)*(1-t-n)+t,a=r(0,1,e-1/3)*(1-t-n)+t;return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}(u(p[1]),f(p[2]),f(p[3])))>>>0:null}},34310:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(62140);function i(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}function o(e,t,r){return void 0===t&&(t=new Uint8Array(2)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}function a(e,t){return void 0===t&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function s(e,t){return void 0===t&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}function l(e,t){return void 0===t&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}function c(e,t){return void 0===t&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}function u(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}function d(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}function f(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),u(e/4294967296>>>0,t,r),u(e>>>0,t,r+4),t}function p(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),d(e>>>0,t,r),d(e/4294967296>>>0,t,r+4),t}t.readInt16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16},t.readUint16BE=function(e,t){return void 0===t&&(t=0),(e[t+0]<<8|e[t+1])>>>0},t.readInt16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])<<16>>16},t.readUint16LE=function(e,t){return void 0===t&&(t=0),(e[t+1]<<8|e[t])>>>0},t.writeUint16BE=i,t.writeInt16BE=i,t.writeUint16LE=o,t.writeInt16LE=o,t.readInt32BE=a,t.readUint32BE=s,t.readInt32LE=l,t.readUint32LE=c,t.writeUint32BE=u,t.writeInt32BE=u,t.writeUint32LE=d,t.writeInt32LE=d,t.readInt64BE=function(e,t){void 0===t&&(t=0);var r=a(e,t),n=a(e,t+4);return 4294967296*r+n-(n>>31)*4294967296},t.readUint64BE=function(e,t){return void 0===t&&(t=0),4294967296*s(e,t)+s(e,t+4)},t.readInt64LE=function(e,t){void 0===t&&(t=0);var r=l(e,t);return 4294967296*l(e,t+4)+r-(r>>31)*4294967296},t.readUint64LE=function(e,t){void 0===t&&(t=0);var r=c(e,t);return 4294967296*c(e,t+4)+r},t.writeUint64BE=f,t.writeInt64BE=f,t.writeUint64LE=p,t.writeInt64LE=p,t.readUintBE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,o=e/8+r-1;o>=r;o--)n+=t[o]*i,i*=256;return n},t.readUintLE=function(e,t,r){if(void 0===r&&(r=0),e%8!=0)throw Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,o=r;o<r+e/8;o++)n+=t[o]*i,i*=256;return n},t.writeUintBE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintBE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintBE value must be an integer");for(var o=1,a=e/8+i-1;a>=i;a--)r[a]=t/o&255,o*=256;return r},t.writeUintLE=function(e,t,r,i){if(void 0===r&&(r=new Uint8Array(e/8)),void 0===i&&(i=0),e%8!=0)throw Error("writeUintLE supports only bitLengths divisible by 8");if(!n.isSafeInteger(t))throw Error("writeUintLE value must be an integer");for(var o=1,a=i;a<i+e/8;a++)r[a]=t/o&255,o*=256;return r},t.readFloat32BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t)},t.readFloat32LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat32(t,!0)},t.readFloat64BE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t)},t.readFloat64LE=function(e,t){return void 0===t&&(t=0),new DataView(e.buffer,e.byteOffset,e.byteLength).getFloat64(t,!0)},t.writeFloat32BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e),t},t.writeFloat32LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(4)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat32(r,e,!0),t},t.writeFloat64BE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e),t},t.writeFloat64LE=function(e,t,r){return void 0===t&&(t=new Uint8Array(8)),void 0===r&&(r=0),new DataView(t.buffer,t.byteOffset,t.byteLength).setFloat64(r,e,!0),t}},80237:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;let n=r(35077),i=r(52564),o=r(55277);function a(e){let t=new Float64Array(16);if(e)for(let r=0;r<e.length;r++)t[r]=e[r];return t}t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;let s=new Uint8Array(32);s[0]=9;let l=a(),c=a([1]),u=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),d=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),f=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function y(e,t){for(let r=0;r<16;r++)e[r]=0|t[r]}function g(e){let t=1;for(let r=0;r<16;r++){let n=e[r]+t+65535;t=Math.floor(n/65536),e[r]=n-65536*t}e[0]+=t-1+37*(t-1)}function v(e,t,r){let n=~(r-1);for(let r=0;r<16;r++){let i=n&(e[r]^t[r]);e[r]^=i,t[r]^=i}}function m(e,t){let r=a(),n=a();for(let e=0;e<16;e++)n[e]=t[e];g(n),g(n),g(n);for(let e=0;e<2;e++){r[0]=n[0]-65517;for(let e=1;e<15;e++)r[e]=n[e]-65535-(r[e-1]>>16&1),r[e-1]&=65535;r[15]=n[15]-32767-(r[14]>>16&1);let e=r[15]>>16&1;r[14]&=65535,v(n,r,1-e)}for(let t=0;t<16;t++)e[2*t]=255&n[t],e[2*t+1]=n[t]>>8}function b(e,t){let r=0;for(let n=0;n<32;n++)r|=e[n]^t[n];return(1&r-1>>>8)-1}function _(e,t){let r=new Uint8Array(32),n=new Uint8Array(32);return m(r,e),m(n,t),b(r,n)}function w(e){let t=new Uint8Array(32);return m(t,e),1&t[0]}function S(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]+r[n]}function O(e,t,r){for(let n=0;n<16;n++)e[n]=t[n]-r[n]}function M(e,t,r){let n,i,o=0,a=0,s=0,l=0,c=0,u=0,d=0,f=0,p=0,h=0,y=0,g=0,v=0,m=0,b=0,_=0,w=0,S=0,O=0,M=0,R=0,P=0,E=0,I=0,x=0,A=0,C=0,j=0,T=0,$=0,D=0,N=r[0],k=r[1],B=r[2],F=r[3],L=r[4],U=r[5],V=r[6],K=r[7],W=r[8],J=r[9],H=r[10],q=r[11],Z=r[12],G=r[13],z=r[14],Y=r[15];o+=(n=t[0])*N,a+=n*k,s+=n*B,l+=n*F,c+=n*L,u+=n*U,d+=n*V,f+=n*K,p+=n*W,h+=n*J,y+=n*H,g+=n*q,v+=n*Z,m+=n*G,b+=n*z,_+=n*Y,a+=(n=t[1])*N,s+=n*k,l+=n*B,c+=n*F,u+=n*L,d+=n*U,f+=n*V,p+=n*K,h+=n*W,y+=n*J,g+=n*H,v+=n*q,m+=n*Z,b+=n*G,_+=n*z,w+=n*Y,s+=(n=t[2])*N,l+=n*k,c+=n*B,u+=n*F,d+=n*L,f+=n*U,p+=n*V,h+=n*K,y+=n*W,g+=n*J,v+=n*H,m+=n*q,b+=n*Z,_+=n*G,w+=n*z,S+=n*Y,l+=(n=t[3])*N,c+=n*k,u+=n*B,d+=n*F,f+=n*L,p+=n*U,h+=n*V,y+=n*K,g+=n*W,v+=n*J,m+=n*H,b+=n*q,_+=n*Z,w+=n*G,S+=n*z,O+=n*Y,c+=(n=t[4])*N,u+=n*k,d+=n*B,f+=n*F,p+=n*L,h+=n*U,y+=n*V,g+=n*K,v+=n*W,m+=n*J,b+=n*H,_+=n*q,w+=n*Z,S+=n*G,O+=n*z,M+=n*Y,u+=(n=t[5])*N,d+=n*k,f+=n*B,p+=n*F,h+=n*L,y+=n*U,g+=n*V,v+=n*K,m+=n*W,b+=n*J,_+=n*H,w+=n*q,S+=n*Z,O+=n*G,M+=n*z,R+=n*Y,d+=(n=t[6])*N,f+=n*k,p+=n*B,h+=n*F,y+=n*L,g+=n*U,v+=n*V,m+=n*K,b+=n*W,_+=n*J,w+=n*H,S+=n*q,O+=n*Z,M+=n*G,R+=n*z,P+=n*Y,f+=(n=t[7])*N,p+=n*k,h+=n*B,y+=n*F,g+=n*L,v+=n*U,m+=n*V,b+=n*K,_+=n*W,w+=n*J,S+=n*H,O+=n*q,M+=n*Z,R+=n*G,P+=n*z,E+=n*Y,p+=(n=t[8])*N,h+=n*k,y+=n*B,g+=n*F,v+=n*L,m+=n*U,b+=n*V,_+=n*K,w+=n*W,S+=n*J,O+=n*H,M+=n*q,R+=n*Z,P+=n*G,E+=n*z,I+=n*Y,h+=(n=t[9])*N,y+=n*k,g+=n*B,v+=n*F,m+=n*L,b+=n*U,_+=n*V,w+=n*K,S+=n*W,O+=n*J,M+=n*H,R+=n*q,P+=n*Z,E+=n*G,I+=n*z,x+=n*Y,y+=(n=t[10])*N,g+=n*k,v+=n*B,m+=n*F,b+=n*L,_+=n*U,w+=n*V,S+=n*K,O+=n*W,M+=n*J,R+=n*H,P+=n*q,E+=n*Z,I+=n*G,x+=n*z,A+=n*Y,g+=(n=t[11])*N,v+=n*k,m+=n*B,b+=n*F,_+=n*L,w+=n*U,S+=n*V,O+=n*K,M+=n*W,R+=n*J,P+=n*H,E+=n*q,I+=n*Z,x+=n*G,A+=n*z,C+=n*Y,v+=(n=t[12])*N,m+=n*k,b+=n*B,_+=n*F,w+=n*L,S+=n*U,O+=n*V,M+=n*K,R+=n*W,P+=n*J,E+=n*H,I+=n*q,x+=n*Z,A+=n*G,C+=n*z,j+=n*Y,m+=(n=t[13])*N,b+=n*k,_+=n*B,w+=n*F,S+=n*L,O+=n*U,M+=n*V,R+=n*K,P+=n*W,E+=n*J,I+=n*H,x+=n*q,A+=n*Z,C+=n*G,j+=n*z,T+=n*Y,b+=(n=t[14])*N,_+=n*k,w+=n*B,S+=n*F,O+=n*L,M+=n*U,R+=n*V,P+=n*K,E+=n*W,I+=n*J,x+=n*H,A+=n*q,C+=n*Z,j+=n*G,T+=n*z,$+=n*Y,_+=(n=t[15])*N,w+=n*k,S+=n*B,O+=n*F,M+=n*L,R+=n*U,P+=n*V,E+=n*K,I+=n*W,x+=n*J,A+=n*H,C+=n*q,j+=n*Z,T+=n*G,$+=n*z,D+=n*Y,o+=38*w,a+=38*S,s+=38*O,l+=38*M,c+=38*R,u+=38*P,d+=38*E,f+=38*I,p+=38*x,h+=38*A,y+=38*C,g+=38*j,v+=38*T,m+=38*$,b+=38*D,i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,o+=i-1+37*(i-1),i=Math.floor((n=o+(i=1)+65535)/65536),o=n-65536*i,i=Math.floor((n=a+i+65535)/65536),a=n-65536*i,i=Math.floor((n=s+i+65535)/65536),s=n-65536*i,i=Math.floor((n=l+i+65535)/65536),l=n-65536*i,i=Math.floor((n=c+i+65535)/65536),c=n-65536*i,i=Math.floor((n=u+i+65535)/65536),u=n-65536*i,i=Math.floor((n=d+i+65535)/65536),d=n-65536*i,i=Math.floor((n=f+i+65535)/65536),f=n-65536*i,i=Math.floor((n=p+i+65535)/65536),p=n-65536*i,i=Math.floor((n=h+i+65535)/65536),h=n-65536*i,i=Math.floor((n=y+i+65535)/65536),y=n-65536*i,i=Math.floor((n=g+i+65535)/65536),g=n-65536*i,i=Math.floor((n=v+i+65535)/65536),v=n-65536*i,i=Math.floor((n=m+i+65535)/65536),m=n-65536*i,i=Math.floor((n=b+i+65535)/65536),b=n-65536*i,i=Math.floor((n=_+i+65535)/65536),_=n-65536*i,o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=l,e[4]=c,e[5]=u,e[6]=d,e[7]=f,e[8]=p,e[9]=h,e[10]=y,e[11]=g,e[12]=v,e[13]=m,e[14]=b,e[15]=_}function R(e,t){let r;let n=a();for(r=0;r<16;r++)n[r]=t[r];for(r=253;r>=0;r--)M(n,n,n),2!==r&&4!==r&&M(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}function P(e,t){let r=a(),n=a(),i=a(),o=a(),s=a(),l=a(),c=a(),u=a(),f=a();O(r,e[1],e[0]),O(f,t[1],t[0]),M(r,r,f),S(n,e[0],e[1]),S(f,t[0],t[1]),M(n,n,f),M(i,e[3],t[3]),M(i,i,d),M(o,e[2],t[2]),S(o,o,o),O(s,n,r),O(l,o,i),S(c,o,i),S(u,n,r),M(e[0],s,l),M(e[1],u,c),M(e[2],c,l),M(e[3],s,u)}function E(e,t,r){for(let n=0;n<4;n++)v(e[n],t[n],r)}function I(e,t){let r=a(),n=a(),i=a();R(i,t[2]),M(r,t[0],i),M(n,t[1],i),m(e,n),e[31]^=w(r)<<7}function x(e,t,r){y(e[0],l),y(e[1],c),y(e[2],c),y(e[3],l);for(let n=255;n>=0;--n){let i=r[n/8|0]>>(7&n)&1;E(e,t,i),P(t,e),P(e,e),E(e,t,i)}}function A(e,t){let r=[a(),a(),a(),a()];y(r[0],f),y(r[1],p),y(r[2],c),M(r[3],f,p),x(e,r,t)}function C(e){if(e.length!==t.SEED_LENGTH)throw Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);let r=(0,i.hash)(e);r[0]&=248,r[31]&=127,r[31]|=64;let n=new Uint8Array(32),o=[a(),a(),a(),a()];A(o,r),I(n,o);let s=new Uint8Array(64);return s.set(e),s.set(n,32),{publicKey:n,secretKey:s}}t.generateKeyPairFromSeed=C,t.generateKeyPair=function(e){let t=(0,n.randomBytes)(32,e),r=C(t);return(0,o.wipe)(t),r},t.extractPublicKeyFromSecretKey=function(e){if(e.length!==t.SECRET_KEY_LENGTH)throw Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(e.subarray(32))};let j=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function T(e,t){let r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*j[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(i=0,r=0;i<32;i++)t[i]+=r-(t[31]>>4)*j[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*j[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function $(e){let t=new Float64Array(64);for(let r=0;r<64;r++)t[r]=e[r];for(let t=0;t<64;t++)e[t]=0;T(e,t)}function D(e,t){var r,n,i;let o=a(),s=a(),d=a(),f=a(),p=a(),g=a(),v=a();return(y(e[2],c),!function(e,t){for(let r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),M(d,r=e[1],r),M(f,d,u),O(d,d,e[2]),S(f,e[2],f),M(p,f,f),M(g,p,p),M(v,g,p),M(o,v,d),M(o,o,f),!function(e,t){let r;let n=a();for(r=0;r<16;r++)n[r]=t[r];for(r=250;r>=0;r--)M(n,n,n),1!==r&&M(n,n,t);for(r=0;r<16;r++)e[r]=n[r]}(o,o),M(o,o,d),M(o,o,f),M(o,o,f),M(e[0],o,f),M(s,n=e[0],n),M(s,s,f),_(s,d)&&M(e[0],e[0],h),M(s,i=e[0],i),M(s,s,f),_(s,d))?-1:(w(e[0])===t[31]>>7&&O(e[0],l,e[0]),M(e[3],e[0],e[1]),0)}t.sign=function(e,t){let r=new Float64Array(64),n=[a(),a(),a(),a()],o=(0,i.hash)(e.subarray(0,32));o[0]&=248,o[31]&=127,o[31]|=64;let s=new Uint8Array(64);s.set(o.subarray(32),32);let l=new i.SHA512;l.update(s.subarray(32)),l.update(t);let c=l.digest();l.clean(),$(c),A(n,c),I(s,n),l.reset(),l.update(s.subarray(0,32)),l.update(e.subarray(32)),l.update(t);let u=l.digest();$(u);for(let e=0;e<32;e++)r[e]=c[e];for(let e=0;e<32;e++)for(let t=0;t<32;t++)r[e+t]+=u[e]*o[t];return T(s.subarray(32),r),s},t.verify=function(e,r,n){let o=new Uint8Array(32),s=[a(),a(),a(),a()],l=[a(),a(),a(),a()];if(n.length!==t.SIGNATURE_LENGTH)throw Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if(D(l,e))return!1;let c=new i.SHA512;c.update(n.subarray(0,32)),c.update(e),c.update(r);let u=c.digest();return $(u),x(s,l,u),A(l,n.subarray(32)),P(s,l),I(o,s),!b(n,o)},t.convertPublicKeyToX25519=function(e){let t=[a(),a(),a(),a()];if(D(t,e))throw Error("Ed25519: invalid public key");let r=a(),n=a(),i=t[1];S(r,c,i),O(n,c,i),R(n,n),M(r,r,n);let o=new Uint8Array(32);return m(o,r),o},t.convertSecretKeyToX25519=function(e){let t=(0,i.hash)(e.subarray(0,32));t[0]&=248,t[31]&=127,t[31]|=64;let r=new Uint8Array(t.subarray(0,32));return(0,o.wipe)(t),r}},62140:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mul=Math.imul||function(e,t){var r=65535&e,n=65535&t;return r*n+((e>>>16&65535)*n+r*(t>>>16&65535)<<16>>>0)|0},t.add=function(e,t){return e+t|0},t.sub=function(e,t){return e-t|0},t.rotl=function(e,t){return e<<t|e>>>32-t},t.rotr=function(e,t){return e<<32-t|e>>>t},t.isInteger=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(e){return t.isInteger(e)&&e>=-t.MAX_SAFE_INTEGER&&e<=t.MAX_SAFE_INTEGER}},35077:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;let n=r(62739),i=r(34310),o=r(55277);function a(e,r=t.defaultRandomSource){return r.randomBytes(e)}t.defaultRandomSource=new n.SystemRandomSource,t.randomBytes=a,t.randomUint32=function(e=t.defaultRandomSource){let r=a(4,e),n=(0,i.readUint32LE)(r);return(0,o.wipe)(r),n};let s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function l(e,r=s,n=t.defaultRandomSource){if(r.length<2)throw Error("randomString charset is too short");if(r.length>256)throw Error("randomString charset is too long");let i="",l=r.length,c=256-256%l;for(;e>0;){let t=a(Math.ceil(256*e/c),n);for(let n=0;n<t.length&&e>0;n++){let o=t[n];o<c&&(i+=r.charAt(o%l),e--)}(0,o.wipe)(t)}return i}t.randomString=l,t.randomStringForEntropy=function(e,r=s,n=t.defaultRandomSource){let i=Math.ceil(e/(Math.log(r.length)/Math.LN2));return l(i,r,n)}},85183:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserRandomSource=void 0;class r{constructor(){this.isAvailable=!1,this.isInstantiated=!1;let e="undefined"!=typeof self?self.crypto||self.msCrypto:null;e&&void 0!==e.getRandomValues&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Browser random byte generator is not available.");let t=new Uint8Array(e);for(let e=0;e<t.length;e+=65536)this._crypto.getRandomValues(t.subarray(e,e+Math.min(t.length-e,65536)));return t}}t.BrowserRandomSource=r},32586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeRandomSource=void 0;let n=r(55277);class i{constructor(){this.isAvailable=!1,this.isInstantiated=!1;{let e=r(35883);e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw Error("Node.js random byte generator is not available.");let t=this._crypto.randomBytes(e);if(t.length!==e)throw Error("NodeRandomSource: got fewer bytes than requested");let r=new Uint8Array(e);for(let e=0;e<r.length;e++)r[e]=t[e];return(0,n.wipe)(t),r}}t.NodeRandomSource=i},62739:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemRandomSource=void 0;let n=r(85183),i=r(32586);class o{constructor(){if(this.isAvailable=!1,this.name="",this._source=new n.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new i.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw Error("System random byte generator is not available.");return this._source.randomBytes(e)}}t.SystemRandomSource=o},87853:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34310),i=r(55277);t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._temp),this.reset()},e.prototype.update=function(e,t){if(void 0===t&&(t=e.length),this._finished)throw Error("SHA256: can't update because hash was finished.");var r=0;if(this._bytesHashed+=t,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&t>0;)this._buffer[this._bufferLength++]=e[r++],t--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(t>=this.blockSize&&(r=s(this._temp,this._state,e,r,t),t%=this.blockSize);t>0;)this._buffer[this._bufferLength++]=e[r++],t--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%64<56?64:128;this._buffer[r]=128;for(var o=r+1;o<i-8;o++)this._buffer[o]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),s(this._temp,this._state,this._buffer,0,i),this._finished=!0}for(var o=0;o<this.digestLength/4;o++)n.writeUint32BE(this._state[o],e,4*o);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._state.set(e.state),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.state),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA256=o;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(e,t,r,i,o){for(;o>=64;){for(var s=t[0],l=t[1],c=t[2],u=t[3],d=t[4],f=t[5],p=t[6],h=t[7],y=0;y<16;y++){var g=i+4*y;e[y]=n.readUint32BE(r,g)}for(var y=16;y<64;y++){var v=e[y-2],m=(v>>>17|v<<15)^(v>>>19|v<<13)^v>>>10,b=((v=e[y-15])>>>7|v<<25)^(v>>>18|v<<14)^v>>>3;e[y]=(m+e[y-7]|0)+(b+e[y-16]|0)}for(var y=0;y<64;y++){var m=(((d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&f^~d&p)|0)+(h+(a[y]+e[y]|0)|0)|0,b=((s>>>2|s<<30)^(s>>>13|s<<19)^(s>>>22|s<<10))+(s&l^s&c^l&c)|0;h=p,p=f,f=d,d=u+m|0,u=c,c=l,l=s,s=m+b|0}t[0]+=s,t[1]+=l,t[2]+=c,t[3]+=u,t[4]+=d,t[5]+=f,t[6]+=p,t[7]+=h,i+=64,o-=64}return i}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},52564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(34310),i=r(55277);t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var o=function(){function e(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return e.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},e.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},e.prototype.clean=function(){i.wipe(this._buffer),i.wipe(this._tempHi),i.wipe(this._tempLo),this.reset()},e.prototype.update=function(e,r){if(void 0===r&&(r=e.length),this._finished)throw Error("SHA512: can't update because hash was finished.");var n=0;if(this._bytesHashed+=r,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&r>0;)this._buffer[this._bufferLength++]=e[n++],r--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(r>=this.blockSize&&(n=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,e,n,r),r%=this.blockSize);r>0;)this._buffer[this._bufferLength++]=e[n++],r--;return this},e.prototype.finish=function(e){if(!this._finished){var t=this._bytesHashed,r=this._bufferLength,i=t%128<112?128:256;this._buffer[r]=128;for(var o=r+1;o<i-8;o++)this._buffer[o]=0;n.writeUint32BE(t/536870912|0,this._buffer,i-8),n.writeUint32BE(t<<3,this._buffer,i-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,i),this._finished=!0}for(var o=0;o<this.digestLength/8;o++)n.writeUint32BE(this._stateHi[o],e,8*o),n.writeUint32BE(this._stateLo[o],e,8*o+4);return this},e.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},e.prototype.saveState=function(){if(this._finished)throw Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},e.prototype.restoreState=function(e){return this._stateHi.set(e.stateHi),this._stateLo.set(e.stateLo),this._bufferLength=e.bufferLength,e.buffer&&this._buffer.set(e.buffer),this._bytesHashed=e.bytesHashed,this._finished=!1,this},e.prototype.cleanSavedState=function(e){i.wipe(e.stateHi),i.wipe(e.stateLo),e.buffer&&i.wipe(e.buffer),e.bufferLength=0,e.bytesHashed=0},e}();t.SHA512=o;var a=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(e,t,r,i,o,s,l){for(var c,u,d,f,p,h,y,g,v=r[0],m=r[1],b=r[2],_=r[3],w=r[4],S=r[5],O=r[6],M=r[7],R=i[0],P=i[1],E=i[2],I=i[3],x=i[4],A=i[5],C=i[6],j=i[7];l>=128;){for(var T=0;T<16;T++){var $=8*T+s;e[T]=n.readUint32BE(o,$),t[T]=n.readUint32BE(o,$+4)}for(var T=0;T<80;T++){var D=v,N=m,k=b,B=_,F=w,L=S,U=O,V=M,K=R,W=P,J=E,H=I,q=x,Z=A,G=C,z=j;if(c=M,p=65535&(u=j),h=u>>>16,y=65535&c,g=c>>>16,c=(w>>>14|x<<18)^(w>>>18|x<<14)^(x>>>9|w<<23),p+=65535&(u=(x>>>14|w<<18)^(x>>>18|w<<14)^(w>>>9|x<<23)),h+=u>>>16,y+=65535&c,g+=c>>>16,c=w&S^~w&O,p+=65535&(u=x&A^~x&C),h+=u>>>16,y+=65535&c,g+=c>>>16,c=a[2*T],p+=65535&(u=a[2*T+1]),h+=u>>>16,y+=65535&c,g+=c>>>16,c=e[T%16],p+=65535&(u=t[T%16]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,d=65535&y|g<<16,f=65535&p|h<<16,c=d,p=65535&(u=f),h=u>>>16,y=65535&c,g=c>>>16,c=(v>>>28|R<<4)^(R>>>2|v<<30)^(R>>>7|v<<25),p+=65535&(u=(R>>>28|v<<4)^(v>>>2|R<<30)^(v>>>7|R<<25)),h+=u>>>16,y+=65535&c,g+=c>>>16,c=v&m^v&b^m&b,p+=65535&(u=R&P^R&E^P&E),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,V=65535&y|g<<16,z=65535&p|h<<16,c=B,p=65535&(u=H),h=u>>>16,y=65535&c,g=c>>>16,c=d,p+=65535&(u=f),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,B=65535&y|g<<16,H=65535&p|h<<16,m=D,b=N,_=k,w=B,S=F,O=L,M=U,v=V,P=K,E=W,I=J,x=H,A=q,C=Z,j=G,R=z,T%16==15)for(var $=0;$<16;$++)c=e[$],p=65535&(u=t[$]),h=u>>>16,y=65535&c,g=c>>>16,c=e[($+9)%16],p+=65535&(u=t[($+9)%16]),h+=u>>>16,y+=65535&c,g+=c>>>16,c=((d=e[($+1)%16])>>>1|(f=t[($+1)%16])<<31)^(d>>>8|f<<24)^d>>>7,p+=65535&(u=(f>>>1|d<<31)^(f>>>8|d<<24)^(f>>>7|d<<25)),h+=u>>>16,y+=65535&c,g+=c>>>16,c=((d=e[($+14)%16])>>>19|(f=t[($+14)%16])<<13)^(f>>>29|d<<3)^d>>>6,p+=65535&(u=(f>>>19|d<<13)^(d>>>29|f<<3)^(f>>>6|d<<26)),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,e[$]=65535&y|g<<16,t[$]=65535&p|h<<16}c=v,p=65535&(u=R),h=u>>>16,y=65535&c,g=c>>>16,c=r[0],p+=65535&(u=i[0]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[0]=v=65535&y|g<<16,i[0]=R=65535&p|h<<16,c=m,p=65535&(u=P),h=u>>>16,y=65535&c,g=c>>>16,c=r[1],p+=65535&(u=i[1]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[1]=m=65535&y|g<<16,i[1]=P=65535&p|h<<16,c=b,p=65535&(u=E),h=u>>>16,y=65535&c,g=c>>>16,c=r[2],p+=65535&(u=i[2]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[2]=b=65535&y|g<<16,i[2]=E=65535&p|h<<16,c=_,p=65535&(u=I),h=u>>>16,y=65535&c,g=c>>>16,c=r[3],p+=65535&(u=i[3]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[3]=_=65535&y|g<<16,i[3]=I=65535&p|h<<16,c=w,p=65535&(u=x),h=u>>>16,y=65535&c,g=c>>>16,c=r[4],p+=65535&(u=i[4]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[4]=w=65535&y|g<<16,i[4]=x=65535&p|h<<16,c=S,p=65535&(u=A),h=u>>>16,y=65535&c,g=c>>>16,c=r[5],p+=65535&(u=i[5]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[5]=S=65535&y|g<<16,i[5]=A=65535&p|h<<16,c=O,p=65535&(u=C),h=u>>>16,y=65535&c,g=c>>>16,c=r[6],p+=65535&(u=i[6]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[6]=O=65535&y|g<<16,i[6]=C=65535&p|h<<16,c=M,p=65535&(u=j),h=u>>>16,y=65535&c,g=c>>>16,c=r[7],p+=65535&(u=i[7]),h+=u>>>16,y+=65535&c,g+=c>>>16,h+=p>>>16,y+=h>>>16,g+=y>>>16,r[7]=M=65535&y|g<<16,i[7]=j=65535&p|h<<16,s+=128,l-=128}return s}t.hash=function(e){var t=new o;t.update(e);var r=t.digest();return t.clean(),r}},55277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wipe=function(e){for(var t=0;t<e.length;t++)e[t]=0;return e}},26001:function(e){"use strict";let{AbortController,AbortSignal}="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0;e.exports=AbortController,e.exports.AbortSignal=AbortSignal,e.exports.default=AbortController},34699:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=l(e),a=o[0],s=o[1],c=new i((a+s)*3/4-s),u=0,d=s>0?a-4:a;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[u++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t),c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)o.push(r[(i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},19682:function(e,t,r){e=r.nmd(e);var n,i=function(e){"use strict";var t=u(9007199254740992),r="0123456789abcdefghijklmnopqrstuvwxyz",n="function"==typeof BigInt;function o(e,t,r,n){return void 0===e?o[0]:void 0!==t&&(10!=+t||r)?F(e,t,r,n):W(e)}function a(e,t){this.value=e,this.sign=t,this.isSmall=!1}function s(e){this.value=e,this.sign=e<0,this.isSmall=!0}function l(e){this.value=e}function c(e){return -9007199254740992<e&&e<9007199254740992}function u(e){return e<1e7?[e]:e<1e14?[e%1e7,Math.floor(e/1e7)]:[e%1e7,Math.floor(e/1e7)%1e7,Math.floor(e/1e14)]}function d(e){f(e);var r=e.length;if(r<4&&0>E(e,t))switch(r){case 0:return 0;case 1:return e[0];case 2:return e[0]+1e7*e[1];default:return e[0]+(e[1]+1e7*e[2])*1e7}return e}function f(e){for(var t=e.length;0===e[--t];);e.length=t+1}function p(e){for(var t=Array(e),r=-1;++r<e;)t[r]=0;return t}function h(e){return e>0?Math.floor(e):Math.ceil(e)}function y(e,t){var r,n,i=e.length,o=t.length,a=Array(i),s=0;for(n=0;n<o;n++)s=(r=e[n]+t[n]+s)>=1e7?1:0,a[n]=r-1e7*s;for(;n<i;)s=1e7===(r=e[n]+s)?1:0,a[n++]=r-1e7*s;return s>0&&a.push(s),a}function g(e,t){return e.length>=t.length?y(e,t):y(t,e)}function v(e,t){var r,n,i=e.length,o=Array(i);for(n=0;n<i;n++)t=Math.floor((r=e[n]-1e7+t)/1e7),o[n]=r-1e7*t,t+=1;for(;t>0;)o[n++]=t%1e7,t=Math.floor(t/1e7);return o}function m(e,t){var r,n,i=e.length,o=t.length,a=Array(i),s=0;for(r=0;r<o;r++)(n=e[r]-s-t[r])<0?(n+=1e7,s=1):s=0,a[r]=n;for(r=o;r<i;r++){if((n=e[r]-s)<0)n+=1e7;else{a[r++]=n;break}a[r]=n}for(;r<i;r++)a[r]=e[r];return f(a),a}function b(e,t,r){var n,i,o=e.length,l=Array(o),c=-t;for(n=0;n<o;n++)c=Math.floor((i=e[n]+c)/1e7),i%=1e7,l[n]=i<0?i+1e7:i;return"number"==typeof(l=d(l))?(r&&(l=-l),new s(l)):new a(l,r)}function _(e,t){var r,n,i,o,a=e.length,s=t.length,l=p(a+s);for(i=0;i<a;++i){o=e[i];for(var c=0;c<s;++c)n=Math.floor((r=o*t[c]+l[i+c])/1e7),l[i+c]=r-1e7*n,l[i+c+1]+=n}return f(l),l}function w(e,t){var r,n,i=e.length,o=Array(i),a=0;for(n=0;n<i;n++)a=Math.floor((r=e[n]*t+a)/1e7),o[n]=r-1e7*a;for(;a>0;)o[n++]=a%1e7,a=Math.floor(a/1e7);return o}function S(e,t){for(var r=[];t-- >0;)r.push(0);return r.concat(e)}function O(e,t,r){return e<1e7?new a(w(t,e),r):new a(_(t,u(e)),r)}function M(e){var t,r,n,i,o=e.length,a=p(o+o);for(n=0;n<o;n++){r=0-(i=e[n])*i;for(var s=n;s<o;s++)r=Math.floor((t=2*(i*e[s])+a[n+s]+r)/1e7),a[n+s]=t-1e7*r;a[n+o]=r}return f(a),a}function R(e,t){var r,n,i,o,a=e.length,s=p(a);for(i=0,r=a-1;r>=0;--r)n=h((o=1e7*i+e[r])/t),i=o-n*t,s[r]=0|n;return[s,0|i]}function P(e,t){var r,i,c=W(t);if(n)return[new l(e.value/c.value),new l(e.value%c.value)];var y=e.value,g=c.value;if(0===g)throw Error("Cannot divide by zero");if(e.isSmall)return c.isSmall?[new s(h(y/g)),new s(y%g)]:[o[0],e];if(c.isSmall){if(1===g)return[e,o[0]];if(-1==g)return[e.negate(),o[0]];var v=Math.abs(g);if(v<1e7){r=d((i=R(y,v))[0]);var b=i[1];return(e.sign&&(b=-b),"number"==typeof r)?(e.sign!==c.sign&&(r=-r),[new s(r),new s(b)]):[new a(r,e.sign!==c.sign),new s(b)]}g=u(v)}var _=E(y,g);if(-1===_)return[o[0],e];if(0===_)return[o[e.sign===c.sign?1:-1],o[0]];r=(i=y.length+g.length<=200?function(e,t){var r,n,i,o,a,s,l,c=e.length,u=t.length,f=p(t.length),h=t[u-1],y=Math.ceil(1e7/(2*h)),g=w(e,y),v=w(t,y);for(g.length<=c&&g.push(0),v.push(0),h=v[u-1],n=c-u;n>=0;n--){for(r=1e7-1,g[n+u]!==h&&(r=Math.floor((1e7*g[n+u]+g[n+u-1])/h)),i=0,o=0,s=v.length,a=0;a<s;a++)i+=r*v[a],l=Math.floor(i/1e7),o+=g[n+a]-(i-1e7*l),i=l,o<0?(g[n+a]=o+1e7,o=-1):(g[n+a]=o,o=0);for(;0!==o;){for(r-=1,i=0,a=0;a<s;a++)(i+=g[n+a]-1e7+v[a])<0?(g[n+a]=i+1e7,i=0):(g[n+a]=i,i=1);o+=i}f[n]=r}return g=R(g,y)[0],[d(f),d(g)]}(y,g):function(e,t){for(var r,n,i,o,a,s=e.length,l=t.length,c=[],u=[];s;){if(u.unshift(e[--s]),f(u),0>E(u,t)){c.push(0);continue}n=u.length,i=1e7*u[n-1]+u[n-2],o=1e7*t[l-1]+t[l-2],n>l&&(i=(i+1)*1e7),r=Math.ceil(i/o);do{if(0>=E(a=w(t,r),u))break;r--}while(r);c.push(r),u=m(u,a)}return c.reverse(),[d(c),d(u)]}(y,g))[0];var S=e.sign!==c.sign,O=i[1],M=e.sign;return"number"==typeof r?(S&&(r=-r),r=new s(r)):r=new a(r,S),"number"==typeof O?(M&&(O=-O),O=new s(O)):O=new a(O,M),[r,O]}function E(e,t){if(e.length!==t.length)return e.length>t.length?1:-1;for(var r=e.length-1;r>=0;r--)if(e[r]!==t[r])return e[r]>t[r]?1:-1;return 0}function I(e){var t=e.abs();return!t.isUnit()&&(!!(t.equals(2)||t.equals(3)||t.equals(5))||!(t.isEven()||t.isDivisibleBy(3)||t.isDivisibleBy(5))&&(!!t.lesser(49)||void 0))}function x(e,t){for(var r,n,o,a=e.prev(),s=a,l=0;s.isEven();)s=s.divide(2),l++;e:for(n=0;n<t.length;n++)if(!e.lesser(t[n])&&!((o=i(t[n]).modPow(s,e)).isUnit()||o.equals(a))){for(r=l-1;0!=r&&!(o=o.square().mod(e)).isUnit();r--)if(o.equals(a))continue e;return!1}return!0}a.prototype=Object.create(o.prototype),s.prototype=Object.create(o.prototype),l.prototype=Object.create(o.prototype),a.prototype.add=function(e){var t=W(e);if(this.sign!==t.sign)return this.subtract(t.negate());var r=this.value,n=t.value;return t.isSmall?new a(v(r,Math.abs(n)),this.sign):new a(g(r,n),this.sign)},a.prototype.plus=a.prototype.add,s.prototype.add=function(e){var t=W(e),r=this.value;if(r<0!==t.sign)return this.subtract(t.negate());var n=t.value;if(t.isSmall){if(c(r+n))return new s(r+n);n=u(Math.abs(n))}return new a(v(n,Math.abs(r)),r<0)},s.prototype.plus=s.prototype.add,l.prototype.add=function(e){return new l(this.value+W(e).value)},l.prototype.plus=l.prototype.add,a.prototype.subtract=function(e){var t,r,n=W(e);if(this.sign!==n.sign)return this.add(n.negate());var i=this.value,o=n.value;return n.isSmall?b(i,Math.abs(o),this.sign):(t=this.sign,(E(i,o)>=0?r=m(i,o):(r=m(o,i),t=!t),"number"==typeof(r=d(r)))?(t&&(r=-r),new s(r)):new a(r,t))},a.prototype.minus=a.prototype.subtract,s.prototype.subtract=function(e){var t=W(e),r=this.value;if(r<0!==t.sign)return this.add(t.negate());var n=t.value;return t.isSmall?new s(r-n):b(n,Math.abs(r),r>=0)},s.prototype.minus=s.prototype.subtract,l.prototype.subtract=function(e){return new l(this.value-W(e).value)},l.prototype.minus=l.prototype.subtract,a.prototype.negate=function(){return new a(this.value,!this.sign)},s.prototype.negate=function(){var e=this.sign,t=new s(-this.value);return t.sign=!e,t},l.prototype.negate=function(){return new l(-this.value)},a.prototype.abs=function(){return new a(this.value,!1)},s.prototype.abs=function(){return new s(Math.abs(this.value))},l.prototype.abs=function(){return new l(this.value>=0?this.value:-this.value)},a.prototype.multiply=function(e){var t,r,n,i=W(e),s=this.value,l=i.value,c=this.sign!==i.sign;if(i.isSmall){if(0===l)return o[0];if(1===l)return this;if(-1===l)return this.negate();if((n=Math.abs(l))<1e7)return new a(w(s,n),c);l=u(n)}return -.012*(t=s.length)-.012*(r=l.length)+15e-6*t*r>0?new a(function e(t,r){var n=Math.max(t.length,r.length);if(n<=30)return _(t,r);n=Math.ceil(n/2);var i=t.slice(n),o=t.slice(0,n),a=r.slice(n),s=r.slice(0,n),l=e(o,s),c=e(i,a),u=e(g(o,i),g(s,a)),d=g(g(l,S(m(m(u,l),c),n)),S(c,2*n));return f(d),d}(s,l),c):new a(_(s,l),c)},a.prototype.times=a.prototype.multiply,s.prototype._multiplyBySmall=function(e){return c(e.value*this.value)?new s(e.value*this.value):O(Math.abs(e.value),u(Math.abs(this.value)),this.sign!==e.sign)},a.prototype._multiplyBySmall=function(e){return 0===e.value?o[0]:1===e.value?this:-1===e.value?this.negate():O(Math.abs(e.value),this.value,this.sign!==e.sign)},s.prototype.multiply=function(e){return W(e)._multiplyBySmall(this)},s.prototype.times=s.prototype.multiply,l.prototype.multiply=function(e){return new l(this.value*W(e).value)},l.prototype.times=l.prototype.multiply,a.prototype.square=function(){return new a(M(this.value),!1)},s.prototype.square=function(){var e=this.value*this.value;return c(e)?new s(e):new a(M(u(Math.abs(this.value))),!1)},l.prototype.square=function(e){return new l(this.value*this.value)},a.prototype.divmod=function(e){var t=P(this,e);return{quotient:t[0],remainder:t[1]}},l.prototype.divmod=s.prototype.divmod=a.prototype.divmod,a.prototype.divide=function(e){return P(this,e)[0]},l.prototype.over=l.prototype.divide=function(e){return new l(this.value/W(e).value)},s.prototype.over=s.prototype.divide=a.prototype.over=a.prototype.divide,a.prototype.mod=function(e){return P(this,e)[1]},l.prototype.mod=l.prototype.remainder=function(e){return new l(this.value%W(e).value)},s.prototype.remainder=s.prototype.mod=a.prototype.remainder=a.prototype.mod,a.prototype.pow=function(e){var t,r,n,i=W(e),a=this.value,l=i.value;if(0===l)return o[1];if(0===a)return o[0];if(1===a)return o[1];if(-1===a)return i.isEven()?o[1]:o[-1];if(i.sign)return o[0];if(!i.isSmall)throw Error("The exponent "+i.toString()+" is too large.");if(this.isSmall&&c(t=Math.pow(a,l)))return new s(h(t));for(r=this,n=o[1];!0&l&&(n=n.times(r),--l),0!==l;)l/=2,r=r.square();return n},s.prototype.pow=a.prototype.pow,l.prototype.pow=function(e){var t=W(e),r=this.value,n=t.value,i=BigInt(0),a=BigInt(1),s=BigInt(2);if(n===i)return o[1];if(r===i)return o[0];if(r===a)return o[1];if(r===BigInt(-1))return t.isEven()?o[1]:o[-1];if(t.isNegative())return new l(i);for(var c=this,u=o[1];(n&a)===a&&(u=u.times(c),--n),n!==i;)n/=s,c=c.square();return u},a.prototype.modPow=function(e,t){if(e=W(e),(t=W(t)).isZero())throw Error("Cannot take modPow with modulus 0");var r=o[1],n=this.mod(t);for(e.isNegative()&&(e=e.multiply(o[-1]),n=n.modInv(t));e.isPositive();){if(n.isZero())return o[0];e.isOdd()&&(r=r.multiply(n).mod(t)),e=e.divide(2),n=n.square().mod(t)}return r},l.prototype.modPow=s.prototype.modPow=a.prototype.modPow,a.prototype.compareAbs=function(e){var t=W(e),r=this.value,n=t.value;return t.isSmall?1:E(r,n)},s.prototype.compareAbs=function(e){var t=W(e),r=Math.abs(this.value),n=t.value;return t.isSmall?r===(n=Math.abs(n))?0:r>n?1:-1:-1},l.prototype.compareAbs=function(e){var t=this.value,r=W(e).value;return(t=t>=0?t:-t)===(r=r>=0?r:-r)?0:t>r?1:-1},a.prototype.compare=function(e){if(e===1/0)return -1;if(e===-1/0)return 1;var t=W(e),r=this.value,n=t.value;return this.sign!==t.sign?t.sign?1:-1:t.isSmall?this.sign?-1:1:E(r,n)*(this.sign?-1:1)},a.prototype.compareTo=a.prototype.compare,s.prototype.compare=function(e){if(e===1/0)return -1;if(e===-1/0)return 1;var t=W(e),r=this.value,n=t.value;return t.isSmall?r==n?0:r>n?1:-1:r<0!==t.sign?r<0?-1:1:r<0?1:-1},s.prototype.compareTo=s.prototype.compare,l.prototype.compare=function(e){if(e===1/0)return -1;if(e===-1/0)return 1;var t=this.value,r=W(e).value;return t===r?0:t>r?1:-1},l.prototype.compareTo=l.prototype.compare,a.prototype.equals=function(e){return 0===this.compare(e)},l.prototype.eq=l.prototype.equals=s.prototype.eq=s.prototype.equals=a.prototype.eq=a.prototype.equals,a.prototype.notEquals=function(e){return 0!==this.compare(e)},l.prototype.neq=l.prototype.notEquals=s.prototype.neq=s.prototype.notEquals=a.prototype.neq=a.prototype.notEquals,a.prototype.greater=function(e){return this.compare(e)>0},l.prototype.gt=l.prototype.greater=s.prototype.gt=s.prototype.greater=a.prototype.gt=a.prototype.greater,a.prototype.lesser=function(e){return 0>this.compare(e)},l.prototype.lt=l.prototype.lesser=s.prototype.lt=s.prototype.lesser=a.prototype.lt=a.prototype.lesser,a.prototype.greaterOrEquals=function(e){return this.compare(e)>=0},l.prototype.geq=l.prototype.greaterOrEquals=s.prototype.geq=s.prototype.greaterOrEquals=a.prototype.geq=a.prototype.greaterOrEquals,a.prototype.lesserOrEquals=function(e){return 0>=this.compare(e)},l.prototype.leq=l.prototype.lesserOrEquals=s.prototype.leq=s.prototype.lesserOrEquals=a.prototype.leq=a.prototype.lesserOrEquals,a.prototype.isEven=function(){return(1&this.value[0])==0},s.prototype.isEven=function(){return(1&this.value)==0},l.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},a.prototype.isOdd=function(){return(1&this.value[0])==1},s.prototype.isOdd=function(){return(1&this.value)==1},l.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},a.prototype.isPositive=function(){return!this.sign},s.prototype.isPositive=function(){return this.value>0},l.prototype.isPositive=s.prototype.isPositive,a.prototype.isNegative=function(){return this.sign},s.prototype.isNegative=function(){return this.value<0},l.prototype.isNegative=s.prototype.isNegative,a.prototype.isUnit=function(){return!1},s.prototype.isUnit=function(){return 1===Math.abs(this.value)},l.prototype.isUnit=function(){return this.abs().value===BigInt(1)},a.prototype.isZero=function(){return!1},s.prototype.isZero=function(){return 0===this.value},l.prototype.isZero=function(){return this.value===BigInt(0)},a.prototype.isDivisibleBy=function(e){var t=W(e);return!t.isZero()&&(!!t.isUnit()||(0===t.compareAbs(2)?this.isEven():this.mod(t).isZero()))},l.prototype.isDivisibleBy=s.prototype.isDivisibleBy=a.prototype.isDivisibleBy,a.prototype.isPrime=function(t){var r=I(this);if(e!==r)return r;var n=this.abs(),o=n.bitLength();if(o<=64)return x(n,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var a=Math.log(2)*o.toJSNumber(),s=Math.ceil(!0===t?2*Math.pow(a,2):a),l=[],c=0;c<s;c++)l.push(i(c+2));return x(n,l)},l.prototype.isPrime=s.prototype.isPrime=a.prototype.isPrime,a.prototype.isProbablePrime=function(t,r){var n=I(this);if(e!==n)return n;for(var o=this.abs(),a=e===t?5:t,s=[],l=0;l<a;l++)s.push(i.randBetween(2,o.minus(2),r));return x(o,s)},l.prototype.isProbablePrime=s.prototype.isProbablePrime=a.prototype.isProbablePrime,a.prototype.modInv=function(e){for(var t,r,n,o=i.zero,a=i.one,s=W(e),l=this.abs();!l.isZero();)t=s.divide(l),r=o,n=s,o=a,s=l,a=r.subtract(t.multiply(a)),l=n.subtract(t.multiply(l));if(!s.isUnit())throw Error(this.toString()+" and "+e.toString()+" are not co-prime");return(-1===o.compare(0)&&(o=o.add(e)),this.isNegative())?o.negate():o},l.prototype.modInv=s.prototype.modInv=a.prototype.modInv,a.prototype.next=function(){var e=this.value;return this.sign?b(e,1,this.sign):new a(v(e,1),this.sign)},s.prototype.next=function(){var e=this.value;return e+1<9007199254740992?new s(e+1):new a(t,!1)},l.prototype.next=function(){return new l(this.value+BigInt(1))},a.prototype.prev=function(){var e=this.value;return this.sign?new a(v(e,1),!0):b(e,1,this.sign)},s.prototype.prev=function(){var e=this.value;return e-1>-9007199254740992?new s(e-1):new a(t,!0)},l.prototype.prev=function(){return new l(this.value-BigInt(1))};for(var A=[1];2*A[A.length-1]<=1e7;)A.push(2*A[A.length-1]);var C=A.length,j=A[C-1];function T(e){return 1e7>=Math.abs(e)}function $(e,t,r){t=W(t);for(var n=e.isNegative(),o=t.isNegative(),a=n?e.not():e,s=o?t.not():t,l=0,c=0,u=null,d=null,f=[];!a.isZero()||!s.isZero();)l=(u=P(a,j))[1].toJSNumber(),n&&(l=j-1-l),c=(d=P(s,j))[1].toJSNumber(),o&&(c=j-1-c),a=u[0],s=d[0],f.push(r(l,c));for(var p=0!==r(n?1:0,o?1:0)?i(-1):i(0),h=f.length-1;h>=0;h-=1)p=p.multiply(j).add(i(f[h]));return p}function D(e){var t=e.value,r="number"==typeof t?1073741824|t:"bigint"==typeof t?t|BigInt(1073741824):t[0]+1e7*t[1]|1073758208;return r&-r}function N(e,t){return e=W(e),t=W(t),e.greater(t)?e:t}function k(e,t){return e=W(e),t=W(t),e.lesser(t)?e:t}function B(e,t){if(e=W(e).abs(),t=W(t).abs(),e.equals(t))return e;if(e.isZero())return t;if(t.isZero())return e;for(var r,n,i=o[1];e.isEven()&&t.isEven();)r=k(D(e),D(t)),e=e.divide(r),t=t.divide(r),i=i.multiply(r);for(;e.isEven();)e=e.divide(D(e));do{for(;t.isEven();)t=t.divide(D(t));e.greater(t)&&(n=t,t=e,e=n),t=t.subtract(e)}while(!t.isZero());return i.isUnit()?e:e.multiply(i)}a.prototype.shiftLeft=function(e){var t=W(e).toJSNumber();if(!T(t))throw Error(String(t)+" is too large for shifting.");if(t<0)return this.shiftRight(-t);var r=this;if(r.isZero())return r;for(;t>=C;)r=r.multiply(j),t-=C-1;return r.multiply(A[t])},l.prototype.shiftLeft=s.prototype.shiftLeft=a.prototype.shiftLeft,a.prototype.shiftRight=function(e){var t,r=W(e).toJSNumber();if(!T(r))throw Error(String(r)+" is too large for shifting.");if(r<0)return this.shiftLeft(-r);for(var n=this;r>=C;){if(n.isZero()||n.isNegative()&&n.isUnit())return n;n=(t=P(n,j))[1].isNegative()?t[0].prev():t[0],r-=C-1}return(t=P(n,A[r]))[1].isNegative()?t[0].prev():t[0]},l.prototype.shiftRight=s.prototype.shiftRight=a.prototype.shiftRight,a.prototype.not=function(){return this.negate().prev()},l.prototype.not=s.prototype.not=a.prototype.not,a.prototype.and=function(e){return $(this,e,function(e,t){return e&t})},l.prototype.and=s.prototype.and=a.prototype.and,a.prototype.or=function(e){return $(this,e,function(e,t){return e|t})},l.prototype.or=s.prototype.or=a.prototype.or,a.prototype.xor=function(e){return $(this,e,function(e,t){return e^t})},l.prototype.xor=s.prototype.xor=a.prototype.xor,a.prototype.bitLength=function(){var e=this;return(0>e.compareTo(i(0))&&(e=e.negate().subtract(i(1))),0===e.compareTo(i(0)))?i(0):i(function e(t,r){if(0>=r.compareTo(t)){var n=e(t,r.square(r)),o=n.p,a=n.e,s=o.multiply(r);return 0>=s.compareTo(t)?{p:s,e:2*a+1}:{p:o,e:2*a}}return{p:i(1),e:0}}(e,i(2)).e).add(i(1))},l.prototype.bitLength=s.prototype.bitLength=a.prototype.bitLength;var F=function(e,t,n,i){n=n||r,e=String(e),i||(e=e.toLowerCase(),n=n.toLowerCase());var o,a=e.length,s=Math.abs(t),l={};for(o=0;o<n.length;o++)l[n[o]]=o;for(o=0;o<a;o++){var c=e[o];if("-"!==c&&c in l&&l[c]>=s){if("1"===c&&1===s)continue;throw Error(c+" is not a valid digit in base "+t+".")}}t=W(t);var u=[],d="-"===e[0];for(o=d?1:0;o<e.length;o++){var c=e[o];if(c in l)u.push(W(l[c]));else if("<"===c){var f=o;do o++;while(">"!==e[o]&&o<e.length);u.push(W(e.slice(f+1,o)))}else throw Error(c+" is not a valid character")}return L(u,t,d)};function L(e,t,r){var n,i=o[0],a=o[1];for(n=e.length-1;n>=0;n--)i=i.add(e[n].times(a)),a=a.times(t);return r?i.negate():i}function U(e,t){if((t=i(t)).isZero()){if(e.isZero())return{value:[0],isNegative:!1};throw Error("Cannot convert nonzero numbers to base 0.")}if(t.equals(-1)){if(e.isZero())return{value:[0],isNegative:!1};if(e.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-e.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var r=Array.apply(null,Array(e.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return r.unshift([1]),{value:[].concat.apply([],r),isNegative:!1}}var n=!1;if(e.isNegative()&&t.isPositive()&&(n=!0,e=e.abs()),t.isUnit())return e.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(e.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:n};for(var o,a=[],s=e;s.isNegative()||s.compareAbs(t)>=0;){s=(o=s.divmod(t)).quotient;var l=o.remainder;l.isNegative()&&(l=t.minus(l).abs(),s=s.next()),a.push(l.toJSNumber())}return a.push(s.toJSNumber()),{value:a.reverse(),isNegative:n}}function V(e,t,n){var i=U(e,t);return(i.isNegative?"-":"")+i.value.map(function(e){var t;return e<(t=(t=n)||r).length?t[e]:"<"+e+">"}).join("")}function K(e){if(c(+e)){var t=+e;if(t===h(t))return n?new l(BigInt(t)):new s(t);throw Error("Invalid integer: "+e)}var r="-"===e[0];r&&(e=e.slice(1));var i=e.split(/e/i);if(i.length>2)throw Error("Invalid integer: "+i.join("e"));if(2===i.length){var o=i[1];if("+"===o[0]&&(o=o.slice(1)),(o=+o)!==h(o)||!c(o))throw Error("Invalid integer: "+o+" is not a valid exponent.");var u=i[0],d=u.indexOf(".");if(d>=0&&(o-=u.length-d-1,u=u.slice(0,d)+u.slice(d+1)),o<0)throw Error("Cannot include negative exponent part for integers");u+=Array(o+1).join("0"),e=u}if(!/^([0-9][0-9]*)$/.test(e))throw Error("Invalid integer: "+e);if(n)return new l(BigInt(r?"-"+e:e));for(var p=[],y=e.length,g=y-7;y>0;)p.push(+e.slice(g,y)),(g-=7)<0&&(g=0),y-=7;return f(p),new a(p,r)}function W(e){return"number"==typeof e?function(e){if(n)return new l(BigInt(e));if(c(e)){if(e!==h(e))throw Error(e+" is not an integer.");return new s(e)}return K(e.toString())}(e):"string"==typeof e?K(e):"bigint"==typeof e?new l(e):e}a.prototype.toArray=function(e){return U(this,e)},s.prototype.toArray=function(e){return U(this,e)},l.prototype.toArray=function(e){return U(this,e)},a.prototype.toString=function(t,r){if(e===t&&(t=10),10!==t||r)return V(this,t,r);for(var n,i=this.value,o=i.length,a=String(i[--o]);--o>=0;)n=String(i[o]),a+="0000000".slice(n.length)+n;return(this.sign?"-":"")+a},s.prototype.toString=function(t,r){return(e===t&&(t=10),10!=t||r)?V(this,t,r):String(this.value)},l.prototype.toString=s.prototype.toString,l.prototype.toJSON=a.prototype.toJSON=s.prototype.toJSON=function(){return this.toString()},a.prototype.valueOf=function(){return parseInt(this.toString(),10)},a.prototype.toJSNumber=a.prototype.valueOf,s.prototype.valueOf=function(){return this.value},s.prototype.toJSNumber=s.prototype.valueOf,l.prototype.valueOf=l.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};for(var J=0;J<1e3;J++)o[J]=W(J),J>0&&(o[-J]=W(-J));return o.one=o[1],o.zero=o[0],o.minusOne=o[-1],o.max=N,o.min=k,o.gcd=B,o.lcm=function(e,t){return e=W(e).abs(),t=W(t).abs(),e.divide(B(e,t)).multiply(t)},o.isInstance=function(e){return e instanceof a||e instanceof s||e instanceof l},o.randBetween=function(e,t,r){e=W(e);var n=r||Math.random,i=k(e,t=W(t)),a=N(e,t).subtract(i).add(1);if(a.isSmall)return i.add(Math.floor(n()*a));for(var s=U(a,1e7).value,l=[],c=!0,u=0;u<s.length;u++){var d=c?s[u]+(u+1<s.length?s[u+1]/1e7:0):1e7,f=h(n()*d);l.push(f),f<s[u]&&(c=!1)}return i.add(o.fromArray(l,1e7,!1))},o.fromArray=function(e,t,r){return L(e.map(W),W(t||10),r)},o}();e.hasOwnProperty("exports")&&(e.exports=i),void 0!==(n=(function(){return i}).call(t,r,t,e))&&(e.exports=n)},65209:function(e,t,r){var n;!function(i){"use strict";var o,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,s=Math.ceil,l=Math.floor,c="[BigNumber Error] ",u=c+"Number primitive has more than 15 significant digits: ",d=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13];function f(e){var t=0|e;return e>0||e===t?t:t-1}function p(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(r=14-(t=e[n++]+"").length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function h(e,t){var r,n,i=e.c,o=t.c,a=e.s,s=t.s,l=e.e,c=t.e;if(!a||!s)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-s:a;if(a!=s)return a;if(r=a<0,n=l==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return l>c^r?1:-1;for(a=0,s=(l=i.length)<(c=o.length)?l:c;a<s;a++)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return l==c?0:l>c^r?1:-1}function y(e,t,r,n){if(e<t||e>r||e!==l(e))throw Error(c+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function g(e){var t=e.c.length-1;return f(e.e/14)==t&&e.c[t]%2!=0}function v(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function m(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(n=e.length,++t>n){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}(o=function e(t){var r,n,i,o,b,_,w,S,O,M=B.prototype={constructor:B,toString:null,valueOf:null},R=new B(1),P=20,E=4,I=-7,x=21,A=-1e7,C=1e7,j=!1,T=1,$=0,D={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},N="0123456789abcdefghijklmnopqrstuvwxyz",k=!0;function B(e,t){var r,n,i,o,s,c,d,f,p=this;if(!(p instanceof B))return new B(e,t);if(null==t){if(e&&!0===e._isBigNumber){p.s=e.s,!e.c||e.e>C?p.c=p.e=null:e.e<A?p.c=[p.e=0]:(p.e=e.e,p.c=e.c.slice());return}if((c="number"==typeof e)&&0*e==0){if(p.s=1/e<0?(e=-e,-1):1,e===~~e){for(o=0,s=e;s>=10;s/=10,o++);o>C?p.c=p.e=null:(p.e=o,p.c=[e]);return}f=String(e)}else{if(!a.test(f=String(e)))return O(p,f,c);p.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(o=f.indexOf("."))>-1&&(f=f.replace(".","")),(s=f.search(/e/i))>0?(o<0&&(o=s),o+=+f.slice(s+1),f=f.substring(0,s)):o<0&&(o=f.length)}else{if(y(t,2,N.length,"Base"),10==t&&k)return V(p=new B(e),P+p.e+1,E);if(f=String(e),c="number"==typeof e){if(0*e!=0)return O(p,f,c,t);if(p.s=1/e<0?(f=f.slice(1),-1):1,B.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(u+e)}else p.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(r=N.slice(0,t),o=s=0,d=f.length;s<d;s++)if(0>r.indexOf(n=f.charAt(s))){if("."==n){if(s>o){o=d;continue}}else if(!i&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){i=!0,s=-1,o=0;continue}return O(p,String(e),c,t)}c=!1,(o=(f=S(f,t,10,p.s)).indexOf("."))>-1?f=f.replace(".",""):o=f.length}for(s=0;48===f.charCodeAt(s);s++);for(d=f.length;48===f.charCodeAt(--d););if(f=f.slice(s,++d)){if(d-=s,c&&B.DEBUG&&d>15&&(e>9007199254740991||e!==l(e)))throw Error(u+p.s*e);if((o=o-s-1)>C)p.c=p.e=null;else if(o<A)p.c=[p.e=0];else{if(p.e=o,p.c=[],s=(o+1)%14,o<0&&(s+=14),s<d){for(s&&p.c.push(+f.slice(0,s)),d-=14;s<d;)p.c.push(+f.slice(s,s+=14));s=14-(f=f.slice(s)).length}else s-=d;for(;s--;f+="0");p.c.push(+f)}}else p.c=[p.e=0]}function F(e,t,r,n){var i,o,a,s,l;if(null==r?r=E:y(r,0,8),!e.c)return e.toString();if(i=e.c[0],a=e.e,null==t)l=p(e.c),l=1==n||2==n&&(a<=I||a>=x)?v(l,a):m(l,a,"0");else if(o=(e=V(new B(e),t,r)).e,s=(l=p(e.c)).length,1==n||2==n&&(t<=o||o<=I)){for(;s<t;l+="0",s++);l=v(l,o)}else if(t-=a,l=m(l,o,"0"),o+1>s){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-s)>0)for(o+1==s&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function L(e,t){for(var r,n,i=1,o=new B(e[0]);i<e.length;i++)(n=new B(e[i])).s&&(r=h(o,n))!==t&&(0!==r||o.s!==t)||(o=n);return o}function U(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+14*r-1)>C?e.c=e.e=null:r<A?e.c=[e.e=0]:(e.e=r,e.c=t),e}function V(e,t,r,n){var i,o,a,c,u,f,p,h=e.c;if(h){t:{for(i=1,c=h[0];c>=10;c/=10,i++);if((o=t-i)<0)o+=14,a=t,p=l((u=h[f=0])/d[i-a-1]%10);else if((f=s((o+1)/14))>=h.length){if(n){for(;h.length<=f;h.push(0));u=p=0,i=1,o%=14,a=o-14+1}else break t}else{for(i=1,u=c=h[f];c>=10;c/=10,i++);o%=14,p=(a=o-14+i)<0?0:l(u/d[i-a-1]%10)}if(n=n||t<0||null!=h[f+1]||(a<0?u:u%d[i-a-1]),n=r<4?(p||n)&&(0==r||r==(e.s<0?3:2)):p>5||5==p&&(4==r||n||6==r&&(o>0?a>0?u/d[i-a]:0:h[f-1])%10&1||r==(e.s<0?8:7)),t<1||!h[0])return h.length=0,n?(t-=e.e+1,h[0]=d[(14-t%14)%14],e.e=-t||0):h[0]=e.e=0,e;if(0==o?(h.length=f,c=1,f--):(h.length=f+1,c=d[14-o],h[f]=a>0?l(u/d[i-a]%d[a])*c:0),n)for(;;){if(0==f){for(o=1,a=h[0];a>=10;a/=10,o++);for(a=h[0]+=c,c=1;a>=10;a/=10,c++);o!=c&&(e.e++,1e14==h[0]&&(h[0]=1));break}if(h[f]+=c,1e14!=h[f])break;h[f--]=0,c=1}for(o=h.length;0===h[--o];h.pop());}e.e>C?e.c=e.e=null:e.e<A&&(e.c=[e.e=0])}return e}function K(e){var t,r=e.e;return null===r?e.toString():(t=p(e.c),t=r<=I||r>=x?v(t,r):m(t,r,"0"),e.s<0?"-"+t:t)}return B.clone=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,r;if(null!=e){if("object"==typeof e){if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(y(r=e[t],0,1e9,t),P=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(y(r=e[t],0,8,t),E=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(y(r[0],-1e9,0,t),y(r[1],0,1e9,t),I=r[0],x=r[1]):(y(r,-1e9,1e9,t),I=-(x=r<0?-r:r))),e.hasOwnProperty(t="RANGE")){if((r=e[t])&&r.pop)y(r[0],-1e9,-1,t),y(r[1],1,1e9,t),A=r[0],C=r[1];else if(y(r,-1e9,1e9,t),r)A=-(C=r<0?-r:r);else throw Error(c+t+" cannot be zero: "+r)}if(e.hasOwnProperty(t="CRYPTO")){if(!!(r=e[t])===r){if(r){if("undefined"!=typeof crypto&&crypto&&(crypto.getRandomValues||crypto.randomBytes))j=r;else throw j=!r,Error(c+"crypto unavailable")}else j=r}else throw Error(c+t+" not true or false: "+r)}if(e.hasOwnProperty(t="MODULO_MODE")&&(y(r=e[t],0,9,t),T=r),e.hasOwnProperty(t="POW_PRECISION")&&(y(r=e[t],0,1e9,t),$=r),e.hasOwnProperty(t="FORMAT")){if("object"==typeof(r=e[t]))D=r;else throw Error(c+t+" not an object: "+r)}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+t+" invalid: "+r);k="0123456789"==r.slice(0,10),N=r}}else throw Error(c+"Object expected: "+e)}return{DECIMAL_PLACES:P,ROUNDING_MODE:E,EXPONENTIAL_AT:[I,x],RANGE:[A,C],CRYPTO:j,MODULO_MODE:T,POW_PRECISION:$,FORMAT:D,ALPHABET:N}},B.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!B.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;t:if("[object Array]"==({}).toString.call(n)){if((1===o||-1===o)&&i>=-1e9&&i<=1e9&&i===l(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break t}if((t=(i+1)%14)<1&&(t+=14),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=1e14||r!==l(r))break t;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(c+"Invalid BigNumber: "+e)},B.maximum=B.max=function(){return L(arguments,-1)},B.minimum=B.min=function(){return L(arguments,1)},B.random=(r=9007199254740992*Math.random()&2097151?function(){return l(9007199254740992*Math.random())}:function(){return(1073741824*Math.random()|0)*8388608+(8388608*Math.random()|0)},function(e){var t,n,i,o,a,u=0,f=[],p=new B(R);if(null==e?e=P:y(e,0,1e9),o=s(e/14),j){if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));u<o;)(a=131072*t[u]+(t[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[u]=n[0],t[u+1]=n[1]):(f.push(a%1e14),u+=2);u=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);u<o;)(a=(31&t[u])*281474976710656+1099511627776*t[u+1]+4294967296*t[u+2]+16777216*t[u+3]+(t[u+4]<<16)+(t[u+5]<<8)+t[u+6])>=9e15?crypto.randomBytes(7).copy(t,u):(f.push(a%1e14),u+=7);u=o/7}else throw j=!1,Error(c+"crypto unavailable")}if(!j)for(;u<o;)(a=r())<9e15&&(f[u++]=a%1e14);for(o=f[--u],e%=14,o&&e&&(a=d[14-e],f[u]=l(o/a)*a);0===f[u];f.pop(),u--);if(u<0)f=[i=0];else{for(i=-1;0===f[0];f.splice(0,1),i-=14);for(u=1,a=f[0];a>=10;a/=10,u++);u<14&&(i-=14-u)}return p.e=i,p.c=f,p}),B.sum=function(){for(var e=1,t=arguments,r=new B(t[0]);e<t.length;)r=r.plus(t[e++]);return r},S=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,a=[0],s=0,l=e.length;s<l;){for(o=a.length;o--;a[o]*=t);for(a[0]+=n.indexOf(e.charAt(s++)),i=0;i<a.length;i++)a[i]>r-1&&(null==a[i+1]&&(a[i+1]=0),a[i+1]+=a[i]/r|0,a[i]%=r)}return a.reverse()}return function(r,n,i,o,a){var s,l,c,u,d,f,h,y,g=r.indexOf("."),v=P,b=E;for(g>=0&&(u=$,$=0,r=r.replace(".",""),f=(y=new B(n)).pow(r.length-g),$=u,y.c=t(m(p(f.c),f.e,"0"),10,i,e),y.e=y.c.length),c=u=(h=t(r,n,i,a?(s=N,e):(s=e,N))).length;0==h[--u];h.pop());if(!h[0])return s.charAt(0);if(g<0?--c:(f.c=h,f.e=c,f.s=o,h=(f=w(f,y,v,b,i)).c,d=f.r,c=f.e),g=h[l=c+v+1],u=i/2,d=d||l<0||null!=h[l+1],d=b<4?(null!=g||d)&&(0==b||b==(f.s<0?3:2)):g>u||g==u&&(4==b||d||6==b&&1&h[l-1]||b==(f.s<0?8:7)),l<1||!h[0])r=d?m(s.charAt(1),-v,s.charAt(0)):s.charAt(0);else{if(h.length=l,d)for(--i;++h[--l]>i;)h[l]=0,l||(++c,h=[1].concat(h));for(u=h.length;!h[--u];);for(g=0,r="";g<=u;r+=s.charAt(h[g++]));r=m(r,c,s.charAt(0))}return r}}(),w=function(){function e(e,t,r){var n,i,o,a,s=0,l=e.length,c=t%1e7,u=t/1e7|0;for(e=e.slice();l--;)n=u*(o=e[l]%1e7)+(a=e[l]/1e7|0)*c,s=((i=c*o+n%1e7*1e7+s)/r|0)+(n/1e7|0)+u*a,e[l]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,a,s){var c,u,d,p,h,y,g,v,m,b,_,w,S,O,M,R,P,E=n.s==i.s?1:-1,I=n.c,x=i.c;if(!I||!I[0]||!x||!x[0])return new B(n.s&&i.s&&(I?!x||I[0]!=x[0]:x)?I&&0==I[0]||!x?0*E:E/0:NaN);for(m=(v=new B(E)).c=[],E=o+(u=n.e-i.e)+1,s||(s=1e14,u=f(n.e/14)-f(i.e/14),E=E/14|0),d=0;x[d]==(I[d]||0);d++);if(x[d]>(I[d]||0)&&u--,E<0)m.push(1),p=!0;else{for(O=I.length,R=x.length,d=0,E+=2,(h=l(s/(x[0]+1)))>1&&(x=e(x,h,s),I=e(I,h,s),R=x.length,O=I.length),S=R,_=(b=I.slice(0,R)).length;_<R;b[_++]=0);P=[0].concat(P=x.slice()),M=x[0],x[1]>=s/2&&M++;do{if(h=0,(c=t(x,b,R,_))<0){if(w=b[0],R!=_&&(w=w*s+(b[1]||0)),(h=l(w/M))>1)for(h>=s&&(h=s-1),g=(y=e(x,h,s)).length,_=b.length;1==t(y,b,g,_);)h--,r(y,R<g?P:x,g,s),g=y.length,c=1;else 0==h&&(c=h=1),g=(y=x.slice()).length;if(g<_&&(y=[0].concat(y)),r(b,y,_,s),_=b.length,-1==c)for(;1>t(x,b,R,_);)h++,r(b,R<_?P:x,_,s),_=b.length}else 0===c&&(h++,b=[0]);m[d++]=h,b[0]?b[_++]=I[S]||0:(b=[I[S]],_=1)}while((S++<O||null!=b[0])&&E--);p=null!=b[0],m[0]||m.splice(0,1)}if(1e14==s){for(d=1,E=m[0];E>=10;E/=10,d++);V(v,o+(v.e=d+14*u-1)+1,a,p)}else v.e=u,v.r=+p;return v}}(),n=/^(-?)0([xbo])(?=\w[\w.]*$)/i,i=/^([^.]+)\.$/,o=/^\.([^.]+)$/,b=/^-?(Infinity|NaN)$/,_=/^\s*\+(?=[\w.])|^\s+|\s+$/g,O=function(e,t,r,a){var s,l=r?t:t.replace(_,"");if(b.test(l))e.s=isNaN(l)?null:l<0?-1:1;else{if(!r&&(l=l.replace(n,function(e,t,r){return s="x"==(r=r.toLowerCase())?16:"b"==r?2:8,a&&a!=s?e:t}),a&&(s=a,l=l.replace(i,"$1").replace(o,"0.$1")),t!=l))return new B(l,s);if(B.DEBUG)throw Error(c+"Not a"+(a?" base "+a:"")+" number: "+t);e.s=null}e.c=e.e=null},M.absoluteValue=M.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},M.comparedTo=function(e,t){return h(this,new B(e,t))},M.decimalPlaces=M.dp=function(e,t){var r,n,i;if(null!=e)return y(e,0,1e9),null==t?t=E:y(t,0,8),V(new B(this),e+this.e+1,t);if(!(r=this.c))return null;if(n=((i=r.length-1)-f(this.e/14))*14,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},M.dividedBy=M.div=function(e,t){return w(this,new B(e,t),P,E)},M.dividedToIntegerBy=M.idiv=function(e,t){return w(this,new B(e,t),0,1)},M.exponentiatedBy=M.pow=function(e,t){var r,n,i,o,a,u,d,f,p,h=this;if((e=new B(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+K(e));if(null!=t&&(t=new B(t)),u=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return p=new B(Math.pow(+K(h),u?e.s*(2-g(e)):+K(e))),t?p.mod(t):p;if(d=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new B(NaN);(n=!d&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||u&&h.c[1]>=24e7:h.c[0]<8e13||u&&h.c[0]<=9999975e7)))return o=h.s<0&&g(e)?-0:0,h.e>-1&&(o=1/o),new B(d?1/o:o);$&&(o=s($/14+2))}for(u?(r=new B(.5),d&&(e.s=1),f=g(e)):f=(i=Math.abs(+K(e)))%2,p=new B(R);;){if(f){if(!(p=p.times(h)).c)break;o?p.c.length>o&&(p.c.length=o):n&&(p=p.mod(t))}if(i){if(0===(i=l(i/2)))break;f=i%2}else if(V(e=e.times(r),e.e+1,1),e.e>14)f=g(e);else{if(0==(i=+K(e)))break;f=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):n&&(h=h.mod(t))}return n?p:(d&&(p=R.div(p)),t?p.mod(t):o?V(p,$,E,a):p)},M.integerValue=function(e){var t=new B(this);return null==e?e=E:y(e,0,8),V(t,t.e+1,e)},M.isEqualTo=M.eq=function(e,t){return 0===h(this,new B(e,t))},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(e,t){return h(this,new B(e,t))>0},M.isGreaterThanOrEqualTo=M.gte=function(e,t){return 1===(t=h(this,new B(e,t)))||0===t},M.isInteger=function(){return!!this.c&&f(this.e/14)>this.c.length-2},M.isLessThan=M.lt=function(e,t){return 0>h(this,new B(e,t))},M.isLessThanOrEqualTo=M.lte=function(e,t){return -1===(t=h(this,new B(e,t)))||0===t},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&0==this.c[0]},M.minus=function(e,t){var r,n,i,o,a=this.s;if(t=(e=new B(e,t)).s,!a||!t)return new B(NaN);if(a!=t)return e.s=-t,this.plus(e);var s=this.e/14,l=e.e/14,c=this.c,u=e.c;if(!s||!l){if(!c||!u)return c?(e.s=-t,e):new B(u?this:NaN);if(!c[0]||!u[0])return u[0]?(e.s=-t,e):new B(c[0]?this:3==E?-0:0)}if(s=f(s),l=f(l),c=c.slice(),a=s-l){for((o=a<0)?(a=-a,i=c):(l=s,i=u),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=c.length)<(t=u.length))?a:t,a=t=0;t<n;t++)if(c[t]!=u[t]){o=c[t]<u[t];break}if(o&&(i=c,c=u,u=i,e.s=-e.s),(t=(n=u.length)-(r=c.length))>0)for(;t--;c[r++]=0);for(t=1e14-1;n>a;){if(c[--n]<u[n]){for(r=n;r&&!c[--r];c[r]=t);--c[r],c[n]+=1e14}c[n]-=u[n]}for(;0==c[0];c.splice(0,1),--l);return c[0]?U(e,c,l):(e.s=3==E?-1:1,e.c=[e.e=0],e)},M.modulo=M.mod=function(e,t){var r,n;return(e=new B(e,t),this.c&&e.s&&(!e.c||e.c[0]))?e.c&&(!this.c||this.c[0])?(9==T?(n=e.s,e.s=1,r=w(this,e,0,3),e.s=n,r.s*=n):r=w(this,e,0,T),(e=this.minus(r.times(e))).c[0]||1!=T||(e.s=this.s),e):new B(this):new B(NaN)},M.multipliedBy=M.times=function(e,t){var r,n,i,o,a,s,l,c,u,d,p,h,y,g=this.c,v=(e=new B(e,t)).c;if(!g||!v||!g[0]||!v[0])return this.s&&e.s&&(!g||g[0]||v)&&(!v||v[0]||g)?(e.s*=this.s,g&&v?(e.c=[0],e.e=0):e.c=e.e=null):e.c=e.e=e.s=null,e;for(n=f(this.e/14)+f(e.e/14),e.s*=this.s,(l=g.length)<(d=v.length)&&(y=g,g=v,v=y,i=l,l=d,d=i),i=l+d,y=[];i--;y.push(0));for(i=d;--i>=0;){for(r=0,p=v[i]%1e7,h=v[i]/1e7|0,o=i+(a=l);o>i;)s=h*(c=g[--a]%1e7)+(u=g[a]/1e7|0)*p,r=((c=p*c+s%1e7*1e7+y[o]+r)/1e14|0)+(s/1e7|0)+h*u,y[o--]=c%1e14;y[o]=r}return r?++n:y.splice(0,1),U(e,y,n)},M.negated=function(){var e=new B(this);return e.s=-e.s||null,e},M.plus=function(e,t){var r,n=this.s;if(t=(e=new B(e,t)).s,!n||!t)return new B(NaN);if(n!=t)return e.s=-t,this.minus(e);var i=this.e/14,o=e.e/14,a=this.c,s=e.c;if(!i||!o){if(!a||!s)return new B(n/0);if(!a[0]||!s[0])return s[0]?e:new B(a[0]?this:0*n)}if(i=f(i),o=f(o),a=a.slice(),n=i-o){for(n>0?(o=i,r=s):(n=-n,r=a),r.reverse();n--;r.push(0));r.reverse()}for((n=a.length)-(t=s.length)<0&&(r=s,s=a,a=r,t=n),n=0;t;)n=(a[--t]=a[t]+s[t]+n)/1e14|0,a[t]=1e14===a[t]?0:a[t]%1e14;return n&&(a=[n].concat(a),++o),U(e,a,o)},M.precision=M.sd=function(e,t){var r,n,i;if(null!=e&&!!e!==e)return y(e,1,1e9),null==t?t=E:y(t,0,8),V(new B(this),e,t);if(!(r=this.c))return null;if(n=14*(i=r.length-1)+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&this.e+1>n&&(n=this.e+1),n},M.shiftedBy=function(e){return y(e,-9007199254740991,9007199254740991),this.times("1e"+e)},M.squareRoot=M.sqrt=function(){var e,t,r,n,i,o=this.c,a=this.s,s=this.e,l=P+4,c=new B("0.5");if(1!==a||!o||!o[0])return new B(!a||a<0&&(!o||o[0])?NaN:o?this:1/0);if(0==(a=Math.sqrt(+K(this)))||a==1/0?(((t=p(o)).length+s)%2==0&&(t+="0"),a=Math.sqrt(+t),s=f((s+1)/2)-(s<0||s%2),r=new B(t=a==1/0?"5e"+s:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+s)):r=new B(a+""),r.c[0]){for((a=(s=r.e)+l)<3&&(a=0);;)if(i=r,r=c.times(i.plus(w(this,i,l,1))),p(i.c).slice(0,a)===(t=p(r.c)).slice(0,a)){if(r.e<s&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(n||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(r,r.e+P+2,1),e=!r.times(r).eq(this));break}if(!n&&(V(i,i.e+P+2,0),i.times(i).eq(this))){r=i;break}l+=4,a+=4,n=1}}return V(r,r.e+P+1,E,e)},M.toExponential=function(e,t){return null!=e&&(y(e,0,1e9),e++),F(this,e,t,1)},M.toFixed=function(e,t){return null!=e&&(y(e,0,1e9),e=e+this.e+1),F(this,e,t)},M.toFormat=function(e,t,r){var n;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=D;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=this.toFixed(e,t),this.c){var i,o=n.split("."),a=+r.groupSize,s=+r.secondaryGroupSize,l=r.groupSeparator||"",u=o[0],d=o[1],f=this.s<0,p=f?u.slice(1):u,h=p.length;if(s&&(i=a,a=s,s=i,h-=i),a>0&&h>0){for(i=h%a||a,u=p.substr(0,i);i<h;i+=a)u+=l+p.substr(i,a);s>0&&(u+=l+p.slice(i)),f&&(u="-"+u)}n=d?u+(r.decimalSeparator||"")+((s=+r.fractionGroupSize)?d.replace(RegExp("\\d{"+s+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):d):u}return(r.prefix||"")+n+(r.suffix||"")},M.toFraction=function(e){var t,r,n,i,o,a,s,l,u,f,h,y,g=this.c;if(null!=e&&(!(s=new B(e)).isInteger()&&(s.c||1!==s.s)||s.lt(R)))throw Error(c+"Argument "+(s.isInteger()?"out of range: ":"not an integer: ")+K(s));if(!g)return new B(this);for(t=new B(R),u=r=new B(R),n=l=new B(R),y=p(g),o=t.e=y.length-this.e-1,t.c[0]=d[(a=o%14)<0?14+a:a],e=!e||s.comparedTo(t)>0?o>0?t:u:s,a=C,C=1/0,s=new B(y),l.c[0]=0;f=w(s,t,0,1),1!=(i=r.plus(f.times(n))).comparedTo(e);)r=n,n=i,u=l.plus(f.times(i=u)),l=i,t=s.minus(f.times(i=t)),s=i;return i=w(e.minus(r),n,0,1),l=l.plus(i.times(u)),r=r.plus(i.times(n)),l.s=u.s=this.s,o*=2,h=1>w(u,n,o,E).minus(this).abs().comparedTo(w(l,r,o,E).minus(this).abs())?[u,n]:[l,r],C=a,h},M.toNumber=function(){return+K(this)},M.toPrecision=function(e,t){return null!=e&&y(e,1,1e9),F(this,e,t,2)},M.toString=function(e){var t,r=this,n=r.s,i=r.e;return null===i?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(null==e?t=i<=I||i>=x?v(p(r.c),i):m(p(r.c),i,"0"):10===e&&k?t=m(p((r=V(new B(r),P+i+1,E)).c),r.e,"0"):(y(e,2,N.length,"Base"),t=S(m(p(r.c),i,"0"),10,e,n,!0)),n<0&&r.c[0]&&(t="-"+t)),t},M.valueOf=M.toJSON=function(){return K(this)},M._isBigNumber=!0,null!=t&&B.set(t),B}()).default=o.BigNumber=o,void 0!==(n=(function(){return o}).call(t,r,t,e))&&(e.exports=n)}(0)},47135:function(e,t,r){"use strict";let n=r(65209).BigNumber;t.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7},t.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36},t.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31},t.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23},t.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")},t.SHIFT32=4294967296,t.SHIFT16=65536,t.MAX_SAFE_HIGH=2097151,t.NEG_ONE=new n(-1),t.TEN=new n(10),t.TWO=new n(2),t.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5}},85487:function(e){e.exports=function(e,t,r){"use asm";var n=new e.Uint8Array(r);var i=t.pushInt;var o=t.pushInt32;var a=t.pushInt32Neg;var s=t.pushInt64;var l=t.pushInt64Neg;var c=t.pushFloat;var u=t.pushFloatSingle;var d=t.pushFloatDouble;var f=t.pushTrue;var p=t.pushFalse;var h=t.pushUndefined;var y=t.pushNull;var g=t.pushInfinity;var v=t.pushInfinityNeg;var m=t.pushNaN;var b=t.pushNaNNeg;var _=t.pushArrayStart;var w=t.pushArrayStartFixed;var S=t.pushArrayStartFixed32;var O=t.pushArrayStartFixed64;var M=t.pushObjectStart;var R=t.pushObjectStartFixed;var P=t.pushObjectStartFixed32;var E=t.pushObjectStartFixed64;var I=t.pushByteString;var x=t.pushByteStringStart;var A=t.pushUtf8String;var C=t.pushUtf8StringStart;var j=t.pushSimpleUnassigned;var T=t.pushTagStart;var $=t.pushTagStart4;var D=t.pushTagStart8;var N=t.pushTagUnassigned;var k=t.pushBreak;var B=e.Math.pow;var F=0;var L=0;var U=0;function V(e){e=e|0;F=0;L=e;while((F|0)<(L|0)){U=ez[n[F]&255](n[F]|0)|0;if((U|0)>0)break}return U|0}function K(e){e=e|0;if(((F|0)+(e|0)|0)<(L|0))return 0;return 1}function W(e){e=e|0;return n[e|0]<<8|n[e+1|0]|0}function J(e){e=e|0;return n[e|0]<<24|n[e+1|0]<<16|n[e+2|0]<<8|n[e+3|0]|0}function H(e){e=e|0;i(e|0);F=F+1|0;return 0}function q(e){e=e|0;if(K(1)|0)return 1;i(n[F+1|0]|0);F=F+2|0;return 0}function Z(e){e=e|0;if(K(2)|0)return 1;i(W(F+1|0)|0);F=F+3|0;return 0}function G(e){e=e|0;if(K(4)|0)return 1;o(W(F+1|0)|0,W(F+3|0)|0);F=F+5|0;return 0}function z(e){e=e|0;if(K(8)|0)return 1;s(W(F+1|0)|0,W(F+3|0)|0,W(F+5|0)|0,W(F+7|0)|0);F=F+9|0;return 0}function Y(e){e=e|0;i(-1-(e-32|0)|0);F=F+1|0;return 0}function X(e){e=e|0;if(K(1)|0)return 1;i(-1-(n[F+1|0]|0)|0);F=F+2|0;return 0}function Q(e){e=e|0;var t=0;if(K(2)|0)return 1;t=W(F+1|0)|0;i(-1-(t|0)|0);F=F+3|0;return 0}function ee(e){e=e|0;if(K(4)|0)return 1;a(W(F+1|0)|0,W(F+3|0)|0);F=F+5|0;return 0}function et(e){e=e|0;if(K(8)|0)return 1;l(W(F+1|0)|0,W(F+3|0)|0,W(F+5|0)|0,W(F+7|0)|0);F=F+9|0;return 0}function er(e){e=e|0;var t=0;var r=0;var n=0;n=e-64|0;if(K(n|0)|0)return 1;t=F+1|0;r=(F+1|0)+(n|0)|0;I(t|0,r|0);F=r|0;return 0}function en(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0)return 1;i=n[F+1|0]|0;t=F+2|0;r=(F+2|0)+(i|0)|0;if(K(i+1|0)|0)return 1;I(t|0,r|0);F=r|0;return 0}function ei(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0)return 1;n=W(F+1|0)|0;t=F+3|0;r=(F+3|0)+(n|0)|0;if(K(n+2|0)|0)return 1;I(t|0,r|0);F=r|0;return 0}function eo(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0)return 1;n=J(F+1|0)|0;t=F+5|0;r=(F+5|0)+(n|0)|0;if(K(n+4|0)|0)return 1;I(t|0,r|0);F=r|0;return 0}function ea(e){e=e|0;return 1}function es(e){e=e|0;x();F=F+1|0;return 0}function el(e){e=e|0;var t=0;var r=0;var n=0;n=e-96|0;if(K(n|0)|0)return 1;t=F+1|0;r=(F+1|0)+(n|0)|0;A(t|0,r|0);F=r|0;return 0}function ec(e){e=e|0;var t=0;var r=0;var i=0;if(K(1)|0)return 1;i=n[F+1|0]|0;t=F+2|0;r=(F+2|0)+(i|0)|0;if(K(i+1|0)|0)return 1;A(t|0,r|0);F=r|0;return 0}function eu(e){e=e|0;var t=0;var r=0;var n=0;if(K(2)|0)return 1;n=W(F+1|0)|0;t=F+3|0;r=(F+3|0)+(n|0)|0;if(K(n+2|0)|0)return 1;A(t|0,r|0);F=r|0;return 0}function ed(e){e=e|0;var t=0;var r=0;var n=0;if(K(4)|0)return 1;n=J(F+1|0)|0;t=F+5|0;r=(F+5|0)+(n|0)|0;if(K(n+4|0)|0)return 1;A(t|0,r|0);F=r|0;return 0}function ef(e){e=e|0;return 1}function ep(e){e=e|0;C();F=F+1|0;return 0}function eh(e){e=e|0;w(e-128|0);F=F+1|0;return 0}function ey(e){e=e|0;if(K(1)|0)return 1;w(n[F+1|0]|0);F=F+2|0;return 0}function eg(e){e=e|0;if(K(2)|0)return 1;w(W(F+1|0)|0);F=F+3|0;return 0}function ev(e){e=e|0;if(K(4)|0)return 1;S(W(F+1|0)|0,W(F+3|0)|0);F=F+5|0;return 0}function em(e){e=e|0;if(K(8)|0)return 1;O(W(F+1|0)|0,W(F+3|0)|0,W(F+5|0)|0,W(F+7|0)|0);F=F+9|0;return 0}function eb(e){e=e|0;_();F=F+1|0;return 0}function e_(e){e=e|0;var t=0;t=e-160|0;if(K(t|0)|0)return 1;R(t|0);F=F+1|0;return 0}function ew(e){e=e|0;if(K(1)|0)return 1;R(n[F+1|0]|0);F=F+2|0;return 0}function eS(e){e=e|0;if(K(2)|0)return 1;R(W(F+1|0)|0);F=F+3|0;return 0}function eO(e){e=e|0;if(K(4)|0)return 1;P(W(F+1|0)|0,W(F+3|0)|0);F=F+5|0;return 0}function eM(e){e=e|0;if(K(8)|0)return 1;E(W(F+1|0)|0,W(F+3|0)|0,W(F+5|0)|0,W(F+7|0)|0);F=F+9|0;return 0}function eR(e){e=e|0;M();F=F+1|0;return 0}function eP(e){e=e|0;T(e-192|0);F=F+1|0;return 0}function eE(e){e=e|0;T(e|0);F=F+1|0;return 0}function eI(e){e=e|0;T(e|0);F=F+1|0;return 0}function ex(e){e=e|0;T(e|0);F=F+1|0;return 0}function eA(e){e=e|0;T(e|0);F=F+1|0;return 0}function eC(e){e=e|0;T(e-192|0);F=F+1|0;return 0}function ej(e){e=e|0;T(e|0);F=F+1|0;return 0}function eT(e){e=e|0;T(e|0);F=F+1|0;return 0}function e$(e){e=e|0;T(e|0);F=F+1|0;return 0}function eD(e){e=e|0;if(K(1)|0)return 1;T(n[F+1|0]|0);F=F+2|0;return 0}function eN(e){e=e|0;if(K(2)|0)return 1;T(W(F+1|0)|0);F=F+3|0;return 0}function ek(e){e=e|0;if(K(4)|0)return 1;$(W(F+1|0)|0,W(F+3|0)|0);F=F+5|0;return 0}function eB(e){e=e|0;if(K(8)|0)return 1;D(W(F+1|0)|0,W(F+3|0)|0,W(F+5|0)|0,W(F+7|0)|0);F=F+9|0;return 0}function eF(e){e=e|0;j((e|0)-224|0);F=F+1|0;return 0}function eL(e){e=e|0;p();F=F+1|0;return 0}function eU(e){e=e|0;f();F=F+1|0;return 0}function eV(e){e=e|0;y();F=F+1|0;return 0}function eK(e){e=e|0;h();F=F+1|0;return 0}function eW(e){e=e|0;if(K(1)|0)return 1;j(n[F+1|0]|0);F=F+2|0;return 0}function eJ(e){e=e|0;var t=0;var r=0;var i=1;var o=0;var a=0;var s=0;if(K(2)|0)return 1;t=n[F+1|0]|0;r=n[F+2|0]|0;if((t|0)&128)i=-1;o=+(((t|0)&124)>>2);a=+(((t|0)&3)<<8|r);if(+o==0)c(+(+i*5960464477539063e-23*+a));else if(+o==31){if(+i==1){if(+a>0)m();else g()}else if(+a>0)b();else v()}else c(+(+i*B(2,+(+o-25))*+(1024+a)));F=F+3|0;return 0}function eH(e){e=e|0;if(K(4)|0)return 1;u(n[F+1|0]|0,n[F+2|0]|0,n[F+3|0]|0,n[F+4|0]|0);F=F+5|0;return 0}function eq(e){e=e|0;if(K(8)|0)return 1;d(n[F+1|0]|0,n[F+2|0]|0,n[F+3|0]|0,n[F+4|0]|0,n[F+5|0]|0,n[F+6|0]|0,n[F+7|0]|0,n[F+8|0]|0);F=F+9|0;return 0}function eZ(e){e=e|0;return 1}function eG(e){e=e|0;k();F=F+1|0;return 0}var ez=[H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,H,q,Z,G,z,eZ,eZ,eZ,eZ,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,Y,X,Q,ee,et,eZ,eZ,eZ,eZ,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,er,en,ei,eo,ea,eZ,eZ,eZ,es,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,el,ec,eu,ed,ef,eZ,eZ,eZ,ep,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,eh,ey,eg,ev,em,eZ,eZ,eZ,eb,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,e_,ew,eS,eO,eM,eZ,eZ,eZ,eR,eP,eP,eP,eP,eP,eP,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eC,eD,eN,ek,eB,eZ,eZ,eZ,eZ,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eL,eU,eV,eK,eW,eJ,eH,eq,eZ,eZ,eZ,eG];return{parse:V}}},9152:function(e,t,r){"use strict";let{Buffer:n}=r(67133),i=r(19087),o=r(65209).BigNumber,a=r(85487),s=r(70881),l=r(47135),c=r(79729),u=r(22066),{URL}=r(92543);class d{constructor(e){!(e=e||{}).size||e.size<65536?e.size=65536:e.size=s.nextPowerOf2(e.size),this._heap=new ArrayBuffer(e.size),this._heap8=new Uint8Array(this._heap),this._buffer=n.from(this._heap),this._reset(),this._knownTags=Object.assign({0:e=>new Date(e),1:e=>new Date(1e3*e),2:e=>s.arrayBufferToBignumber(e),3:e=>l.NEG_ONE.minus(s.arrayBufferToBignumber(e)),4:e=>l.TEN.pow(e[0]).times(e[1]),5:e=>l.TWO.pow(e[0]).times(e[1]),32:e=>new URL(e),35:e=>new RegExp(e)},e.tags),this.parser=a(r.g,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){let e=this._parents.pop();if(e.length>0)throw Error(`Missing ${e.length} elements`);switch(e.type){case l.PARENT.TAG:this._push(this.createTag(e.ref[0],e.ref[1]));break;case l.PARENT.BYTE_STRING:this._push(this.createByteString(e.ref,e.length));break;case l.PARENT.UTF8_STRING:this._push(this.createUtf8String(e.ref,e.length));break;case l.PARENT.MAP:if(e.values%2>0)throw Error("Odd number of elements in the map");this._push(this.createMap(e.ref,e.length));break;case l.PARENT.OBJECT:if(e.values%2>0)throw Error("Odd number of elements in the map");this._push(this.createObject(e.ref,e.length));break;case l.PARENT.ARRAY:this._push(this.createArray(e.ref,e.length))}this._currentParent&&this._currentParent.type===l.PARENT.TAG&&this._dec()}_dec(){let e=this._currentParent;e.length<0||(e.length--,0===e.length&&this._closeParent())}_push(e,t){let r=this._currentParent;switch(r.values++,r.type){case l.PARENT.ARRAY:case l.PARENT.BYTE_STRING:case l.PARENT.UTF8_STRING:r.length>-1?this._ref[this._ref.length-r.length]=e:this._ref.push(e),this._dec();break;case l.PARENT.OBJECT:null!=r.tmpKey?(this._ref[r.tmpKey]=e,r.tmpKey=null,this._dec()):(r.tmpKey=e,"string"!=typeof r.tmpKey&&(r.type=l.PARENT.MAP,r.ref=s.buildMap(r.ref)));break;case l.PARENT.MAP:null!=r.tmpKey?(this._ref.set(r.tmpKey,e),r.tmpKey=null,this._dec()):r.tmpKey=e;break;case l.PARENT.TAG:this._ref.push(e),t||this._dec();break;default:throw Error("Unknown parent type")}}_createParent(e,t,r){this._parents[this._depth]={type:t,length:r,ref:e,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:l.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(e,t){let r=this._knownTags[e];return r?r(t):new u(e,t)}createMap(e,t){return e}createObject(e,t){return e}createArray(e,t){return e}createByteString(e,t){return n.concat(e)}createByteStringFromHeap(e,t){return e===t?n.alloc(0):n.from(this._heap.slice(e,t))}createInt(e){return e}createInt32(e,t){return s.buildInt32(e,t)}createInt64(e,t,r,n){return s.buildInt64(e,t,r,n)}createFloat(e){return e}createFloatSingle(e,t,r,n){return i.read([e,t,r,n],0,!1,23,4)}createFloatDouble(e,t,r,n,o,a,s,l){return i.read([e,t,r,n,o,a,s,l],0,!1,52,8)}createInt32Neg(e,t){return -1-s.buildInt32(e,t)}createInt64Neg(e,t,r,n){let i=s.buildInt32(e,t),a=s.buildInt32(r,n);return i>l.MAX_SAFE_HIGH?l.NEG_ONE.minus(new o(i).times(l.SHIFT32).plus(a)):-1-(i*l.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(e,t){return e.join("")}createUtf8StringFromHeap(e,t){return e===t?"":this._buffer.toString("utf8",e,t)}createSimpleUnassigned(e){return new c(e)}pushInt(e){this._push(this.createInt(e))}pushInt32(e,t){this._push(this.createInt32(e,t))}pushInt64(e,t,r,n){this._push(this.createInt64(e,t,r,n))}pushFloat(e){this._push(this.createFloat(e))}pushFloatSingle(e,t,r,n){this._push(this.createFloatSingle(e,t,r,n))}pushFloatDouble(e,t,r,n,i,o,a,s){this._push(this.createFloatDouble(e,t,r,n,i,o,a,s))}pushInt32Neg(e,t){this._push(this.createInt32Neg(e,t))}pushInt64Neg(e,t,r,n){this._push(this.createInt64Neg(e,t,r,n))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],l.PARENT.ARRAY,-1)}pushArrayStartFixed(e){this._createArrayStartFixed(e)}pushArrayStartFixed32(e,t){let r=s.buildInt32(e,t);this._createArrayStartFixed(r)}pushArrayStartFixed64(e,t,r,n){let i=s.buildInt64(e,t,r,n);this._createArrayStartFixed(i)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(e){this._createObjectStartFixed(e)}pushObjectStartFixed32(e,t){let r=s.buildInt32(e,t);this._createObjectStartFixed(r)}pushObjectStartFixed64(e,t,r,n){let i=s.buildInt64(e,t,r,n);this._createObjectStartFixed(i)}pushByteStringStart(){this._parents[this._depth]={type:l.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(e,t){this._push(this.createByteStringFromHeap(e,t))}pushUtf8StringStart(){this._parents[this._depth]={type:l.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(e,t){this._push(this.createUtf8StringFromHeap(e,t))}pushSimpleUnassigned(e){this._push(this.createSimpleUnassigned(e))}pushTagStart(e){this._parents[this._depth]={type:l.PARENT.TAG,length:1,ref:[e]}}pushTagStart4(e,t){this.pushTagStart(s.buildInt32(e,t))}pushTagStart8(e,t,r,n){this.pushTagStart(s.buildInt64(e,t,r,n))}pushTagUnassigned(e){this._push(this.createTag(e))}pushBreak(){if(this._currentParent.length>-1)throw Error("Unexpected break");this._closeParent()}_createObjectStartFixed(e){if(0===e){this._push(this.createObject({}));return}this._createParent({},l.PARENT.OBJECT,e)}_createArrayStartFixed(e){if(0===e){this._push(this.createArray([]));return}this._createParent(Array(e),l.PARENT.ARRAY,e)}_decode(e){if(0===e.byteLength)throw Error("Input too short");this._reset(),this._heap8.set(e);let t=this.parser.parse(e.byteLength);if(this._depth>1){for(;0===this._currentParent.length;)this._closeParent();if(this._depth>1)throw Error("Undeterminated nesting")}if(t>0)throw Error("Failed to parse");if(0===this._res.length)throw Error("No valid result")}decodeFirst(e){return this._decode(e),this._res[0]}decodeAll(e){return this._decode(e),this._res}static decode(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));let r=new d({size:e.length});return r.decodeFirst(e)}static decodeAll(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));let r=new d({size:e.length});return r.decodeAll(e)}}d.decodeFirst=d.decode,e.exports=d},43225:function(e,t,r){"use strict";let{Buffer:n}=r(67133),i=r(9152),o=r(70881);class a extends i{createTag(e,t){return`${e}(${t})`}createInt(e){return super.createInt(e).toString()}createInt32(e,t){return super.createInt32(e,t).toString()}createInt64(e,t,r,n){return super.createInt64(e,t,r,n).toString()}createInt32Neg(e,t){return super.createInt32Neg(e,t).toString()}createInt64Neg(e,t,r,n){return super.createInt64Neg(e,t,r,n).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(e){let t=super.createFloat(e);return o.isNegativeZero(e)?"-0_1":`${t}_1`}createFloatSingle(e,t,r,n){let i=super.createFloatSingle(e,t,r,n);return`${i}_2`}createFloatDouble(e,t,r,n,i,o,a,s){let l=super.createFloatDouble(e,t,r,n,i,o,a,s);return`${l}_3`}createByteString(e,t){let r=e.join(", ");return -1===t?`(_ ${r})`:`h'${r}`}createByteStringFromHeap(e,t){let r=n.from(super.createByteStringFromHeap(e,t)).toString("hex");return`h'${r}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(e){return`simple(${e})`}createArray(e,t){let r=super.createArray(e,t);return -1===t?`[_ ${r.join(", ")}]`:`[${r.join(", ")}]`}createMap(e,t){let r=super.createMap(e),n=Array.from(r.keys()).reduce(s(r),"");return -1===t?`{_ ${n}}`:`{${n}}`}createObject(e,t){let r=super.createObject(e),n=Object.keys(r).reduce(s(r),"");return -1===t?`{_ ${n}}`:`{${n}}`}createUtf8String(e,t){let r=e.join(", ");return -1===t?`(_ ${r})`:`"${r}"`}createUtf8StringFromHeap(e,t){let r=n.from(super.createUtf8StringFromHeap(e,t)).toString("utf8");return`"${r}"`}static diagnose(e,t){"string"==typeof e&&(e=n.from(e,t||"hex"));let r=new a;return r.decodeFirst(e)}}function s(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}e.exports=a},67552:function(e,t,r){"use strict";let{Buffer:n}=r(67133),{URL}=r(92543),i=r(65209).BigNumber,o=r(70881),a=r(47135),s=a.MT,l=a.NUMBYTES,c=a.SHIFT32,u=a.SYMS,d=a.TAG,f=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.TWO,p=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.FOUR,h=a.MT.SIMPLE_FLOAT<<5|a.NUMBYTES.EIGHT,y=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.TRUE,g=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.FALSE,v=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.UNDEFINED,m=a.MT.SIMPLE_FLOAT<<5|a.SIMPLE.NULL,b=new i("0x20000000000000"),_=n.from("f97e00","hex"),w=n.from("f9fc00","hex"),S=n.from("f97c00","hex");class O{constructor(e){e=e||{},this.streaming="function"==typeof e.stream,this.onData=e.stream,this.semanticTypes=[[URL,this._pushUrl],[i,this._pushBigNumber]];let t=e.genTypes||[],r=t.length;for(let e=0;e<r;e++)this.addSemanticType(t[e][0],t[e][1]);this._reset()}addSemanticType(e,t){let r=this.semanticTypes.length;for(let n=0;n<r;n++){let r=this.semanticTypes[n][0];if(r===e){let e=this.semanticTypes[n][1];return this.semanticTypes[n][1]=t,e}}return this.semanticTypes.push([e,t]),null}push(e){return!e||(this.result[this.offset]=e,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=e.length,this.offset++,this.streaming&&this.onData(this.finalize()),!0)}pushWrite(e,t,r){return this.result[this.offset]=e,this.resultMethod[this.offset]=t,this.resultLength[this.offset]=r,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(e){return this.pushWrite(e,1,1)}_pushUInt16BE(e){return this.pushWrite(e,2,2)}_pushUInt32BE(e){return this.pushWrite(e,3,4)}_pushDoubleBE(e){return this.pushWrite(e,4,8)}_pushNaN(){return this.push(_)}_pushInfinity(e){return this.push(e<0?w:S)}_pushFloat(e){let t=n.allocUnsafe(2);if(o.writeHalf(t,e)&&o.parseHalf(t)===e)return this._pushUInt8(f)&&this.push(t);let r=n.allocUnsafe(4);return(r.writeFloatBE(e,0),r.readFloatBE(0)===e)?this._pushUInt8(p)&&this.push(r):this._pushUInt8(h)&&this._pushDoubleBE(e)}_pushInt(e,t,r){let n=t<<5;return e<24?this._pushUInt8(n|e):e<=255?this._pushUInt8(n|l.ONE)&&this._pushUInt8(e):e<=65535?this._pushUInt8(n|l.TWO)&&this._pushUInt16BE(e):e<=4294967295?this._pushUInt8(n|l.FOUR)&&this._pushUInt32BE(e):e<=Number.MAX_SAFE_INTEGER?this._pushUInt8(n|l.EIGHT)&&this._pushUInt32BE(Math.floor(e/c))&&this._pushUInt32BE(e%c):t===s.NEG_INT?this._pushFloat(r):this._pushFloat(e)}_pushIntNum(e){return e<0?this._pushInt(-e-1,s.NEG_INT,e):this._pushInt(e,s.POS_INT)}_pushNumber(e){switch(!1){case e==e:return this._pushNaN(e);case isFinite(e):return this._pushInfinity(e);case e%1!=0:return this._pushIntNum(e);default:return this._pushFloat(e)}}_pushString(e){let t=n.byteLength(e,"utf8");return this._pushInt(t,s.UTF8_STRING)&&this.pushWrite(e,5,t)}_pushBoolean(e){return this._pushUInt8(e?y:g)}_pushUndefined(e){return this._pushUInt8(v)}_pushArray(e,t){let r=t.length;if(!e._pushInt(r,s.ARRAY))return!1;for(let n=0;n<r;n++)if(!e.pushAny(t[n]))return!1;return!0}_pushTag(e){return this._pushInt(e,s.TAG)}_pushDate(e,t){return e._pushTag(d.DATE_EPOCH)&&e.pushAny(Math.round(t/1e3))}_pushBuffer(e,t){return e._pushInt(t.length,s.BYTE_STRING)&&e.push(t)}_pushNoFilter(e,t){return e._pushBuffer(e,t.slice())}_pushRegexp(e,t){return e._pushTag(d.REGEXP)&&e.pushAny(t.source)}_pushSet(e,t){if(!e._pushInt(t.size,s.ARRAY))return!1;for(let r of t)if(!e.pushAny(r))return!1;return!0}_pushUrl(e,t){return e._pushTag(d.URI)&&e.pushAny(t.format())}_pushBigint(e){let t=d.POS_BIGINT;e.isNegative()&&(e=e.negated().minus(1),t=d.NEG_BIGINT);let r=e.toString(16);r.length%2&&(r="0"+r);let i=n.from(r,"hex");return this._pushTag(t)&&this._pushBuffer(this,i)}_pushBigNumber(e,t){if(t.isNaN())return e._pushNaN();if(!t.isFinite())return e._pushInfinity(t.isNegative()?-1/0:1/0);if(t.isInteger())return e._pushBigint(t);if(!(e._pushTag(d.DECIMAL_FRAC)&&e._pushInt(2,s.ARRAY)))return!1;let r=t.decimalPlaces(),n=t.multipliedBy(new i(10).pow(r));return!!e._pushIntNum(-r)&&(n.abs().isLessThan(b)?e._pushIntNum(n.toNumber()):e._pushBigint(n))}_pushMap(e,t){return!!e._pushInt(t.size,s.MAP)&&this._pushRawMap(t.size,Array.from(t))}_pushObject(e){if(!e)return this._pushUInt8(m);let t=this.semanticTypes.length;for(let r=0;r<t;r++)if(e instanceof this.semanticTypes[r][0])return this.semanticTypes[r][1].call(e,this,e);let r=e.encodeCBOR;if("function"==typeof r)return r.call(e,this);let n=Object.keys(e),i=n.length;return!!this._pushInt(i,s.MAP)&&this._pushRawMap(i,n.map(t=>[t,e[t]]))}_pushRawMap(e,t){t=t.map(function(e){return e[0]=O.encode(e[0]),e}).sort(o.keySorter);for(let r=0;r<e;r++)if(!this.push(t[r][0])||!this.pushAny(t[r][1]))return!1;return!0}write(e){return this.pushAny(e)}pushAny(e){let t=({}).toString.call(e).slice(8,-1);switch(t){case"Number":return this._pushNumber(e);case"String":return this._pushString(e);case"Boolean":return this._pushBoolean(e);case"Object":return this._pushObject(e);case"Array":return this._pushArray(this,e);case"Uint8Array":return this._pushBuffer(this,n.isBuffer(e)?e:n.from(e));case"Null":return this._pushUInt8(m);case"Undefined":return this._pushUndefined(e);case"Map":return this._pushMap(this,e);case"Set":return this._pushSet(this,e);case"URL":return this._pushUrl(this,e);case"BigNumber":return this._pushBigNumber(this,e);case"Date":return this._pushDate(this,e);case"RegExp":return this._pushRegexp(this,e);case"Symbol":switch(e){case u.NULL:return this._pushObject(null);case u.UNDEFINED:return this._pushUndefined(void 0);default:throw Error("Unknown symbol: "+e.toString())}default:throw Error("Unknown type: "+typeof e+", "+(e?e.toString():""))}}finalize(){if(0===this.offset)return null;let e=this.result,t=this.resultLength,r=this.resultMethod,i=this.offset,o=0,a=0;for(;a<i;a++)o+=t[a];let s=n.allocUnsafe(o),l=0,c=0;for(a=0;a<i;a++){switch(c=t[a],r[a]){case 0:e[a].copy(s,l);break;case 1:s.writeUInt8(e[a],l,!0);break;case 2:s.writeUInt16BE(e[a],l,!0);break;case 3:s.writeUInt32BE(e[a],l,!0);break;case 4:s.writeDoubleBE(e[a],l,!0);break;case 5:s.write(e[a],l,c,"utf8");break;default:throw Error("unkown method")}l+=c}return this._reset(),s}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(e){let t=new O,r=t.pushAny(e);if(!r)throw Error("Failed to encode input");return t.finalize()}}e.exports=O},8849:function(e,t,r){"use strict";t.Diagnose=r(43225),t.Decoder=r(9152),t.Encoder=r(67552),t.Simple=r(79729),t.Tagged=r(22066),t.decodeAll=t.Decoder.decodeAll,t.decodeFirst=t.Decoder.decodeFirst,t.diagnose=t.Diagnose.diagnose,t.encode=t.Encoder.encode,t.decode=t.Decoder.decode,t.leveldb={decode:t.Decoder.decodeAll,encode:t.Encoder.encode,buffer:!0,name:"cbor"}},79729:function(e,t,r){"use strict";let n=r(47135),i=n.MT,o=n.SIMPLE,a=n.SYMS;class s{constructor(e){if("number"!=typeof e)throw Error("Invalid Simple type: "+typeof e);if(e<0||e>255||(0|e)!==e)throw Error("value must be a small positive integer: "+e);this.value=e}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(e){return e._pushInt(this.value,i.SIMPLE_FLOAT)}static isSimple(e){return e instanceof s}static decode(e,t){switch(null==t&&(t=!0),e){case o.FALSE:return!1;case o.TRUE:return!0;case o.NULL:if(t)return null;return a.NULL;case o.UNDEFINED:if(t)return;return a.UNDEFINED;case -1:if(!t)throw Error("Invalid BREAK");return a.BREAK;default:return new s(e)}}}e.exports=s},22066:function(e){"use strict";class t{constructor(e,t,r){if(this.tag=e,this.value=t,this.err=r,"number"!=typeof this.tag)throw Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(0|this.tag)!==this.tag)throw Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(e){return e._pushTag(this.tag),e.pushAny(this.value)}convert(e){let r;if("function"!=typeof(r=null!=e?e[this.tag]:void 0)&&"function"!=typeof(r=t["_tag"+this.tag]))return this;try{return r.call(t,this.value)}catch(e){return this.err=e,this}}}e.exports=t},70881:function(e,t,r){"use strict";let{Buffer:n}=r(67133),i=r(65209).BigNumber,o=r(47135),a=o.SHIFT32,s=o.SHIFT16;t.parseHalf=function(e){let t=128&e[0]?-1:1,r=(124&e[0])>>2,n=(3&e[0])<<8|e[1];return r?31===r?t*(n?0/0:Infinity):t*Math.pow(2,r-25)*(1024+n):5960464477539063e-23*t*n},t.arrayBufferToBignumber=function(e){let t=e.byteLength,r="";for(let i=0;i<t;i++){var n;r+=(n=e[i])<16?"0"+n.toString(16):n.toString(16)}return new i(r,16)},t.buildMap=e=>{let t=new Map,r=Object.keys(e),n=r.length;for(let i=0;i<n;i++)t.set(r[i],e[r[i]]);return t},t.buildInt32=(e,t)=>e*s+t,t.buildInt64=(e,r,n,o)=>{let s=t.buildInt32(e,r),l=t.buildInt32(n,o);return s>2097151?new i(s).times(a).plus(l):s*a+l},t.writeHalf=function(e,t){let r=n.allocUnsafe(4);r.writeFloatBE(t,0);let i=r.readUInt32BE(0);if((8191&i)!=0)return!1;let o=i>>16&32768,a=i>>23&255,s=8388607&i;if(a>=113&&a<=142)o+=(a-112<<10)+(s>>13);else{if(!(a>=103)||!(a<113)||s&(1<<126-a)-1)return!1;o+=s+8388608>>126-a}return e.writeUInt16BE(o,0),!0},t.keySorter=function(e,t){let r=e[0].byteLength,n=t[0].byteLength;return r>n?1:n>r?-1:e[0].compare(t[0])},t.isNegativeZero=e=>0===e&&1/e<0,t.nextPowerOf2=e=>{let t=0;if(e&&!(e&e-1))return e;for(;0!==e;)e>>=1,t+=1;return 1<<t}},67133:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */let n=r(34699),i=r(19087),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|h(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(k(e,Uint8Array)){let t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(k(e,ArrayBuffer)||e&&k(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(k(e,SharedArrayBuffer)||e&&k(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);let i=function(e){var t;if(s.isBuffer(e)){let t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?a(0):d(e):"Buffer"===e.type&&Array.isArray(e.data)?d(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return c(e),a(e<0?0:0|p(e))}function d(e){let t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function p(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function h(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||k(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return D(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=B[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":var o,a;return o=t,a=r,0===o&&a===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function g(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(o=r=+r)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:m(e,t,r,n,i);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):m(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function m(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}function b(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(o=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function _(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function w(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i){A(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function O(e,t,r,n,i){A(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function M(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function R(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function P(e,t,r,n,o){return t=+t,r>>>=0,o||M(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(c(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(k(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),k(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(k(t,Uint8Array))i+t.length>n.length?(s.isBuffer(t)||(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=h,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):y.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(k(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,l=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){var i,o,a,s,l,c,u,d;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let f=this.length-t;if((void 0===r||r>f)&&(r=f),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let p=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(n!=n)break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,N($(e,this.length-i),this,i,o);case"ascii":case"latin1":case"binary":return a=t,s=r,N(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return l=t,c=r,N(D(e),this,l,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=t,d=r,N(function(e,t){let r,n;let i=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-u),this,u,d);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=F(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&j(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=F(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&j(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||_(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||_(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=F(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&j(e,this.length-8);let n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),s.prototype.readBigInt64BE=F(function(e){C(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&j(e,this.length-8);let n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;w(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=F(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=F(function(e,t=0){return O(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);w(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||w(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=F(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=F(function(e,t=0){return O(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return P(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return P(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let E={};function I(e,t,r){E[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function x(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function A(e,t,r,n,i,o){if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new E.ERR_OUT_OF_RANGE("value",n,e)}C(i,"offset"),(void 0===n[i]||void 0===n[i+o])&&j(i,n.length-(o+1))}function C(e,t){if("number"!=typeof e)throw new E.ERR_INVALID_ARG_TYPE(t,"number",e)}function j(e,t,r){if(Math.floor(e)!==e)throw C(e,r),new E.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new E.ERR_BUFFER_OUT_OF_BOUNDS;throw new E.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}I("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),I("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),I("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=x(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=x(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);let T=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function D(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(T,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function N(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function k(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}let B=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function F(e){return"undefined"==typeof BigInt?L:e}function L(){throw Error("BigInt not supported")}},75765:function(e){"use strict";e.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,r,n)=>t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r),"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;let o=0===r.length?"":",";return r+o+e(n)+":"+e(t[n])},"")+"}"}},5902:function(e,t,r){"use strict";r.r(t),r.d(t,{ClassTransformer:function(){return d},Exclude:function(){return f},Expose:function(){return p},Transform:function(){return v},TransformInstanceToInstance:function(){return h},TransformInstanceToPlain:function(){return y},TransformPlainToInstance:function(){return g},TransformationType:function(){return i},Type:function(){return m},classToClassFromExist:function(){return E},classToPlain:function(){return _},classToPlainFromExist:function(){return S},deserialize:function(){return x},deserializeArray:function(){return A},instanceToInstance:function(){return P},instanceToPlain:function(){return w},plainToClass:function(){return O},plainToClassFromExist:function(){return R},plainToInstance:function(){return M},serialize:function(){return I}}),(n=i||(i={}))[n.PLAIN_TO_CLASS=0]="PLAIN_TO_CLASS",n[n.CLASS_TO_PLAIN=1]="CLASS_TO_PLAIN",n[n.CLASS_TO_CLASS=2]="CLASS_TO_CLASS";var n,i,o=new(function(){function e(){this._typeMetadatas=new Map,this._transformMetadatas=new Map,this._exposeMetadatas=new Map,this._excludeMetadatas=new Map,this._ancestorsMap=new Map}return e.prototype.addTypeMetadata=function(e){this._typeMetadatas.has(e.target)||this._typeMetadatas.set(e.target,new Map),this._typeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addTransformMetadata=function(e){this._transformMetadatas.has(e.target)||this._transformMetadatas.set(e.target,new Map),this._transformMetadatas.get(e.target).has(e.propertyName)||this._transformMetadatas.get(e.target).set(e.propertyName,[]),this._transformMetadatas.get(e.target).get(e.propertyName).push(e)},e.prototype.addExposeMetadata=function(e){this._exposeMetadatas.has(e.target)||this._exposeMetadatas.set(e.target,new Map),this._exposeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.addExcludeMetadata=function(e){this._excludeMetadatas.has(e.target)||this._excludeMetadatas.set(e.target,new Map),this._excludeMetadatas.get(e.target).set(e.propertyName,e)},e.prototype.findTransformMetadatas=function(e,t,r){return this.findMetadatas(this._transformMetadatas,e,t).filter(function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?r===i.CLASS_TO_CLASS||r===i.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||r===i.CLASS_TO_PLAIN)})},e.prototype.findExcludeMetadata=function(e,t){return this.findMetadata(this._excludeMetadatas,e,t)},e.prototype.findExposeMetadata=function(e,t){return this.findMetadata(this._exposeMetadatas,e,t)},e.prototype.findExposeMetadataByCustomName=function(e,t){return this.getExposedMetadatas(e).find(function(e){return e.options&&e.options.name===t})},e.prototype.findTypeMetadata=function(e,t){return this.findMetadata(this._typeMetadatas,e,t)},e.prototype.getStrategy=function(e){var t=this._excludeMetadatas.get(e),r=t&&t.get(void 0),n=this._exposeMetadatas.get(e),i=n&&n.get(void 0);return r&&i||!r&&!i?"none":r?"excludeAll":"exposeAll"},e.prototype.getExposedMetadatas=function(e){return this.getMetadata(this._exposeMetadatas,e)},e.prototype.getExcludedMetadatas=function(e){return this.getMetadata(this._excludeMetadatas,e)},e.prototype.getExposedProperties=function(e,t){return this.getExposedMetadatas(e).filter(function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===i.CLASS_TO_CLASS||t===i.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===i.CLASS_TO_PLAIN)}).map(function(e){return e.propertyName})},e.prototype.getExcludedProperties=function(e,t){return this.getExcludedMetadatas(e).filter(function(e){return!e.options||!0===e.options.toClassOnly&&!0===e.options.toPlainOnly||(!0===e.options.toClassOnly?t===i.CLASS_TO_CLASS||t===i.PLAIN_TO_CLASS:!0!==e.options.toPlainOnly||t===i.CLASS_TO_PLAIN)}).map(function(e){return e.propertyName})},e.prototype.clear=function(){this._typeMetadatas.clear(),this._exposeMetadatas.clear(),this._excludeMetadatas.clear(),this._ancestorsMap.clear()},e.prototype.getMetadata=function(e,t){var r,n=e.get(t);n&&(r=Array.from(n.values()).filter(function(e){return void 0!==e.propertyName}));for(var i=[],o=0,a=this.getAncestors(t);o<a.length;o++){var s=a[o],l=e.get(s);if(l){var c=Array.from(l.values()).filter(function(e){return void 0!==e.propertyName});i.push.apply(i,c)}}return i.concat(r||[])},e.prototype.findMetadata=function(e,t,r){var n=e.get(t);if(n){var i=n.get(r);if(i)return i}for(var o=0,a=this.getAncestors(t);o<a.length;o++){var s=a[o],l=e.get(s);if(l){var c=l.get(r);if(c)return c}}},e.prototype.findMetadatas=function(e,t,r){var n,i=e.get(t);i&&(n=i.get(r));for(var o=[],a=0,s=this.getAncestors(t);a<s.length;a++){var l=s[a],c=e.get(l);c&&c.has(r)&&o.push.apply(o,c.get(r))}return o.slice().reverse().concat((n||[]).slice().reverse())},e.prototype.getAncestors=function(e){if(!e)return[];if(!this._ancestorsMap.has(e)){for(var t=[],r=Object.getPrototypeOf(e.prototype.constructor);void 0!==r.prototype;r=Object.getPrototypeOf(r.prototype.constructor))t.push(r);this._ancestorsMap.set(e,t)}return this._ancestorsMap.get(e)},e}()),a=r(67133).Buffer,s=function(e,t,r){if(r||2==arguments.length)for(var n,i=0,o=t.length;i<o;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))},l=function(){function e(e,t){this.transformationType=e,this.options=t,this.recursionStack=new Set}return e.prototype.transform=function(e,t,n,s,l,c){var u=this;if(void 0===c&&(c=0),Array.isArray(t)||t instanceof Set){var d,f=s&&this.transformationType===i.PLAIN_TO_CLASS&&((d=new s)instanceof Set||"push"in d)?d:[];return t.forEach(function(t,r){var o=e?e[r]:void 0;if(u.options.enableCircularCheck&&u.isCircular(t))u.transformationType===i.CLASS_TO_CLASS&&(f instanceof Set?f.add(t):f.push(t));else{var a=void 0;if("function"!=typeof n&&n&&n.options&&n.options.discriminator&&n.options.discriminator.property&&n.options.discriminator.subTypes){if(u.transformationType===i.PLAIN_TO_CLASS){a=n.options.discriminator.subTypes.find(function(e){return e.name===t[n.options.discriminator.property]});var s=n.typeFunction({newObject:f,object:t,property:void 0});a=void 0===a?s:a.value,n.options.keepDiscriminatorProperty||delete t[n.options.discriminator.property]}u.transformationType===i.CLASS_TO_CLASS&&(a=t.constructor),u.transformationType===i.CLASS_TO_PLAIN&&(t[n.options.discriminator.property]=n.options.discriminator.subTypes.find(function(e){return e.value===t.constructor}).name)}else a=n;var l=u.transform(o,t,a,void 0,t instanceof Map,c+1);f instanceof Set?f.add(l):f.push(l)}}),f}if(n!==String||l){if(n===Number&&!l)return null==t?t:Number(t);if(n===Boolean&&!l)return null==t?t:!!t;if((n===Date||t instanceof Date)&&!l)return t instanceof Date?new Date(t.valueOf()):null==t?t:new Date(t);if(("undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0).Buffer&&(n===a||t instanceof a)&&!l)return null==t?t:a.from(t);if(null!==t&&"object"==typeof t&&"function"==typeof t.then&&!l)return new Promise(function(e,r){t.then(function(t){return e(u.transform(void 0,t,n,void 0,void 0,c+1))},r)});if(!l&&null!==t&&"object"==typeof t&&"function"==typeof t.then||"object"!=typeof t||null===t)return t;!n&&t.constructor!==Object&&(Array.isArray(t)||t.constructor!==Array)&&(n=t.constructor),!n&&e&&(n=e.constructor),this.options.enableCircularCheck&&this.recursionStack.add(t);var p=this.getKeys(n,t,l),h=e||{};e||this.transformationType!==i.PLAIN_TO_CLASS&&this.transformationType!==i.CLASS_TO_CLASS||(h=l?new Map:n?new n:{});for(var y=this,g=0;g<p.length;g++)!function(r){if("__proto__"!==r&&"constructor"!==r){var a=r,s=r;if(!y.options.ignoreDecorators&&n){if(y.transformationType===i.PLAIN_TO_CLASS){var u=o.findExposeMetadataByCustomName(n,r);u&&(s=u.propertyName,a=u.propertyName)}else if(y.transformationType===i.CLASS_TO_PLAIN||y.transformationType===i.CLASS_TO_CLASS){var u=o.findExposeMetadata(n,r);u&&u.options&&u.options.name&&(a=u.options.name)}}var d=void 0;d=y.transformationType===i.PLAIN_TO_CLASS?t[r]:t instanceof Map?t.get(r):t[r]instanceof Function?t[r]():t[r];var f=void 0,p=d instanceof Map;if(n&&l)f=n;else if(n){var g=o.findTypeMetadata(n,s);if(g){var v={newObject:h,object:t,property:s},m=g.typeFunction?g.typeFunction(v):g.reflectedType;g.options&&g.options.discriminator&&g.options.discriminator.property&&g.options.discriminator.subTypes?t[r]instanceof Array?f=g:(y.transformationType===i.PLAIN_TO_CLASS&&(f=void 0===(f=g.options.discriminator.subTypes.find(function(e){if(d&&d instanceof Object&&g.options.discriminator.property in d)return e.name===d[g.options.discriminator.property]}))?m:f.value,!g.options.keepDiscriminatorProperty&&d&&d instanceof Object&&g.options.discriminator.property in d&&delete d[g.options.discriminator.property]),y.transformationType===i.CLASS_TO_CLASS&&(f=d.constructor),y.transformationType===i.CLASS_TO_PLAIN&&d&&(d[g.options.discriminator.property]=g.options.discriminator.subTypes.find(function(e){return e.value===d.constructor}).name)):f=m,p=p||g.reflectedType===Map}else if(y.options.targetMaps)y.options.targetMaps.filter(function(e){return e.target===n&&!!e.properties[s]}).forEach(function(e){return f=e.properties[s]});else if(y.options.enableImplicitConversion&&y.transformationType===i.PLAIN_TO_CLASS){var b=Reflect.getMetadata("design:type",n.prototype,s);b&&(f=b)}}var _=Array.isArray(t[r])?y.getReflectedType(n,s):void 0,w=e?e[r]:void 0;if(h.constructor.prototype){var S=Object.getOwnPropertyDescriptor(h.constructor.prototype,a);if((y.transformationType===i.PLAIN_TO_CLASS||y.transformationType===i.CLASS_TO_CLASS)&&(S&&!S.set||h[a]instanceof Function))return}if(y.options.enableCircularCheck&&y.isCircular(d)){if(y.transformationType===i.CLASS_TO_CLASS){var O=d;(void 0!==(O=y.applyCustomTransformations(O,n,r,t,y.transformationType))||y.options.exposeUnsetFields)&&(h instanceof Map?h.set(a,O):h[a]=O)}}else{var M=y.transformationType===i.PLAIN_TO_CLASS?a:r,O=void 0;y.transformationType===i.CLASS_TO_PLAIN?(O=t[M],O=y.applyCustomTransformations(O,n,M,t,y.transformationType),O=t[M]===O?d:O,O=y.transform(w,O,f,_,p,c+1)):void 0===d&&y.options.exposeDefaultValues?O=h[a]:(O=y.transform(w,d,f,_,p,c+1),O=y.applyCustomTransformations(O,n,M,t,y.transformationType)),(void 0!==O||y.options.exposeUnsetFields)&&(h instanceof Map?h.set(a,O):h[a]=O)}}}(p[g]);return this.options.enableCircularCheck&&this.recursionStack.delete(t),h}return null==t?t:String(t)},e.prototype.applyCustomTransformations=function(e,t,r,n,i){var a=this,s=o.findTransformMetadatas(t,r,this.transformationType);return void 0!==this.options.version&&(s=s.filter(function(e){return!e.options||a.checkVersion(e.options.since,e.options.until)})),(s=this.options.groups&&this.options.groups.length?s.filter(function(e){return!e.options||a.checkGroups(e.options.groups)}):s.filter(function(e){return!e.options||!e.options.groups||!e.options.groups.length})).forEach(function(t){e=t.transformFn({value:e,key:r,obj:n,type:i,options:a.options})}),e},e.prototype.isCircular=function(e){return this.recursionStack.has(e)},e.prototype.getReflectedType=function(e,t){if(e){var r=o.findTypeMetadata(e,t);return r?r.reflectedType:void 0}},e.prototype.getKeys=function(e,t,r){var n=this,a=o.getStrategy(e);"none"===a&&(a=this.options.strategy||"exposeAll");var l=[];if(("exposeAll"===a||r)&&(l=t instanceof Map?Array.from(t.keys()):Object.keys(t)),r)return l;if(this.options.ignoreDecorators&&this.options.excludeExtraneousValues&&e){var c=o.getExposedProperties(e,this.transformationType),u=o.getExcludedProperties(e,this.transformationType);l=s(s([],c,!0),u,!0)}if(!this.options.ignoreDecorators&&e){var c=o.getExposedProperties(e,this.transformationType);this.transformationType===i.PLAIN_TO_CLASS&&(c=c.map(function(t){var r=o.findExposeMetadata(e,t);return r&&r.options&&r.options.name?r.options.name:t})),l=this.options.excludeExtraneousValues?c:l.concat(c);var d=o.getExcludedProperties(e,this.transformationType);d.length>0&&(l=l.filter(function(e){return!d.includes(e)})),void 0!==this.options.version&&(l=l.filter(function(t){var r=o.findExposeMetadata(e,t);return!r||!r.options||n.checkVersion(r.options.since,r.options.until)})),l=this.options.groups&&this.options.groups.length?l.filter(function(t){var r=o.findExposeMetadata(e,t);return!r||!r.options||n.checkGroups(r.options.groups)}):l.filter(function(t){var r=o.findExposeMetadata(e,t);return!r||!r.options||!r.options.groups||!r.options.groups.length})}return this.options.excludePrefixes&&this.options.excludePrefixes.length&&(l=l.filter(function(e){return n.options.excludePrefixes.every(function(t){return e.substr(0,t.length)!==t})})),l=l.filter(function(e,t,r){return r.indexOf(e)===t})},e.prototype.checkVersion=function(e,t){var r=!0;return e&&(r=this.options.version>=e),r&&t&&(r=this.options.version<t),r},e.prototype.checkGroups=function(e){return!e||this.options.groups.some(function(t){return e.includes(t)})},e}(),c={enableCircularCheck:!1,enableImplicitConversion:!1,excludeExtraneousValues:!1,excludePrefixes:void 0,exposeDefaultValues:!1,exposeUnsetFields:!0,groups:void 0,ignoreDecorators:!1,strategy:void 0,targetMaps:void 0,version:void 0},u=function(){return(u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},d=function(){function e(){}return e.prototype.instanceToPlain=function(e,t){return new l(i.CLASS_TO_PLAIN,u(u({},c),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToPlainFromExist=function(e,t,r){return new l(i.CLASS_TO_PLAIN,u(u({},c),r)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.plainToInstance=function(e,t,r){return new l(i.PLAIN_TO_CLASS,u(u({},c),r)).transform(void 0,t,e,void 0,void 0,void 0)},e.prototype.plainToClassFromExist=function(e,t,r){return new l(i.PLAIN_TO_CLASS,u(u({},c),r)).transform(e,t,void 0,void 0,void 0,void 0)},e.prototype.instanceToInstance=function(e,t){return new l(i.CLASS_TO_CLASS,u(u({},c),t)).transform(void 0,e,void 0,void 0,void 0,void 0)},e.prototype.classToClassFromExist=function(e,t,r){return new l(i.CLASS_TO_CLASS,u(u({},c),r)).transform(t,e,void 0,void 0,void 0,void 0)},e.prototype.serialize=function(e,t){return JSON.stringify(this.instanceToPlain(e,t))},e.prototype.deserialize=function(e,t,r){var n=JSON.parse(t);return this.plainToInstance(e,n,r)},e.prototype.deserializeArray=function(e,t,r){var n=JSON.parse(t);return this.plainToInstance(e,n,r)},e}();function f(e){return void 0===e&&(e={}),function(t,r){o.addExcludeMetadata({target:t instanceof Function?t:t.constructor,propertyName:r,options:e})}}function p(e){return void 0===e&&(e={}),function(t,r){o.addExposeMetadata({target:t instanceof Function?t:t.constructor,propertyName:r,options:e})}}function h(e){return function(t,r,n){var i=new d,o=n.value;n.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=o.apply(this,t);return n&&("object"==typeof n||"function"==typeof n)&&"function"==typeof n.then?n.then(function(t){return i.instanceToInstance(t,e)}):i.instanceToInstance(n,e)}}}function y(e){return function(t,r,n){var i=new d,o=n.value;n.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=o.apply(this,t);return n&&("object"==typeof n||"function"==typeof n)&&"function"==typeof n.then?n.then(function(t){return i.instanceToPlain(t,e)}):i.instanceToPlain(n,e)}}}function g(e,t){return function(r,n,i){var o=new d,a=i.value;i.value=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=a.apply(this,r);return i&&("object"==typeof i||"function"==typeof i)&&"function"==typeof i.then?i.then(function(r){return o.plainToInstance(e,r,t)}):o.plainToInstance(e,i,t)}}}function v(e,t){return void 0===t&&(t={}),function(r,n){o.addTransformMetadata({target:r.constructor,propertyName:n,transformFn:e,options:t})}}function m(e,t){return void 0===t&&(t={}),function(r,n){var i=Reflect.getMetadata("design:type",r,n);o.addTypeMetadata({target:r.constructor,propertyName:n,reflectedType:i,typeFunction:e,options:t})}}var b=new d;function _(e,t){return b.instanceToPlain(e,t)}function w(e,t){return b.instanceToPlain(e,t)}function S(e,t,r){return b.classToPlainFromExist(e,t,r)}function O(e,t,r){return b.plainToInstance(e,t,r)}function M(e,t,r){return b.plainToInstance(e,t,r)}function R(e,t,r){return b.plainToClassFromExist(e,t,r)}function P(e,t){return b.instanceToInstance(e,t)}function E(e,t,r){return b.classToClassFromExist(e,t,r)}function I(e,t){return b.serialize(e,t)}function x(e,t,r){return b.deserialize(e,t,r)}function A(e,t,r){return b.deserializeArray(e,t,r)}},89661:function(e,t){"use strict";let r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.getFromContainer=t.useContainer=void 0;let i=new class{constructor(){this.instances=[]}get(e){let t=this.instances.find(t=>t.type===e);return t||(t={type:e,object:new e},this.instances.push(t)),t.object}};t.useContainer=function(e,t){r=e,n=t},t.getFromContainer=function(e){if(r)try{let t=r.get(e);if(t||!n||!n.fallback)return t}catch(e){if(!n||!n.fallbackOnErrors)throw e}return i.get(e)}},67834:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidationOptions=void 0,t.isValidationOptions=function(e){return!!e&&("each"in e||"message"in e||"groups"in e||"always"in e||"context"in e)}},12726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayContains=t.arrayContains=t.ARRAY_CONTAINS=void 0;let n=r(38014);function i(e,t){return!!Array.isArray(e)&&t.every(t=>-1!==e.indexOf(t))}t.ARRAY_CONTAINS="arrayContains",t.arrayContains=i,t.ArrayContains=function(e,r){return(0,n.ValidateBy)({name:t.ARRAY_CONTAINS,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must contain $constraint1 values",r)}},r)}},96406:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayMaxSize=t.arrayMaxSize=t.ARRAY_MAX_SIZE=void 0;let n=r(38014);function i(e,t){return Array.isArray(e)&&e.length<=t}t.ARRAY_MAX_SIZE="arrayMaxSize",t.arrayMaxSize=i,t.ArrayMaxSize=function(e,r){return(0,n.ValidateBy)({name:t.ARRAY_MAX_SIZE,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must contain no more than $constraint1 elements",r)}},r)}},11994:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayMinSize=t.arrayMinSize=t.ARRAY_MIN_SIZE=void 0;let n=r(38014);function i(e,t){return Array.isArray(e)&&e.length>=t}t.ARRAY_MIN_SIZE="arrayMinSize",t.arrayMinSize=i,t.ArrayMinSize=function(e,r){return(0,n.ValidateBy)({name:t.ARRAY_MIN_SIZE,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must contain at least $constraint1 elements",r)}},r)}},33149:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayNotContains=t.arrayNotContains=t.ARRAY_NOT_CONTAINS=void 0;let n=r(38014);function i(e,t){return!!Array.isArray(e)&&t.every(t=>-1===e.indexOf(t))}t.ARRAY_NOT_CONTAINS="arrayNotContains",t.arrayNotContains=i,t.ArrayNotContains=function(e,r){return(0,n.ValidateBy)({name:t.ARRAY_NOT_CONTAINS,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not contain $constraint1 values",r)}},r)}},85678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayNotEmpty=t.arrayNotEmpty=t.ARRAY_NOT_EMPTY=void 0;let n=r(38014);function i(e){return Array.isArray(e)&&e.length>0}t.ARRAY_NOT_EMPTY="arrayNotEmpty",t.arrayNotEmpty=i,t.ArrayNotEmpty=function(e){return(0,n.ValidateBy)({name:t.ARRAY_NOT_EMPTY,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not be empty",e)}},e)}},84063:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArrayUnique=t.arrayUnique=t.ARRAY_UNIQUE=void 0;let n=r(38014);function i(e,t){if(!Array.isArray(e))return!1;t&&(e=e.map(e=>null!=e?t(e):e));let r=e.filter((e,t,r)=>r.indexOf(e)===t);return e.length===r.length}t.ARRAY_UNIQUE="arrayUnique",t.arrayUnique=i,t.ArrayUnique=function(e,r){let o="function"==typeof e?e:void 0,a="function"!=typeof e?e:r;return(0,n.ValidateBy)({name:t.ARRAY_UNIQUE,validator:{validate:(e,t)=>i(e,o),defaultMessage:(0,n.buildMessage)(e=>e+"All $property's elements must be unique",a)}},a)}},15909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Allow=void 0;let n=r(14701),i=r(64545),o=r(61664);t.Allow=function(e){return function(t,r){let a={type:n.ValidationTypes.WHITELIST,target:t.constructor,propertyName:r,validationOptions:e};(0,o.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(a))}}},14678:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Equals=t.equals=t.EQUALS=void 0;let n=r(38014);t.EQUALS="equals",t.equals=function(e,t){return e===t},t.Equals=function(e,r){return(0,n.ValidateBy)({name:t.EQUALS,constraints:[e],validator:{validate:(e,t)=>e===(null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be equal to $constraint1",r)}},r)}},90452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsDefined=t.isDefined=t.IS_DEFINED=void 0;let n=r(38014),i=r(14701);function o(e){return null!=e}t.IS_DEFINED=i.ValidationTypes.IS_DEFINED,t.isDefined=o,t.IsDefined=function(e){return(0,n.ValidateBy)({name:t.IS_DEFINED,validator:{validate:e=>o(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not be null or undefined",e)}},e)}},28865:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsEmpty=t.isEmpty=t.IS_EMPTY=void 0;let n=r(38014);function i(e){return""===e||null==e}t.IS_EMPTY="isEmpty",t.isEmpty=i,t.IsEmpty=function(e){return(0,n.ValidateBy)({name:t.IS_EMPTY,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be empty",e)}},e)}},98512:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsIn=t.isIn=t.IS_IN=void 0;let n=r(38014);function i(e,t){return!Array.isArray(t)||t.some(t=>t===e)}t.IS_IN="isIn",t.isIn=i,t.IsIn=function(e,r){return(0,n.ValidateBy)({name:t.IS_IN,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be one of the following values: $constraint1",r)}},r)}},68352:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsLatLong=t.isLatLong=t.IS_LATLONG=void 0;let i=r(38014),o=n(r(92816));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_LATLONG="isLatLong",t.isLatLong=a,t.IsLatLong=function(e){return(0,i.ValidateBy)({name:t.IS_LATLONG,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a latitude,longitude string",e)}},e)}},9490:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsLatitude=t.isLatitude=t.IS_LATITUDE=void 0;let n=r(38014),i=r(68352);function o(e){return("number"==typeof e||"string"==typeof e)&&(0,i.isLatLong)(`${e},0`)}t.IS_LATITUDE="isLatitude",t.isLatitude=o,t.IsLatitude=function(e){return(0,n.ValidateBy)({name:t.IS_LATITUDE,validator:{validate:(e,t)=>o(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a latitude string or number",e)}},e)}},29051:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsLongitude=t.isLongitude=t.IS_LONGITUDE=void 0;let n=r(38014),i=r(68352);function o(e){return("number"==typeof e||"string"==typeof e)&&(0,i.isLatLong)(`0,${e}`)}t.IS_LONGITUDE="isLongitude",t.isLongitude=o,t.IsLongitude=function(e){return(0,n.ValidateBy)({name:t.IS_LONGITUDE,validator:{validate:(e,t)=>o(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a longitude string or number",e)}},e)}},34452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNotEmpty=t.isNotEmpty=t.IS_NOT_EMPTY=void 0;let n=r(38014);function i(e){return""!==e&&null!=e}t.IS_NOT_EMPTY="isNotEmpty",t.isNotEmpty=i,t.IsNotEmpty=function(e){return(0,n.ValidateBy)({name:t.IS_NOT_EMPTY,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not be empty",e)}},e)}},44520:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNotIn=t.isNotIn=t.IS_NOT_IN=void 0;let n=r(38014);function i(e,t){return!Array.isArray(t)||!t.some(t=>t===e)}t.IS_NOT_IN="isNotIn",t.isNotIn=i,t.IsNotIn=function(e,r){return(0,n.ValidateBy)({name:t.IS_NOT_IN,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not be one of the following values: $constraint1",r)}},r)}},69494:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsOptional=void 0;let n=r(14701),i=r(64545),o=r(61664);t.IsOptional=function(e){return function(t,r){let a={type:n.ValidationTypes.CONDITIONAL_VALIDATION,target:t.constructor,propertyName:r,constraints:[(e,t)=>null!==e[r]&&void 0!==e[r]],validationOptions:e};(0,o.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(a))}}},11239:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotEquals=t.notEquals=t.NOT_EQUALS=void 0;let n=r(38014);t.NOT_EQUALS="notEquals",t.notEquals=function(e,t){return e!==t},t.NotEquals=function(e,r){return(0,n.ValidateBy)({name:t.NOT_EQUALS,constraints:[e],validator:{validate:(e,t)=>e!==(null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property should not be equal to $constraint1",r)}},r)}},64445:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validate=t.ValidatorConstraint=void 0;let n=r(64545),i=r(61664),o=r(14701),a=r(93912);t.ValidatorConstraint=function(e){return function(t){let r=e&&e.async,n=e&&e.name?e.name:"";n||(n=t.name)||(n=n.replace(/\.?([A-Z]+)/g,(e,t)=>"_"+t.toLowerCase()).replace(/^_/,""));let o=new a.ConstraintMetadata(t,n,r);(0,i.getMetadataStorage)().addConstraintMetadata(o)}},t.Validate=function(e,t,r){return function(a,s){let l={type:o.ValidationTypes.CUSTOM_VALIDATION,target:a.constructor,propertyName:s,constraintCls:e,constraints:Array.isArray(t)?t:void 0,validationOptions:Array.isArray(t)?r:t};(0,i.getMetadataStorage)().addValidationMetadata(new n.ValidationMetadata(l))}}},38014:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateBy=t.buildMessage=void 0;let n=r(81030);t.buildMessage=function(e,t){return r=>{let n=t&&t.each?"each value in ":"";return e(n,r)}},t.ValidateBy=function(e,t){return function(r,i){(0,n.registerDecorator)({name:e.name,target:r.constructor,propertyName:i,options:t,constraints:e.constraints,validator:e.validator})}}},90082:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateIf=void 0;let n=r(14701),i=r(64545),o=r(61664);t.ValidateIf=function(e,t){return function(r,a){let s={type:n.ValidationTypes.CONDITIONAL_VALIDATION,target:r.constructor,propertyName:a,constraints:[e],validationOptions:t};(0,o.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(s))}}},78686:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidateNested=void 0;let n=r(14701),i=r(64545),o=r(61664);t.ValidateNested=function(e){let t={...e},r=t.each?"each value in ":"";return t.message=t.message||r+"nested property $property must be either object or array",function(e,r){let a={type:n.ValidationTypes.NESTED_VALIDATION,target:e.constructor,propertyName:r,validationOptions:t};(0,o.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(a))}}},3536:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidatePromise=void 0;let n=r(14701),i=r(64545),o=r(61664);t.ValidatePromise=function(e){return function(t,r){let a={type:n.ValidationTypes.PROMISE_VALIDATION,target:t.constructor,propertyName:r,validationOptions:e};(0,o.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(a))}}},26547:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxDate=t.maxDate=t.MAX_DATE=void 0;let n=r(38014);function i(e,t){return e instanceof Date&&e.getTime()<=(t instanceof Date?t:t()).getTime()}t.MAX_DATE="maxDate",t.maxDate=i,t.MaxDate=function(e,r){return(0,n.ValidateBy)({name:t.MAX_DATE,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>"maximal allowed date for "+e+"$property is $constraint1",r)}},r)}},20754:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinDate=t.minDate=t.MIN_DATE=void 0;let n=r(38014);function i(e,t){return e instanceof Date&&e.getTime()>=(t instanceof Date?t:t()).getTime()}t.MIN_DATE="minDate",t.minDate=i,t.MinDate=function(e,r){return(0,n.ValidateBy)({name:t.MIN_DATE,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>"minimal allowed date for "+e+"$property is $constraint1",r)}},r)}},53979:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(15909),t),i(r(90452),t),i(r(69494),t),i(r(64445),t),i(r(38014),t),i(r(90082),t),i(r(78686),t),i(r(3536),t),i(r(68352),t),i(r(9490),t),i(r(29051),t),i(r(14678),t),i(r(11239),t),i(r(28865),t),i(r(34452),t),i(r(98512),t),i(r(44520),t),i(r(86356),t),i(r(93600),t),i(r(20031),t),i(r(81441),t),i(r(34761),t),i(r(20754),t),i(r(26547),t),i(r(41405),t),i(r(48439),t),i(r(88345),t),i(r(49715),t),i(r(82597),t),i(r(87594),t),i(r(83220),t),i(r(905),t),i(r(11285),t),i(r(55491),t),i(r(10906),t),i(r(21669),t),i(r(14757),t),i(r(19781),t),i(r(45535),t),i(r(95407),t),i(r(7007),t),i(r(59504),t),i(r(50122),t),i(r(78705),t),i(r(20411),t),i(r(46949),t),i(r(87305),t),i(r(64931),t),i(r(92895),t),i(r(78165),t),i(r(88251),t),i(r(90786),t),i(r(13705),t),i(r(6088),t),i(r(60123),t),i(r(60111),t),i(r(89802),t),i(r(40566),t),i(r(80533),t),i(r(35492),t),i(r(75058),t),i(r(22986),t),i(r(48376),t),i(r(35622),t),i(r(90856),t),i(r(60640),t),i(r(26093),t),i(r(94244),t),i(r(90067),t),i(r(55813),t),i(r(32408),t),i(r(11536),t),i(r(50043),t),i(r(99213),t),i(r(95010),t),i(r(88796),t),i(r(42630),t),i(r(79125),t),i(r(73947),t),i(r(4377),t),i(r(54216),t),i(r(22414),t),i(r(65187),t),i(r(75542),t),i(r(15826),t),i(r(10464),t),i(r(62519),t),i(r(69868),t),i(r(17153),t),i(r(34674),t),i(r(96982),t),i(r(30463),t),i(r(58912),t),i(r(53434),t),i(r(59874),t),i(r(26500),t),i(r(46745),t),i(r(59210),t),i(r(97398),t),i(r(50516),t),i(r(37176),t),i(r(18287),t),i(r(56645),t),i(r(12726),t),i(r(33149),t),i(r(85678),t),i(r(11994),t),i(r(96406),t),i(r(84063),t),i(r(18388),t),i(r(53839),t)},86356:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsDivisibleBy=t.isDivisibleBy=t.IS_DIVISIBLE_BY=void 0;let i=r(38014),o=n(r(67700));function a(e,t){return"number"==typeof e&&"number"==typeof t&&(0,o.default)(String(e),t)}t.IS_DIVISIBLE_BY="isDivisibleBy",t.isDivisibleBy=a,t.IsDivisibleBy=function(e,r){return(0,i.ValidateBy)({name:t.IS_DIVISIBLE_BY,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be divisible by $constraint1",r)}},r)}},20031:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNegative=t.isNegative=t.IS_NEGATIVE=void 0;let n=r(38014);function i(e){return"number"==typeof e&&e<0}t.IS_NEGATIVE="isNegative",t.isNegative=i,t.IsNegative=function(e){return(0,n.ValidateBy)({name:t.IS_NEGATIVE,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a negative number",e)}},e)}},93600:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsPositive=t.isPositive=t.IS_POSITIVE=void 0;let n=r(38014);function i(e){return"number"==typeof e&&e>0}t.IS_POSITIVE="isPositive",t.isPositive=i,t.IsPositive=function(e){return(0,n.ValidateBy)({name:t.IS_POSITIVE,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a positive number",e)}},e)}},81441:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Max=t.max=t.MAX=void 0;let n=r(38014);function i(e,t){return"number"==typeof e&&"number"==typeof t&&e<=t}t.MAX="max",t.max=i,t.Max=function(e,r){return(0,n.ValidateBy)({name:t.MAX,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must not be greater than $constraint1",r)}},r)}},34761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Min=t.min=t.MIN=void 0;let n=r(38014);function i(e,t){return"number"==typeof e&&"number"==typeof t&&e>=t}t.MIN="min",t.min=i,t.Min=function(e,r){return(0,n.ValidateBy)({name:t.MIN,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must not be less than $constraint1",r)}},r)}},53839:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsInstance=t.isInstance=t.IS_INSTANCE=void 0;let n=r(38014);function i(e,t){return t&&"function"==typeof t&&e instanceof t}t.IS_INSTANCE="isInstance",t.isInstance=i,t.IsInstance=function(e,r){return(0,n.ValidateBy)({name:t.IS_INSTANCE,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)((e,r)=>(null==r?void 0:r.constraints[0])?e+`$property must be an instance of ${null==r?void 0:r.constraints[0].name}`:e+`${t.IS_INSTANCE} decorator expects and object as value, but got falsy value.`,r)}},r)}},18388:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNotEmptyObject=t.isNotEmptyObject=t.IS_NOT_EMPTY_OBJECT=void 0;let n=r(38014),i=r(56645);function o(e,t){if(!(0,i.isObject)(e))return!1;if((null==t?void 0:t.nullable)===!0)return!Object.values(e).every(e=>null==e);for(let t in e)if(e.hasOwnProperty(t))return!0;return!1}t.IS_NOT_EMPTY_OBJECT="isNotEmptyObject",t.isNotEmptyObject=o,t.IsNotEmptyObject=function(e,r){return(0,n.ValidateBy)({name:t.IS_NOT_EMPTY_OBJECT,constraints:[e],validator:{validate:(e,t)=>o(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a non-empty object",r)}},r)}},41405:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Contains=t.contains=t.CONTAINS=void 0;let i=r(38014),o=n(r(3134));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.CONTAINS="contains",t.contains=a,t.Contains=function(e,r){return(0,i.ValidateBy)({name:t.CONTAINS,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain a $constraint1 string",r)}},r)}},88345:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsAlpha=t.isAlpha=t.IS_ALPHA=void 0;let i=r(38014),o=n(r(89705));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_ALPHA="isAlpha",t.isAlpha=a,t.IsAlpha=function(e,r){return(0,i.ValidateBy)({name:t.IS_ALPHA,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain only letters (a-zA-Z)",r)}},r)}},49715:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsAlphanumeric=t.isAlphanumeric=t.IS_ALPHANUMERIC=void 0;let i=r(38014),o=n(r(19));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_ALPHANUMERIC="isAlphanumeric",t.isAlphanumeric=a,t.IsAlphanumeric=function(e,r){return(0,i.ValidateBy)({name:t.IS_ALPHANUMERIC,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain only letters and numbers",r)}},r)}},87594:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsAscii=t.isAscii=t.IS_ASCII=void 0;let i=r(38014),o=n(r(98793));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ASCII="isAscii",t.isAscii=a,t.IsAscii=function(e){return(0,i.ValidateBy)({name:t.IS_ASCII,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain only ASCII characters",e)}},e)}},50043:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBIC=t.isBIC=t.IS_BIC=void 0;let i=r(38014),o=n(r(60465));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BIC="isBIC",t.isBIC=a,t.IsBIC=function(e){return(0,i.ValidateBy)({name:t.IS_BIC,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a BIC or SWIFT code",e)}},e)}},11536:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBase32=t.isBase32=t.IS_BASE32=void 0;let i=r(38014),o=n(r(25021));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BASE32="isBase32",t.isBase32=a,t.IsBase32=function(e){return(0,i.ValidateBy)({name:t.IS_BASE32,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be base32 encoded",e)}},e)}},58912:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBase58=t.isBase58=t.IS_BASE58=void 0;let i=r(38014),o=n(r(47415));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BASE58="isBase58",t.isBase58=a,t.IsBase58=function(e){return(0,i.ValidateBy)({name:t.IS_BASE58,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be base58 encoded",e)}},e)}},83220:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBase64=t.isBase64=t.IS_BASE64=void 0;let i=r(38014),o=n(r(59367));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BASE64="isBase64",t.isBase64=a,t.IsBase64=function(e){return(0,i.ValidateBy)({name:t.IS_BASE64,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be base64 encoded",e)}},e)}},55813:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBooleanString=t.isBooleanString=t.IS_BOOLEAN_STRING=void 0;let i=r(38014),o=n(r(63692));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BOOLEAN_STRING="isBooleanString",t.isBooleanString=a,t.IsBooleanString=function(e){return(0,i.ValidateBy)({name:t.IS_BOOLEAN_STRING,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a boolean string",e)}},e)}},99213:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsBtcAddress=t.isBtcAddress=t.IS_BTC_ADDRESS=void 0;let i=r(38014),o=n(r(8916));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_BTC_ADDRESS="isBtcAddress",t.isBtcAddress=a,t.IsBtcAddress=function(e){return(0,i.ValidateBy)({name:t.IS_BTC_ADDRESS,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a BTC address",e)}},e)}},905:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsByteLength=t.isByteLength=t.IS_BYTE_LENGTH=void 0;let i=r(38014),o=n(r(83942));function a(e,t,r){return"string"==typeof e&&(0,o.default)(e,{min:t,max:r})}t.IS_BYTE_LENGTH="isByteLength",t.isByteLength=a,t.IsByteLength=function(e,r,n){return(0,i.ValidateBy)({name:t.IS_BYTE_LENGTH,constraints:[e,r],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0],null==t?void 0:t.constraints[1]),defaultMessage:(0,i.buildMessage)(e=>e+"$property's byte length must fall into ($constraint1, $constraint2) range",n)}},n)}},11285:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsCreditCard=t.isCreditCard=t.IS_CREDIT_CARD=void 0;let i=r(38014),o=n(r(83267));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_CREDIT_CARD="isCreditCard",t.isCreditCard=a,t.IsCreditCard=function(e){return(0,i.ValidateBy)({name:t.IS_CREDIT_CARD,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a credit card",e)}},e)}},55491:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsCurrency=t.isCurrency=t.IS_CURRENCY=void 0;let i=r(38014),o=n(r(32426));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_CURRENCY="isCurrency",t.isCurrency=a,t.IsCurrency=function(e,r){return(0,i.ValidateBy)({name:t.IS_CURRENCY,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a currency",r)}},r)}},95010:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsDataURI=t.isDataURI=t.IS_DATA_URI=void 0;let i=r(38014),o=n(r(10439));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_DATA_URI="isDataURI",t.isDataURI=a,t.IsDataURI=function(e){return(0,i.ValidateBy)({name:t.IS_DATA_URI,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a data uri format",e)}},e)}},90067:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsDateString=t.isDateString=t.IS_DATE_STRING=void 0;let n=r(38014),i=r(87305);function o(e,t){return(0,i.isISO8601)(e,t)}t.IS_DATE_STRING="isDateString",t.isDateString=o,t.IsDateString=function(e,r){return(0,n.ValidateBy)({name:t.IS_DATE_STRING,constraints:[e],validator:{validate:t=>o(t,e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a valid ISO 8601 date string",r)}},r)}},82597:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsDecimal=t.isDecimal=t.IS_DECIMAL=void 0;let i=r(38014),o=n(r(6875));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_DECIMAL="isDecimal",t.isDecimal=a,t.IsDecimal=function(e,r){return(0,i.ValidateBy)({name:t.IS_DECIMAL,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property is not a valid decimal number.",r)}},r)}},88796:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsEAN=t.isEAN=t.IS_EAN=void 0;let i=r(38014),o=n(r(87819));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_EAN="isEAN",t.isEAN=a,t.IsEAN=function(e){return(0,i.ValidateBy)({name:t.IS_EAN,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an EAN (European Article Number)",e)}},e)}},10906:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsEmail=t.isEmail=t.IS_EMAIL=void 0;let i=r(38014),o=n(r(20038));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_EMAIL="isEmail",t.isEmail=a,t.IsEmail=function(e,r){return(0,i.ValidateBy)({name:t.IS_EMAIL,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an email",r)}},r)}},42630:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsEthereumAddress=t.isEthereumAddress=t.IS_ETHEREUM_ADDRESS=void 0;let i=r(38014),o=n(r(94024));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ETHEREUM_ADDRESS="isEthereumAddress",t.isEthereumAddress=a,t.IsEthereumAddress=function(e){return(0,i.ValidateBy)({name:t.IS_ETHEREUM_ADDRESS,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an Ethereum address",e)}},e)}},21669:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsFQDN=t.isFQDN=t.IS_FQDN=void 0;let i=r(38014),o=n(r(22273));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_FQDN="isFqdn",t.isFQDN=a,t.IsFQDN=function(e,r){return(0,i.ValidateBy)({name:t.IS_FQDN,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid domain name",r)}},r)}},80533:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsFirebasePushId=t.isFirebasePushId=t.IS_FIREBASE_PUSH_ID=void 0;let n=r(38014);function i(e){return"string"==typeof e&&20===e.length&&/^[a-zA-Z0-9_-]*$/.test(e)}t.IS_FIREBASE_PUSH_ID="IsFirebasePushId",t.isFirebasePushId=i,t.IsFirebasePushId=function(e){return(0,n.ValidateBy)({name:t.IS_FIREBASE_PUSH_ID,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a Firebase Push Id",e)}},e)}},14757:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsFullWidth=t.isFullWidth=t.IS_FULL_WIDTH=void 0;let i=r(38014),o=n(r(16384));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_FULL_WIDTH="isFullWidth",t.isFullWidth=a,t.IsFullWidth=function(e){return(0,i.ValidateBy)({name:t.IS_FULL_WIDTH,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain a full-width characters",e)}},e)}},79125:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsHSL=t.isHSL=t.IS_HSL=void 0;let i=r(38014),o=n(r(90076));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_HSL="isHSL",t.isHSL=a,t.IsHSL=function(e){return(0,i.ValidateBy)({name:t.IS_HSL,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a HSL color",e)}},e)}},19781:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsHalfWidth=t.isHalfWidth=t.IS_HALF_WIDTH=void 0;let i=r(38014),o=n(r(34241));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_HALF_WIDTH="isHalfWidth",t.isHalfWidth=a,t.IsHalfWidth=function(e){return(0,i.ValidateBy)({name:t.IS_HALF_WIDTH,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain a half-width characters",e)}},e)}},26093:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsHash=t.isHash=t.IS_HASH=void 0;let i=r(38014),o=n(r(54475));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_HASH="isHash",t.isHash=a,t.IsHash=function(e,r){return(0,i.ValidateBy)({name:t.IS_HASH,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a hash of type $constraint1",r)}},r)}},95407:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsHexColor=t.isHexColor=t.IS_HEX_COLOR=void 0;let i=r(38014),o=n(r(20309));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_HEX_COLOR="isHexColor",t.isHexColor=a,t.IsHexColor=function(e){return(0,i.ValidateBy)({name:t.IS_HEX_COLOR,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a hexadecimal color",e)}},e)}},7007:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsHexadecimal=t.isHexadecimal=t.IS_HEXADECIMAL=void 0;let i=r(38014),o=n(r(8717));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_HEXADECIMAL="isHexadecimal",t.isHexadecimal=a,t.IsHexadecimal=function(e){return(0,i.ValidateBy)({name:t.IS_HEXADECIMAL,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a hexadecimal number",e)}},e)}},73947:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsIBAN=t.isIBAN=t.IS_IBAN=void 0;let i=r(38014),o=n(r(2834));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_IBAN="isIBAN",t.isIBAN=a,t.IsIBAN=function(e){return(0,i.ValidateBy)({name:t.IS_IBAN,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an IBAN",e)}},e)}},50122:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsIP=t.isIP=t.IS_IP=void 0;let i=r(38014),o=n(r(14216));function a(e,t){let r=t?`${t}`:void 0;return"string"==typeof e&&(0,o.default)(e,r)}t.IS_IP="isIp",t.isIP=a,t.IsIP=function(e,r){return(0,i.ValidateBy)({name:t.IS_IP,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an ip address",r)}},r)}},20411:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISBN=t.isISBN=t.IS_ISBN=void 0;let i=r(38014),o=n(r(80823));function a(e,t){let r=t?`${t}`:void 0;return"string"==typeof e&&(0,o.default)(e,r)}t.IS_ISBN="isIsbn",t.isISBN=a,t.IsISBN=function(e,r){return(0,i.ValidateBy)({name:t.IS_ISBN,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an ISBN",r)}},r)}},46949:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISIN=t.isISIN=t.IS_ISIN=void 0;let i=r(38014),o=n(r(46123));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ISIN="isIsin",t.isISIN=a,t.IsISIN=function(e){return(0,i.ValidateBy)({name:t.IS_ISIN,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an ISIN (stock/security identifier)",e)}},e)}},90786:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISO31661Alpha2=t.isISO31661Alpha2=t.IS_ISO31661_ALPHA_2=void 0;let i=r(38014),o=n(r(97856));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ISO31661_ALPHA_2="isISO31661Alpha2",t.isISO31661Alpha2=a,t.IsISO31661Alpha2=function(e){return(0,i.ValidateBy)({name:t.IS_ISO31661_ALPHA_2,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid ISO31661 Alpha2 code",e)}},e)}},13705:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISO31661Alpha3=t.isISO31661Alpha3=t.IS_ISO31661_ALPHA_3=void 0;let i=r(38014),o=n(r(58903));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ISO31661_ALPHA_3="isISO31661Alpha3",t.isISO31661Alpha3=a,t.IsISO31661Alpha3=function(e){return(0,i.ValidateBy)({name:t.IS_ISO31661_ALPHA_3,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid ISO31661 Alpha3 code",e)}},e)}},87305:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISO8601=t.isISO8601=t.IS_ISO8601=void 0;let i=r(38014),o=n(r(37581));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_ISO8601="isIso8601",t.isISO8601=a,t.IsISO8601=function(e,r){return(0,i.ValidateBy)({name:t.IS_ISO8601,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid ISO 8601 date string",r)}},r)}},54216:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISRC=t.isISRC=t.IS_ISRC=void 0;let i=r(38014),o=n(r(5316));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ISRC="isISRC",t.isISRC=a,t.IsISRC=function(e){return(0,i.ValidateBy)({name:t.IS_ISRC,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be an ISRC",e)}},e)}},94244:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISSN=t.isISSN=t.IS_ISSN=void 0;let i=r(38014),o=n(r(61264));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_ISSN="isISSN",t.isISSN=a,t.IsISSN=function(e,r){return(0,i.ValidateBy)({name:t.IS_ISSN,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a ISSN",r)}},r)}},4377:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsIdentityCard=t.isIdentityCard=t.IS_IDENTITY_CARD=void 0;let i=r(38014),o=n(r(19267));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_IDENTITY_CARD="isIdentityCard",t.isIdentityCard=a,t.IsIdentityCard=function(e,r){return(0,i.ValidateBy)({name:t.IS_IDENTITY_CARD,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a identity card number",r)}},r)}},64931:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsJSON=t.isJSON=t.IS_JSON=void 0;let i=r(38014),o=n(r(19775));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_JSON="isJson",t.isJSON=a,t.IsJSON=function(e){return(0,i.ValidateBy)({name:t.IS_JSON,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a json string",e)}},e)}},92895:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsJWT=t.isJWT=t.IS_JWT=void 0;let i=r(38014),o=n(r(39351));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_JWT="isJwt",t.isJWT=a,t.IsJWT=function(e){return(0,i.ValidateBy)({name:t.IS_JWT,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a jwt string",e)}},e)}},22414:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsLocale=t.isLocale=t.IS_LOCALE=void 0;let i=r(38014),o=n(r(23629));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_LOCALE="isLocale",t.isLocale=a,t.IsLocale=function(e){return(0,i.ValidateBy)({name:t.IS_LOCALE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be locale",e)}},e)}},78165:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsLowercase=t.isLowercase=t.IS_LOWERCASE=void 0;let i=r(38014),o=n(r(92880));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_LOWERCASE="isLowercase",t.isLowercase=a,t.IsLowercase=function(e){return(0,i.ValidateBy)({name:t.IS_LOWERCASE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a lowercase string",e)}},e)}},59504:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMACAddress=t.isMACAddress=t.IS_MAC_ADDRESS=void 0;let i=r(67834),o=r(38014),a=n(r(78912));function s(e,t){return"string"==typeof e&&(0,a.default)(e,t)}t.IS_MAC_ADDRESS="isMacAddress",t.isMACAddress=s,t.IsMACAddress=function(e,r){let n=(0,i.isValidationOptions)(e)?void 0:e,a=(0,i.isValidationOptions)(e)?e:r;return(0,o.ValidateBy)({name:t.IS_MAC_ADDRESS,constraints:[n],validator:{validate:(e,t)=>s(e,n),defaultMessage:(0,o.buildMessage)(e=>e+"$property must be a MAC Address",a)}},a)}},65187:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMagnetURI=t.isMagnetURI=t.IS_MAGNET_URI=void 0;let i=r(38014),o=n(r(64364));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_MAGNET_URI="isMagnetURI",t.isMagnetURI=a,t.IsMagnetURI=function(e){return(0,i.ValidateBy)({name:t.IS_MAGNET_URI,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be magnet uri format",e)}},e)}},60640:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMilitaryTime=t.isMilitaryTime=t.IS_MILITARY_TIME=void 0;let i=r(38014),o=n(r(38937));function a(e){return"string"==typeof e&&(0,o.default)(e,/^([01]\d|2[0-3]):?([0-5]\d)$/)}t.IS_MILITARY_TIME="isMilitaryTime",t.isMilitaryTime=a,t.IsMilitaryTime=function(e){return(0,i.ValidateBy)({name:t.IS_MILITARY_TIME,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid representation of military time in the format HH:MM",e)}},e)}},75542:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMimeType=t.isMimeType=t.IS_MIME_TYPE=void 0;let i=r(38014),o=n(r(59600));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_MIME_TYPE="isMimeType",t.isMimeType=a,t.IsMimeType=function(e){return(0,i.ValidateBy)({name:t.IS_MIME_TYPE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be MIME type format",e)}},e)}},88251:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMobilePhone=t.isMobilePhone=t.IS_MOBILE_PHONE=void 0;let i=r(38014),o=n(r(32546));function a(e,t,r){return"string"==typeof e&&(0,o.default)(e,t,r)}t.IS_MOBILE_PHONE="isMobilePhone",t.isMobilePhone=a,t.IsMobilePhone=function(e,r,n){return(0,i.ValidateBy)({name:t.IS_MOBILE_PHONE,constraints:[e,r],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0],null==t?void 0:t.constraints[1]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a phone number",n)}},n)}},6088:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMongoId=t.isMongoId=t.IS_MONGO_ID=void 0;let i=r(38014),o=n(r(14398));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_MONGO_ID="isMongoId",t.isMongoId=a,t.IsMongoId=function(e){return(0,i.ValidateBy)({name:t.IS_MONGO_ID,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a mongodb id",e)}},e)}},60123:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsMultibyte=t.isMultibyte=t.IS_MULTIBYTE=void 0;let i=r(38014),o=n(r(72651));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_MULTIBYTE="isMultibyte",t.isMultibyte=a,t.IsMultibyte=function(e){return(0,i.ValidateBy)({name:t.IS_MULTIBYTE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain one or more multibyte chars",e)}},e)}},32408:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsNumberString=t.isNumberString=t.IS_NUMBER_STRING=void 0;let i=r(38014),o=n(r(78749));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_NUMBER_STRING="isNumberString",t.isNumberString=a,t.IsNumberString=function(e,r){return(0,i.ValidateBy)({name:t.IS_NUMBER_STRING,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a number string",r)}},r)}},15826:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsOctal=t.isOctal=t.IS_OCTAL=void 0;let i=r(38014),o=n(r(93456));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_OCTAL="isOctal",t.isOctal=a,t.IsOctal=function(e){return(0,i.ValidateBy)({name:t.IS_OCTAL,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be valid octal number",e)}},e)}},10464:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsPassportNumber=t.isPassportNumber=t.IS_PASSPORT_NUMBER=void 0;let i=r(38014),o=n(r(36712));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_PASSPORT_NUMBER="isPassportNumber",t.isPassportNumber=a,t.IsPassportNumber=function(e,r){return(0,i.ValidateBy)({name:t.IS_PASSPORT_NUMBER,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be valid passport number",r)}},r)}},90856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsPhoneNumber=t.isPhoneNumber=t.IS_PHONE_NUMBER=void 0;let n=r(38014),i=r(61002);function o(e,t){try{let r=(0,i.parsePhoneNumberFromString)(e,t),n=null==r?void 0:r.isValid();return!!n}catch(e){return!1}}t.IS_PHONE_NUMBER="isPhoneNumber",t.isPhoneNumber=o,t.IsPhoneNumber=function(e,r){return(0,n.ValidateBy)({name:t.IS_PHONE_NUMBER,constraints:[e],validator:{validate:(e,t)=>o(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a valid phone number",r)}},r)}},78705:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsPort=t.isPort=t.IS_PORT=void 0;let i=r(38014),o=n(r(9419));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_PORT="isPort",t.isPort=a,t.IsPort=function(e){return(0,i.ValidateBy)({name:t.IS_PORT,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a port",e)}},e)}},62519:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsPostalCode=t.isPostalCode=t.IS_POSTAL_CODE=void 0;let i=r(38014),o=n(r(63393));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_POSTAL_CODE="isPostalCode",t.isPostalCode=a,t.IsPostalCode=function(e,r){return(0,i.ValidateBy)({name:t.IS_POSTAL_CODE,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a postal code",r)}},r)}},69868:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsRFC3339=t.isRFC3339=t.IS_RFC_3339=void 0;let i=r(38014),o=n(r(21710));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_RFC_3339="isRFC3339",t.isRFC3339=a,t.IsRFC3339=function(e){return(0,i.ValidateBy)({name:t.IS_RFC_3339,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be RFC 3339 date",e)}},e)}},17153:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsRgbColor=t.isRgbColor=t.IS_RGB_COLOR=void 0;let i=r(38014),o=n(r(72246));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_RGB_COLOR="isRgbColor",t.isRgbColor=a,t.IsRgbColor=function(e,r){return(0,i.ValidateBy)({name:t.IS_RGB_COLOR,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be RGB color",r)}},r)}},34674:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsSemVer=t.isSemVer=t.IS_SEM_VER=void 0;let i=r(38014),o=n(r(58143));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_SEM_VER="isSemVer",t.isSemVer=a,t.IsSemVer=function(e){return(0,i.ValidateBy)({name:t.IS_SEM_VER,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a Semantic Versioning Specification",e)}},e)}},96982:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsStrongPassword=t.isStrongPassword=t.IS_STRONG_PASSWORD=void 0;let i=n(r(4589)),o=r(38014);function a(e,t){return"string"==typeof e&&i.default.isStrongPassword(e,t)}t.IS_STRONG_PASSWORD="isStrongPassword",t.isStrongPassword=a,t.IsStrongPassword=function(e,r){return(0,o.ValidateBy)({name:t.IS_STRONG_PASSWORD,constraints:[e],validator:{validate:(e,t)=>a(e,t.constraints[0]),defaultMessage:(0,o.buildMessage)(e=>e+"$property is not strong enough",r)}},r)}},60111:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsSurrogatePair=t.isSurrogatePair=t.IS_SURROGATE_PAIR=void 0;let i=r(38014),o=n(r(62942));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_SURROGATE_PAIR="isSurrogatePair",t.isSurrogatePair=a,t.IsSurrogatePair=function(e){return(0,i.ValidateBy)({name:t.IS_SURROGATE_PAIR,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain any surrogate pairs chars",e)}},e)}},30463:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsTimeZone=t.isTimeZone=t.IS_TIMEZONE=void 0;let n=r(38014);function i(e){try{if("string"!=typeof e)return!1;return Intl.DateTimeFormat(void 0,{timeZone:e}),!0}catch(e){return!1}}t.IS_TIMEZONE="isTimeZone",t.isTimeZone=i,t.IsTimeZone=function(e){return(0,n.ValidateBy)({name:t.IS_TIMEZONE,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a valid IANA time-zone",e)}},e)}},40566:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsUUID=t.isUUID=t.IS_UUID=void 0;let i=r(38014),o=n(r(33e3));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_UUID="isUuid",t.isUUID=a,t.IsUUID=function(e,r){return(0,i.ValidateBy)({name:t.IS_UUID,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a UUID",r)}},r)}},35492:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsUppercase=t.isUppercase=t.IS_UPPERCASE=void 0;let i=r(38014),o=n(r(49605));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_UPPERCASE="isUppercase",t.isUppercase=a,t.IsUppercase=function(e){return(0,i.ValidateBy)({name:t.IS_UPPERCASE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be uppercase",e)}},e)}},89802:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsUrl=t.isURL=t.IS_URL=void 0;let i=r(38014),o=n(r(38059));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t)}t.IS_URL="isUrl",t.isURL=a,t.IsUrl=function(e,r){return(0,i.ValidateBy)({name:t.IS_URL,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a URL address",r)}},r)}},45535:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsVariableWidth=t.isVariableWidth=t.IS_VARIABLE_WIDTH=void 0;let i=r(38014),o=n(r(91457));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_VARIABLE_WIDTH="isVariableWidth",t.isVariableWidth=a,t.IsVariableWidth=function(e){return(0,i.ValidateBy)({name:t.IS_VARIABLE_WIDTH,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must contain a full-width and half-width characters",e)}},e)}},75058:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Length=t.length=t.IS_LENGTH=void 0;let i=r(38014),o=n(r(28080));function a(e,t,r){return"string"==typeof e&&(0,o.default)(e,{min:t,max:r})}t.IS_LENGTH="isLength",t.length=a,t.Length=function(e,r,n){return(0,i.ValidateBy)({name:t.IS_LENGTH,constraints:[e,r],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0],null==t?void 0:t.constraints[1]),defaultMessage:(0,i.buildMessage)((e,t)=>{let r=(null==t?void 0:t.constraints[0])!==null&&(null==t?void 0:t.constraints[0])!==void 0,n=(null==t?void 0:t.constraints[1])!==null&&(null==t?void 0:t.constraints[1])!==void 0;return r&&(!t.value||t.value.length<(null==t?void 0:t.constraints[0]))?e+"$property must be longer than or equal to $constraint1 characters":n&&t.value.length>(null==t?void 0:t.constraints[1])?e+"$property must be shorter than or equal to $constraint2 characters":e+"$property must be longer than or equal to $constraint1 and shorter than or equal to $constraint2 characters"},n)}},n)}},35622:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Matches=t.matches=t.MATCHES=void 0;let i=r(38014),o=n(r(38937));function a(e,t,r){return"string"==typeof e&&(0,o.default)(e,t,r)}t.MATCHES="matches",t.matches=a,t.Matches=function(e,r,n){let o;return r&&r instanceof Object&&!n?n=r:o=r,(0,i.ValidateBy)({name:t.MATCHES,constraints:[e,o],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0],null==t?void 0:t.constraints[1]),defaultMessage:(0,i.buildMessage)((e,t)=>e+"$property must match $constraint1 regular expression",n)}},n)}},22986:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MaxLength=t.maxLength=t.MAX_LENGTH=void 0;let i=r(38014),o=n(r(28080));function a(e,t){return"string"==typeof e&&(0,o.default)(e,{min:0,max:t})}t.MAX_LENGTH="maxLength",t.maxLength=a,t.MaxLength=function(e,r){return(0,i.ValidateBy)({name:t.MAX_LENGTH,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be shorter than or equal to $constraint1 characters",r)}},r)}},48376:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MinLength=t.minLength=t.MIN_LENGTH=void 0;let i=r(38014),o=n(r(28080));function a(e,t){return"string"==typeof e&&(0,o.default)(e,{min:t})}t.MIN_LENGTH="minLength",t.minLength=a,t.MinLength=function(e,r){return(0,i.ValidateBy)({name:t.MIN_LENGTH,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be longer than or equal to $constraint1 characters",r)}},r)}},48439:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NotContains=t.notContains=t.NOT_CONTAINS=void 0;let i=r(38014),o=n(r(3134));function a(e,t){return"string"==typeof e&&!(0,o.default)(e,t)}t.NOT_CONTAINS="notContains",t.notContains=a,t.NotContains=function(e,r){return(0,i.ValidateBy)({name:t.NOT_CONTAINS,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property should not contain a $constraint1 string",r)}},r)}},59874:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsISO4217CurrencyCode=t.isISO4217CurrencyCode=t.IS_ISO4217_CURRENCY_CODE=void 0;let i=r(38014),o=n(r(64744));function a(e){return"string"==typeof e&&(0,o.default)(e)}t.IS_ISO4217_CURRENCY_CODE="isISO4217CurrencyCode",t.isISO4217CurrencyCode=a,t.IsISO4217CurrencyCode=function(e){return(0,i.ValidateBy)({name:t.IS_ISO4217_CURRENCY_CODE,validator:{validate:(e,t)=>a(e),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a valid ISO4217 currency code",e)}},e)}},53434:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IsTaxId=t.isTaxId=t.IS_TAX_ID=void 0;let i=r(38014),o=n(r(54111));function a(e,t){return"string"==typeof e&&(0,o.default)(e,t||"en-US")}t.IS_TAX_ID="isTaxId",t.isTaxId=a,t.IsTaxId=function(e,r){return(0,i.ValidateBy)({name:t.IS_TAX_ID,constraints:[e],validator:{validate:(e,t)=>a(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,i.buildMessage)(e=>e+"$property must be a Tax Identification Number",r)}},r)}},18287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsArray=t.isArray=t.IS_ARRAY=void 0;let n=r(38014);function i(e){return Array.isArray(e)}t.IS_ARRAY="isArray",t.isArray=i,t.IsArray=function(e){return(0,n.ValidateBy)({name:t.IS_ARRAY,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be an array",e)}},e)}},26500:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsBoolean=t.isBoolean=t.IS_BOOLEAN=void 0;let n=r(38014);function i(e){return e instanceof Boolean||"boolean"==typeof e}t.IS_BOOLEAN="isBoolean",t.isBoolean=i,t.IsBoolean=function(e){return(0,n.ValidateBy)({name:t.IS_BOOLEAN,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a boolean value",e)}},e)}},46745:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsDate=t.isDate=t.IS_DATE=void 0;let n=r(38014);function i(e){return e instanceof Date&&!isNaN(e.getTime())}t.IS_DATE="isDate",t.isDate=i,t.IsDate=function(e){return(0,n.ValidateBy)({name:t.IS_DATE,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a Date instance",e)}},e)}},97398:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsEnum=t.isEnum=t.IS_ENUM=void 0;let n=r(38014);function i(e,t){let r=Object.keys(t).map(e=>t[e]);return r.includes(e)}t.IS_ENUM="isEnum",t.isEnum=i,t.IsEnum=function(e,r){return(0,n.ValidateBy)({name:t.IS_ENUM,constraints:[e,Object.entries(e).filter(([e,t])=>isNaN(parseInt(e))).map(([e,t])=>t)],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be one of the following values: $constraint2",r)}},r)}},50516:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsInt=t.isInt=t.IS_INT=void 0;let n=r(38014);function i(e){return"number"==typeof e&&Number.isInteger(e)}t.IS_INT="isInt",t.isInt=i,t.IsInt=function(e){return(0,n.ValidateBy)({name:t.IS_INT,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be an integer number",e)}},e)}},59210:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsNumber=t.isNumber=t.IS_NUMBER=void 0;let n=r(38014);function i(e,t={}){if("number"!=typeof e)return!1;if(e===1/0||e===-1/0)return!!t.allowInfinity;if(Number.isNaN(e))return!!t.allowNaN;if(void 0!==t.maxDecimalPlaces){let r=0;if(e%1!=0&&(r=e.toString().split(".")[1].length),r>t.maxDecimalPlaces)return!1}return Number.isFinite(e)}t.IS_NUMBER="isNumber",t.isNumber=i,t.IsNumber=function(e={},r){return(0,n.ValidateBy)({name:t.IS_NUMBER,constraints:[e],validator:{validate:(e,t)=>i(e,null==t?void 0:t.constraints[0]),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a number conforming to the specified constraints",r)}},r)}},56645:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsObject=t.isObject=t.IS_OBJECT=void 0;let n=r(38014);function i(e){return null!=e&&("object"==typeof e||"function"==typeof e)&&!Array.isArray(e)}t.IS_OBJECT="isObject",t.isObject=i,t.IsObject=function(e){return(0,n.ValidateBy)({name:t.IS_OBJECT,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be an object",e)}},e)}},37176:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsString=t.isString=t.IS_STRING=void 0;let n=r(38014);function i(e){return e instanceof String||"string"==typeof e}t.IS_STRING="isString",t.isString=i,t.IsString=function(e){return(0,n.ValidateBy)({name:t.IS_STRING,validator:{validate:(e,t)=>i(e),defaultMessage:(0,n.buildMessage)(e=>e+"$property must be a string",e)}},e)}},56988:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.registerSchema=t.validateSync=t.validateOrReject=t.validate=void 0;let o=r(61664),a=r(27710),s=r(89661);i(r(89661),t),i(r(53979),t),i(r(67834),t),i(r(39590),t),i(r(26730),t),i(r(94203),t),i(r(98792),t),i(r(14701),t),i(r(27710),t),i(r(56871),t),i(r(81030),t),i(r(61664),t),t.validate=function(e,t,r){return"string"==typeof e?(0,s.getFromContainer)(a.Validator).validate(e,t,r):(0,s.getFromContainer)(a.Validator).validate(e,t)},t.validateOrReject=function(e,t,r){return"string"==typeof e?(0,s.getFromContainer)(a.Validator).validateOrReject(e,t,r):(0,s.getFromContainer)(a.Validator).validateOrReject(e,t)},t.validateSync=function(e,t,r){return"string"==typeof e?(0,s.getFromContainer)(a.Validator).validateSync(e,t,r):(0,s.getFromContainer)(a.Validator).validateSync(e,t)},t.registerSchema=function(e){(0,o.getMetadataStorage)().addValidationSchema(e)}},93912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstraintMetadata=void 0;let n=r(89661);class i{constructor(e,t,r=!1){this.target=e,this.name=t,this.async=r}get instance(){return(0,n.getFromContainer)(this.target)}}t.ConstraintMetadata=i},61664:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataStorage=t.MetadataStorage=void 0;let n=r(4364),i=r(21207);class o{constructor(){this.validationMetadatas=new Map,this.constraintMetadatas=new Map}get hasValidationMetaData(){return!!this.validationMetadatas.size}addValidationSchema(e){let t=new n.ValidationSchemaToMetadataTransformer().transform(e);t.forEach(e=>this.addValidationMetadata(e))}addValidationMetadata(e){let t=this.validationMetadatas.get(e.target);t?t.push(e):this.validationMetadatas.set(e.target,[e])}addConstraintMetadata(e){let t=this.constraintMetadatas.get(e.target);t?t.push(e):this.constraintMetadatas.set(e.target,[e])}groupByPropertyName(e){let t={};return e.forEach(e=>{t[e.propertyName]||(t[e.propertyName]=[]),t[e.propertyName].push(e)}),t}getTargetValidationMetadatas(e,t,r,n,i){let o=e=>void 0!==e.always?e.always:(!e.groups||!e.groups.length)&&r,a=e=>!!n&&(!i||!i.length)&&!!e.groups&&!!e.groups.length,s=this.validationMetadatas.get(e)||[],l=s.filter(r=>(r.target===e||r.target===t)&&(!!o(r)||!a(r)&&(!i||!(i.length>0)||r.groups&&!!r.groups.find(e=>-1!==i.indexOf(e))))),c=[];for(let[t,r]of this.validationMetadatas.entries())e.prototype instanceof t&&c.push(...r);let u=c.filter(t=>"string"!=typeof t.target&&t.target!==e&&(!(t.target instanceof Function)||e.prototype instanceof t.target)&&(!!o(t)||!a(t)&&(!i||!(i.length>0)||t.groups&&!!t.groups.find(e=>-1!==i.indexOf(e))))),d=u.filter(e=>!l.find(t=>t.propertyName===e.propertyName&&t.type===e.type));return l.concat(d)}getTargetValidatorConstraints(e){return this.constraintMetadatas.get(e)||[]}}t.MetadataStorage=o,t.getMetadataStorage=function(){let e=(0,i.getGlobal)();return e.classValidatorMetadataStorage||(e.classValidatorMetadataStorage=new o),e.classValidatorMetadataStorage}},64545:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationMetadata=void 0;class r{constructor(e){this.groups=[],this.each=!1,this.context=void 0,this.type=e.type,this.name=e.name,this.target=e.target,this.propertyName=e.propertyName,this.constraints=null==e?void 0:e.constraints,this.constraintCls=e.constraintCls,this.validationTypeOptions=e.validationTypeOptions,e.validationOptions&&(this.message=e.validationOptions.message,this.groups=e.validationOptions.groups,this.always=e.validationOptions.always,this.each=e.validationOptions.each,this.context=e.validationOptions.context)}}t.ValidationMetadata=r},81030:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerDecorator=void 0;let n=r(93912),i=r(64545),o=r(14701),a=r(89661),s=r(61664);t.registerDecorator=function(e){let t;if(e.validator instanceof Function){t=e.validator;let r=(0,a.getFromContainer)(s.MetadataStorage).getTargetValidatorConstraints(e.validator);if(r.length>1)throw`More than one implementation of ValidatorConstraintInterface found for validator on: ${e.target.name}:${e.propertyName}`}else{let r=e.validator;t=class{validate(e,t){return r.validate(e,t)}defaultMessage(e){return r.defaultMessage?r.defaultMessage(e):""}},(0,s.getMetadataStorage)().addConstraintMetadata(new n.ConstraintMetadata(t,e.name,e.async))}let r={type:e.name&&o.ValidationTypes.isValid(e.name)?e.name:o.ValidationTypes.CUSTOM_VALIDATION,name:e.name,target:e.target,propertyName:e.propertyName,validationOptions:e.options,constraintCls:t,constraints:e.constraints};(0,s.getMetadataStorage)().addValidationMetadata(new i.ValidationMetadata(r))}},81215:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToArray=void 0,t.convertToArray=function(e){return e instanceof Map?Array.from(e.values()):Array.isArray(e)?e:Array.from(e)}},43890:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobal=void 0,t.getGlobal=function(){return"undefined"!=typeof globalThis?globalThis:void 0!==r.g?r.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:void 0}},21207:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(81215),t),i(r(43890),t),i(r(51213),t)},51213:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0,t.isPromise=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.then}},56871:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4364:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationSchemaToMetadataTransformer=void 0;let n=r(64545);class i{transform(e){let t=[];return Object.keys(e.properties).forEach(r=>{e.properties[r].forEach(i=>{let o={message:i.message,groups:i.groups,always:i.always,each:i.each},a={type:i.type,name:i.name,target:e.name,propertyName:r,constraints:i.constraints,validationTypeOptions:i.options,validationOptions:o};t.push(new n.ValidationMetadata(a))})}),t}}t.ValidationSchemaToMetadataTransformer=i},98792:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},26730:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationError=void 0;class r{toString(e=!1,t=!1,r="",n=!1){let i=e?`\x1b[1m`:"",o=e?`\x1b[22m`:"",a=()=>{var e;return(n?Object.values:Object.keys)(null!==(e=this.constraints)&&void 0!==e?e:{}).join(", ")},s=e=>` - property ${i}${r}${e}${o} has failed the following constraints: ${i}${a()}${o} 
`;if(!t)return`An instance of ${i}${this.target?this.target.constructor.name:"an object"}${o} has failed the validation:
`+(this.constraints?s(this.property):"")+(this.children?this.children.map(t=>t.toString(e,!0,this.property,n)).join(""):"");{let t=Number.isInteger(+this.property)?`[${this.property}]`:`${r?".":""}${this.property}`;return this.constraints?s(t):this.children?this.children.map(i=>i.toString(e,!0,`${r}${t}`,n)).join(""):""}}}t.ValidationError=r},37028:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationExecutor=void 0;let n=r(26730),i=r(14701),o=r(40224),a=r(21207),s=r(61664);class l{constructor(e,t){this.validator=e,this.validatorOptions=t,this.awaitingPromises=[],this.ignoreAsyncValidations=!1,this.metadataStorage=(0,s.getMetadataStorage)()}execute(e,t,r){var o,a;this.metadataStorage.hasValidationMetaData||(null===(o=this.validatorOptions)||void 0===o?void 0:o.enableDebugMessages)!==!0||console.warn(`No validation metadata found. No validation will be  performed. There are multiple possible reasons:
  - There may be multiple class-validator versions installed. You will need to flatten your dependencies to fix the issue.
  - This validation runs before any file with validation decorator was parsed by NodeJS.`);let s=this.validatorOptions?this.validatorOptions.groups:void 0,l=this.validatorOptions&&this.validatorOptions.strictGroups||!1,c=this.validatorOptions&&this.validatorOptions.always||!1,u=(null===(a=this.validatorOptions)||void 0===a?void 0:a.forbidUnknownValues)===void 0||!1!==this.validatorOptions.forbidUnknownValues,d=this.metadataStorage.getTargetValidationMetadatas(e.constructor,t,c,l,s),f=this.metadataStorage.groupByPropertyName(d);if(this.validatorOptions&&u&&!d.length){let t=new n.ValidationError;this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(t.target=e),t.value=void 0,t.property=void 0,t.children=[],t.constraints={unknownValue:"an unknown value was passed to the validate function"},r.push(t);return}this.validatorOptions&&this.validatorOptions.whitelist&&this.whitelist(e,f,r),Object.keys(f).forEach(t=>{let n=e[t],o=f[t].filter(e=>e.type===i.ValidationTypes.IS_DEFINED),a=f[t].filter(e=>e.type!==i.ValidationTypes.IS_DEFINED&&e.type!==i.ValidationTypes.WHITELIST);n instanceof Promise&&a.find(e=>e.type===i.ValidationTypes.PROMISE_VALIDATION)?this.awaitingPromises.push(n.then(n=>{this.performValidations(e,n,t,o,a,r)})):this.performValidations(e,n,t,o,a,r)})}whitelist(e,t,r){let n=[];Object.keys(e).forEach(e=>{t[e]&&0!==t[e].length||n.push(e)}),n.length>0&&(this.validatorOptions&&this.validatorOptions.forbidNonWhitelisted?n.forEach(t=>{let n=this.generateValidationError(e,e[t],t);n.constraints={[i.ValidationTypes.WHITELIST]:`property ${t} should not exist`},n.children=void 0,r.push(n)}):n.forEach(t=>delete e[t]))}stripEmptyErrors(e){return e.filter(e=>{if(e.children&&(e.children=this.stripEmptyErrors(e.children)),0===Object.keys(e.constraints).length){if(0===e.children.length)return!1;delete e.constraints}return!0})}performValidations(e,t,r,n,o,a){let s=o.filter(e=>e.type===i.ValidationTypes.CUSTOM_VALIDATION),l=o.filter(e=>e.type===i.ValidationTypes.NESTED_VALIDATION),c=o.filter(e=>e.type===i.ValidationTypes.CONDITIONAL_VALIDATION),u=this.generateValidationError(e,t,r);a.push(u);let d=this.conditionalValidations(e,t,c);d&&(this.customValidations(e,t,n,u),this.mapContexts(e,t,n,u),void 0===t&&this.validatorOptions&&!0===this.validatorOptions.skipUndefinedProperties||null===t&&this.validatorOptions&&!0===this.validatorOptions.skipNullProperties||null==t&&this.validatorOptions&&!0===this.validatorOptions.skipMissingProperties||(this.customValidations(e,t,s,u),this.nestedValidations(t,l,u),this.mapContexts(e,t,o,u),this.mapContexts(e,t,s,u)))}generateValidationError(e,t,r){let i=new n.ValidationError;return this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.target&&!0!==this.validatorOptions.validationError.target||(i.target=e),this.validatorOptions&&this.validatorOptions.validationError&&void 0!==this.validatorOptions.validationError.value&&!0!==this.validatorOptions.validationError.value||(i.value=t),i.property=r,i.children=[],i.constraints={},i}conditionalValidations(e,t,r){return r.map(r=>r.constraints[0](e,t)).reduce((e,t)=>e&&t,!0)}customValidations(e,t,r,n){r.forEach(r=>{this.metadataStorage.getTargetValidatorConstraints(r.constraintCls).forEach(i=>{if(i.async&&this.ignoreAsyncValidations||this.validatorOptions&&this.validatorOptions.stopAtFirstError&&Object.keys(n.constraints||{}).length>0)return;let o={targetName:e.constructor?e.constructor.name:void 0,property:r.propertyName,object:e,value:t,constraints:r.constraints};if(!r.each||!(Array.isArray(t)||t instanceof Set||t instanceof Map)){let s=i.instance.validate(t,o);if((0,a.isPromise)(s)){let o=s.then(o=>{if(!o){let[o,a]=this.createValidationError(e,t,r,i);n.constraints[o]=a,r.context&&(n.contexts||(n.contexts={}),n.contexts[o]=Object.assign(n.contexts[o]||{},r.context))}});this.awaitingPromises.push(o)}else if(!s){let[o,a]=this.createValidationError(e,t,r,i);n.constraints[o]=a}return}let s=(0,a.convertToArray)(t),l=s.map(e=>i.instance.validate(e,o)),c=l.some(e=>(0,a.isPromise)(e));if(c){let o=l.map(e=>(0,a.isPromise)(e)?e:Promise.resolve(e)),s=Promise.all(o).then(o=>{let a=o.every(e=>e);if(!a){let[o,a]=this.createValidationError(e,t,r,i);n.constraints[o]=a,r.context&&(n.contexts||(n.contexts={}),n.contexts[o]=Object.assign(n.contexts[o]||{},r.context))}});this.awaitingPromises.push(s);return}let u=l.every(e=>e);if(!u){let[o,a]=this.createValidationError(e,t,r,i);n.constraints[o]=a}})})}nestedValidations(e,t,r){void 0!==e&&t.forEach(n=>{if((n.type===i.ValidationTypes.NESTED_VALIDATION||n.type===i.ValidationTypes.PROMISE_VALIDATION)&&(!this.validatorOptions||!this.validatorOptions.stopAtFirstError||!(Object.keys(r.constraints||{}).length>0))){if(Array.isArray(e)||e instanceof Set||e instanceof Map){let n=e instanceof Set?Array.from(e):e;n.forEach((n,i)=>{this.performValidations(e,n,i.toString(),[],t,r.children)})}else if(e instanceof Object){let t="string"==typeof n.target?n.target:n.target.name;this.execute(e,t,r.children)}else{let[t,i]=this.createValidationError(n.target,e,n);r.constraints[t]=i}}})}mapContexts(e,t,r,n){return r.forEach(e=>{if(e.context){let t;if(e.type===i.ValidationTypes.CUSTOM_VALIDATION){let r=this.metadataStorage.getTargetValidatorConstraints(e.constraintCls);t=r[0]}let r=this.getConstraintType(e,t);n.constraints[r]&&(n.contexts||(n.contexts={}),n.contexts[r]=Object.assign(n.contexts[r]||{},e.context))}})}createValidationError(e,t,r,n){let i=e.constructor?e.constructor.name:void 0,a=this.getConstraintType(r,n),s={targetName:i,property:r.propertyName,object:e,value:t,constraints:r.constraints},l=r.message||"";!r.message&&(!this.validatorOptions||this.validatorOptions&&!this.validatorOptions.dismissDefaultMessages)&&n&&n.instance.defaultMessage instanceof Function&&(l=n.instance.defaultMessage(s));let c=o.ValidationUtils.replaceMessageSpecialTokens(l,s);return[a,c]}getConstraintType(e,t){let r=t&&t.name?t.name:e.type;return r}}t.ValidationExecutor=l},14701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationTypes=void 0;class r{static isValid(e){return"isValid"!==e&&"getMessage"!==e&&-1!==Object.keys(this).map(e=>this[e]).indexOf(e)}}t.ValidationTypes=r,r.CUSTOM_VALIDATION="customValidation",r.NESTED_VALIDATION="nestedValidation",r.PROMISE_VALIDATION="promiseValidation",r.CONDITIONAL_VALIDATION="conditionalValidation",r.WHITELIST="whitelistValidation",r.IS_DEFINED="isDefined"},40224:function(e,t){"use strict";function r(e){return Array.isArray(e)?e.join(", "):("symbol"==typeof e&&(e=e.description),`${e}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.ValidationUtils=t.constraintToString=void 0,t.constraintToString=r;class n{static replaceMessageSpecialTokens(e,t){let n;return e instanceof Function?n=e(t):"string"==typeof e&&(n=e),n&&Array.isArray(t.constraints)&&t.constraints.forEach((e,t)=>{n=n.replace(RegExp(`\\$constraint${t+1}`,"g"),r(e))}),n&&void 0!==t.value&&null!==t.value&&"string"==typeof t.value&&(n=n.replace(/\$value/g,t.value)),n&&(n=n.replace(/\$property/g,t.property)),n&&(n=n.replace(/\$target/g,t.targetName)),n}}t.ValidationUtils=n},27710:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;let n=r(37028);class i{validate(e,t,r){return this.coreValidate(e,t,r)}async validateOrReject(e,t,r){let n=await this.coreValidate(e,t,r);if(n.length)return Promise.reject(n)}validateSync(e,t,r){let i="string"==typeof e?t:e,o="string"==typeof e?e:void 0,a=new n.ValidationExecutor(this,"string"==typeof e?r:t);a.ignoreAsyncValidations=!0;let s=[];return a.execute(i,o,s),a.stripEmptyErrors(s)}coreValidate(e,t,r){let i="string"==typeof e?t:e,o="string"==typeof e?r:t,a="string"==typeof e?e:void 0,s=new n.ValidationExecutor(this,o),l=[];return s.execute(i,a,l),Promise.all(s.awaitingPromises).then(()=>s.stripEmptyErrors(l))}}t.Validator=i},39590:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},94203:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53578:function(e,t,r){"use strict";r.r(t),r.d(t,{CONTEXT:function(){return l},CONTEXT_URL:function(){return c},CONTEXT_URL_V1:function(){return u},CREDENTIALS_CONTEXT_V1_URL:function(){return d},constants:function(){return s},contexts:function(){return a},default:function(){return o}});var n,i=(function(e,t){/*! For license information please see context.js.LICENSE.txt */(()=>{var e={717:e=>{e.exports={CONTEXT_FILENAME:"credentials-v1.jsonld",CONTEXT_URL:"https://www.w3.org/2018/credentials/v1",CREDENTIALS_CONTEXT_V1_URL:"https://www.w3.org/2018/credentials/v1"}},869:e=>{e.exports={"@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",VerifiableCredential:{"@id":"https://www.w3.org/2018/credentials#VerifiableCredential","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",credentialSchema:{"@id":"cred:credentialSchema","@type":"@id","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",JsonSchemaValidator2018:"cred:JsonSchemaValidator2018"}},credentialStatus:{"@id":"cred:credentialStatus","@type":"@id"},credentialSubject:{"@id":"cred:credentialSubject","@type":"@id"},evidence:{"@id":"cred:evidence","@type":"@id"},expirationDate:{"@id":"cred:expirationDate","@type":"xsd:dateTime"},holder:{"@id":"cred:holder","@type":"@id"},issued:{"@id":"cred:issued","@type":"xsd:dateTime"},issuer:{"@id":"cred:issuer","@type":"@id"},issuanceDate:{"@id":"cred:issuanceDate","@type":"xsd:dateTime"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},refreshService:{"@id":"cred:refreshService","@type":"@id","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",ManualRefreshService2018:"cred:ManualRefreshService2018"}},termsOfUse:{"@id":"cred:termsOfUse","@type":"@id"},validFrom:{"@id":"cred:validFrom","@type":"xsd:dateTime"},validUntil:{"@id":"cred:validUntil","@type":"xsd:dateTime"}}},VerifiablePresentation:{"@id":"https://www.w3.org/2018/credentials#VerifiablePresentation","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",cred:"https://www.w3.org/2018/credentials#",sec:"https://w3id.org/security#",holder:{"@id":"cred:holder","@type":"@id"},proof:{"@id":"sec:proof","@type":"@id","@container":"@graph"},verifiableCredential:{"@id":"cred:verifiableCredential","@type":"@id","@container":"@graph"}}},EcdsaSecp256k1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256k1Signature2019","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},EcdsaSecp256r1Signature2019:{"@id":"https://w3id.org/security#EcdsaSecp256r1Signature2019","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},Ed25519Signature2018:{"@id":"https://w3id.org/security#Ed25519Signature2018","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",xsd:"http://www.w3.org/2001/XMLSchema#",challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},RsaSignature2018:{"@id":"https://w3id.org/security#RsaSignature2018","@context":{"@version":1.1,"@protected":!0,challenge:"sec:challenge",created:{"@id":"http://purl.org/dc/terms/created","@type":"xsd:dateTime"},domain:"sec:domain",expires:{"@id":"sec:expiration","@type":"xsd:dateTime"},jws:"sec:jws",nonce:"sec:nonce",proofPurpose:{"@id":"sec:proofPurpose","@type":"@vocab","@context":{"@version":1.1,"@protected":!0,id:"@id",type:"@type",sec:"https://w3id.org/security#",assertionMethod:{"@id":"sec:assertionMethod","@type":"@id","@container":"@set"},authentication:{"@id":"sec:authenticationMethod","@type":"@id","@container":"@set"}}},proofValue:"sec:proofValue",verificationMethod:{"@id":"sec:verificationMethod","@type":"@id"}}},proof:{"@id":"https://w3id.org/security#proof","@type":"@id","@container":"@graph"}}}},858:(e,t,r)=>{let{CONTEXT_URL:n}=r(717),i=r(869);e.exports={documentLoader(e){if(e!==n)throw Error(`Loading document "${e}" is not allowed.`);return{contextUrl:null,document:i,documentUrl:e}}}},243:(e,t,r)=>{let n=r(869),i=r(717),{documentLoader:o}=r(858),{CONTEXT_URL:a}=i,s=new Map;s.set(i.CONTEXT_URL,n),e.exports={constants:i,contexts:s,documentLoader:o,CONTEXT_URL:a,CREDENTIALS_CONTEXT_V1_URL:a,CONTEXT_URL_V1:a,CONTEXT:n}}},r={},n=function t(n){var i=r[n];if(void 0!==i)return i.exports;var o=r[n]={exports:{}};return e[n](o,o.exports,t),o.exports}(243);for(var i in n)t[i]=n[i];n.__esModule&&Object.defineProperty(t,"__esModule",{value:!0})})()}(n={exports:{}},n.exports),n.exports),o=i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i,a=i.contexts,s=i.constants,l=i.CONTEXT,c=i.CONTEXT_URL,u=i.CONTEXT_URL_V1,d=i.CREDENTIALS_CONTEXT_V1_URL},27877:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return e.filter(function(t,r){return e.lastIndexOf(t)===r})}r.r(t),r.d(t,{assignStyle:function(){return function e(t){for(var r=0,a=arguments.length<=1?0:arguments.length-1;r<a;++r){var s=r+1<1||arguments.length<=r+1?void 0:arguments[r+1];for(var l in s){var c=s[l],u=t[l];if(u&&c){if(Array.isArray(u)){t[l]=o(u.concat(c));continue}if(Array.isArray(c)){t[l]=o([u].concat(function(e){if(Array.isArray(e))return i(e)}(c)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(c)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(c)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()));continue}if("object"===n(c)){t[l]=e({},u,c);continue}}t[l]=c}}return t}},camelCaseProperty:function(){return u},cssifyDeclaration:function(){return p},cssifyObject:function(){return h},hyphenateProperty:function(){return f},isPrefixedProperty:function(){return g},isPrefixedValue:function(){return m},isUnitlessProperty:function(){return I},normalizeProperty:function(){return C},resolveArrayValue:function(){return j},unprefixProperty:function(){return A},unprefixValue:function(){return $}});var a=/-([a-z])/g,s=/^Ms/g,l={};function c(e){return e[1].toUpperCase()}function u(e){if(l.hasOwnProperty(e))return l[e];var t=e.replace(a,c).replace(s,"ms");return l[e]=t,t}var d=r(43725);function f(e){return(0,d.default)(e)}function p(e,t){return f(e)+":"+t}function h(e){var t="";for(var r in e){var n=e[r];("string"==typeof n||"number"==typeof n)&&(t&&(t+=";"),t+=p(r,n))}return t}var y=/^(Webkit|Moz|O|ms)/;function g(e){return y.test(e)}var v=/-webkit-|-moz-|-ms-/;function m(e){return"string"==typeof e&&v.test(e)}for(var b={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],w=["Webkit","ms","Moz","O"],S=0,O=_.length;S<O;++S){var M=_[S];b[M]=!0;for(var R=0,P=w.length;R<P;++R)b[w[R]+M.charAt(0).toUpperCase()+M.slice(1)]=!0}for(var E in b)b[f(E)]=!0;function I(e){return b.hasOwnProperty(e)}var x=/^(ms|Webkit|Moz|O)/;function A(e){var t=e.replace(x,"");return t.charAt(0).toLowerCase()+t.slice(1)}function C(e){return A(u(e))}function j(e,t){return t.join(";"+f(e)+":")}var T=/(-ms-|-webkit-|-moz-|-o-)/g;function $(e){return"string"==typeof e?e.replace(T,""):e}},50017:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)};var n,i=(n=r(43725))&&n.__esModule?n:{default:n}},27371:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e&&r.test(e)};var r=/-webkit-|-moz-|-ms-/},58005:function(e){"use strict";var t="%[a-f0-9]{2}",r=RegExp("("+t+")|([^%]+?)","gi"),n=RegExp("("+t+")+","gi");e.exports=function(e){if("string"!=typeof e)throw TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},i=n.exec(e);i;){try{t[i[0]]=decodeURIComponent(i[0])}catch(e){var o=function(e){try{return decodeURIComponent(e)}catch(i){for(var t=e.match(r)||[],n=1;n<t.length;n++)t=(e=(function e(t,r){try{return[decodeURIComponent(t.join(""))]}catch(e){}if(1===t.length)return t;r=r||1;var n=t.slice(0,r),i=t.slice(r);return Array.prototype.concat.call([],e(n),e(i))})(t,n).join("")).match(r)||[];return e}}(i[0]);o!==i[0]&&(t[i[0]]=o)}i=n.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];e=e.replace(RegExp(l,"g"),t[l])}return e}(e)}}},85806:function(e){"use strict";var t=function(e){};e.exports=function(e,r){for(var n,i=arguments.length,o=Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(t(r),!e){if(void 0===r)n=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(n=Error(r.replace(/%s/g,function(){return String(o[s++])}))).name="Invariant Violation"}throw n.framesToPop=1,n}}},61820:function(e){"use strict";e.exports=function(e,t){for(var r={},n=Object.keys(e),i=Array.isArray(t),o=0;o<n.length;o++){var a=n[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(r[a]=s)}return r}},43725:function(e,t,r){"use strict";r.r(t);var n=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(n,a);return o[e]=i.test(t)?"-"+t:t}},19087:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?5960464477539062e-23:0,p=n?0:o-1,h=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*y}},56071:function(e,t,r){"use strict";t.Z=function(e){var t=e.prefixMap,r=e.plugins;return function e(s){for(var l in s){var c=s[l];if((0,a.default)(c))s[l]=e(c);else if(Array.isArray(c)){for(var u=[],d=0,f=c.length;d<f;++d){var p=(0,i.default)(r,l,c[d],s,t);(0,o.default)(u,p||c[d])}u.length>0&&(s[l]=u)}else{var h=(0,i.default)(r,l,c,s,t);h&&(s[l]=h),s=(0,n.default)(t,l,s)}}return s}};var n=s(r(37161)),i=s(r(32798)),o=s(r(58896)),a=s(r(4723));function s(e){return e&&e.__esModule?e:{default:e}}},53953:function(e,t){"use strict";t.Z=function(){return null}},50514:function(e,t,r){"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,n.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return o.map(function(e){return t.replace(i,e+"cross-fade(")})};var n=r(27877),i=/cross-fade\(/g,o=["-webkit-",""]},45621:function(e,t){"use strict";t.Z=function(e,t){if("cursor"===e&&n.hasOwnProperty(t))return r.map(function(e){return e+t})};var r=["-webkit-","-moz-",""],n={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0}},16252:function(e,t,r){"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,n.isPrefixedValue)(t)&&-1!==t.indexOf("filter("))return o.map(function(e){return t.replace(i,e+"filter(")})};var n=r(27877),i=/filter\(/g,o=["-webkit-",""]},68803:function(e,t,r){"use strict";t.Z=function(e,t){if("string"==typeof t&&!(0,i.default)(t)&&t.indexOf("image-set(")>-1)return o.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var n,i=(n=r(27371))&&n.__esModule?n:{default:n},o=["-webkit-",""]},37760:function(e,t){"use strict";t.Z=function(e,t,n){if(Object.prototype.hasOwnProperty.call(r,e))for(var i=r[e],o=0,a=i.length;o<a;++o)n[i[o]]=t};var r={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},4536:function(e,t){"use strict";t.Z=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},90981:function(e,t){"use strict";t.Z=function(e,t){if(n.hasOwnProperty(e)&&i.hasOwnProperty(t))return r.map(function(e){return e+t})};var r=["-webkit-","-moz-",""],n={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},78246:function(e,t,r){"use strict";t.Z=function(e,t,r,a){if("string"==typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var r=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=r.length;o<a;++o){var s=r[o],c=[s];for(var u in t){var d=(0,n.default)(u);if(s.indexOf(d)>-1&&"order"!==d)for(var f=t[u],p=0,h=f.length;p<h;++p)c.unshift(s.replace(d,l[f[p]]+d))}r[o]=c.join(",")}return r.join(",")}(t,a),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return u;var d=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?d:(r["Webkit"+(0,o.default)(e)]=u,r["Moz"+(0,o.default)(e)]=d,c)}};var n=a(r(50017)),i=a(r(27371)),o=a(r(76995));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},58896:function(e,t){"use strict";function r(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)r(e,t[n]);else r(e,t)}},76995:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},4723:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},37161:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=e[t];if(n&&r.hasOwnProperty(t))for(var o=(0,i.default)(t),a=0;a<n.length;++a){var s=n[a]+o;r[s]||(r[s]=r[t])}return r};var n,i=(n=r(76995))&&n.__esModule?n:{default:n}},32798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,r,n,i);if(s)return s}}},92543:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i,URLSearchParams,defaultBase:o}=r(48608),a=r(16926);e.exports={URL:n,URLSearchParams,format:i,relative:a,defaultBase:o}},16926:function(e,t,r){"use strict";let{URLWithLegacySupport:n,format:i}=r(48608);e.exports=(e,t={},r={},o)=>{let a,s=t.protocol?t.protocol.replace(":",""):"http";s=(r[s]||o||s)+":";try{a=new n(e)}catch(e){a={}}let l=Object.assign({},t,{protocol:s||a.protocol,host:t.host||a.host});return new n(e,i(l)).toString()}},48608:function(e){"use strict";let t="undefined"!=typeof navigator&&"ReactNative"===navigator.product,URL=self.URL,r=t?"http://localhost":self.location?self.location.protocol+"//"+self.location.host:"";class n{constructor(e="",t=r){this.super=new URL(e,t),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(e){this.super.hash=e}set host(e){this.super.host=e}set hostname(e){this.super.hostname=e}set href(e){this.super.href=e}set password(e){this.super.password=e}set pathname(e){this.super.pathname=e}set port(e){this.super.port=e}set protocol(e){this.super.protocol=e}set search(e){this.super.search=e}set username(e){this.super.username=e}static createObjectURL(e){return URL.createObjectURL(e)}static revokeObjectURL(e){URL.revokeObjectURL(e)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}}e.exports={URLWithLegacySupport:n,URLSearchParams:self.URLSearchParams,defaultBase:r,format:function(e){if("string"==typeof e){let t=new URL(e);return t.toString()}if(!(e instanceof URL)){let t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",s=e.search||(e.query?"?"+e.query:""),l=e.hash||"",c=e.pathname||"",u=e.path||c+s;return`${i}${t||r}${o||a+n}${u}${l}`}}}},55410:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});/*! MIT License © Sindre Sorhus */let n={},i=e=>"undefined"!=typeof self&&self&&e in self?self:"undefined"!=typeof window&&window&&e in window?window:void 0!==r.g&&r.g&&e in r.g?r.g:"undefined"!=typeof globalThis&&globalThis?globalThis:void 0;for(let e of["Headers","Request","Response","ReadableStream","fetch","AbortController","FormData"])Object.defineProperty(n,e,{get(){let t=i(e),r=t&&t[e];return"function"==typeof r?r.bind(t):r}});let o=e=>null!==e&&"object"==typeof e,a="function"==typeof n.AbortController,s="function"==typeof n.ReadableStream,l="function"==typeof n.FormData,c=(e,t)=>{let r=new n.Headers(e||{}),i=t instanceof n.Headers,o=new n.Headers(t||{});for(let[e,t]of o)i&&"undefined"===t||void 0===t?r.delete(e):r.set(e,t);return r},u=(...e)=>{let t={},r={};for(let n of e){if(Array.isArray(n))Array.isArray(t)||(t=[]),t=[...t,...n];else if(o(n)){for(let[e,r]of Object.entries(n))o(r)&&e in t&&(r=u(t[e],r)),t={...t,[e]:r};o(n.headers)&&(r=c(r,n.headers))}t.headers=r}return t},d=["get","post","put","patch","head","delete"],f={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},p=[413,429,503],h=Symbol("stop");class y extends Error{constructor(e){super(e.statusText||String(0===e.status||e.status?e.status:"Unknown response error")),this.name="HTTPError",this.response=e}}class g extends Error{constructor(e){super("Request timed out"),this.name="TimeoutError",this.request=e}}let v=e=>new Promise(t=>setTimeout(t,e)),m=(e,t,r)=>new Promise((n,i)=>{let o=setTimeout(()=>{t&&t.abort(),i(new g(e))},r.timeout);r.fetch(e).then(n).catch(i).then(()=>{clearTimeout(o)})}),b=e=>d.includes(e)?e.toUpperCase():e,_={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:p},w=(e={})=>{if("number"==typeof e)return{..._,limit:e};if(e.methods&&!Array.isArray(e.methods))throw Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw Error("retry.statusCodes must be an array");return{..._,...e,afterStatusCodes:p}};class S{constructor(e,t={}){if(this._retryCount=0,this._input=e,this._options={credentials:this._input.credentials||"same-origin",...t,headers:c(this._input.headers,t.headers),hooks:u({beforeRequest:[],beforeRetry:[],afterResponse:[]},t.hooks),method:b(t.method||this._input.method),prefixUrl:String(t.prefixUrl||""),retry:w(t.retry),throwHttpErrors:!1!==t.throwHttpErrors,timeout:void 0===t.timeout?1e4:t.timeout,fetch:t.fetch||n.fetch},"string"!=typeof this._input&&!(this._input instanceof URL||this._input instanceof n.Request))throw TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"==typeof this._input){if(this._input.startsWith("/"))throw Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(a&&(this.abortController=new n.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",()=>{this.abortController.abort()}),this._options.signal=this.abortController.signal),this.request=new n.Request(this._input,this._options),this._options.searchParams){let e="?"+new URLSearchParams(this._options.searchParams).toString(),t=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,e);(l&&this._options.body instanceof n.FormData||this._options.body instanceof URLSearchParams)&&!(this._options.headers&&this._options.headers["content-type"])&&this.request.headers.delete("content-type"),this.request=new n.Request(new n.Request(t,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new n.Request(this.request,{body:this._options.body}));let r=async()=>{if(this._options.timeout>2147483647)throw RangeError("The `timeout` option cannot be greater than 2147483647");await v(1);let e=await this._fetch();for(let t of this._options.hooks.afterResponse){let r=await t(this.request,this._options,this._decorateResponse(e.clone()));r instanceof n.Response&&(e=r)}if(this._decorateResponse(e),!e.ok&&this._options.throwHttpErrors)throw new y(e);if(this._options.onDownloadProgress){if("function"!=typeof this._options.onDownloadProgress)throw TypeError("The `onDownloadProgress` option must be a function");if(!s)throw Error("Streams are not supported in your environment. `ReadableStream` is missing.");return this._stream(e.clone(),this._options.onDownloadProgress)}return e},i=this._options.retry.methods.includes(this.request.method.toLowerCase()),o=i?this._retry(r):r();for(let[e,r]of Object.entries(f))o[e]=async()=>{this.request.headers.set("accept",this.request.headers.get("accept")||r);let n=(await o).clone();if("json"===e){if(204===n.status)return"";if(t.parseJson)return t.parseJson(await n.text())}return n[e]()};return o}_calculateRetryDelay(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof g)){if(e instanceof y){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;let t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){let e=Number(t);return(Number.isNaN(e)?e=Date.parse(t)-Date.now():e*=1e3,void 0!==this._options.retry.maxRetryAfter&&e>this._options.retry.maxRetryAfter)?0:e}if(413===e.response.status)return 0}return .3*2**(this._retryCount-1)*1e3}return 0}_decorateResponse(e){return this._options.parseJson&&(e.json=async()=>this._options.parseJson(await e.text())),e}async _retry(e){try{return await e()}catch(r){let t=Math.min(this._calculateRetryDelay(r),2147483647);if(0!==t&&this._retryCount>0){for(let e of(await v(t),this._options.hooks.beforeRetry)){let t=await e({request:this.request,options:this._options,error:r,retryCount:this._retryCount});if(t===h)return}return this._retry(e)}if(this._options.throwHttpErrors)throw r}}async _fetch(){for(let e of this._options.hooks.beforeRequest){let t=await e(this.request,this._options);if(t instanceof Request){this.request=t;break}if(t instanceof Response)return t}return!1===this._options.timeout?this._options.fetch(this.request.clone()):m(this.request.clone(),this.abortController,this._options)}_stream(e,t){let r=Number(e.headers.get("content-length"))||0,i=0;return new n.Response(new n.ReadableStream({start(n){let o=e.body.getReader();async function a(){let{done:e,value:s}=await o.read();if(e){n.close();return}if(t){i+=s.byteLength;let e=0===r?0:i/r;t({percent:e,transferredBytes:i,totalBytes:r},s)}n.enqueue(s),a()}t&&t({percent:0,transferredBytes:0,totalBytes:r},new Uint8Array),a()}}))}}let O=(...e)=>{for(let t of e)if((!o(t)||Array.isArray(t))&&void 0!==t)throw TypeError("The `options` argument must be an object");return u({},...e)},M=e=>{let t=(t,r)=>new S(t,O(e,r));for(let r of d)t[r]=(t,n)=>new S(t,O(e,n,{method:r}));return t.HTTPError=y,t.TimeoutError=g,t.create=e=>M(O(e)),t.extend=t=>M(O(e,t)),t.stop=h,t};var R=M()},98615:function(e,t,r){var n,i,o=1/0,a=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,s=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l="\ud800-\udfff",c="\\u0300-\\u036f\\ufe20-\\ufe23",u="\\u20d0-\\u20f0",d="\\u2700-\\u27bf",f="a-z\\xdf-\\xf6\\xf8-\\xff",p="A-Z\\xc0-\\xd6\\xd8-\\xde",h="\\ufe0e\\ufe0f",y="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",g="['’]",v="["+y+"]",m="["+c+u+"]",b="["+f+"]",_="[^"+l+y+"\\d+"+d+f+p+"]",w="\ud83c[\udffb-\udfff]",S="[^"+l+"]",O="(?:\ud83c[\udde6-\uddff]){2}",M="[\ud800-\udbff][\udc00-\udfff]",R="["+p+"]",P="\\u200d",E="(?:"+b+"|"+_+")",I="(?:"+g+"(?:d|ll|m|re|s|t|ve))?",x="(?:"+g+"(?:D|LL|M|RE|S|T|VE))?",A="(?:"+m+"|"+w+")?",C="["+h+"]?",j="(?:"+P+"(?:"+[S,O,M].join("|")+")"+C+A+")*",T=C+A+j,$="(?:"+["["+d+"]",O,M].join("|")+")"+T,D="(?:"+[S+m+"?",m,O,M,"["+l+"]"].join("|")+")",N=RegExp(g,"g"),k=RegExp(m,"g"),B=RegExp(w+"(?="+w+")|"+D+T,"g"),F=RegExp([R+"?"+b+"+"+I+"(?="+[v,R,"$"].join("|")+")","(?:"+R+"|"+_+")+"+x+"(?="+[v,R+E,"$"].join("|")+")",R+"?"+E+"+"+I,R+"+"+x,"\\d+",$].join("|"),"g"),L=RegExp("["+P+l+c+u+h+"]"),U=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,V="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,K="object"==typeof self&&self&&self.Object===Object&&self,W=V||K||Function("return this")(),J=(n={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"ss"},function(e){return null==n?void 0:n[e]}),H=Object.prototype.toString,Symbol=W.Symbol,q=Symbol?Symbol.prototype:void 0,Z=q?q.toString:void 0;function G(e){return null==e?"":function(e){if("string"==typeof e)return e;if("symbol"==typeof(t=e)||t&&"object"==typeof t&&"[object Symbol]"==H.call(t))return Z?Z.call(e):"";var t,r=e+"";return"0"==r&&1/e==-o?"-0":r}(e)}var z=(i=function(e,t,r){return e+(r?" ":"")+Y(t)},function(e){var t;return function(e,t,r,n){for(var i=-1,o=e?e.length:0;++i<o;)r=t(r,e[i],i,e);return r}(function(e,t,r){if(e=G(e),void 0===t){var n;return(n=e,U.test(n))?e.match(F)||[]:e.match(a)||[]}return e.match(t)||[]}(((t=G(t=e))&&t.replace(s,J).replace(k,"")).replace(N,"")),i,"")}),Y=function(e){var t,r,n,i,o=(r=e=G(e),L.test(r))?(t=e,L.test(t)?t.match(B)||[]:t.split("")):void 0,a=o?o[0]:e.charAt(0),s=o?(i=o.length,function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(o,1,n=void 0===n?i:n)).join(""):e.slice(1);return a.toUpperCase()+s};e.exports=z},36134:function(e,t,r){"use strict";let n=r(79584),i=Symbol("max"),o=Symbol("length"),a=Symbol("lengthCalculator"),s=Symbol("allowStale"),l=Symbol("maxAge"),c=Symbol("dispose"),u=Symbol("noDisposeOnSet"),d=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),h=()=>1;class y{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw TypeError("max must be a non-negative number");this[i]=e.max||1/0;let t=e.length||h;if(this[a]="function"!=typeof t?h:t,this[s]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw TypeError("maxAge must be a number");this[l]=e.maxAge||0,this[c]=e.dispose,this[u]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw TypeError("max must be a non-negative number");this[i]=e||1/0,m(this)}get max(){return this[i]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if("number"!=typeof e)throw TypeError("maxAge must be a non-negative number");this[l]=e,m(this)}get maxAge(){return this[l]}set lengthCalculator(e){"function"!=typeof e&&(e=h),e!==this[a]&&(this[a]=e,this[o]=0,this[d].forEach(e=>{e.length=this[a](e.value,e.key),this[o]+=e.length})),m(this)}get lengthCalculator(){return this[a]}get length(){return this[o]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let r=this[d].tail;null!==r;){let n=r.prev;w(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[d].head;null!==r;){let n=r.next;w(this,e,r,t),r=n}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){this[c]&&this[d]&&this[d].length&&this[d].forEach(e=>this[c](e.key,e.value)),this[f]=new Map,this[d]=new n,this[o]=0}dump(){return this[d].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){if((r=r||this[l])&&"number"!=typeof r)throw TypeError("maxAge must be a number");let n=r?Date.now():0,s=this[a](t,e);if(this[f].has(e)){if(s>this[i])return b(this,this[f].get(e)),!1;let a=this[f].get(e),l=a.value;return this[c]&&!this[u]&&this[c](e,l.value),l.now=n,l.maxAge=r,l.value=t,this[o]+=s-l.length,l.length=s,this.get(e),m(this),!0}let p=new _(e,t,s,n,r);return p.length>this[i]?(this[c]&&this[c](e,t),!1):(this[o]+=p.length,this[d].unshift(p),this[f].set(e,this[d].head),m(this),!0)}has(e){if(!this[f].has(e))return!1;let t=this[f].get(e).value;return!v(this,t)}get(e){return g(this,e,!0)}peek(e){return g(this,e,!1)}pop(){let e=this[d].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[f].get(e))}load(e){this.reset();let t=Date.now();for(let r=e.length-1;r>=0;r--){let n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{let e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[f].forEach((e,t)=>g(this,t,!1))}}let g=(e,t,r)=>{let n=e[f].get(t);if(n){let t=n.value;if(v(e,t)){if(b(e,n),!e[s])return}else r&&(e[p]&&(n.value.now=Date.now()),e[d].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[l])return!1;let r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]},m=e=>{if(e[o]>e[i])for(let t=e[d].tail;e[o]>e[i]&&null!==t;){let r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){let r=t.value;e[c]&&e[c](r.key,r.value),e[o]-=r.length,e[f].delete(r.key),e[d].removeNode(t)}};class _{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}let w=(e,t,r,n)=>{let i=r.value;v(e,i)&&(b(e,r),e[s]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};e.exports=y},44400:function(e,t){!function(e){let t=Symbol("newer"),r=Symbol("older");class n{constructor(e,t){"number"!=typeof e&&(t=e,e=0),this.size=0,this.limit=e,this.oldest=this.newest=void 0,this._keymap=new Map,t&&(this.assign(t),e<1&&(this.limit=this.size))}_markEntryAsUsed(e){e!==this.newest&&(e[t]&&(e===this.oldest&&(this.oldest=e[t]),e[t][r]=e[r]),e[r]&&(e[r][t]=e[t]),e[t]=void 0,e[r]=this.newest,this.newest&&(this.newest[t]=e),this.newest=e)}assign(e){let n,o=this.limit||Number.MAX_VALUE;this._keymap.clear();let a=e[Symbol.iterator]();for(let e=a.next();!e.done;e=a.next()){let a=new i(e.value[0],e.value[1]);if(this._keymap.set(a.key,a),n?(n[t]=a,a[r]=n):this.oldest=a,n=a,0==o--)throw Error("overflow")}this.newest=n,this.size=this._keymap.size}get(e){var t=this._keymap.get(e);return t?(this._markEntryAsUsed(t),t.value):void 0}set(e,n){var o=this._keymap.get(e);return o?(o.value=n,this._markEntryAsUsed(o)):(this._keymap.set(e,o=new i(e,n)),this.newest?(this.newest[t]=o,o[r]=this.newest):this.oldest=o,this.newest=o,++this.size,this.size>this.limit&&this.shift()),this}shift(){var e=this.oldest;if(e)return this.oldest[t]?(this.oldest=this.oldest[t],this.oldest[r]=void 0):(this.oldest=void 0,this.newest=void 0),e[t]=e[r]=void 0,this._keymap.delete(e.key),--this.size,[e.key,e.value]}find(e){let t=this._keymap.get(e);return t?t.value:void 0}has(e){return this._keymap.has(e)}delete(e){var n=this._keymap.get(e);return n?(this._keymap.delete(n.key),n[t]&&n[r]?(n[r][t]=n[t],n[t][r]=n[r]):n[t]?(n[t][r]=void 0,this.oldest=n[t]):n[r]?(n[r][t]=void 0,this.newest=n[r]):this.oldest=this.newest=void 0,this.size--,n.value):void 0}clear(){this.oldest=this.newest=void 0,this.size=0,this._keymap.clear()}keys(){return new a(this.oldest)}values(){return new s(this.oldest)}entries(){return this}[Symbol.iterator](){return new o(this.oldest)}forEach(e,r){"object"!=typeof r&&(r=this);let n=this.oldest;for(;n;)e.call(r,n.value,n.key,this),n=n[t]}toJSON(){for(var e=Array(this.size),r=0,n=this.oldest;n;)e[r++]={key:n.key,value:n.value},n=n[t];return e}toString(){for(var e="",r=this.oldest;r;)e+=String(r.key)+":"+r.value,(r=r[t])&&(e+=" < ");return e}}function i(e,n){this.key=e,this.value=n,this[t]=void 0,this[r]=void 0}function o(e){this.entry=e}function a(e){this.entry=e}function s(e){this.entry=e}e.LRUMap=n,o.prototype[Symbol.iterator]=function(){return this},o.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:[e.key,e.value]}):{done:!0,value:void 0}},a.prototype[Symbol.iterator]=function(){return this},a.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.key}):{done:!0,value:void 0}},s.prototype[Symbol.iterator]=function(){return this},s.prototype.next=function(){let e=this.entry;return e?(this.entry=e[t],{done:!1,value:e.value}):{done:!0,value:void 0}}}(t)},73725:function(e,t){"use strict";var r="undefined"!=typeof Reflect?Reflect.construct:void 0,n=Object.defineProperty,i=Error.captureStackTrace;function o(e){void 0!==e&&n(this,"message",{configurable:!0,value:e,writable:!0});var t=this.constructor.name;void 0!==t&&t!==this.name&&n(this,"name",{configurable:!0,value:t,writable:!0}),i(this,this.constructor)}void 0===i&&(i=function(e){var t=Error();n(e,"stack",{configurable:!0,get:function(){var e=t.stack;return n(this,"stack",{configurable:!0,value:e,writable:!0}),e},set:function(t){n(e,"stack",{configurable:!0,value:t,writable:!0})}})}),o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var a=function(){function e(e,t){return n(e,"name",{configurable:!0,value:t})}try{var t=function(){};if(e(t,"foo"),"foo"===t.name)return e}catch(e){}}();(e.exports=function(e,t){if(null==t||t===Error)t=o;else if("function"!=typeof t)throw TypeError("super_ should be a function");if("string"==typeof e)n=e,e=void 0!==r?function(){return r(t,arguments,this.constructor)}:function(){t.apply(this,arguments)},void 0!==a&&(a(e,n),n=void 0);else if("function"!=typeof e)throw TypeError("constructor should be either a string or a function");e.super_=e.super=t;var n,i={constructor:{configurable:!0,value:e,writable:!0}};return void 0!==n&&(i.name={configurable:!0,value:n,writable:!0}),e.prototype=Object.create(t.prototype,i),e}).BaseError=o},62601:function(e,t,r){"use strict";var n,i;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(i=r.g.process)?void 0:i.env)?r.g.process:r(58960)},17795:function(e){!function(){"use strict";var t={864:function(e){var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,o,{once:!0}),"error"!==t&&"function"==typeof e.on&&y(e,"error",i,{once:!0})})},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){if(s(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),a=o[t]),void 0===a)a=o[t]=r,++e._eventsCount;else if("function"==typeof a?a=o[t]=n?[r,a]:[a,r]:n?a.unshift(r):a.push(r),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var i,o,a,c=Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function f(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function h(e,t){for(var r=Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else if("function"==typeof e.addEventListener)e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var a,s=Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else for(var c=l.length,u=h(l,c),r=0;r<c;++r)n(u[r],this,t);return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,a;if(s(t),void 0===(n=this._events)||void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){a=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0==arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(864);e.exports=i}()},83104:function(e,t,r){!function(){var t={528:function(e,t,r){var n=r(685),i=r(310),o=e.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=s(e),n.request.call(this,e,t)},o.get=function(e,t){return e=s(e),n.get.call(this,e,t)}},685:function(e){"use strict";e.exports=r(72909)},310:function(e){"use strict";e.exports=r(40692)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,i),a=!1}finally{a&&delete n[e]}return o.exports}i.ab="//";var o=i(528);e.exports=o}()},40692:function(e,t,r){!function(){var t={452:function(e){"use strict";e.exports=r(9875)}},n={};function i(e){var r=n[e];if(void 0!==r)return r.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,i),a=!1}finally{a&&delete n[e]}return o.exports}i.ab="//";var o={};!function(){var e,t=(e=i(452))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function n(e){"string"==typeof e&&(e=v(e));var n,i,o,a,s,l,c,u,d,f=(i=(n=e).auth,o=n.hostname,a=n.protocol||"",s=n.pathname||"",l=n.hash||"",c=n.query||"",u=!1,i=i?encodeURIComponent(i).replace(/%3A/i,":")+"@":"",n.host?u=i+n.host:o&&(u=i+(~o.indexOf(":")?"["+o+"]":o),n.port&&(u+=":"+n.port)),c&&"object"==typeof c&&(c=t.encode(c)),d=n.search||c&&"?"+c||"",a&&":"!==a.substr(-1)&&(a+=":"),n.slashes||(!a||r.test(a))&&!1!==u?(u="//"+(u||""),s&&"/"!==s[0]&&(s="/"+s)):u||(u=""),l&&"#"!==l[0]&&(l="#"+l),d&&"?"!==d[0]&&(d="?"+d),{protocol:a,host:u,pathname:s=s.replace(/[?#]/g,encodeURIComponent),search:d=d.replace("#","%23"),hash:l});return""+f.protocol+f.host+f.pathname+f.search+f.hash}var a="http://",s=a+"w.w",l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,c=/https?|ftp|gopher|file/;function u(e,t){var r="string"==typeof e?v(e):e;e="object"==typeof e?n(e):e;var i=v(t),o="";r.protocol&&!r.slashes&&(o=r.protocol,e=e.replace(r.protocol,""),o+="/"===t[0]||"/"===e[0]?"/":""),o&&i.protocol&&(o="",i.slashes||(o=i.protocol,t=t.replace(i.protocol,"")));var u=e.match(l);u&&!i.protocol&&(e=e.substr((o=u[1]+(u[2]||"")).length),/^\/\/[^/]/.test(t)&&(o=o.slice(0,-1)));var d=new URL(e,s+"/"),f=new URL(t,d).toString().replace(s,""),p=i.protocol||r.protocol;return p+=r.slashes||i.slashes?"//":"",!o&&p?f=f.replace(a,p):o&&(f=f.replace(a,"")),c.test(f)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==f.slice(-1)||(f=f.slice(0,-1)),o&&(f=o+("/"===f[0]?f.substr(1):f)),f}function d(){}d.prototype.parse=v,d.prototype.format=n,d.prototype.resolve=u,d.prototype.resolveObject=u;var f=/^https?|ftp|gopher|file/,p=/^(.*?)([#?].*)/,h=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,y=/^([a-z0-9.+-]*:)?\/\/\/*/i,g=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function v(e,r,i){if(void 0===r&&(r=!1),void 0===i&&(i=!1),e&&"object"==typeof e&&e instanceof d)return e;var o=(e=e.trim()).match(p);e=o?o[1].replace(/\\/g,"/")+o[2]:e.replace(/\\/g,"/"),g.test(e)&&"/"!==e.slice(-1)&&(e+="/");var a=!/(^javascript)/.test(e)&&e.match(h),l=y.test(e),c="";a&&(f.test(a[1])||(c=a[1].toLowerCase(),e=""+a[2]+a[3]),a[2]||(l=!1,f.test(a[1])?(c=a[1],e=""+a[3]):e="//"+a[3]),3!==a[2].length&&1!==a[2].length||(c=a[1],e="/"+a[3]));var u,v=(o?o[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),m=v&&v[1],b=new d,_="",w="";try{u=new URL(e)}catch(t){_=t,c||i||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(w="/",e=e.substr(1));try{u=new URL(e,s)}catch(e){return b.protocol=c,b.href=c,b}}b.slashes=l&&!w,b.host="w.w"===u.host?"":u.host,b.hostname="w.w"===u.hostname?"":u.hostname.replace(/(\[|\])/g,""),b.protocol=_?c||null:u.protocol,b.search=u.search.replace(/\\/g,"%5C"),b.hash=u.hash.replace(/\\/g,"%5C");var S=e.split("#");!b.search&&~S[0].indexOf("?")&&(b.search="?"),b.hash||""!==S[1]||(b.hash="#"),b.query=r?t.decode(u.search.substr(1)):b.search.substr(1),b.pathname=w+(a?u.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,t){try{return decodeURIComponent(t).split("").map(function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()}).join("")}catch(e){return t}}):u.pathname),"about:"===b.protocol&&"blank"===b.pathname&&(b.protocol="",b.pathname=""),_&&"/"!==e[0]&&(b.pathname=b.pathname.substr(1)),c&&!f.test(c)&&"/"!==e.slice(-1)&&"/"===b.pathname&&(b.pathname=""),b.path=b.pathname+b.search,b.auth=[u.username,u.password].map(decodeURIComponent).filter(Boolean).join(":"),b.port=u.port,m&&!b.host.endsWith(m)&&(b.host+=m,b.port=m.slice(1)),b.href=w?""+b.pathname+b.search+b.hash:n(b);var O=/^(file)/.test(b.href)?["host","hostname"]:[];return Object.keys(b).forEach(function(e){~O.indexOf(e)||(b[e]=b[e]||null)}),b}o.parse=v,o.format=n,o.resolve=u,o.resolveObject=function(e,t){return v(u(e,t))},o.Url=d}(),e.exports=o}()},58960:function(e){!function(){var t={229:function(e){var t,r,n,i=e.exports={};function o(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l=[],c=!1,u=-1;function d(){c&&n&&(c=!1,n.length?l=n.concat(l):u=-1,l.length&&f())}function f(){if(!c){var e=s(d);c=!0;for(var t=l.length;t;){for(n=l,l=[];++u<t;)n&&n[u].run();u=-1,t=l.length}n=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function h(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new p(e,t)),1!==l.length||c||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=h,i.addListener=h,i.once=h,i.off=h,i.removeListener=h,i.removeAllListeners=h,i.emit=h,i.prependListener=h,i.prependOnceListener=h,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i=n(229);e.exports=i}()},9875:function(e){!function(){"use strict";var t={815:function(e){e.exports=function(e,r,n,i){r=r||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(r);var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,d,f,p,h=e[c].replace(a,"%20"),y=h.indexOf(n);(y>=0?(u=h.substr(0,y),d=h.substr(y+1)):(u=h,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),Object.prototype.hasOwnProperty.call(o,f))?t(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,o,a,s){return(o=o||"&",a=a||"=",null===e&&(e=void 0),"object"==typeof e)?n(i(e),function(i){var s=encodeURIComponent(t(i))+a;return r(e[i])?n(e[i],function(e){return s+encodeURIComponent(t(e))}).join(o):s+encodeURIComponent(t(e[i]))}).join(o):s?encodeURIComponent(t(s))+a+encodeURIComponent(t(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var i=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,n),a=!1}finally{a&&delete r[e]}return o.exports}n.ab="//";var i={};i.decode=i.parse=n(815),i.encode=i.stringify=n(577),e.exports=i}()},48290:function(e,t,r){var n=r(62601);!function(){var t={782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super("string"==typeof r?r:r(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){var i,o,a,s,l;let c,u;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(c="must not be",t=t.replace(/^not /,"")):c="must be",a=" argument",(void 0===s||s>e.length)&&(s=e.length),e.substring(s-a.length,s)===a)u=`The ${e} ${c} ${n(t,"type")}`;else{let r=("number"!=typeof l&&(l=0),l+1>e.length||-1===e.indexOf(".",l))?"argument":"property";u=`The "${e}" ${r} ${c} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var o=r(709),a=r(337);r(782)(u,o);for(var s=i(a.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,i){"use strict";e.exports=P,P.ReadableState=R,i(361).EventEmitter;var o,a,s,l,c,u=function(e,t){return e.listeners(t).length},d=i(678),f=i(300).Buffer,p=r.g.Uint8Array||function(){},h=i(837);a=h&&h.debuglog?h.debuglog("stream"):function(){};var y=i(379),g=i(25),v=i(776).getHighWaterMark,m=i(646).q,b=m.ERR_INVALID_ARG_TYPE,_=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(P,d);var O=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function R(e,t,r){o=o||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(o=o||i(403),!(this instanceof P))return new P(e);var t=this instanceof o;this._readableState=new R(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),d.call(this)}function E(e,t,r,n,i){a("readableAddChunk",t);var o,s,l,c,u,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}}(e,d);else{if(i||(o=d,s=t,f.isBuffer(s)||s instanceof p||"string"==typeof s||void 0===s||o.objectMode||(l=new b("chunk",["string","Buffer","Uint8Array"],s)),u=l),u)O(e,u);else if(d.objectMode||t&&t.length>0){if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===f.prototype||(c=t,t=f.from(c)),n)d.endEmitted?O(e,new S):I(e,d,t,!0);else if(d.ended)O(e,new _);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?I(e,d,t,!1):j(e,d)):I(e,d,t,!1)}}else n||(d.reading=!1,j(e,d))}return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),j(e,t)}function x(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(C,e))}function C(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,k(e)}function j(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function $(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){a("readable nexttick read 0"),e.read(0)}function N(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function F(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(L,t,e))}function L(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=g.destroy,P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},P.prototype.unshift=function(e){return E(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=i(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},P.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?F(this):A(this),null;if(0===(e=x(e,r))&&r.ended)return 0===r.length&&F(this),null;var i=r.needReadable;return a("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",i=!0),r.ended||r.reading?a("reading or ended",i=!1):i&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=x(n,r))),null===(t=e>0?B(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&F(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){O(this,new w("_read()"))},P.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){a("onend"),e.end()}i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(){var e=r._readableState;a("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&u(r,"data")&&(e.flowing=!0,k(r))};e.on("drain",l);var c=!1;function d(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!c&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(t){a("onerror",t),y(),e.removeListener("error",f),0===u(e,"error")&&O(e,t)}function p(){e.removeListener("finish",h),y()}function h(){a("onfinish"),e.removeListener("close",p),y()}function y(){a("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",h),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||n.nextTick(D,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=d.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick($,this),r},P.prototype.removeAllListeners=function(e){var t=d.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick($,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(N,this,e))),e.paused=!1,this},P.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<M.length;o++)e.on(M[o],this.emit.bind(this,M[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(871)),l(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=B,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===c&&(c=i(727)),c(P,e,t)})},170:function(e,t,r){"use strict";e.exports=u;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(403);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=P,P.WritableState=R;var a,s,l={deprecate:i(769)},c=i(678),u=i(300).Buffer,d=r.g.Uint8Array||function(){},f=i(25),p=i(776).getHighWaterMark,h=i(646).q,y=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,O=f.errorOrDestroy;function M(){}function R(e,t,r){a=a||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(n.nextTick(o,t),n.nextTick(j,e,r),e._writableState.errorEmitted=!0,O(e,t)):(o(t),e._writableState.errorEmitted=!0,O(e,t),j(e,r));else{var a=A(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),i?n.nextTick(I,e,r,a,o):I(e,r,a,o)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(e){var t=this instanceof(a=a||i(403));if(!t&&!s.call(P,this))return new P(e);this._writableState=new R(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function E(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function I(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),j(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,E(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=t.objectMode?1:l.length;if(E(e,t,!1,d,l,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(r){t.pendingcb--,r&&O(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)})}function j(e,t){var r=A(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}i(782)(P,c),R.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(R.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===P&&e&&e._writableState instanceof R}})):s=function(e){return e instanceof this},P.prototype.pipe=function(){O(this,new m)},P.prototype.write=function(e,t,r){var i,o,a,s,l,c,f,p=this._writableState,h=!1,g=!p.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return g&&!u.isBuffer(e)&&(o=e,e=u.from(o)),("function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof r&&(r=M),p.ending)?(a=r,O(this,s=new w),n.nextTick(a,s)):(g||(l=e,c=r,null===l?f=new _:"string"==typeof l||p.objectMode||(f=new y("chunk",["string","Buffer"],l)),!f||(O(this,f),n.nextTick(c,f),0)))&&(p.pendingcb++,h=function(e,t,r,n,i,o){if(!r){var a,s,l=(a=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=u.from(a,s)),a);n!==l&&(r=!0,i="buffer",n=l)}var c=t.objectMode?1:n.length;t.length+=c;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,i,o);return d}(this,p,g,e,t,r)),h},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,r){r(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,r){var i,o=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||(i=r,o.ending=!0,j(this,o),i&&(o.finished?n.nextTick(i):this.once("finish",i)),o.ended=!0,this.writable=!1),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function y(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[d]=null,e[s]=null,e[l]=null,t(h(r,!1)))}}function g(e){n.nextTick(y,e)}var v=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(o={get stream(){return this[p]},next:function(){var e,t,r=this,i=this[c];if(null!==i)return Promise.reject(i);if(this[u])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,t){n.nextTick(function(){r[c]?t(r[c]):e(h(void 0,!0))})});var o=this[d];if(o)t=new Promise((e=this,function(t,r){o.then(function(){if(e[u]){t(h(void 0,!0));return}e[f](t,r)},r)}));else{var a=this[p].read();if(null!==a)return Promise.resolve(h(a,!1));t=new Promise(this[f])}return this[d]=t,t}},Symbol.asyncIterator,function(){return this}),i(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(h(void 0,!0))})})}),o),v);e.exports=function(e){var t,r=Object.create(m,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[p].read();n?(r[d]=null,r[s]=null,r[l]=null,e(h(n,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[d]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[d]=null,r[s]=null,r[l]=null,t(e)),r[c]=e;return}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[l]=null,n(h(void 0,!0))),r[u]=!0}),e.on("readable",g.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(300).Buffer,a=r(837).inspect,s=a&&a.custom||"inspect";e.exports=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n=o.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=a,o.prototype.copy.call(t,n,r),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}],i(r.prototype,e),t&&i(r,t),r}()},25:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?n.nextTick(r,a):(a._writableState.errorEmitted=!0,n.nextTick(t,a,e)):n.nextTick(t,a,e):o?(n.nextTick(r,a),o(e)):n.nextTick(r,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),a=o||i,s=!1,o=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.apply(this,t)}};var a,s,l=r.readable||!1!==r.readable&&t.readable,c=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},d=t._writableState&&t._writableState.finished,f=function(){c=!1,d=!0,l||o.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){l=!1,p=!0,c||o.call(t)},y=function(e){o.call(t,e)},g=function(){var e;return l&&!p?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):c&&!d?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},v=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",g),t.req?v():t.on("request",v)):c&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",f),!1!==r.error&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",v),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var o=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])a=t[Symbol.iterator]();else throw new o("iterable",["Iterable"],t);var a,s=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objectMode:!0},r)),l=!1;function c(){return u.apply(this,arguments)}function u(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?s.push(null):s.push((yield t))?c():l=!1}catch(e){s.destroy(e)}},(u=function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}return s._read=function(){l||(l=!0,c())},s}},442:function(e,t,r){"use strict";var n,i=r(646).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];var f=(e=u).length&&"function"==typeof e[e.length-1]?e.pop():s;if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new o("streams");var p=u.map(function(e,i){var o,s,c,d,h,y=i<u.length-1;return s=o=function(e){t||(t=e),e&&p.forEach(l),y||(p.forEach(l),f(t))},c=!1,o=function(){c||(c=!0,s.apply(void 0,arguments))},d=!1,e.on("close",function(){d=!0}),void 0===n&&(n=r(698)),n(e,{readable:y,writable:i>0},function(e){if(e)return o(e);d=!0,o()}),h=!1,function(t){if(!d&&!h){if(h=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new a("pipe"))}}});return u.reduce(c)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},173:function(e,t,r){e.exports=i;var n=r(361).EventEmitter;function i(){n.call(this)}r(782)(i,n),i.Readable=r(709),i.Writable=r(337),i.Duplex=r(403),i.Transform=r(170),i.PassThrough=r(889),i.finished=r(698),i.pipeline=r(442),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",s),r.on("close",l));var a=!1;function s(){a||(a=!0,e.end())}function l(){a||(a=!0,"function"==typeof e.destroy&&e.destroy())}function c(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",s),r.removeListener("close",l),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",u),r.removeListener("close",u),e.removeListener("close",u)}return r.on("error",c),e.on("error",c),r.on("end",u),r.on("close",u),e.on("close",u),e.emit("pipe",r),e}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:this.write=f,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){e.exports=function(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}};function t(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}},300:function(e){"use strict";e.exports=r(67133)},361:function(e){"use strict";e.exports=r(17795)},781:function(e){"use strict";e.exports=r(17795).EventEmitter},837:function(e){"use strict";e.exports=r(15647)}},i={};function o(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,o),a=!1}finally{a&&delete i[e]}return n.exports}o.ab="//";var a=o(173);e.exports=a}()},72909:function(e,t,r){var n=r(62601),i=r(67133).Buffer;!function(){var t={523:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},646:function(e){"use strict";let t={};function r(e,r,n){n||(n=Error);class i extends n{constructor(e,t,n){super("string"==typeof r?r:r(e,t,n))}}i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(!Array.isArray(e))return`of ${t} ${String(e)}`;{let r=e.length;return(e=e.map(e=>String(e)),r>2)?`one of ${t} ${e.slice(0,r-1).join(", ")}, or `+e[r-1]:2===r?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}}r("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(e,t,r){var i,o,a,s,l;let c,u;if("string"==typeof t&&(i="not ",t.substr(!o||o<0?0:+o,i.length)===i)?(c="must not be",t=t.replace(/^not /,"")):c="must be",a=" argument",(void 0===s||s>e.length)&&(s=e.length),e.substring(s-a.length,s)===a)u=`The ${e} ${c} ${n(t,"type")}`;else{let r=("number"!=typeof l&&(l=0),l+1>e.length||-1===e.indexOf(".",l))?"argument":"property";u=`The "${e}" ${r} ${c} ${n(t,"type")}`}return u+`. Received type ${typeof r}`},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},403:function(e,t,r){"use strict";var i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=u;var o=r(709),a=r(337);r(782)(u,o);for(var s=i(a.prototype),l=0;l<s.length;l++){var c=s[l];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||n.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(u.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(u.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(u.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},889:function(e,t,r){"use strict";e.exports=i;var n=r(170);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(782)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},709:function(e,t,i){"use strict";e.exports=P,P.ReadableState=R,i(361).EventEmitter;var o,a,s,l,c,u=function(e,t){return e.listeners(t).length},d=i(678),f=i(300).Buffer,p=r.g.Uint8Array||function(){},h=i(837);a=h&&h.debuglog?h.debuglog("stream"):function(){};var y=i(379),g=i(25),v=i(776).getHighWaterMark,m=i(646).q,b=m.ERR_INVALID_ARG_TYPE,_=m.ERR_STREAM_PUSH_AFTER_EOF,w=m.ERR_METHOD_NOT_IMPLEMENTED,S=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(782)(P,d);var O=g.errorOrDestroy,M=["error","close","destroy","pause","resume"];function R(e,t,r){o=o||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof o),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=v(this,e,"readableHighWaterMark",r),this.buffer=new y,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(s||(s=i(704).s),this.decoder=new s(e.encoding),this.encoding=e.encoding)}function P(e){if(o=o||i(403),!(this instanceof P))return new P(e);var t=this instanceof o;this._readableState=new R(e,this,t),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy&&(this._destroy=e.destroy)),d.call(this)}function E(e,t,r,n,i){a("readableAddChunk",t);var o,s,l,c,u,d=e._readableState;if(null===t)d.reading=!1,function(e,t){if(a("onEofChunk"),!t.ended){if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?A(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,C(e)))}}(e,d);else{if(i||(o=d,s=t,f.isBuffer(s)||s instanceof p||"string"==typeof s||void 0===s||o.objectMode||(l=new b("chunk",["string","Buffer","Uint8Array"],s)),u=l),u)O(e,u);else if(d.objectMode||t&&t.length>0){if("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===f.prototype||(c=t,t=f.from(c)),n)d.endEmitted?O(e,new S):I(e,d,t,!0);else if(d.ended)O(e,new _);else{if(d.destroyed)return!1;d.reading=!1,d.decoder&&!r?(t=d.decoder.write(t),d.objectMode||0!==t.length?I(e,d,t,!1):j(e,d)):I(e,d,t,!1)}}else n||(d.reading=!1,j(e,d))}return!d.ended&&(d.length<d.highWaterMark||0===d.length)}function I(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&A(e)),j(e,t)}function x(e,t){if(e<=0||0===t.length&&t.ended)return 0;if(t.objectMode)return 1;if(e!=e)return t.flowing&&t.length?t.buffer.head.data.length:t.length;if(e>t.highWaterMark){var r;t.highWaterMark=((r=e)>=1073741824?r=1073741824:(r--,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r++),r)}return e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0)}function A(e){var t=e._readableState;a("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(a("emitReadable",t.flowing),t.emittedReadable=!0,n.nextTick(C,e))}function C(e){var t=e._readableState;a("emitReadable_",t.destroyed,t.length,t.ended),!t.destroyed&&(t.length||t.ended)&&(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,k(e)}function j(e,t){t.readingMore||(t.readingMore=!0,n.nextTick(T,e,t))}function T(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(a("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function $(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function D(e){a("readable nexttick read 0"),e.read(0)}function N(e,t){a("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),k(e),t.flowing&&!t.reading&&e.read(0)}function k(e){var t=e._readableState;for(a("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){var r;return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r)}function F(e){var t=e._readableState;a("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,n.nextTick(L,t,e))}function L(e,t){if(a("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),P.prototype.destroy=g.destroy,P.prototype._undestroy=g.undestroy,P.prototype._destroy=function(e,t){t(e)},P.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=f.from(e,t),t=""),r=!0),E(this,e,t,!1,r)},P.prototype.unshift=function(e){return E(this,e,null,!0,!1)},P.prototype.isPaused=function(){return!1===this._readableState.flowing},P.prototype.setEncoding=function(e){s||(s=i(704).s);var t=new s(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var r=this._readableState.buffer.head,n="";null!==r;)n+=t.write(r.data),r=r.next;return this._readableState.buffer.clear(),""!==n&&this._readableState.buffer.push(n),this._readableState.length=n.length,this},P.prototype.read=function(e){a("read",e),e=parseInt(e,10);var t,r=this._readableState,n=e;if(0!==e&&(r.emittedReadable=!1),0===e&&r.needReadable&&((0!==r.highWaterMark?r.length>=r.highWaterMark:r.length>0)||r.ended))return a("read: emitReadable",r.length,r.ended),0===r.length&&r.ended?F(this):A(this),null;if(0===(e=x(e,r))&&r.ended)return 0===r.length&&F(this),null;var i=r.needReadable;return a("need readable",i),(0===r.length||r.length-e<r.highWaterMark)&&a("length less than watermark",i=!0),r.ended||r.reading?a("reading or ended",i=!1):i&&(a("do read"),r.reading=!0,r.sync=!0,0===r.length&&(r.needReadable=!0),this._read(r.highWaterMark),r.sync=!1,r.reading||(e=x(n,r))),null===(t=e>0?B(e,r):null)?(r.needReadable=r.length<=r.highWaterMark,e=0):(r.length-=e,r.awaitDrain=0),0===r.length&&(r.ended||(r.needReadable=!0),n!==e&&r.ended&&F(this)),null!==t&&this.emit("data",t),t},P.prototype._read=function(e){O(this,new w("_read()"))},P.prototype.pipe=function(e,t){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,a("pipe count=%d opts=%j",i.pipesCount,t);var o=t&&!1===t.end||e===n.stdout||e===n.stderr?y:s;function s(){a("onend"),e.end()}i.endEmitted?n.nextTick(o):r.once("end",o),e.on("unpipe",function t(n,o){a("onunpipe"),n===r&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,a("cleanup"),e.removeListener("close",p),e.removeListener("finish",h),e.removeListener("drain",l),e.removeListener("error",f),e.removeListener("unpipe",t),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),c=!0,i.awaitDrain&&(!e._writableState||e._writableState.needDrain)&&l())});var l=function(){var e=r._readableState;a("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&u(r,"data")&&(e.flowing=!0,k(r))};e.on("drain",l);var c=!1;function d(t){a("ondata");var n=e.write(t);a("dest.write",n),!1===n&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!c&&(a("false write response, pause",i.awaitDrain),i.awaitDrain++),r.pause())}function f(t){a("onerror",t),y(),e.removeListener("error",f),0===u(e,"error")&&O(e,t)}function p(){e.removeListener("finish",h),y()}function h(){a("onfinish"),e.removeListener("close",p),y()}function y(){a("unpipe"),r.unpipe(e)}return r.on("data",d),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",f),e.once("close",p),e.once("finish",h),e.emit("pipe",r),i.flowing||(a("pipe resume"),r.resume()),e},P.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=U(t.pipes,e);return -1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},P.prototype.on=function(e,t){var r=d.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"!==e||i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,a("on readable",i.length,i.reading),i.length?A(this):i.reading||n.nextTick(D,this)),r},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(e,t){var r=d.prototype.removeListener.call(this,e,t);return"readable"===e&&n.nextTick($,this),r},P.prototype.removeAllListeners=function(e){var t=d.prototype.removeAllListeners.apply(this,arguments);return("readable"===e||void 0===e)&&n.nextTick($,this),t},P.prototype.resume=function(){var e=this._readableState;return e.flowing||(a("resume"),e.flowing=!e.readableListening,e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(N,this,e))),e.paused=!1,this},P.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},P.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(a("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){a("wrapped data"),r.decoder&&(i=r.decoder.write(i)),(!r.objectMode||null!=i)&&(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<M.length;o++)e.on(M[o],this.emit.bind(this,M[o]));return this._read=function(t){a("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(P.prototype[Symbol.asyncIterator]=function(){return void 0===l&&(l=i(871)),l(this)}),Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(P.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(P.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),P._fromList=B,Object.defineProperty(P.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(P.from=function(e,t){return void 0===c&&(c=i(727)),c(P,e,t)})},170:function(e,t,r){"use strict";e.exports=u;var n=r(646).q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,a=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=n.ERR_TRANSFORM_WITH_LENGTH_0,l=r(403);function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function u(e){if(!(this instanceof u))return new u(e);l.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",d)}function d(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?f(this,null,null):this._flush(function(t,r){f(e,t,r)})}function f(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}r(782)(u,l),u.prototype.push=function(e,t){return this._transformState.needTransform=!1,l.prototype.push.call(this,e,t)},u.prototype._transform=function(e,t,r){r(new i("_transform()"))},u.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},u.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},u.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})}},337:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){(function(e,t,r){var n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree.next=e})(t,e)}}e.exports=P,P.WritableState=R;var a,s,l={deprecate:i(769)},c=i(678),u=i(300).Buffer,d=r.g.Uint8Array||function(){},f=i(25),p=i(776).getHighWaterMark,h=i(646).q,y=h.ERR_INVALID_ARG_TYPE,g=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,m=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,_=h.ERR_STREAM_NULL_VALUES,w=h.ERR_STREAM_WRITE_AFTER_END,S=h.ERR_UNKNOWN_ENCODING,O=f.errorOrDestroy;function M(){}function R(e,t,r){a=a||i(403),e=e||{},"boolean"!=typeof r&&(r=t instanceof a),this.objectMode=!!e.objectMode,r&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=p(this,e,"writableHighWaterMark",r),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){(function(e,t){var r=e._writableState,i=r.sync,o=r.writecb;if("function"!=typeof o)throw new v;if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t)--r.pendingcb,i?(n.nextTick(o,t),n.nextTick(j,e,r),e._writableState.errorEmitted=!0,O(e,t)):(o(t),e._writableState.errorEmitted=!0,O(e,t),j(e,r));else{var a=A(r)||e.destroyed;a||r.corked||r.bufferProcessing||!r.bufferedRequest||x(e,r),i?n.nextTick(I,e,r,a,o):I(e,r,a,o)}})(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function P(e){var t=this instanceof(a=a||i(403));if(!t&&!s.call(P,this))return new P(e);this._writableState=new R(e,this,t),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final&&(this._final=e.final)),c.call(this)}function E(e,t,r,n,i,o,a){t.writelen=n,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function I(e,t,r,n){r||0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain")),t.pendingcb--,n(),j(e,t)}function x(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=Array(t.bufferedRequestCount),i=t.corkedRequestsFree;i.entry=r;for(var a=0,s=!0;r;)n[a]=r,r.isBuf||(s=!1),r=r.next,a+=1;n.allBuffers=s,E(e,t,!0,t.length,n,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,u=r.callback,d=t.objectMode?1:l.length;if(E(e,t,!1,d,l,c,u),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function A(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function C(e,t){e._final(function(r){t.pendingcb--,r&&O(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)})}function j(e,t){var r=A(t);if(r&&(t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,n.nextTick(C,e,t))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return r}i(782)(P,c),R.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(R.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(P,Symbol.hasInstance,{value:function(e){return!!s.call(this,e)||this===P&&e&&e._writableState instanceof R}})):s=function(e){return e instanceof this},P.prototype.pipe=function(){O(this,new m)},P.prototype.write=function(e,t,r){var i,o,a,s,l,c,f,p=this._writableState,h=!1,g=!p.objectMode&&(i=e,u.isBuffer(i)||i instanceof d);return g&&!u.isBuffer(e)&&(o=e,e=u.from(o)),("function"==typeof t&&(r=t,t=null),g?t="buffer":t||(t=p.defaultEncoding),"function"!=typeof r&&(r=M),p.ending)?(a=r,O(this,s=new w),n.nextTick(a,s)):(g||(l=e,c=r,null===l?f=new _:"string"==typeof l||p.objectMode||(f=new y("chunk",["string","Buffer"],l)),!f||(O(this,f),n.nextTick(c,f),0)))&&(p.pendingcb++,h=function(e,t,r,n,i,o){if(!r){var a,s,l=(a=n,s=i,t.objectMode||!1===t.decodeStrings||"string"!=typeof a||(a=u.from(a,s)),a);n!==l&&(r=!0,i="buffer",n=l)}var c=t.objectMode?1:n.length;t.length+=c;var d=t.length<t.highWaterMark;if(d||(t.needDrain=!0),t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else E(e,t,!1,c,n,i,o);return d}(this,p,g,e,t,r)),h},P.prototype.cork=function(){this._writableState.corked++},P.prototype.uncork=function(){var e=this._writableState;!e.corked||(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||x(this,e))},P.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new S(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(P.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(P.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),P.prototype._write=function(e,t,r){r(new g("_write()"))},P.prototype._writev=null,P.prototype.end=function(e,t,r){var i,o=this._writableState;return"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||(i=r,o.ending=!0,j(this,o),i&&(o.finished?n.nextTick(i):this.once("finish",i)),o.ended=!0,this.writable=!1),this},Object.defineProperty(P.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(P.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),P.prototype.destroy=f.destroy,P.prototype._undestroy=f.undestroy,P.prototype._destroy=function(e,t){t(e)}},871:function(e,t,r){"use strict";function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,a=r(698),s=Symbol("lastResolve"),l=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),d=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function y(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[d]=null,e[s]=null,e[l]=null,t(h(r,!1)))}}function g(e){n.nextTick(y,e)}var v=Object.getPrototypeOf(function(){}),m=Object.setPrototypeOf((i(o={get stream(){return this[p]},next:function(){var e,t,r=this,i=this[c];if(null!==i)return Promise.reject(i);if(this[u])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(e,t){n.nextTick(function(){r[c]?t(r[c]):e(h(void 0,!0))})});var o=this[d];if(o)t=new Promise((e=this,function(t,r){o.then(function(){if(e[u]){t(h(void 0,!0));return}e[f](t,r)},r)}));else{var a=this[p].read();if(null!==a)return Promise.resolve(h(a,!1));t=new Promise(this[f])}return this[d]=t,t}},Symbol.asyncIterator,function(){return this}),i(o,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){if(e){r(e);return}t(h(void 0,!0))})})}),o),v);e.exports=function(e){var t,r=Object.create(m,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,l,{value:null,writable:!0}),i(t,c,{value:null,writable:!0}),i(t,u,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var n=r[p].read();n?(r[d]=null,r[s]=null,r[l]=null,e(h(n,!1))):(r[s]=e,r[l]=t)},writable:!0}),t));return r[d]=null,a(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[l];null!==t&&(r[d]=null,r[s]=null,r[l]=null,t(e)),r[c]=e;return}var n=r[s];null!==n&&(r[d]=null,r[s]=null,r[l]=null,n(h(void 0,!0))),r[u]=!0}),e.on("readable",g.bind(null,r)),r}},379:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=r(300).Buffer,a=r(837).inspect,s=a&&a.custom||"inspect";e.exports=function(){var e,t;function r(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.head=null,this.tail=null,this.length=0}return e=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return o.alloc(0);for(var t,r,n=o.allocUnsafe(e>>>0),i=this.head,a=0;i;)t=i.data,r=a,o.prototype.copy.call(t,n,r),a+=i.data.length,i=i.next;return n}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=o.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,a=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,a),0==(e-=a)){a===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(a));break}++n}return this.length-=n,t}},{key:s,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}],i(r.prototype,e),t&&i(r,t),r}()},25:function(e){"use strict";function t(e,t){i(e,t),r(e)}function r(e){(!e._writableState||e._writableState.emitClose)&&(!e._readableState||e._readableState.emitClose)&&e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return s||l?o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(i,this,e)):n.nextTick(i,this,e)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!o&&e?a._writableState?a._writableState.errorEmitted?n.nextTick(r,a):(a._writableState.errorEmitted=!0,n.nextTick(t,a,e)):n.nextTick(t,a,e):o?(n.nextTick(r,a),o(e)):n.nextTick(r,a)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},698:function(e,t,r){"use strict";var n=r(646).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),a=o||i,s=!1,o=function(){if(!s){s=!0;for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];a.apply(this,t)}};var a,s,l=r.readable||!1!==r.readable&&t.readable,c=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},d=t._writableState&&t._writableState.finished,f=function(){c=!1,d=!0,l||o.call(t)},p=t._readableState&&t._readableState.endEmitted,h=function(){l=!1,p=!0,c||o.call(t)},y=function(e){o.call(t,e)},g=function(){var e;return l&&!p?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):c&&!d?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},v=function(){t.req.on("finish",f)};return t.setHeader&&"function"==typeof t.abort?(t.on("complete",f),t.on("abort",g),t.req?v():t.on("request",v)):c&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",h),t.on("finish",f),!1!==r.error&&t.on("error",y),t.on("close",g),function(){t.removeListener("complete",f),t.removeListener("abort",g),t.removeListener("request",v),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",y),t.removeListener("close",g)}}},727:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),l=s.value}catch(e){r(e);return}s.done?t(l):Promise.resolve(l).then(n,i)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}var o=r(646).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,r){if(t&&"function"==typeof t.next)a=t;else if(t&&t[Symbol.asyncIterator])a=t[Symbol.asyncIterator]();else if(t&&t[Symbol.iterator])a=t[Symbol.iterator]();else throw new o("iterable",["Iterable"],t);var a,s=new e(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({objectMode:!0},r)),l=!1;function c(){return u.apply(this,arguments)}function u(){var e;return e=function*(){try{var e=yield a.next(),t=e.value;e.done?s.push(null):s.push((yield t))?c():l=!1}catch(e){s.destroy(e)}},(u=function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)})}).apply(this,arguments)}return s._read=function(){l||(l=!0,c())},s}},442:function(e,t,r){"use strict";var n,i=r(646).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function l(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e,t,i=arguments.length,u=Array(i),d=0;d<i;d++)u[d]=arguments[d];var f=(e=u).length&&"function"==typeof e[e.length-1]?e.pop():s;if(Array.isArray(u[0])&&(u=u[0]),u.length<2)throw new o("streams");var p=u.map(function(e,i){var o,s,c,d,h,y=i<u.length-1;return s=o=function(e){t||(t=e),e&&p.forEach(l),y||(p.forEach(l),f(t))},c=!1,o=function(){c||(c=!0,s.apply(void 0,arguments))},d=!1,e.on("close",function(){d=!0}),void 0===n&&(n=r(698)),n(e,{readable:y,writable:i>0},function(e){if(e)return o(e);d=!0,o()}),h=!1,function(t){if(!d&&!h){if(h=!0,e.setHeader&&"function"==typeof e.abort)return e.abort();if("function"==typeof e.destroy)return e.destroy();o(t||new a("pipe"))}}});return u.reduce(c)}},776:function(e,t,r){"use strict";var n=r(646).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=null!=t.highWaterMark?t.highWaterMark:i?t[r]:null;if(null!=o){if(!(isFinite(o)&&Math.floor(o)===o)||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},678:function(e,t,r){e.exports=r(781)},726:function(e,t,r){var i=r(781);"disable"===n.env.READABLE_STREAM&&i?(e.exports=i.Readable,Object.assign(e.exports,i),e.exports.Stream=i):((t=e.exports=r(709)).Stream=i||t,t.Readable=t,t.Writable=r(337),t.Duplex=r(403),t.Transform=r(170),t.PassThrough=r(889),t.finished=r(698),t.pipeline=r(442))},55:function(e,t,r){var n=r(300),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function a(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,r){if("number"==typeof e)throw TypeError("Argument must not be a number");return i(e,t,r)},a.alloc=function(e,t,r){if("number"!=typeof e)throw TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},a.allocUnsafe=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw TypeError("Argument must be a number");return n.SlowBuffer(e)}},813:function(e,t,n){var i=n(450),o=n(254),a=n(911),s=n(523),l=n(310);t.request=function(e,t){e="string"==typeof e?l.parse(e):a(e);var n=-1===r.g.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||n,s=e.hostname||e.host,c=e.port,u=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?o+"//"+s:"")+(c?":"+c:"")+u,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var d=new i(e);return t&&d.on("response",t),d},t.get=function(e,r){var n=t.request(e,r);return n.end(),n},t.ClientRequest=i,t.IncomingMessage=o.IncomingMessage,t.Agent=function(){},t.Agent.defaultMaxSockets=4,t.globalAgent=new t.Agent,t.STATUS_CODES=s,t.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},301:function(e,t){var n;function i(){if(void 0!==n)return n;if(r.g.XMLHttpRequest){n=new r.g.XMLHttpRequest;try{n.open("GET",r.g.XDomainRequest?"/":"https://example.com")}catch(e){n=null}}else n=null;return n}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function a(e){return"function"==typeof e}t.fetch=a(r.g.fetch)&&a(r.g.ReadableStream),t.writableStream=a(r.g.WritableStream),t.abortController=a(r.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&a(i().overrideMimeType),n=null},450:function(e,t,o){var a=o(301),s=o(782),l=o(254),c=o(726),u=l.IncomingMessage,d=l.readyStates,f=e.exports=function(e){var t,r,n,o=this;c.Writable.call(o),o._opts=e,o._body=[],o._headers={},e.auth&&o.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){o.setHeader(t,e.headers[t])});var s=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)s=!1,n=!0;else if("prefer-streaming"===e.mode)n=!1;else if("allow-wrong-content-type"===e.mode)n=!a.overrideMimeType;else if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw Error("Invalid value for opts.mode");else n=!0;o._mode=(t=n,r=s,a.fetch&&r?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&t?"arraybuffer":"text"),o._fetchTimer=null,o.on("finish",function(){o._onFinish()})};s(f,c.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,i=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var s=[];if(Object.keys(i).forEach(function(e){var t=i[e].name,r=i[e].value;Array.isArray(r)?r.forEach(function(e){s.push([t,e])}):s.push([t,r])}),"fetch"===e._mode){var l=null;if(a.abortController){var c=new AbortController;l=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=r.g.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}r.g.fetch(e._opts.url,{method:e._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:l}).then(function(t){e._fetchResponse=t,e._connect()},function(t){r.g.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)})}else{var u=e._xhr=new r.g.XMLHttpRequest;try{u.open(e._opts.method,e._opts.url,!0)}catch(t){n.nextTick(function(){e.emit("error",t)});return}"responseType"in u&&(u.responseType=e._mode),"withCredentials"in u&&(u.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in u&&u.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(u.timeout=t.requestTimeout,u.ontimeout=function(){e.emit("requestTimeout")}),s.forEach(function(e){u.setRequestHeader(e[0],e[1])}),e._response=null,u.onreadystatechange=function(){switch(u.readyState){case d.LOADING:case d.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(u.onprogress=function(){e._onXHRProgress()}),u.onerror=function(){e._destroyed||e.emit("error",Error("XHR error"))};try{u.send(o)}catch(t){n.nextTick(function(){e.emit("error",t)});return}}}},f.prototype._onXHRProgress=function(){(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new u(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype.abort=f.prototype.destroy=function(){this._destroyed=!0,r.g.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),c.Writable.prototype.end.call(this,e,t,r)},f.prototype.flushHeaders=function(){},f.prototype.setTimeout=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},254:function(e,t,o){var a=o(301),s=o(782),l=o(726),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},u=t.IncomingMessage=function(e,t,o,s){var c=this;if(l.Readable.call(c),c._mode=o,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",function(){n.nextTick(function(){c.emit("close")})}),"fetch"===o){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach(function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)}),a.writableStream){var u=new WritableStream({write:function(e){return new Promise(function(t,r){c._destroyed?r():c.push(i.from(e))?t():c._resumeFetch=t})},close:function(){r.g.clearTimeout(s),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{t.body.pipeTo(u).catch(function(e){r.g.clearTimeout(s),c._destroyed||c.emit("error",e)});return}catch(e){}}var d=t.body.getReader();!function e(){d.read().then(function(t){if(!c._destroyed){if(t.done){r.g.clearTimeout(s),c.push(null);return}c.push(i.from(t.value)),e()}}).catch(function(e){r.g.clearTimeout(s),c._destroyed||c.emit("error",e)})}()}else if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===c.headers[r]&&(c.headers[r]=[]),c.headers[r].push(t[2])):void 0!==c.headers[r]?c.headers[r]+=", "+t[2]:c.headers[r]=t[2],c.rawHeaders.push(t[1],t[2])}}),c._charset="x-user-defined",!a.overrideMimeType){var f=c.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(c._charset=p[1].toLowerCase())}c._charset||(c._charset="utf-8")}};s(u,l.Readable),u.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},u.prototype._onXHRProgress=function(){var e=this,t=e._xhr,n=null;switch(e._mode){case"text":if((n=t.responseText).length>e._pos){var o=n.substr(e._pos);if("x-user-defined"===e._charset){for(var a=i.alloc(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=n.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;n=t.response,e.push(i.from(new Uint8Array(n)));break;case"moz-chunked-arraybuffer":if(n=t.response,t.readyState!==c.LOADING||!n)break;e.push(i.from(new Uint8Array(n)));break;case"ms-stream":if(n=t.response,t.readyState!==c.LOADING)break;var l=new r.g.MSStreamReader;l.onprogress=function(){l.result.byteLength>e._pos&&(e.push(i.from(new Uint8Array(l.result.slice(e._pos)))),e._pos=l.result.byteLength)},l.onload=function(){e.push(null)},l.readAsArrayBuffer(n)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}},704:function(e,t,r){"use strict";var n=r(55).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){var t;if(!e)return"utf8";for(;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=l,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:this.write=f,this.end=p;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if((192&t[0])!=128)return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if((192&t[1])!=128)return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&(192&t[2])!=128)return e.lastNeed=2,"�"}}(this,e,0);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):void(e.copy(this.lastChar,t,0,e.length),this.lastNeed-=e.length)}function l(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){var t,r;if(0===e.length)return"";if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=a(t[n]);return i>=0?(i>0&&(e.lastNeed=i-1),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(e.lastNeed=i-2),i):--n<r||-2===i?0:(i=a(t[n]))>=0?(i>0&&(2===i?i=0:e.lastNeed=i-3),i):0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},769:function(e){e.exports=function(e,r){if(t("noDeprecation"))return e;var n=!1;return function(){if(!n){if(t("throwDeprecation"))throw Error(r);t("traceDeprecation")?console.trace(r):console.warn(r),n=!0}return e.apply(this,arguments)}};function t(e){try{if(!r.g.localStorage)return!1}catch(e){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}},911:function(e){e.exports=function(){for(var e={},r=0;r<arguments.length;r++){var n=arguments[r];for(var i in n)t.call(n,i)&&(e[i]=n[i])}return e};var t=Object.prototype.hasOwnProperty},300:function(e){"use strict";e.exports=r(67133)},361:function(e){"use strict";e.exports=r(17795)},781:function(e){"use strict";e.exports=r(48290)},310:function(e){"use strict";e.exports=r(40692)},837:function(e){"use strict";e.exports=r(15647)}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete o[e]}return n.exports}a.ab="//";var s=a(813);e.exports=s}()},15647:function(e,t,r){var n=r(67133).Buffer,i=r(62601);!function(){var t={992:function(e){e.exports=function(e,r,n){if(e.filter)return e.filter(r,n);if(null==e||"function"!=typeof r)throw TypeError();for(var i=[],o=0;o<e.length;o++)if(t.call(e,o)){var a=e[o];r.call(n,a,o,e)&&i.push(a)}return i};var t=Object.prototype.hasOwnProperty},256:function(e,t,r){"use strict";var n=r(925),i=r(139),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},139:function(e,t,r){"use strict";var n=r(174),i=r(925),o=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||n.call(a,o),l=i("%Object.getOwnPropertyDescriptor%",!0),c=i("%Object.defineProperty%",!0),u=i("%Math.max%");if(c)try{c({},"a",{value:1})}catch(e){c=null}e.exports=function(e){var t=s(n,a,arguments);return l&&c&&l(t,"length").configurable&&c(t,"length",{value:1+u(0,e.length-(arguments.length-1))}),t};var d=function(){return s(n,o,arguments)};c?c(e.exports,"apply",{value:d}):e.exports.apply=d},144:function(e){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,n,i){if("[object Function]"!==r.call(n))throw TypeError("iterator must be a function");var o=e.length;if(o===+o)for(var a=0;a<o;a++)n.call(i,e[a],a,e);else for(var s in e)t.call(e,s)&&n.call(i,e[s],s,e)}},426:function(e){"use strict";var t=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var n,i=this;if("function"!=typeof i||"[object Function]"!==r.call(i))throw TypeError("Function.prototype.bind called on incompatible "+i);for(var o=t.call(arguments,1),a=Math.max(0,i.length-o.length),s=[],l=0;l<a;l++)s.push("$"+l);if(n=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof n))return i.apply(e,o.concat(t.call(arguments)));var r=i.apply(this,o.concat(t.call(arguments)));return Object(r)===r?r:this}),i.prototype){var c=function(){};c.prototype=i.prototype,n.prototype=new c,c.prototype=null}return n}},174:function(e,t,r){"use strict";var n=r(426);e.exports=Function.prototype.bind||n},500:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},u=l?function(){try{return arguments.callee,c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=r(115)(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?n:f(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d?f([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d?f(f([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d?f((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d?f((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d?f(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":h,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},g=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=f(i.prototype))}return y[t]=r,r},v={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=r(174),b=r(101),_=m.call(Function.call,Array.prototype.concat),w=m.call(Function.apply,Array.prototype.splice),S=m.call(Function.call,String.prototype.replace),O=m.call(Function.call,String.prototype.slice),M=m.call(Function.call,RegExp.prototype.exec),R=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,E=function(e){var t=O(e,0,1),r=O(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return S(e,R,function(e,t,r,i){n[n.length]=r?S(i,P,"$1"):t||e}),n},I=function(e,t){var r,n=e;if(b(v,n)&&(n="%"+(r=v[n])[0]+"%"),b(y,n)){var o=y[n];if(o===p&&(o=g(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===M(/^%?[^%]*%?$/g,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=E(e),n=r.length>0?r[0]:"",o=I("%"+n+"%",t),s=o.name,c=o.value,u=!1,d=o.alias;d&&(n=d[0],w(r,_([0,1],d)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],g=O(h,0,1),v=O(h,-1);if(('"'===g||"'"===g||"`"===g||'"'===v||"'"===v||"`"===v)&&g!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(u=!0),n+="."+h,b(y,s="%"+n+"%"))c=y[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=r.length){var m=l(c,h);c=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[h]}else p=b(c,h),c=c[h];p&&!u&&(y[s]=c)}}return c}},925:function(e,t,r){"use strict";var n,i=SyntaxError,o=Function,a=TypeError,s=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var c=function(){throw new a},u=l?function(){try{return arguments.callee,c}catch(e){try{return l(arguments,"callee").get}catch(e){return c}}}():c,d=r(115)(),f=r(504)(),p=Object.getPrototypeOf||(f?function(e){return e.__proto__}:null),h={},y="undefined"!=typeof Uint8Array&&p?p(Uint8Array):n,g={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":d&&p?p([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":d&&p?p(p([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&d&&p?p((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&d&&p?p((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":d&&p?p(""[Symbol.iterator]()):n,"%Symbol%":d?Symbol:n,"%SyntaxError%":i,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet};if(p)try{null.error}catch(e){var v=p(p(e));g["%Error.prototype%"]=v}var m=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&p&&(r=p(i.prototype))}return g[t]=r,r},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_=r(174),w=r(101),S=_.call(Function.call,Array.prototype.concat),O=_.call(Function.apply,Array.prototype.splice),M=_.call(Function.call,String.prototype.replace),R=_.call(Function.call,String.prototype.slice),P=_.call(Function.call,RegExp.prototype.exec),E=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,I=/\\(\\)?/g,x=function(e){var t=R(e,0,1),r=R(e,-1);if("%"===t&&"%"!==r)throw new i("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new i("invalid intrinsic syntax, expected opening `%`");var n=[];return M(e,E,function(e,t,r,i){n[n.length]=r?M(i,I,"$1"):t||e}),n},A=function(e,t){var r,n=e;if(w(b,n)&&(n="%"+(r=b[n])[0]+"%"),w(g,n)){var o=g[n];if(o===h&&(o=m(n)),void 0===o&&!t)throw new a("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new i("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new a('"allowMissing" argument must be a boolean');if(null===P(/^%?[^%]*%?$/,e))throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=x(e),n=r.length>0?r[0]:"",o=A("%"+n+"%",t),s=o.name,c=o.value,u=!1,d=o.alias;d&&(n=d[0],O(r,S([0,1],d)));for(var f=1,p=!0;f<r.length;f+=1){var h=r[f],y=R(h,0,1),v=R(h,-1);if(('"'===y||"'"===y||"`"===y||'"'===v||"'"===v||"`"===v)&&y!==v)throw new i("property names with quotes must have matching quotes");if("constructor"!==h&&p||(u=!0),n+="."+h,w(g,s="%"+n+"%"))c=g[s];else if(null!=c){if(!(h in c)){if(!t)throw new a("base intrinsic for "+e+" exists, but the property is not available.");return}if(l&&f+1>=r.length){var m=l(c,h);c=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:c[h]}else p=w(c,h),c=c[h];p&&!u&&(g[s]=c)}}return c}},504:function(e){"use strict";var t={foo:{}},r=Object;e.exports=function(){return({__proto__:t}).foo===t.foo&&!(({__proto__:null})instanceof r)}},942:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(773);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},115:function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=r(832);e.exports=function(){return"function"==typeof n&&"function"==typeof Symbol&&"symbol"==typeof n("foo")&&"symbol"==typeof Symbol("bar")&&i()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},101:function(e,t,r){"use strict";var n=r(174);e.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},782:function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},157:function(e){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return(!t||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===r.call(e)},i=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},o=function(){return n(arguments)}();n.isLegacyArguments=i,e.exports=o?n:i},391:function(e){"use strict";var t=Object.prototype.toString,r=Function.prototype.toString,n=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf,a=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),s=a?o(a):{};e.exports=function(e){return"function"==typeof e&&(!!n.test(r.call(e))||(i?o(e)===s:"[object GeneratorFunction]"===t.call(e)))}},994:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),l=n(942)()&&"symbol"==typeof Symbol.toStringTag,c=o(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return -1},d=a("String.prototype.slice"),f={},p=n(24),h=Object.getPrototypeOf;l&&p&&h&&i(c,function(e){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=h(t),i=p(n,Symbol.toStringTag);i||(i=p(h(n),Symbol.toStringTag)),f[e]=i.get});var y=function(e){var t=!1;return i(f,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t};e.exports=function(e){return!!e&&"object"==typeof e&&(l?!!p&&y(e):u(c,d(s(e),8,-1))>-1)}},369:function(e){e.exports=function(e){return e instanceof n}},584:function(e,t,r){"use strict";var n=r(157),i=r(391),o=r(490),a=r(994);function s(e){return e.call.bind(e)}var l="undefined"!=typeof BigInt,c="undefined"!=typeof Symbol,u=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(l)var h=s(BigInt.prototype.valueOf);if(c)var y=s(Symbol.prototype.valueOf);function g(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function v(e){return"[object Map]"===u(e)}function m(e){return"[object Set]"===u(e)}function b(e){return"[object WeakMap]"===u(e)}function _(e){return"[object WeakSet]"===u(e)}function w(e){return"[object ArrayBuffer]"===u(e)}function S(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function O(e){return"[object DataView]"===u(e)}function M(e){return"undefined"!=typeof DataView&&(O.working?O(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=a,t.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||M(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},v.working="undefined"!=typeof Map&&v(new Map),t.isMap=function(e){return"undefined"!=typeof Map&&(v.working?v(e):e instanceof Map)},m.working="undefined"!=typeof Set&&m(new Set),t.isSet=function(e){return"undefined"!=typeof Set&&(m.working?m(e):e instanceof Set)},b.working="undefined"!=typeof WeakMap&&b(new WeakMap),t.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(b.working?b(e):e instanceof WeakMap)},_.working="undefined"!=typeof WeakSet&&_(new WeakSet),t.isWeakSet=function(e){return _(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),t.isArrayBuffer=S,O.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&O(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=M;var R="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function P(e){return"[object SharedArrayBuffer]"===u(e)}function E(e){return void 0!==R&&(void 0===P.working&&(P.working=P(new R)),P.working?P(e):e instanceof R)}function I(e){return g(e,d)}function x(e){return g(e,f)}function A(e){return g(e,p)}function C(e){return l&&g(e,h)}function j(e){return c&&g(e,y)}t.isSharedArrayBuffer=E,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},t.isGeneratorObject=function(e){return"[object Generator]"===u(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},t.isNumberObject=I,t.isStringObject=x,t.isBooleanObject=A,t.isBigIntObject=C,t.isSymbolObject=j,t.isBoxedPrimitive=function(e){return I(e)||x(e)||A(e)||C(e)||j(e)},t.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(S(e)||E(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,t,r){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}for(var r=1,n=arguments,i=n.length,a=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])v(s)||!S(s)?a+=" "+s:a+=" "+c(s);return a},t.deprecate=function(e,r){if(void 0!==i&&!0===i.noDeprecation)return e;if(void 0===i)return function(){return t.deprecate(e,r).apply(this,arguments)};var n=!1;return function(){if(!n){if(i.throwDeprecation)throw Error(r);i.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var a={},s=/^$/;if(i.env.NODE_DEBUG){var l=i.env.NODE_DEBUG;s=RegExp("^"+(l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function c(e,r){var n={seen:[],stylize:d};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),f(n,e,n.depth)}function u(e,t){var r=c.styles[t];return r?"\x1b["+c.colors[r][0]+"m"+e+"\x1b["+c.colors[r][1]+"m":e}function d(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&R(r.inspect)&&r.inspect!==t.inspect&&!(r.constructor&&r.constructor.prototype===r)){var i,o,a,s,l,c=r.inspect(n,e);return b(c)||(c=f(e,c,n)),c}var u=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}return m(t)?e.stylize(""+t,"number"):g(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,r);if(u)return u;var d=Object.keys(r),S=(s={},d.forEach(function(e,t){s[e]=!0}),s);if(e.showHidden&&(d=Object.getOwnPropertyNames(r)),M(r)&&(d.indexOf("message")>=0||d.indexOf("description")>=0))return p(r);if(0===d.length){if(R(r)){var P=r.name?": "+r.name:"";return e.stylize("[Function"+P+"]","special")}if(w(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(M(r))return p(r)}var E="",I=!1,A=["{","}"];return(y(r)&&(I=!0,A=["[","]"]),R(r)&&(E=" [Function"+(r.name?": "+r.name:"")+"]"),w(r)&&(E=" "+RegExp.prototype.toString.call(r)),O(r)&&(E=" "+Date.prototype.toUTCString.call(r)),M(r)&&(E=" "+p(r)),0!==d.length||I&&0!=r.length)?n<0?w(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=I?function(e,t,r,n,i){for(var o=[],a=0,s=t.length;a<s;++a)x(t,String(a))?o.push(h(e,t,r,n,String(a),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))}),o}(e,r,n,S,d):d.map(function(t){return h(e,r,n,S,t,I)}),e.seen.pop(),i=E,o=A,a=0,l.reduce(function(e,t){return a++,t.indexOf("\n")>=0&&a++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?o[0]+(""===i?"":i+"\n ")+" "+l.join(",\n  ")+" "+o[1]:o[0]+i+" "+l.join(", ")+" "+o[1]):A[0]+E+A[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),x(n,i)||(a="["+i+"]"),!s&&(0>e.seen.indexOf(l.value)?(s=v(r)?f(e,l.value,null):f(e,l.value,r-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),_(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function y(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function v(e){return null===e}function m(e){return"number"==typeof e}function b(e){return"string"==typeof e}function _(e){return void 0===e}function w(e){return S(e)&&"[object RegExp]"===P(e)}function S(e){return"object"==typeof e&&null!==e}function O(e){return S(e)&&"[object Date]"===P(e)}function M(e){return S(e)&&("[object Error]"===P(e)||e instanceof Error)}function R(e){return"function"==typeof e}function P(e){return Object.prototype.toString.call(e)}function E(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(!a[e=e.toUpperCase()]){if(s.test(e)){var r=i.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else a[e]=function(){}}return a[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r(584),t.isArray=y,t.isBoolean=g,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=b,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=w,t.types.isRegExp=w,t.isObject=S,t.isDate=O,t.types.isDate=O,t.isError=M,t.types.isNativeError=M,t.isFunction=R,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(369);var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(r=[E((e=new Date).getHours()),E(e.getMinutes()),E(e.getSeconds())].join(":"),[e.getDate(),I[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(782),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(e,t){if(!e){var r=Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t=e[A];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=A,t.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var n=t.pop();if("function"!=typeof n)throw TypeError("The last argument must be of type Function");var o=this,a=function(){return n.apply(o,arguments)};e.apply(this,t).then(function(e){i.nextTick(a.bind(null,null,e))},function(e){i.nextTick(C.bind(null,e,a))})}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,n(e)),t}},490:function(e,t,n){"use strict";var i=n(144),o=n(349),a=n(256),s=a("Object.prototype.toString"),l=n(942)()&&"symbol"==typeof Symbol.toStringTag,c=o(),u=a("String.prototype.slice"),d={},f=n(24),p=Object.getPrototypeOf;l&&f&&p&&i(c,function(e){if("function"==typeof r.g[e]){var t=new r.g[e];if(!(Symbol.toStringTag in t))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var n=p(t),i=f(n,Symbol.toStringTag);i||(i=f(p(n),Symbol.toStringTag)),d[e]=i.get}});var h=function(e){var t=!1;return i(d,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t},y=n(994);e.exports=function(e){return!!y(e)&&(l?h(e):u(s(e),8,-1))}},349:function(e,t,n){"use strict";var i=n(992);e.exports=function(){return i(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof r.g[e]})}},24:function(e,t,r){"use strict";var n=r(500)("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}e.exports=n}},o={};function a(e){var r=o[e];if(void 0!==r)return r.exports;var n=o[e]={exports:{}},i=!0;try{t[e](n,n.exports,a),i=!1}finally{i&&delete o[e]}return n.exports}a.ab="//";var s=a(177);e.exports=s}()},19063:function(e,t,r){var n="function"==typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=n&&i&&"function"==typeof i.get?i.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,d="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,f="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,h=Boolean.prototype.valueOf,y=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,m=String.prototype.slice,b=String.prototype.replace,_=String.prototype.toUpperCase,w=String.prototype.toLowerCase,S=RegExp.prototype.test,O=Array.prototype.concat,M=Array.prototype.join,R=Array.prototype.slice,P=Math.floor,E="function"==typeof BigInt?BigInt.prototype.valueOf:null,I=Object.getOwnPropertySymbols,x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,A="function"==typeof Symbol&&"object"==typeof Symbol.iterator,C="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===A?"object":"symbol")?Symbol.toStringTag:null,j=Object.prototype.propertyIsEnumerable,T=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function $(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-P(-e):P(e);if(n!==e){var i=String(n),o=m.call(t,i.length+1);return b.call(i,r,"$&_")+"."+b.call(b.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return b.call(t,r,"$&_")}var D=r(24654),N=D.custom,k=U(N)?N:null;function B(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function F(e){return"[object Array]"===W(e)&&(!C||!("object"==typeof e&&C in e))}function L(e){return"[object RegExp]"===W(e)&&(!C||!("object"==typeof e&&C in e))}function U(e){if(A)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!x)return!1;try{return x.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,i,s){var l=n||{};if(K(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw TypeError('option "quoteStyle" must be "single" or "double"');if(K(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var y=!K(l,"customInspect")||l.customInspect;if("boolean"!=typeof y&&"symbol"!==y)throw TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(K(l,"indent")&&null!==l.indent&&"	"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(K(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw TypeError('option "numericSeparator", if provided, must be `true` or `false`');var _=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return function e(t,r){if(t.length>r.maxStringLength){var n=t.length-r.maxStringLength;return e(m.call(t,0,r.maxStringLength),r)+"... "+n+" more character"+(n>1?"s":"")}return B(b.call(b.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,H),"single",r)}(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return _?$(t,S):S}if("bigint"==typeof t){var P=String(t)+"n";return _?$(t,P):P}var I=void 0===l.depth?5:l.depth;if(void 0===i&&(i=0),i>=I&&I>0&&"object"==typeof t)return F(t)?"[Array]":"[Object]";var N=function(e,t){var r;if("	"===e.indent)r="	";else{if("number"!=typeof e.indent||!(e.indent>0))return null;r=M.call(Array(e.indent+1)," ")}return{base:r,prev:M.call(Array(t+1),r)}}(l,i);if(void 0===s)s=[];else if(J(s,t)>=0)return"[Circular]";function V(t,r,n){if(r&&(s=R.call(s)).push(r),n){var o={depth:l.depth};return K(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"==typeof t&&!L(t)){var X=function(e){if(e.name)return e.name;var t=v.call(g.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}(t),Q=Y(t,V);return"[Function"+(X?": "+X:" (anonymous)")+"]"+(Q.length>0?" { "+M.call(Q,", ")+" }":"")}if(U(t)){var ee=A?b.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):x.call(t);return"object"!=typeof t||A?ee:q(ee)}if(t&&"object"==typeof t&&("undefined"!=typeof HTMLElement&&t instanceof HTMLElement||"string"==typeof t.nodeName&&"function"==typeof t.getAttribute)){for(var et,er="<"+w.call(String(t.nodeName)),en=t.attributes||[],ei=0;ei<en.length;ei++)er+=" "+en[ei].name+"="+B((et=en[ei].value,b.call(String(et),/"/g,"&quot;")),"double",l);return er+=">",t.childNodes&&t.childNodes.length&&(er+="..."),er+="</"+w.call(String(t.nodeName))+">"}if(F(t)){if(0===t.length)return"[]";var eo=Y(t,V);return N&&!function(e){for(var t=0;t<e.length;t++)if(J(e[t],"\n")>=0)return!1;return!0}(eo)?"["+z(eo,N)+"]":"[ "+M.call(eo,", ")+" ]"}if("[object Error]"===W(t)&&(!C||!("object"==typeof t&&C in t))){var ea=Y(t,V);return"cause"in Error.prototype||!("cause"in t)||j.call(t,"cause")?0===ea.length?"["+String(t)+"]":"{ ["+String(t)+"] "+M.call(ea,", ")+" }":"{ ["+String(t)+"] "+M.call(O.call("[cause]: "+V(t.cause),ea),", ")+" }"}if("object"==typeof t&&y){if(k&&"function"==typeof t[k]&&D)return D(t,{depth:I-i});if("symbol"!==y&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!=typeof e)return!1;try{o.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var es=[];return a&&a.call(t,function(e,r){es.push(V(r,t,!0)+" => "+V(e,t))}),G("Map",o.call(t),es,N)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{o.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var el=[];return u&&u.call(t,function(e){el.push(V(e,t))}),G("Set",c.call(t),el,N)}if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{d.call(e,d);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Z("WeakMap");if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{d.call(e,d)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Z("WeakSet");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{return p.call(e),!0}catch(e){}return!1}(t))return Z("WeakRef");if("[object Number]"===W(t)&&(!C||!("object"==typeof t&&C in t)))return q(V(Number(t)));if(function(e){if(!e||"object"!=typeof e||!E)return!1;try{return E.call(e),!0}catch(e){}return!1}(t))return q(V(E.call(t)));if("[object Boolean]"===W(t)&&(!C||!("object"==typeof t&&C in t)))return q(h.call(t));if("[object String]"===W(t)&&(!C||!("object"==typeof t&&C in t)))return q(V(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!("[object Date]"===W(t)&&(!C||!("object"==typeof t&&C in t)))&&!L(t)){var ec=Y(t,V),eu=T?T(t)===Object.prototype:t instanceof Object||t.constructor===Object,ed=t instanceof Object?"":"null prototype",ef=!eu&&C&&Object(t)===t&&C in t?m.call(W(t),8,-1):ed?"Object":"",ep=(eu||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(ef||ed?"["+M.call(O.call([],ef||[],ed||[]),": ")+"] ":"");return 0===ec.length?ep+"{}":N?ep+"{"+z(ec,N)+"}":ep+"{ "+M.call(ec,", ")+" }"}return String(t)};var V=Object.prototype.hasOwnProperty||function(e){return e in this};function K(e,t){return V.call(e,t)}function W(e){return y.call(e)}function J(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return -1}function H(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+_.call(t.toString(16))}function q(e){return"Object("+e+")"}function Z(e){return e+" { ? }"}function G(e,t,r,n){return e+" ("+t+") {"+(n?z(r,n):M.call(r,", "))+"}"}function z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+M.call(e,","+r)+"\n"+t.prev}function Y(e,t){var r,n=F(e),i=[];if(n){i.length=e.length;for(var o=0;o<e.length;o++)i[o]=K(e,o)?t(e[o],e):""}var a="function"==typeof I?I(e):[];if(A){r={};for(var s=0;s<a.length;s++)r["$"+a[s]]=a[s]}for(var l in e)K(e,l)&&(!n||String(Number(l))!==l||!(l<e.length))&&(A&&r["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof I)for(var c=0;c<a.length;c++)j.call(e,a[c])&&i.push("["+t(a[c])+"]: "+t(e[a[c]],e));return i}},89291:function(e,t,r){"use strict";let n=r(67116),i=r(58005),o=r(34470),a=r(61820),s=e=>null==e,l=Symbol("encodeFragmentIdentifier");function c(e){if("string"!=typeof e||1!==e.length)throw TypeError("arrayFormatSeparator must be single character string")}function u(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function d(e,t){return t.decode?i(e):e}function f(e){let t=e.indexOf("#");return -1!==t&&(e=e.slice(0,t)),e}function p(e){e=f(e);let t=e.indexOf("?");return -1===t?"":e.slice(t+1)}function h(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):t.parseBooleans&&null!==e&&("true"===e.toLowerCase()||"false"===e.toLowerCase())&&(e="true"===e.toLowerCase()),e}function y(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);let r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{if(t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),!t){n[e]=r;return}void 0===n[e]&&(n[e]={}),n[e][t[1]]=r};case"bracket":return(e,r,n)=>{if(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"colon-list-separator":return(e,r,n)=>{if(t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),!t){n[e]=r;return}if(void 0===n[e]){n[e]=[r];return}n[e]=[].concat(n[e],r)};case"comma":case"separator":return(t,r,n)=>{let i="string"==typeof r&&r.includes(e.arrayFormatSeparator),o="string"==typeof r&&!i&&d(r,e).includes(e.arrayFormatSeparator);r=o?d(r,e):r;let a=i||o?r.split(e.arrayFormatSeparator).map(t=>d(t,e)):null===r?r:d(r,e);n[t]=a};case"bracket-separator":return(t,r,n)=>{let i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i){n[t]=r?d(r,e):r;return}let o=null===r?[]:r.split(e.arrayFormatSeparator).map(t=>d(t,e));if(void 0===n[t]){n[t]=o;return}n[t]=[].concat(n[t],o)};default:return(e,t,r)=>{if(void 0===r[e]){r[e]=t;return}r[e]=[].concat(r[e],t)}}}(t),n=Object.create(null);if("string"!=typeof e||!(e=e.trim().replace(/^[?#&]/,"")))return n;for(let i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:d(a,t),r(d(e,t),a,n)}for(let e of Object.keys(n)){let r=n[e];if("object"==typeof r&&null!==r)for(let e of Object.keys(r))r[e]=h(r[e],t);else n[e]=h(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce((e,t)=>{let r=n[t];return r&&"object"==typeof r&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(r):e[t]=r,e},Object.create(null))}t.extract=p,t.parse=y,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);let r=r=>t.skipNull&&s(e[r])||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{let i=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[",i,"]"].join("")]:[...r,[u(t,e),"[",u(i,e),"]=",u(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),"[]"].join("")]:[...r,[u(t,e),"[]=",u(n,e)].join("")];case"colon-list-separator":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[u(t,e),":list="].join("")]:[...r,[u(t,e),":list=",u(n,e)].join("")];case"comma":case"separator":case"bracket-separator":{let t="bracket-separator"===e.arrayFormat?"[]=":"=";return r=>(n,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?n:(i=null===i?"":i,0===n.length)?[[u(r,e),t,u(i,e)].join("")]:[[n,u(i,e)].join(e.arrayFormatSeparator)]}default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,u(t,e)]:[...r,[u(t,e),"=",u(n,e)].join("")]}}(t),i={};for(let t of Object.keys(e))r(t)||(i[t]=e[t]);let o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(r=>{let i=e[r];return void 0===i?"":null===i?u(r,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?u(r,t)+"[]":i.reduce(n(r),[]).join("&"):u(r,t)+"="+u(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);let[r,n]=o(e,"#");return Object.assign({url:r.split("?")[0]||"",query:y(p(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:d(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0,[l]:!0},r);let n=f(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query),s=t.stringify(a,r);s&&(s=`?${s}`);let c=function(e){let t="",r=e.indexOf("#");return -1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(c=`#${r[l]?u(e.fragmentIdentifier,r):e.fragmentIdentifier}`),`${n}${s}${c}`},t.pick=(e,r,n)=>{n=Object.assign({parseFragmentIdentifier:!0,[l]:!1},n);let{url:i,query:o,fragmentIdentifier:s}=t.parseUrl(e,n);return t.stringifyUrl({url:i,query:a(o,r),fragmentIdentifier:s},n)},t.exclude=(e,r,n)=>{let i=Array.isArray(r)?e=>!r.includes(e):(e,t)=>!r(e,t);return t.pick(e,i,n)}},51681:function(e,t,r){"use strict";var n=r(13428),i=r(20791),o=r(2265),a=r(73909),s=r(49427),l=r(35252),c=["children","style","imageStyle","imageRef"],u={},d=(0,o.forwardRef)((e,t)=>{var r=e.children,d=e.style,f=void 0===d?u:d,p=e.imageStyle,h=e.imageRef,y=(0,i.Z)(e,c),g=s.Z.flatten(f),v=g.height,m=g.width;return o.createElement(l.Z,{ref:t,style:f},o.createElement(a.Z,(0,n.Z)({},y,{ref:h,style:[{width:m,height:v,zIndex:-1},s.Z.absoluteFill,p]})),r)});d.displayName="ImageBackground",t.Z=d},73909:function(e,t,r){"use strict";r.d(t,{Z:function(){return N}});var n=r(21047),i=r(13428),o=r(20791),a=r(2265),s=r(66667),l=[],c=r(83784),u=/^data:/;class d{static has(e){var t=d._entries;return u.test(e)||!!t[e]}static add(e){var t=d._entries,r=Date.now();t[e]?(t[e].lastUsedTimestamp=r,t[e].refCount+=1):t[e]={lastUsedTimestamp:r,refCount:1}}static remove(e){var t=d._entries;t[e]&&(t[e].refCount-=1),d._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,t,r=d._entries,n=Object.keys(r);n.length+1>d._maximumEntries&&(n.forEach(n=>{var i=r[n];(!t||i.lastUsedTimestamp<t.lastUsedTimestamp)&&0===i.refCount&&(e=n,t=i)}),e&&delete r[e])}}d._maximumEntries=256,d._entries={};var f=0,p={},h={abort(e){var t=p[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete p[""+e])},getSize(e,t,r){var n=!1,i=setInterval(a,16),o=h.load(e,a,function(){"function"==typeof r&&r(),h.abort(o),clearInterval(i)});function a(){var e=p[""+o];if(e){var r=e.naturalHeight,a=e.naturalWidth;r&&a&&(t(a,r),n=!0)}n&&(h.abort(o),clearInterval(i))}},has:e=>d.has(e),load(e,t,r){f+=1;var n=new window.Image;return n.onerror=r,n.onload=e=>{var r=()=>t({nativeEvent:e});"function"==typeof n.decode?n.decode().then(r,r):setTimeout(r,0)},n.src=e,p[""+f]=n,f},prefetch:e=>new Promise((t,r)=>{h.load(e,()=>{d.add(e),d.remove(e),t()},r)}),queryCache(e){var t={};return e.forEach(e=>{d.has(e)&&(t[e]="disk/memory")}),Promise.resolve(t)}},y=r(85806),g=r.n(y),v=r(1131),m={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},b={},_=v.Z;function w(){if(v.Z){var e,t,r=window;if(r.visualViewport){var n=r.visualViewport;e=Math.round(n.height*n.scale),t=Math.round(n.width*n.scale)}else{var i=r.document.documentElement;e=i.clientHeight,t=i.clientWidth}m.window={fontScale:1,height:e,scale:r.devicePixelRatio||1,width:t},m.screen={fontScale:1,height:r.screen.height,scale:r.devicePixelRatio||1,width:r.screen.width}}}function S(){w(),Array.isArray(b.change)&&b.change.forEach(e=>e(m))}class O{static get(e){return _&&(_=!1,w()),g()(m[e],"No dimension set for key "+e),m[e]}static set(e){e&&(v.Z?g()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(m.screen=e.screen),null!=e.window&&(m.window=e.window)))}static addEventListener(e,t){return b[e]=b[e]||[],b[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(b[e])&&(b[e]=b[e].filter(e=>e!==t))}}v.Z&&(window.visualViewport?window.visualViewport.addEventListener("resize",S,!1):window.addEventListener("resize",S,!1));class M{static get(){return O.get("window").scale}static getFontScale(){return O.get("window").fontScale||M.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*M.get())}static roundToNearestPixel(e){var t=M.get();return Math.round(e*t)/t}}var StyleSheet=r(49427),R=r(93690),P=r(35252),E=r(24942),I=["aria-label","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],x="LOADED",A="LOADING",C=0,j=/^(data:image\/svg\+xml;utf8,)(.*)/;function T(e){var t=null;if("number"==typeof e){var r=l[e-1];if(null==r)throw Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var n=r.scales[0];if(r.scales.length>1){var i=M.get();n=r.scales.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e)}var o=1!==n?"@"+n+"x":"";t=r?r.httpServerLocation+"/"+r.name+o+"."+r.type:""}else"string"==typeof e?t=e:e&&"string"==typeof e.uri&&(t=e.uri);if(t){var a=t.match(j);if(a)return""+a[1]+encodeURIComponent(a[2])}return t}var Image=a.forwardRef((e,t)=>{var r,n=e["aria-label"],u=e.blurRadius,d=e.defaultSource,f=e.draggable,p=e.onError,y=e.onLayout,g=e.onLoad,v=e.onLoadEnd,m=e.onLoadStart,b=e.pointerEvents,_=e.source,w=e.style,S=(0,o.Z)(e,I),O=a.useState(()=>{var e=T(_);return null!=e&&h.has(e)?x:"IDLE"}),M=O[0],j=O[1],N=a.useState({}),k=N[0],B=N[1],F=a.useContext(R.Z),L=a.useRef(null),U=a.useRef(C++),V=a.useRef(null),K=M===x||M===A&&null==d,W=function(e,t,r,n){var i=StyleSheet.Z.flatten(e),o=i.filter,a=i.resizeMode,s=i.shadowOffset,l=i.tintColor;i.resizeMode&&(0,E.O)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),i.tintColor&&(0,E.O)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var u=[],d=null;if(o&&u.push(o),t&&u.push("blur("+t+"px)"),s){var f=(0,c.Lm)(i);f&&u.push("drop-shadow("+f+")")}return(n||l)&&null!=r&&u.push("url(#tint-"+r+")"),u.length>0&&(d=u.join(" ")),[a,d,l]}(w,u,U.current,e.tintColor),J=W[0],H=W[1],q=W[2],Z=e.resizeMode||J||"cover",G=e.tintColor||q,z=K?_:d,Y=T(z),X=function(e){if("number"==typeof e){var t=l[e-1];return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"==typeof e)return{height:e.height,width:e.width}}(z),Q=Y?'url("'+Y+'")':null,ee=function(){if(null!=L.current&&("center"===Z||"repeat"===Z)){var e=L.current,t=e.naturalHeight,r=e.naturalWidth,n=k.height,i=k.width;if(t&&r&&n&&i){var o=Math.min(1,i/r,n/t);return Math.ceil(o*r)+"px "+Math.ceil(o*t)+"px"}}}(),et=Y?(0,s.Z)("img",{alt:n||"",style:$.accessibilityImage$raw,draggable:f||!1,ref:L,src:Y}):null,er=T(_);return a.useEffect(()=>{function e(){null!=V.current&&(h.abort(V.current),V.current=null)}return e(),null!=er&&(j(A),m&&m(),V.current=h.load(er,function(e){j(x),g&&g(e),v&&v()},function(){j("ERRORED"),p&&p({nativeEvent:{error:"Failed to load resource "+er+" (404)"}}),v&&v()})),e},[er,V,j,p,g,v,m]),a.createElement(P.Z,(0,i.Z)({},S,{"aria-label":n,onLayout:function(e){if("center"===Z||"repeat"===Z||y){var t=e.nativeEvent.layout;y&&y(e),B(t)}},pointerEvents:b,ref:t,style:[$.root,F&&$.inline,X,w,$.undo,{boxShadow:null}]}),a.createElement(P.Z,{style:[$.image,D[Z],{backgroundImage:Q,filter:H},null!=ee&&{backgroundSize:ee}],suppressHydrationWarning:!0}),et,(r=U.current,G&&null!=r?a.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},a.createElement("defs",null,a.createElement("filter",{id:"tint-"+r,suppressHydrationWarning:!0},a.createElement("feFlood",{floodColor:""+G,key:G}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"atop"})))):null))});Image.displayName="Image",Image.getSize=function(e,t,r){h.getSize(e,t,r)},Image.prefetch=function(e){return h.prefetch(e)},Image.queryCache=function(e){return h.queryCache(e)};var $=StyleSheet.Z.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,n.Z)((0,n.Z)({},StyleSheet.Z.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,n.Z)((0,n.Z)({},StyleSheet.Z.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),D=StyleSheet.Z.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}}),N=Image},55477:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var("),i=r(68036),o=r.n(i),a=e=>{if(null==e)return e;var t=o()(e);if(null!=t)return(t<<24|t>>>8)>>>0},s=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"==typeof e&&n(e))return e;var r=a(e);if(null!=r){var i=((r>>24&255)/255*t).toFixed(2);return"rgba("+(r>>16&255)+","+(r>>8&255)+","+(255&r)+","+i+")"}}}},66557:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"],o=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1);Object.keys(n).forEach(e=>{i.forEach(t=>{n[o(t,e)]=n[e]})});var a=r(55477),s={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function l(e,t){var r=e;return null!=t&&n[t]||"number"!=typeof e?null!=t&&s[t]&&(r=(0,a.Z)(e)):r=e+"px",r}},49427:function(e,t,r){"use strict";r.d(t,{Z:function(){return eM}});var n=r(21047),i=r(20791),o=r(66557),a=r(1131),s={},l=!a.Z||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),c='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',u={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]},d=(e,t)=>{if(!e)return s;var r={};for(var n in e)if("continue"===function(){var i=e[n];if(null==i)return"continue";if("backgroundClip"===n)"text"===i&&(r.backgroundClip=i,r.WebkitBackgroundClip=i);else if("flex"===n)-1===i?(r.flexGrow=0,r.flexShrink=1,r.flexBasis="auto"):r.flex=i;else if("font"===n)r[n]=i.replace("System",c);else if("fontFamily"===n){if(i.indexOf("System")>-1){var a=i.split(/,\s*/);a[a.indexOf("System")]=c,r[n]=a.join(",")}else"monospace"===i?r[n]="monospace,monospace":r[n]=i}else if("textDecorationLine"===n)l?r.textDecorationLine=i:r.textDecoration=i;else if("writingDirection"===n)r.direction=i;else{var s=(0,o.Z)(e[n],n),d=u[n];t&&"inset"===n?(null==e.insetInline&&(r.left=s,r.right=s),null==e.insetBlock&&(r.top=s,r.bottom=s)):t&&"margin"===n?(null==e.marginInline&&(r.marginLeft=s,r.marginRight=s),null==e.marginBlock&&(r.marginTop=s,r.marginBottom=s)):t&&"padding"===n?(null==e.paddingInline&&(r.paddingLeft=s,r.paddingRight=s),null==e.paddingBlock&&(r.paddingTop=s,r.paddingBottom=s)):d?d.forEach((t,n)=>{null==e[t]&&(r[t]=s)}):r[n]=s}}())continue;return r},f=e=>(function(e,t){for(var r,n=e.length,i=1^n,o=0;n>=4;)r=(65535&(r=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))*1540483477+(((r>>>16)*1540483477&65535)<<16),r^=r>>>24,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)^(r=(65535&r)*1540483477+(((r>>>16)*1540483477&65535)<<16)),n-=4,++o;switch(n){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i^=255&e.charCodeAt(o),i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16)}return i^=i>>>13,i=(65535&i)*1540483477+(((i>>>16)*1540483477&65535)<<16),(i^=i>>>15)>>>0})(e,0).toString(36),p=/[A-Z]/g,h=/^ms-/,y={};function g(e){return"-"+e.toLowerCase()}var v=function(e){if(e in y)return y[e];var t=e.replace(p,g);return y[e]=h.test(t)?"-"+t:t},m=r(56071),b=r(53953),_=r(50514),w=r(45621),S=r(16252),O=r(68803),M=r(37760),R=r(4536),P=r(90981),E=r(78246),I=["Webkit"],x=["Webkit","ms"],A={plugins:[b.Z,_.Z,w.Z,S.Z,O.Z,M.Z,R.Z,P.Z,E.Z],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:x,textEmphasis:x,textEmphasisStyle:x,textEmphasisColor:x,boxDecorationBreak:x,clipPath:I,maskImage:x,maskMode:x,maskRepeat:x,maskPosition:x,maskClip:x,maskOrigin:x,maskSize:x,maskComposite:x,mask:x,maskBorderSource:x,maskBorderMode:x,maskBorderSlice:x,maskBorderWidth:x,maskBorderOutset:x,maskBorderRepeat:x,maskBorder:x,maskType:x,textDecorationStyle:I,textDecorationSkip:I,textDecorationLine:I,textDecorationColor:I,filter:I,breakAfter:I,breakBefore:I,breakInside:I,columnCount:I,columnFill:I,columnGap:I,columnRule:I,columnRuleColor:I,columnRuleStyle:I,columnRuleWidth:I,columns:I,columnSpan:I,columnWidth:I,backdropFilter:I,hyphens:I,flowInto:I,flowFrom:I,regionFragment:I,textOrientation:I,tabSize:["Moz"],fontKerning:I,textSizeAdjust:I}},C=(0,m.Z)(A),j=["animationKeyframes"],T=new Map,$={},D={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},N="borderTopLeftRadius",k="borderTopRightRadius",B="borderBottomLeftRadius",F="borderBottomRightRadius",L="borderLeftColor",U="borderLeftStyle",V="borderLeftWidth",K="borderRightColor",W="borderRightStyle",J="borderRightWidth",H="right",q="marginLeft",Z="marginRight",G="paddingLeft",z="paddingRight",Y="left",X={[N]:k,[k]:N,[B]:F,[F]:B,[L]:K,[U]:W,[V]:J,[K]:L,[W]:U,[J]:V,[Y]:H,[q]:Z,[Z]:q,[G]:z,[z]:G,[H]:Y},Q={borderStartStartRadius:N,borderStartEndRadius:k,borderEndStartRadius:B,borderEndEndRadius:F,borderInlineStartColor:L,borderInlineStartStyle:U,borderInlineStartWidth:V,borderInlineEndColor:K,borderInlineEndStyle:W,borderInlineEndWidth:J,insetInlineEnd:H,insetInlineStart:Y,marginInlineStart:q,marginInlineEnd:Z,paddingInlineStart:G,paddingInlineEnd:z},ee=["clear","float","textAlign"];function et(e){var t=C(d(e));return"{"+Object.keys(t).map(e=>{var r=t[e],n=v(e);return Array.isArray(r)?r.map(e=>n+":"+e).join(";"):n+":"+r}).sort().join(";")+";}"}function er(e){if("number"==typeof e)throw Error("Invalid CSS keyframes type: "+typeof e);var t=[],r=[];return(Array.isArray(e)?e:[e]).forEach(e=>{if("string"==typeof e)t.push(e);else{var n,i,o,a=(n="r-"+f("animation"+JSON.stringify(e)),i="{"+Object.keys(e).map(t=>{var r=et(e[t]);return""+t+r}).join("")+"}",o=["-webkit-",""].map(e=>"@"+e+"keyframes "+n+i),[n,o]),s=a[0],l=a[1];t.push(s),r.push(...l)}}),[t,r]}function en(e,t,r){if(!a.Z)return null;var n=null!=t?t:document,i=n.getElementById(e);if(null==i){if((i=document.createElement("style")).setAttribute("id",e),"string"==typeof r&&i.appendChild(document.createTextNode(r)),n instanceof ShadowRoot)n.insertBefore(i,n.firstChild);else{var o=n.head;o&&o.insertBefore(i,o.firstChild)}}return i.sheet}var ei=Array.prototype.slice;function eo(e){var t,r={},n={};function i(e,t,n){var i=es(r),o=i.indexOf(t)+1,a=i[o],s=null!=a&&null!=r[a].start?r[a].start:e.cssRules.length,l=function(e,t,r){try{return e.insertRule(t,r),!0}catch(e){return!1}}(e,n,s);if(l){null==r[t].start&&(r[t].start=s);for(var c=o;c<i.length;c+=1){var u=i[c],d=r[u].start||0;r[u].start=d+1}}return l}return null!=e&&ei.call(e.cssRules).forEach((e,i)=>{var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)r[t=Number(e.selectorText.split(ea)[1])]={start:i,rules:[o]};else{var a=ec(o);null!=a&&(n[a]=!0,r[t].rules.push(o))}}),{getTextContent:()=>es(r).map(e=>{var t=r[e].rules,n=t.shift();return t.sort(),t.unshift(n),t.join("\n")}).join("\n"),insert(t,o){var a=Number(o);if(null==r[a]){var s='[stylesheet-group="'+a+'"]{}';r[a]={start:null,rules:[s]},null!=e&&i(e,a,s)}var l=ec(t);null==l||null!=n[l]||(n[l]=!0,r[a].rules.push(t),null==e||i(e,a,t)||r[a].rules.pop())}}}var ea=/["']/g;function es(e){return Object.keys(e).map(Number).sort((e,t)=>e>t?1:-1)}var el=/\s*([,])\s*/g;function ec(e){var t=e.split("{")[0].trim();return""!==t?t.replace(el,"$1"):null}var eu=new WeakMap,ed=[],ef=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"],ep=r(65311),eh=r(83784),ey=r(70581),eg=["writingDirection"],ev=new WeakMap,em=function(e,t){if(void 0===t&&(t="react-native-stylesheet"),a.Z){var r,n=null!=e?e.getRootNode():document;if(0===ed.length)r=eo(en(t)),ef.forEach(e=>{r.insert(e,0)}),eu.set(n,ed.length),ed.push(r);else{var i=eu.get(n);if(null==i){var o=ed[0];r=eo(en(t,n,null!=o?o.getTextContent():"")),eu.set(n,ed.length),ed.push(r)}else r=ed[i]}}else 0===ed.length?(r=eo(en(t)),ef.forEach(e=>{r.insert(e,0)}),ed.push(r)):r=ed[0];return{getTextContent:()=>r.getTextContent(),id:t,insert(e,t){ed.forEach(r=>{r.insert(e,t)})}}}(),eb={shadow:!0,textShadow:!0};function e_(e){e.forEach(e=>{var t=e[0],r=e[1];null!=em&&t.forEach(e=>{em.insert(e,r)})})}var ew={position:"absolute",left:0,right:0,top:0,bottom:0},eS=eO({x:(0,n.Z)({},ew)}).x;function eO(e){return Object.keys(e).forEach(t=>{var r,a,s,l,c,u=e[t];null!=u&&!0!==u.$$css&&(t.indexOf("$raw")>-1?(a=(r=function(e,t){var r,o,a={$$css:!0},s=[],l=e.animationKeyframes,c=(0,i.Z)(e,j),u="css-"+f(t+JSON.stringify(e));if(null!=l){var d=er(l),p=d[0],h=d[1];o=p.join(","),s.push(...h)}var y=et((0,n.Z)((0,n.Z)({},c),{},{animationName:o}));return s.push("."+u+y),a[u]=u,[a,[[s,1]]]}(u,t.split("$raw")[0]))[0],e_(r[1]),c=a):(l=(s=function(e){var t={$$css:!0},r=[];function n(e,t,n){var i,a,s="string"!=typeof(i=(0,o.Z)(n,t))?JSON.stringify(i||""):i,l=t+s,c=T.get(l);if(null!=c)a=c[0],r.push(c[1]);else{a="r-"+f(e+(e!==t?l:s));var u,d=D[e]||3,p=[function(e,t,r){var n=[],i="."+e;switch(t){case"animationKeyframes":var o=er(r),a=o[0],s=o[1],l=et({animationName:a.join(",")});n.push(""+i+l,...s);break;case"placeholderTextColor":var c=et({color:r,opacity:1});n.push(i+"::-webkit-input-placeholder"+c,i+"::-moz-placeholder"+c,i+":-ms-input-placeholder"+c,i+"::placeholder"+c);break;case"pointerEvents":var u=r;if("auto"===r||"box-only"===r){if(u="auto!important","box-only"===r){var d=et({pointerEvents:"none"});n.push(i+">*"+d)}}else if(("none"===r||"box-none"===r)&&(u="none!important","box-none"===r)){var f=et({pointerEvents:"auto"});n.push(i+">*"+f)}var p=et({pointerEvents:u});n.push(""+i+p);break;case"scrollbarWidth":"none"===r&&n.push(i+"::-webkit-scrollbar{display:none}");var h=et({scrollbarWidth:r});n.push(""+i+h);break;default:var y=et({[t]:r});n.push(""+i+y)}return n}(a,t,n),d];r.push(p),T.set(l,[a,p])}return a}return Object.keys(e).sort().forEach(r=>{var i=e[r];if(null!=i){if(ee.indexOf(r)>-1){var o,a=n(r,r,"left"),s=n(r,r,"right");"start"===i?o=[a,s]:"end"===i&&(o=[s,a])}var l=Q[r];if(null!=l&&(o=[n(r,l,i),n(r,X[l],i)]),"transitionProperty"===r){for(var c=Array.isArray(i)?i:[i],u=[],d=0;d<c.length;d++){var f=c[d];"string"==typeof f&&null!=Q[f]&&u.push(d)}if(u.length>0){var p=[...c],h=[...c];u.forEach(e=>{var t=p[e];if("string"==typeof t){var i=Q[t],a=X[i];p[e]=i,h[e]=a,o=[n(r,r,p),n(r,r,h)]}})}}null==o?o=n(r,r,i):t.$$css$localize=!0,t[r]=o}}),[t,r]}((0,eh.dj)(u,eb)))[0],e_(s[1]),c=l),ev.set(u,c))}),e}function StyleSheet(e,t){void 0===t&&(t={});var r,o,a,s,l,c="rtl"===t.writingDirection,u=(void 0===(r=t)&&(r={}),a=(o=r).writingDirection,s=(0,i.Z)(o,eg),l="rtl"===a,ey.D.factory({transform(e){var t=ev.get(e);return null!=t?(0,ep.j)(t,l):(0,eh.dj)(e,(0,n.Z)((0,n.Z)({},eb),s))}})(e));return Array.isArray(u)&&null!=u[1]&&(u[1]=function(e,t){var r=e||$,n={},i={};for(var o in r)if("continue"===function(){var e=r[o],a=o,s=e;if(!Object.prototype.hasOwnProperty.call(r,o)||null==e)return"continue";ee.indexOf(o)>-1&&("start"===e?s=t?"right":"left":"end"===e&&(s=t?"left":"right"));var l=Q[o];if(null!=l&&(a=t?X[l]:l),"transitionProperty"===o){var c=Array.isArray(e)?e:[e];c.forEach((e,r)=>{if("string"==typeof e){var n=Q[e];null!=n&&(c[r]=t?X[n]:n,s=c.join(" "))}})}n[a]||(i[a]=s),a===o&&(n[a]=!0)}())continue;return d(i,!0)}(u[1],c)),u}StyleSheet.absoluteFill=eS,StyleSheet.absoluteFillObject=ew,StyleSheet.create=eO,StyleSheet.compose=function(e,t){return[e,t]},StyleSheet.flatten=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.flat(1/0),i={},o=0;o<n.length;o++){var a=n[o];null!=a&&"object"==typeof a&&Object.assign(i,a)}return i},StyleSheet.getSheet=function(){return{id:em.id,textContent:em.getTextContent()}},StyleSheet.hairlineWidth=1,a.Z&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=StyleSheet.flatten);var eM=StyleSheet},83784:function(e,t,r){"use strict";r.d(t,{Lm:function(){return l},dj:function(){return h}});var n=r(55477),i=r(66557),o=r(24942),a={},s={height:0,width:0},l=e=>{var t=e.shadowColor,r=e.shadowOffset,o=e.shadowOpacity,a=e.shadowRadius,l=r||s,c=l.height,u=l.width,d=(0,i.Z)(u),f=(0,i.Z)(c),p=(0,i.Z)(a||0),h=(0,n.Z)(t||"black",o);if(null!=h&&null!=d&&null!=f&&null!=p)return d+" "+f+" "+p+" "+h},c=e=>{var t=e.textShadowColor,r=e.textShadowOffset,n=e.textShadowRadius,o=r||s,a=o.height,l=o.width,c=n||0,u=(0,i.Z)(l),d=(0,i.Z)(a),f=(0,i.Z)(c),p=(0,i.Z)(t,"textShadowColor");if(p&&(0!==a||0!==l||0!==c)&&null!=u&&null!=d&&null!=f)return u+" "+d+" "+f+" "+p},u=e=>{var t=Object.keys(e)[0],r=e[t];if("matrix"===t||"matrix3d"===t)return t+"("+r.join(",")+")";var n=(0,i.Z)(r,t);return t+"("+n+")"},d=e=>e.map(u).join(" "),f={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},p={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},h=function(e,t){void 0===t&&(t={});var r=e||a,n={};if(t.shadow,null!=r.shadowColor||null!=r.shadowOffset||null!=r.shadowOpacity||null!=r.shadowRadius){(0,o.O)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var i=l(r);if(null!=i&&null==n.boxShadow){var s=r.boxShadow;n.boxShadow=s?s+", "+i:i}}if(t.textShadow,null!=r.textShadowColor||null!=r.textShadowOffset||null!=r.textShadowRadius){(0,o.O)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var u=c(r);if(null!=u&&null==n.textShadow){var h=r.textShadow;n.textShadow=h?h+", "+u:u}}for(var y in r)if(null==p[y]&&"shadowColor"!==y&&"shadowOffset"!==y&&"shadowOpacity"!==y&&"shadowRadius"!==y&&"textShadowColor"!==y&&"textShadowOffset"!==y&&"textShadowRadius"!==y){var g=r[y],v=f[y]||y,m=g;Object.prototype.hasOwnProperty.call(r,y)&&(v===y||null==r[v])&&("aspectRatio"===v&&"number"==typeof m?n[v]=m.toString():"fontVariant"===v?(Array.isArray(m)&&m.length>0&&((0,o.O)("fontVariant",'"fontVariant" style array value is deprecated. Use space-separated values.'),m=m.join(" ")),n[v]=m):"textAlignVertical"===v?((0,o.O)("textAlignVertical",'"textAlignVertical" style is deprecated. Use "verticalAlign".'),null==r.verticalAlign&&(n.verticalAlign="center"===m?"middle":m)):"transform"===v?(Array.isArray(m)&&((0,o.O)("transform",'"transform" style array value is deprecated. Use space-separated string functions, e.g., "scaleX(2) rotateX(15deg)".'),m=d(m)),n.transform=m):n[v]=m)}return n}},93690:function(e,t,r){"use strict";var n=(0,r(2265).createContext)(!1);t.Z=n},11045:function(e,t,r){"use strict";var n=r(21047),i=r(20791),o=r(2265),a=r(66667),s=r(98930),l=r(60580),c=r(52621),u=r(52858),d=r(57519),f=r(79879),p=r(49427),h=r(93690),y=r(93128),g=r(24942),v=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],m=Object.assign({},s.lG,s.LO,s._T,s.YB,s.Uy,s.hJ,s.E5,s.vr,{href:!0,lang:!0,pointerEvents:!0}),b=e=>(0,l.Z)(e,m),Text=o.forwardRef((e,t)=>{var r=e.hrefAttrs,n=e.numberOfLines,s=e.onClick,l=e.onLayout,p=e.onPress,m=e.onMoveShouldSetResponder,_=e.onMoveShouldSetResponderCapture,S=e.onResponderEnd,O=e.onResponderGrant,M=e.onResponderMove,R=e.onResponderReject,P=e.onResponderRelease,E=e.onResponderStart,I=e.onResponderTerminate,x=e.onResponderTerminationRequest,A=e.onScrollShouldSetResponder,C=e.onScrollShouldSetResponderCapture,j=e.onSelectionChangeShouldSetResponder,T=e.onSelectionChangeShouldSetResponderCapture,$=e.onStartShouldSetResponder,D=e.onStartShouldSetResponderCapture,N=e.selectable,k=(0,i.Z)(e,v);null!=N&&(0,g.O)("selectable","selectable prop is deprecated. Use styles.userSelect.");var B=o.useContext(h.Z),F=o.useRef(null),L=(0,y.PE)().direction;(0,c.Z)(F,l),(0,f.Z)(F,{onMoveShouldSetResponder:m,onMoveShouldSetResponderCapture:_,onResponderEnd:S,onResponderGrant:O,onResponderMove:M,onResponderReject:R,onResponderRelease:P,onResponderStart:E,onResponderTerminate:I,onResponderTerminationRequest:x,onScrollShouldSetResponder:A,onScrollShouldSetResponderCapture:C,onSelectionChangeShouldSetResponder:j,onSelectionChangeShouldSetResponderCapture:T,onStartShouldSetResponder:$,onStartShouldSetResponderCapture:D});var U=o.useCallback(e=>{null!=s?s(e):null!=p&&(e.stopPropagation(),p(e))},[s,p]),V=B?"span":"div",K=null!=e.lang?(0,y.w1)(e.lang):null,W=e.dir||K,J=W||L,H=b(k);if(H.dir=W,B||(H.dir=null!=W?W:"auto"),(s||p)&&(H.onClick=U),H.style=[null!=n&&n>1&&{WebkitLineClamp:n},!0===B?w.textHasAncestor$raw:w.text$raw,1===n&&w.textOneLine,null!=n&&n>1&&w.textMultiLine,e.style,!0===N&&w.selectable,!1===N&&w.notSelectable,p&&w.pressable],null!=e.href&&(V="a",null!=r)){var q=r.download,Z=r.rel,G=r.target;null!=q&&(H.download=q),null!=Z&&(H.rel=Z),"string"==typeof G&&(H.target="_"!==G.charAt(0)?"_"+G:G)}var z=(0,d.Z)(H),Y=(0,u.Z)(F,z,t);H.ref=Y;var X=(0,a.Z)(V,H,{writingDirection:J});return B?X:o.createElement(h.Z.Provider,{value:!0},X)});Text.displayName="Text";var _={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},w=p.Z.create({text$raw:_,textHasAncestor$raw:(0,n.Z)((0,n.Z)({},_),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});t.Z=Text},3341:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"],o=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1);Object.keys(n).forEach(e=>{i.forEach(t=>{n[o(t,e)]=n[e]})});var a=function(e,t){var r=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o,a,s=0===i.indexOf("--"),l=(o=i,null==(a=t[i])||"boolean"==typeof a||""===a?"":s||"number"!=typeof a||0===a||n.hasOwnProperty(o)&&n[o]?(""+a).trim():a+"px");"float"===i&&(i="cssFloat"),s?r.setProperty(i,l):r[i]=l}},s=e=>{var t=e.offsetHeight,r=e.offsetWidth,n=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)n+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:r,height:t,top:i-=window.scrollY,left:n-=window.scrollX}},l=(e,t,r)=>{var n=t||e&&e.parentNode;e&&n&&setTimeout(()=>{if(e.isConnected&&n.isConnected){var t=s(n),i=s(e),o=i.height,a=i.left,l=i.top,c=i.width;r(a-t.left,l-t.top,c,o,a,l)}},0)},c={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0},u={blur(e){try{e.blur()}catch(e){}},focus(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==c[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(e){}},measure(e,t){l(e,null,t)},measureInWindow(e,t){e&&setTimeout(()=>{var r=s(e),n=r.height;t(r.left,r.top,r.width,n)},0)},measureLayout(e,t,r,n){l(e,t,n)},updateView(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];switch(r){case"style":a(e,n);break;case"class":case"className":e.setAttribute("class",n);break;case"text":case"value":e.value=n;break;default:e.setAttribute(r,n)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}}},35252:function(e,t,r){"use strict";var n=r(20791),i=r(2265),o=r(66667),a=r(98930),s=r(60580),l=r(52621),c=r(52858),u=r(57519),d=r(79879),f=r(49427),p=r(93690),h=r(93128),y=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],g=Object.assign({},a.lG,a.LO,a._T,a.YB,a.Uy,a.hJ,a.E5,a.vr,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),v=e=>(0,s.Z)(e,g),m=i.forwardRef((e,t)=>{var r=e.hrefAttrs,a=e.onLayout,s=e.onMoveShouldSetResponder,f=e.onMoveShouldSetResponderCapture,g=e.onResponderEnd,m=e.onResponderGrant,_=e.onResponderMove,w=e.onResponderReject,S=e.onResponderRelease,O=e.onResponderStart,M=e.onResponderTerminate,R=e.onResponderTerminationRequest,P=e.onScrollShouldSetResponder,E=e.onScrollShouldSetResponderCapture,I=e.onSelectionChangeShouldSetResponder,x=e.onSelectionChangeShouldSetResponderCapture,A=e.onStartShouldSetResponder,C=e.onStartShouldSetResponderCapture,j=(0,n.Z)(e,y),T=i.useContext(p.Z),$=i.useRef(null),D=(0,h.PE)().direction;(0,l.Z)($,a),(0,d.Z)($,{onMoveShouldSetResponder:s,onMoveShouldSetResponderCapture:f,onResponderEnd:g,onResponderGrant:m,onResponderMove:_,onResponderReject:w,onResponderRelease:S,onResponderStart:O,onResponderTerminate:M,onResponderTerminationRequest:R,onScrollShouldSetResponder:P,onScrollShouldSetResponderCapture:E,onSelectionChangeShouldSetResponder:I,onSelectionChangeShouldSetResponderCapture:x,onStartShouldSetResponder:A,onStartShouldSetResponderCapture:C});var N="div",k=null!=e.lang?(0,h.w1)(e.lang):null,B=e.dir||k,F=B||D,L=v(j);if(L.dir=B,L.style=[b.view$raw,T&&b.inline,e.style],null!=e.href&&(N="a",null!=r)){var U=r.download,V=r.rel,K=r.target;null!=U&&(L.download=U),null!=V&&(L.rel=V),"string"==typeof K&&(L.target="_"!==K.charAt(0)?"_"+K:K)}var W=(0,u.Z)(L),J=(0,c.Z)($,W,t);return L.ref=J,(0,o.Z)(N,L,{writingDirection:F})});m.displayName="View";var b=f.Z.create({view$raw:{alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});t.Z=m},66667:function(e,t,r){"use strict";r.d(t,{Z:function(){return S}});var n={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null},i=e=>{var t=e.accessibilityRole,r=e.role||t;if(r){var i=n[r];if(null!==i)return i||r}},o={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},a={},s={isDisabled:e=>e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(e){if(void 0===e&&(e=a),"label"===e.accessibilityRole)return"label";var t=i(e);if(t){if("heading"===t){var r=e.accessibilityLevel||e["aria-level"];return null!=r?"h"+r:"h1"}return o[t]}},propsToAriaRole:i},l=r(21047),c=r(20791),StyleSheet=r(49427),u=r(24942),d=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],f={},p=Object.prototype.hasOwnProperty,h=Array.isArray,y=/[A-Z]/g;function g(e){return"-"+e.toLowerCase()}function v(e){return h(e)?e.join(" "):e}var m=StyleSheet.Z.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}}),b=(e,t,r)=>{t||(t=f);var n=t,i=n["aria-activedescendant"],o=n.accessibilityActiveDescendant,a=n["aria-atomic"],h=n.accessibilityAtomic,b=n["aria-autocomplete"],_=n.accessibilityAutoComplete,w=n["aria-busy"],S=n.accessibilityBusy,O=n["aria-checked"],M=n.accessibilityChecked,R=n["aria-colcount"],P=n.accessibilityColumnCount,E=n["aria-colindex"],I=n.accessibilityColumnIndex,x=n["aria-colspan"],A=n.accessibilityColumnSpan,C=n["aria-controls"],j=n.accessibilityControls,T=n["aria-current"],$=n.accessibilityCurrent,D=n["aria-describedby"],N=n.accessibilityDescribedBy,k=n["aria-details"],B=n.accessibilityDetails,F=n["aria-disabled"],L=n.accessibilityDisabled,U=n["aria-errormessage"],V=n.accessibilityErrorMessage,K=n["aria-expanded"],W=n.accessibilityExpanded,J=n["aria-flowto"],H=n.accessibilityFlowTo,q=n["aria-haspopup"],Z=n.accessibilityHasPopup,G=n["aria-hidden"],z=n.accessibilityHidden,Y=n["aria-invalid"],X=n.accessibilityInvalid,Q=n["aria-keyshortcuts"],ee=n.accessibilityKeyShortcuts,et=n["aria-label"],er=n.accessibilityLabel,en=n["aria-labelledby"],ei=n.accessibilityLabelledBy,eo=n["aria-level"],ea=n.accessibilityLevel,es=n["aria-live"],el=n.accessibilityLiveRegion,ec=n["aria-modal"],eu=n.accessibilityModal,ed=n["aria-multiline"],ef=n.accessibilityMultiline,ep=n["aria-multiselectable"],eh=n.accessibilityMultiSelectable,ey=n["aria-orientation"],eg=n.accessibilityOrientation,ev=n["aria-owns"],em=n.accessibilityOwns,eb=n["aria-placeholder"],e_=n.accessibilityPlaceholder,ew=n["aria-posinset"],eS=n.accessibilityPosInSet,eO=n["aria-pressed"],eM=n.accessibilityPressed,eR=n["aria-readonly"],eP=n.accessibilityReadOnly,eE=n["aria-required"],eI=n.accessibilityRequired,ex=(n.role,n.accessibilityRole),eA=n["aria-roledescription"],eC=n.accessibilityRoleDescription,ej=n["aria-rowcount"],eT=n.accessibilityRowCount,e$=n["aria-rowindex"],eD=n.accessibilityRowIndex,eN=n["aria-rowspan"],ek=n.accessibilityRowSpan,eB=n["aria-selected"],eF=n.accessibilitySelected,eL=n["aria-setsize"],eU=n.accessibilitySetSize,eV=n["aria-sort"],eK=n.accessibilitySort,eW=n["aria-valuemax"],eJ=n.accessibilityValueMax,eH=n["aria-valuemin"],eq=n.accessibilityValueMin,eZ=n["aria-valuenow"],eG=n.accessibilityValueNow,ez=n["aria-valuetext"],eY=n.accessibilityValueText,eX=n.dataSet,eQ=n.focusable,e0=n.id,e1=n.nativeID,e2=n.pointerEvents,e3=n.style,e5=n.tabIndex,e9=n.testID,e8=(0,c.Z)(n,d);null!=L&&(0,u.O)("accessibilityDisabled","accessibilityDisabled is deprecated.");var e6=s.propsToAriaRole(t);null!=o&&(0,u.O)("accessibilityActiveDescendant","accessibilityActiveDescendant is deprecated. Use aria-activedescendant.");var e4=null!=i?i:o;null!=e4&&(e8["aria-activedescendant"]=e4),null!=h&&(0,u.O)("accessibilityAtomic","accessibilityAtomic is deprecated. Use aria-atomic.");var e7=null!=a?i:h;null!=e7&&(e8["aria-atomic"]=e7),null!=_&&(0,u.O)("accessibilityAutoComplete","accessibilityAutoComplete is deprecated. Use aria-autocomplete.");var te=null!=b?b:_;null!=te&&(e8["aria-autocomplete"]=te),null!=S&&(0,u.O)("accessibilityBusy","accessibilityBusy is deprecated. Use aria-busy.");var tt=null!=w?w:S;null!=tt&&(e8["aria-busy"]=tt),null!=M&&(0,u.O)("accessibilityChecked","accessibilityChecked is deprecated. Use aria-checked.");var tr=null!=O?O:M;null!=tr&&(e8["aria-checked"]=tr),null!=P&&(0,u.O)("accessibilityColumnCount","accessibilityColumnCount is deprecated. Use aria-colcount.");var tn=null!=R?R:P;null!=tn&&(e8["aria-colcount"]=tn),null!=I&&(0,u.O)("accessibilityColumnIndex","accessibilityColumnIndex is deprecated. Use aria-colindex.");var ti=null!=E?E:I;null!=ti&&(e8["aria-colindex"]=ti),null!=A&&(0,u.O)("accessibilityColumnSpan","accessibilityColumnSpan is deprecated. Use aria-colspan.");var to=null!=x?x:A;null!=to&&(e8["aria-colspan"]=to),null!=j&&(0,u.O)("accessibilityControls","accessibilityControls is deprecated. Use aria-controls.");var ta=null!=C?C:j;null!=ta&&(e8["aria-controls"]=v(ta)),null!=$&&(0,u.O)("accessibilityCurrent","accessibilityCurrent is deprecated. Use aria-current.");var ts=null!=T?T:$;null!=ts&&(e8["aria-current"]=ts),null!=N&&(0,u.O)("accessibilityDescribedBy","accessibilityDescribedBy is deprecated. Use aria-describedby.");var tl=null!=D?D:N;null!=tl&&(e8["aria-describedby"]=v(tl)),null!=B&&(0,u.O)("accessibilityDetails","accessibilityDetails is deprecated. Use aria-details.");var tc=null!=k?k:B;null!=tc&&(e8["aria-details"]=tc),!0===(F||L)&&(e8["aria-disabled"]=!0,("button"===e||"form"===e||"input"===e||"select"===e||"textarea"===e)&&(e8.disabled=!0)),null!=V&&(0,u.O)("accessibilityErrorMessage","accessibilityErrorMessage is deprecated. Use aria-errormessage.");var tu=null!=U?U:V;null!=tu&&(e8["aria-errormessage"]=tu),null!=W&&(0,u.O)("accessibilityExpanded","accessibilityExpanded is deprecated. Use aria-expanded.");var td=null!=K?K:W;null!=td&&(e8["aria-expanded"]=td),null!=H&&(0,u.O)("accessibilityFlowTo","accessibilityFlowTo is deprecated. Use aria-flowto.");var tf=null!=J?J:H;null!=tf&&(e8["aria-flowto"]=v(tf)),null!=Z&&(0,u.O)("accessibilityHasPopup","accessibilityHasPopup is deprecated. Use aria-haspopup.");var tp=null!=q?q:Z;null!=tp&&(e8["aria-haspopup"]=tp),null!=z&&(0,u.O)("accessibilityHidden","accessibilityHidden is deprecated. Use aria-hidden.");var th=null!=G?G:z;!0===th&&(e8["aria-hidden"]=th),null!=X&&(0,u.O)("accessibilityInvalid","accessibilityInvalid is deprecated. Use aria-invalid.");var ty=null!=Y?Y:X;null!=ty&&(e8["aria-invalid"]=ty),null!=ee&&(0,u.O)("accessibilityKeyShortcuts","accessibilityKeyShortcuts is deprecated. Use aria-keyshortcuts.");var tg=null!=Q?Q:ee;null!=tg&&(e8["aria-keyshortcuts"]=v(tg)),null!=er&&(0,u.O)("accessibilityLabel","accessibilityLabel is deprecated. Use aria-label.");var tv=null!=et?et:er;null!=tv&&(e8["aria-label"]=tv),null!=ei&&(0,u.O)("accessibilityLabelledBy","accessibilityLabelledBy is deprecated. Use aria-labelledby.");var tm=null!=en?en:ei;null!=tm&&(e8["aria-labelledby"]=v(tm)),null!=ea&&(0,u.O)("accessibilityLevel","accessibilityLevel is deprecated. Use aria-level.");var tb=null!=eo?eo:ea;null!=tb&&(e8["aria-level"]=tb),null!=el&&(0,u.O)("accessibilityLiveRegion","accessibilityLiveRegion is deprecated. Use aria-live.");var t_=null!=es?es:el;null!=t_&&(e8["aria-live"]="none"===t_?"off":t_),null!=eu&&(0,u.O)("accessibilityModal","accessibilityModal is deprecated. Use aria-modal.");var tw=null!=ec?ec:eu;null!=tw&&(e8["aria-modal"]=tw),null!=ef&&(0,u.O)("accessibilityMultiline","accessibilityMultiline is deprecated. Use aria-multiline.");var tS=null!=ed?ed:ef;null!=tS&&(e8["aria-multiline"]=tS),null!=eh&&(0,u.O)("accessibilityMultiSelectable","accessibilityMultiSelectable is deprecated. Use aria-multiselectable.");var tO=null!=ep?ep:eh;null!=tO&&(e8["aria-multiselectable"]=tO),null!=eg&&(0,u.O)("accessibilityOrientation","accessibilityOrientation is deprecated. Use aria-orientation.");var tM=null!=ey?ey:eg;null!=tM&&(e8["aria-orientation"]=tM),null!=em&&(0,u.O)("accessibilityOwns","accessibilityOwns is deprecated. Use aria-owns.");var tR=null!=ev?ev:em;null!=tR&&(e8["aria-owns"]=v(tR)),null!=e_&&(0,u.O)("accessibilityPlaceholder","accessibilityPlaceholder is deprecated. Use aria-placeholder.");var tP=null!=eb?eb:e_;null!=tP&&(e8["aria-placeholder"]=tP),null!=eS&&(0,u.O)("accessibilityPosInSet","accessibilityPosInSet is deprecated. Use aria-posinset.");var tE=null!=ew?ew:eS;null!=tE&&(e8["aria-posinset"]=tE),null!=eM&&(0,u.O)("accessibilityPressed","accessibilityPressed is deprecated. Use aria-pressed.");var tI=null!=eO?eO:eM;null!=tI&&(e8["aria-pressed"]=tI),null!=eP&&(0,u.O)("accessibilityReadOnly","accessibilityReadOnly is deprecated. Use aria-readonly.");var tx=null!=eR?eR:eP;null!=tx&&(e8["aria-readonly"]=tx,("input"===e||"select"===e||"textarea"===e)&&(e8.readOnly=!0)),null!=eI&&(0,u.O)("accessibilityRequired","accessibilityRequired is deprecated. Use aria-required.");var tA=null!=eE?eE:eI;null!=tA&&(e8["aria-required"]=tA,("input"===e||"select"===e||"textarea"===e)&&(e8.required=eI)),null!=ex&&(0,u.O)("accessibilityRole","accessibilityRole is deprecated. Use role."),null!=e6&&(e8.role="none"===e6?"presentation":e6),null!=eC&&(0,u.O)("accessibilityRoleDescription","accessibilityRoleDescription is deprecated. Use aria-roledescription.");var tC=null!=eA?eA:eC;null!=tC&&(e8["aria-roledescription"]=tC),null!=eT&&(0,u.O)("accessibilityRowCount","accessibilityRowCount is deprecated. Use aria-rowcount.");var tj=null!=ej?ej:eT;null!=tj&&(e8["aria-rowcount"]=tj),null!=eD&&(0,u.O)("accessibilityRowIndex","accessibilityRowIndex is deprecated. Use aria-rowindex.");var tT=null!=e$?e$:eD;null!=tT&&(e8["aria-rowindex"]=tT),null!=ek&&(0,u.O)("accessibilityRowSpan","accessibilityRowSpan is deprecated. Use aria-rowspan.");var t$=null!=eN?eN:ek;null!=t$&&(e8["aria-rowspan"]=t$),null!=eF&&(0,u.O)("accessibilitySelected","accessibilitySelected is deprecated. Use aria-selected.");var tD=null!=eB?eB:eF;null!=tD&&(e8["aria-selected"]=tD),null!=eU&&(0,u.O)("accessibilitySetSize","accessibilitySetSize is deprecated. Use aria-setsize.");var tN=null!=eL?eL:eU;null!=tN&&(e8["aria-setsize"]=tN),null!=eK&&(0,u.O)("accessibilitySort","accessibilitySort is deprecated. Use aria-sort.");var tk=null!=eV?eV:eK;null!=tk&&(e8["aria-sort"]=tk),null!=eJ&&(0,u.O)("accessibilityValueMax","accessibilityValueMax is deprecated. Use aria-valuemax.");var tB=null!=eW?eW:eJ;null!=tB&&(e8["aria-valuemax"]=tB),null!=eq&&(0,u.O)("accessibilityValueMin","accessibilityValueMin is deprecated. Use aria-valuemin.");var tF=null!=eH?eH:eq;null!=tF&&(e8["aria-valuemin"]=tF),null!=eG&&(0,u.O)("accessibilityValueNow","accessibilityValueNow is deprecated. Use aria-valuenow.");var tL=null!=eZ?eZ:eG;null!=tL&&(e8["aria-valuenow"]=tL),null!=eY&&(0,u.O)("accessibilityValueText","accessibilityValueText is deprecated. Use aria-valuetext.");var tU=null!=ez?ez:eY;if(null!=tU&&(e8["aria-valuetext"]=tU),null!=eX){for(var tV in eX)if(p.call(eX,tV)){var tK=tV.replace(y,g),tW=eX[tV];null!=tW&&(e8["data-"+tK]=tW)}}0===e5||"0"===e5||-1===e5||"-1"===e5?e8.tabIndex=e5:(null!=eQ&&(0,u.O)("focusable","focusable is deprecated."),!1===eQ&&(e8.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?(!1===eQ||!0===L)&&(e8.tabIndex="-1"):"button"===e6||"checkbox"===e6||"link"===e6||"radio"===e6||"textbox"===e6||"switch"===e6?!1!==eQ&&(e8.tabIndex="0"):!0===eQ&&(e8.tabIndex="0")),null!=e2&&(0,u.O)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var tJ=(0,StyleSheet.Z)([e3,e2&&m[e2]],(0,l.Z)({writingDirection:"ltr"},r)),tH=tJ[0],tq=tJ[1];tH&&(e8.className=tH),tq&&(e8.style=tq),null!=e1&&(0,u.O)("nativeID","nativeID is deprecated. Use id.");var tZ=null!=e0?e0:e1;return null!=tZ&&(e8.id=tZ),null!=e9&&(e8["data-testid"]=e9),null==e8.type&&"button"===e&&(e8.type="button"),e8},_=r(2265),w=r(93128),S=(e,t,r)=>{e&&e.constructor===String&&(n=s.propsToAccessibilityComponent(t));var n,i=n||e,o=b(i,t,r),a=_.createElement(i,o);return o.dir?_.createElement(w.Iw,{children:a,direction:o.dir,locale:o.lang}):a}},1131:function(e,t){"use strict";var r=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.Z=r},98930:function(e,t,r){"use strict";r.d(t,{E5:function(){return c},LO:function(){return i},Uy:function(){return s},YB:function(){return a},_T:function(){return o},hJ:function(){return l},lG:function(){return n},vr:function(){return u}});var n={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},i={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},a={onBlur:!0,onFocus:!0},s={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},c={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},u={style:!0}},60580:function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)e.hasOwnProperty(n)&&!0===t[n]&&(r[n]=e[n]);return r}r.d(t,{Z:function(){return n}})},52621:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2265),i=r(1131),o=i.Z?n.useLayoutEffect:n.useEffect,a=r(3341),s="__reactLayoutHandler",l=(i.Z,null);function c(e,t){var r=(i.Z&&void 0!==window.ResizeObserver&&null==l&&(l=new window.ResizeObserver(function(e){e.forEach(e=>{var t=e.target,r=t[s];"function"==typeof r&&a.Z.measure(t,(t,n,i,o,a,s)=>{var l={nativeEvent:{layout:{x:t,y:n,width:i,height:o,left:a,top:s}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),r(l)})})})),l);o(()=>{var r=e.current;null!=r&&(r[s]=t)},[e,t]),o(()=>{var t=e.current;return null!=t&&null!=r&&("function"==typeof t[s]?r.observe(t):r.unobserve(t)),()=>{null!=t&&null!=r&&r.unobserve(t)}},[e,r])}},93128:function(e,t,r){"use strict";r.d(t,{Iw:function(){return c},w1:function(){return l},PE:function(){return u}});var n=r(2265),i=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),o=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),a=new Map,s=(0,n.createContext)({direction:"ltr",locale:"en-US"});function l(e){return!function(e){var t=a.get(e);if(t)return t;var r=!1;if(Intl.Locale){var n=new Intl.Locale(e).maximize().script;r=i.has(n)}else{var s=e.split("-")[0];r=o.has(s)}return a.set(e,r),r}(e)?"ltr":"rtl"}function c(e){var t=e.direction,r=e.locale,i=e.children;return t||r?n.createElement(s.Provider,{children:i,value:{direction:r?l(r):t,locale:r}}):i}function u(){return(0,n.useContext)(s)}},52858:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var n=r(2265);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo(()=>(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){t.forEach(t=>{if(null!=t){if("function"==typeof t){t(e);return}if("object"==typeof t){t.current=e;return}console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t))}})}})(...t),[...t])}},57519:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3341),i=r(2265),o="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():Object.freeze({});function a(e){var t;return e.pointerEvents,e.style,(t=i.useRef(o)).current===o&&(t.current=e=>{null!=e&&(e.measure=t=>n.Z.measure(e,t),e.measureLayout=(t,r,i)=>n.Z.measureLayout(e,t,i,r),e.measureInWindow=t=>n.Z.measureInWindow(e,t))}),t.current}},79879:function(e,t,r){"use strict";r.d(t,{Z:function(){return F}});var n=r(2265),i=e=>{if(null!=e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect)return e.getBoundingClientRect()},o=()=>{},a={},s=[];function l(e){return e>20?e%20:e}function c(e,t){var r,n,c,u=!1,d=e.changedTouches,f=e.type,p=!0===e.metaKey,h=!0===e.shiftKey,y=d&&d[0].force||0,g=l(d&&d[0].identifier||0),v=d&&d[0].clientX||e.clientX,m=d&&d[0].clientY||e.clientY,b=d&&d[0].pageX||e.pageX,_=d&&d[0].pageY||e.pageY,w="function"==typeof e.preventDefault?e.preventDefault.bind(e):o,S=e.timeStamp;function O(e){return Array.prototype.slice.call(e).map(e=>({force:e.force,identifier:l(e.identifier),get locationX(){return P(e.clientX)},get locationY(){return E(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:S}))}if(null!=d)n=O(d),c=O(e.touches);else{var M=[{force:y,identifier:g,get locationX(){return P(v)},get locationY(){return E(m)},pageX:b,pageY:_,target:e.target,timestamp:S}];n=M,c="mouseup"===f||"dragstart"===f?s:M}var R={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:a,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>u,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:p,shiftKey:h,changedTouches:n,force:y,identifier:g,get locationX(){return P(v)},get locationY(){return E(m)},pageX:b,pageY:_,target:e.target,timestamp:S,touches:c,type:f},persist:o,preventDefault:w,stopPropagation(){u=!0},target:e.target,timeStamp:S,touchHistory:t.touchHistory};function P(e){if(r=r||i(R.currentTarget))return e-r.left}function E(e){if(r=r||i(R.currentTarget))return e-r.top}return R}function u(e){return"touchstart"===e||"mousedown"===e}function d(e){return"touchmove"===e||"mousemove"===e}function f(e){return"touchend"===e||"mouseup"===e||p(e)}function p(e){return"touchcancel"===e||"dragstart"===e}var h="__reactResponderId";function y(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function g(e){return e.timeStamp||e.timestamp}function v(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function m(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:g(e)})}function b(e){var t=e.touchBank,r=JSON.stringify(t.slice(0,20));return t.length>20&&(r+=" (original size: "+t.length+")"),r}class _{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var r=this._touchHistory;if(d(e))t.changedTouches.forEach(e=>{var t;(t=r.touchBank[v(e)])?(t.touchActive=!0,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=g(e),r.mostRecentTimeStamp=g(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+m(e)+"\n","Touch Bank: "+b(r))});else if(u(e))t.changedTouches.forEach(e=>{var t,n,i,o;return t=e,n=r,i=v(t),void((o=n.touchBank[i])?(o.touchActive=!0,o.startPageX=t.pageX,o.startPageY=t.pageY,o.startTimeStamp=g(t),o.currentPageX=t.pageX,o.currentPageY=t.pageY,o.currentTimeStamp=g(t),o.previousPageX=t.pageX,o.previousPageY=t.pageY,o.previousTimeStamp=g(t)):n.touchBank[i]={touchActive:!0,startPageX:t.pageX,startPageY:t.pageY,startTimeStamp:g(t),currentPageX:t.pageX,currentPageY:t.pageY,currentTimeStamp:g(t),previousPageX:t.pageX,previousPageY:t.pageY,previousTimeStamp:g(t)},n.mostRecentTimeStamp=g(t))}),r.numberActiveTouches=t.touches.length,1===r.numberActiveTouches&&(r.indexOfSingleActiveTouch=t.touches[0].identifier);else if(f(e)&&(t.changedTouches.forEach(e=>{var t;(t=r.touchBank[v(e)])?(t.touchActive=!1,t.previousPageX=t.currentPageX,t.previousPageY=t.currentPageY,t.previousTimeStamp=t.currentTimeStamp,t.currentPageX=e.pageX,t.currentPageY=e.pageY,t.currentTimeStamp=g(e),r.mostRecentTimeStamp=g(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+m(e)+"\n","Touch Bank: "+b(r))}),r.numberActiveTouches=t.touches.length,1===r.numberActiveTouches))for(var n=r.touchBank,i=0;i<n.length;i++){var o=n[i];if(null!=o&&o.touchActive){r.indexOfSingleActiveTouch=i;break}}}get touchHistory(){return this._touchHistory}}var w=r(1131),S={},O=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],M=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],R={touchstart:O,mousedown:O,touchmove:M,mousemove:M,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},P={id:null,idPath:null,node:null},E=new Map,I=!1,x=0,A={id:null,node:null,idPath:null},C=new _;function j(e){var t=E.get(e);return null!=t?t:S}function T(e){var t,r,n,i,o,a,s,l=e.type,g=e.target;if("touchstart"===l&&(I=!0),("touchmove"===l||x>1)&&(I=!1),("mousedown"!==l||!I)&&("mousemove"!==l||!I)&&("mousemove"!==l||!(x<1))){if(I&&"mouseup"===l){0===x&&(I=!1);return}var v=u(l)&&(t=e.altKey,r=e.button,n=e.buttons,i=e.ctrlKey,o=e.type,a=!1===t&&!1===i,"touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===r||1===n)&&!!a||"mousemove"===o&&1===n&&!!a),m=d(l),b=f(l),_="scroll"===l,w="select"===l||"selectionchange"===l,S=c(e,C);(v||m||b)&&(e.touches?x=e.touches.length:v?x=1:b&&(x=0),C.recordTouchTrack(l,S.nativeEvent));var O=function(e){for(var t=[],r=[],n="selectionchange"===e.type?y(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():y(e.target),i=0;i<n.length;i++){var o=n[i],a=null!=o?o[h]:null;null!=a&&(t.push(a),r.push(o))}return{idPath:t,nodePath:r}}(e),M=!1;if(v||m||_&&x>0){var E=A.idPath,T=O.idPath;if(null!=E&&null!=T){var $=function(e,t){var r=e.length,n=t.length;if(0===r||0===n||e[r-1]!==t[n-1])return null;var i=e[0],o=0,a=t[0],s=0;r-n>0&&(i=e[o=r-n],r=n),n-r>0&&(a=t[s=n-r],n=r);for(var l=r;l--;){if(i===a)return i;i=e[o++],a=t[s++]}return null}(E,T);if(null!=$){var D=T.indexOf($)+($===A.id?1:0);O={idPath:T.slice(D),nodePath:O.nodePath.slice(D)}}else O=null}null!=O&&null!=(s=function(e,t,r){var n=R[t.type];if(null!=n){for(var i=e.idPath,o=e.nodePath,a=n[0],s=n[1],l=n[2].bubbles,c=function(e,t,n){var o=j(e)[n];if(null!=o&&(r.currentTarget=t,!0===o(r))){var a=i.slice(i.indexOf(e));return{id:e,node:t,idPath:a}}},u=i.length-1;u>=0;u--){var d=c(i[u],o[u],a);if(null!=d)return d;if(!0===r.isPropagationStopped())return}if(l)for(var f=0;f<i.length;f++){var p=c(i[f],o[f],s);if(null!=p)return p;if(!0===r.isPropagationStopped())return}else{var h=i[0],y=o[0];if(t.target===y)return c(h,y,s)}}}(O,e,S))&&(function(e,t){var r=A,n=r.id,i=r.node,o=t.id,a=t.node,s=j(o),l=s.onResponderGrant,c=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=a,null==n)null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),A=t;else{var u=j(n),d=u.onResponderTerminate,f=u.onResponderTerminationRequest,p=!0;(null!=f&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===f(e)&&(p=!1)),p)?(null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",d(e)),null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),A=t):null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderReject",c(e))}}(S,s),M=!0)}if(null!=A.id&&null!=A.node){var N=A,k=N.id,B=N.node,F=j(k),L=F.onResponderStart,U=F.onResponderMove,V=F.onResponderEnd,K=F.onResponderRelease,W=F.onResponderTerminate,J=F.onResponderTerminationRequest;if(S.bubbles=!1,S.cancelable=!1,S.currentTarget=B,v)null!=L&&(S.dispatchConfig.registrationName="onResponderStart",L(S));else if(m)null!=U&&(S.dispatchConfig.registrationName="onResponderMove",U(S));else{var H=p(l)||"contextmenu"===l||"blur"===l&&g===window||"blur"===l&&g.contains(B)&&e.relatedTarget!==B||_&&0===x||_&&g.contains(B)&&g!==B||w&&function(e){if("selectionchange"===e.type){var t,r,n,i,o;return r=(t=window.getSelection()).toString(),n=t.anchorNode,i=t.focusNode,o=n&&n.nodeType===window.Node.TEXT_NODE||i&&i.nodeType===window.Node.TEXT_NODE,r.length>=1&&"\n"!==r&&o}return"select"===e.type}(e),q=b&&!H&&!function(e,t){if(!t||0===t.length)return!1;for(var r=0;r<t.length;r++){var n=t[r].target;if(null!=n&&e.contains(n))return!0}return!1}(B,e.touches);if(b&&null!=V&&(S.dispatchConfig.registrationName="onResponderEnd",V(S)),q&&(null!=K&&(S.dispatchConfig.registrationName="onResponderRelease",K(S)),A=P),H){var Z=!0;("contextmenu"===l||"scroll"===l||"selectionchange"===l)&&(M?Z=!1:null!=J&&(S.dispatchConfig.registrationName="onResponderTerminationRequest",!1===J(S)&&(Z=!1))),Z&&(null!=W&&(S.dispatchConfig.registrationName="onResponderTerminate",W(S)),A=P,I=!1,x=0)}}}}}var $=["blur","scroll"],D=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function N(e){A.id===e&&function(){var e=A,t=e.id,r=e.node;if(null!=t&&null!=r){var n=j(t).onResponderTerminate;if(null!=n){var i=c({},C);i.currentTarget=r,n(i)}A=P}I=!1,x=0}(),E.has(e)&&E.delete(e)}var k={},B=0;function F(e,t){void 0===t&&(t=k);var r,i=(null==(r=n.useRef(null)).current&&(r.current=B++),r.current),o=n.useRef(!1);n.useEffect(()=>(w.Z&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",T),D.forEach(e=>{document.addEventListener(e,T)}),$.forEach(e=>{document.addEventListener(e,T,!0)}),window.__reactResponderSystemActive=!0),()=>{N(i)}),[i]),n.useEffect(()=>{var r,n=t,a=n.onMoveShouldSetResponder,s=n.onMoveShouldSetResponderCapture,l=n.onScrollShouldSetResponder,c=n.onScrollShouldSetResponderCapture,u=n.onSelectionChangeShouldSetResponder,d=n.onSelectionChangeShouldSetResponderCapture,f=n.onStartShouldSetResponder,p=n.onStartShouldSetResponderCapture,y=e.current;null!=a||null!=s||null!=l||null!=c||null!=u||null!=d||null!=f||null!=p?(r=t,null!=y&&(y[h]=i),E.set(i,r),o.current=!0):o.current&&(N(i),o.current=!1)},[t,e,i]),n.useDebugValue({isResponder:e.current===A.node}),n.useDebugValue(t)}},24942:function(e,t,r){"use strict";function n(e,t){}r.d(t,{O:function(){return n}})},51570:function(e,t,r){var Reflect,Reflect,n=r(62601);Reflect=Reflect||(Reflect={}),function(e){var t="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(Reflect);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===t.Reflect?t.Reflect=Reflect:n=i(t.Reflect,n),e(n)}(function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s=({__proto__:[]})instanceof Array,l=!a&&!s,c={create:a?function(){return A(Object.create(null))}:s?function(){return A({__proto__:null})}:function(){return A({})},has:l?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:l?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),d="object"==typeof n&&n.env&&"true"===n.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=d||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function Map(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(Map.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),Map.prototype.has=function(e){return this._find(e,!1)>=0},Map.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},Map.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},Map.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},Map.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},Map.prototype.keys=function(){return new r(this._keys,this._values,n)},Map.prototype.values=function(){return new r(this._keys,this._values,i)},Map.prototype.entries=function(){return new r(this._keys,this._values,a)},Map.prototype["@@iterator"]=function(){return this.entries()},Map.prototype[o]=function(){return this.entries()},Map.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},Map}();function n(e,t){return e}function i(e,t){return t}function a(e,t){return[e,t]}}():Map,p=d||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function Set(){this._map=new f}return Object.defineProperty(Set.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),Set.prototype.has=function(e){return this._map.has(e)},Set.prototype.add=function(e){return this._map.set(e,e),this},Set.prototype.delete=function(e){return this._map.delete(e)},Set.prototype.clear=function(){this._map.clear()},Set.prototype.keys=function(){return this._map.keys()},Set.prototype.values=function(){return this._map.values()},Set.prototype.entries=function(){return this._map.entries()},Set.prototype["@@iterator"]=function(){return this.keys()},Set.prototype[o]=function(){return this.keys()},Set}():Set,h=new(d||"function"!=typeof WeakMap?function(){var e=c.create(),r=n();return function(){function WeakMap(){this._key=n()}return WeakMap.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&c.has(t,this._key)},WeakMap.prototype.get=function(e){var t=i(e,!1);return void 0!==t?c.get(t,this._key):void 0},WeakMap.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},WeakMap.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},WeakMap.prototype.clear=function(){this._key=n()},WeakMap}();function n(){var t;do t="@@WeakMap@@"+function(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):o(new Uint8Array(16),16):o(Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",r=0;r<16;++r){var n=e[r];(4===r||6===r||8===r)&&(t+="-"),n<16&&(t+="0"),t+=n.toString(16).toLowerCase()}return t}();while(c.has(e,t));return e[t]=!0,t}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:c.create()})}return e[r]}function o(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}}():WeakMap);function y(e,t,r){var n=h.get(e);if(w(n)){if(!r)return;n=new f,h.set(e,n)}var i=n.get(t);if(w(i)){if(!r)return;i=new f,n.set(t,i)}return i}function g(e,t,r){var n=y(t,r,!1);return!w(n)&&!!n.has(e)}function v(e,t,r){var n=y(t,r,!1);if(!w(n))return n.get(e)}function m(e,t,r,n){y(r,n,!0).set(e,t)}function b(e,t){var r=[],n=y(e,t,!1);if(w(n))return r;for(var i=function(e){var t=I(e,o);if(!P(t))throw TypeError();var r=t.call(e);if(!O(r))throw TypeError();return r}(n.keys()),a=0;;){var s=function(e){var t=e.next();return!t.done&&t}(i);if(!s)return r.length=a,r;var l=s.value;try{r[a]=l}catch(e){try{(function(e){var t=e.return;t&&t.call(e)})(i)}finally{throw e}}a++}}function _(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function S(e){return null===e}function O(e){return"object"==typeof e?null!==e:"function"==typeof e}function M(e){var t=function(e,t){switch(_(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",n=I(e,i);if(void 0!==n){var o=n.call(e,r);if(O(o))throw TypeError();return o}return function(e,t){if("string"===t){var r=e.toString;if(P(r)){var n=r.call(e);if(!O(n))return n}var i=e.valueOf;if(P(i)){var n=i.call(e);if(!O(n))return n}}else{var i=e.valueOf;if(P(i)){var n=i.call(e);if(!O(n))return n}var o=e.toString;if(P(o)){var n=o.call(e);if(!O(n))return n}}throw TypeError()}(e,"default"===r?"number":r)}(e,3);return"symbol"==typeof t?t:""+t}function R(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function P(e){return"function"==typeof e}function E(e){return"function"==typeof e}function I(e,t){var r=e[t];if(null!=r){if(!P(r))throw TypeError();return r}}function x(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u||t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function A(e){return e.__=void 0,delete e.__,e}e("decorate",function(e,t,r,n){if(w(r)){if(!R(e)||!E(t))throw TypeError();return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!w(n)&&!S(n)){if(!E(n))throw TypeError();t=n}}return t}(e,t)}if(!R(e)||!O(t)||!O(n)&&!w(n)&&!S(n))throw TypeError();return S(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,r,n);if(!w(o)&&!S(o)){if(!O(o))throw TypeError();n=o}}return n}(e,t,r=M(r),n)}),e("metadata",function(e,t){return function(r,n){if(!O(r)||!w(n)&&!function(e){switch(_(e)){case 3:case 4:return!0;default:return!1}}(n))throw TypeError();m(e,t,r,n)}}),e("defineMetadata",function(e,t,r,n){if(!O(r))throw TypeError();return w(n)||(n=M(n)),m(e,t,r,n)}),e("hasMetadata",function(e,t,r){if(!O(t))throw TypeError();return w(r)||(r=M(r)),function e(t,r,n){if(g(t,r,n))return!0;var i=x(r);return!S(i)&&e(t,i,n)}(e,t,r)}),e("hasOwnMetadata",function(e,t,r){if(!O(t))throw TypeError();return w(r)||(r=M(r)),g(e,t,r)}),e("getMetadata",function(e,t,r){if(!O(t))throw TypeError();return w(r)||(r=M(r)),function e(t,r,n){if(g(t,r,n))return v(t,r,n);var i=x(r);if(!S(i))return e(t,i,n)}(e,t,r)}),e("getOwnMetadata",function(e,t,r){if(!O(t))throw TypeError();return w(r)||(r=M(r)),v(e,t,r)}),e("getMetadataKeys",function(e,t){if(!O(e))throw TypeError();return w(t)||(t=M(t)),function e(t,r){var n=b(t,r),i=x(t);if(null===i)return n;var o=e(i,r);if(o.length<=0)return n;if(n.length<=0)return o;for(var a=new p,s=[],l=0;l<n.length;l++){var c=n[l],u=a.has(c);u||(a.add(c),s.push(c))}for(var d=0;d<o.length;d++){var c=o[d],u=a.has(c);u||(a.add(c),s.push(c))}return s}(e,t)}),e("getOwnMetadataKeys",function(e,t){if(!O(e))throw TypeError();return w(t)||(t=M(t)),b(e,t)}),e("deleteMetadata",function(e,t,r){if(!O(t))throw TypeError();w(r)||(r=M(r));var n=y(t,r,!1);if(w(n)||!n.delete(e))return!1;if(n.size>0)return!0;var i=h.get(t);return i.delete(r),i.size>0||(h.delete(t),!0)})})},21233:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.interval=t.iif=t.generate=t.fromEventPattern=t.fromEvent=t.from=t.forkJoin=t.empty=t.defer=t.connectable=t.concat=t.combineLatest=t.bindNodeCallback=t.bindCallback=t.UnsubscriptionError=t.TimeoutError=t.SequenceError=t.ObjectUnsubscribedError=t.NotFoundError=t.EmptyError=t.ArgumentOutOfRangeError=t.firstValueFrom=t.lastValueFrom=t.isObservable=t.identity=t.noop=t.pipe=t.NotificationKind=t.Notification=t.Subscriber=t.Subscription=t.Scheduler=t.VirtualAction=t.VirtualTimeScheduler=t.animationFrameScheduler=t.animationFrame=t.queueScheduler=t.queue=t.asyncScheduler=t.async=t.asapScheduler=t.asap=t.AsyncSubject=t.ReplaySubject=t.BehaviorSubject=t.Subject=t.animationFrames=t.observable=t.ConnectableObservable=t.Observable=void 0,t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.combineLatestWith=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=t.config=t.NEVER=t.EMPTY=t.scheduled=t.zip=t.using=t.timer=t.throwError=t.range=t.race=t.partition=t.pairs=t.onErrorResumeNext=t.of=t.never=t.merge=void 0,t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.pairwise=t.onErrorResumeNextWith=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=t.mergeAll=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=void 0,t.zipWith=t.zipAll=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=void 0;var o=r(31498);Object.defineProperty(t,"Observable",{enumerable:!0,get:function(){return o.Observable}});var a=r(60517);Object.defineProperty(t,"ConnectableObservable",{enumerable:!0,get:function(){return a.ConnectableObservable}});var s=r(87591);Object.defineProperty(t,"observable",{enumerable:!0,get:function(){return s.observable}});var l=r(21819);Object.defineProperty(t,"animationFrames",{enumerable:!0,get:function(){return l.animationFrames}});var c=r(45816);Object.defineProperty(t,"Subject",{enumerable:!0,get:function(){return c.Subject}});var u=r(98516);Object.defineProperty(t,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}});var d=r(86803);Object.defineProperty(t,"ReplaySubject",{enumerable:!0,get:function(){return d.ReplaySubject}});var f=r(8166);Object.defineProperty(t,"AsyncSubject",{enumerable:!0,get:function(){return f.AsyncSubject}});var p=r(14287);Object.defineProperty(t,"asap",{enumerable:!0,get:function(){return p.asap}}),Object.defineProperty(t,"asapScheduler",{enumerable:!0,get:function(){return p.asapScheduler}});var h=r(95313);Object.defineProperty(t,"async",{enumerable:!0,get:function(){return h.async}}),Object.defineProperty(t,"asyncScheduler",{enumerable:!0,get:function(){return h.asyncScheduler}});var y=r(70733);Object.defineProperty(t,"queue",{enumerable:!0,get:function(){return y.queue}}),Object.defineProperty(t,"queueScheduler",{enumerable:!0,get:function(){return y.queueScheduler}});var g=r(13403);Object.defineProperty(t,"animationFrame",{enumerable:!0,get:function(){return g.animationFrame}}),Object.defineProperty(t,"animationFrameScheduler",{enumerable:!0,get:function(){return g.animationFrameScheduler}});var v=r(88894);Object.defineProperty(t,"VirtualTimeScheduler",{enumerable:!0,get:function(){return v.VirtualTimeScheduler}}),Object.defineProperty(t,"VirtualAction",{enumerable:!0,get:function(){return v.VirtualAction}});var m=r(53449);Object.defineProperty(t,"Scheduler",{enumerable:!0,get:function(){return m.Scheduler}});var b=r(64524);Object.defineProperty(t,"Subscription",{enumerable:!0,get:function(){return b.Subscription}});var _=r(63455);Object.defineProperty(t,"Subscriber",{enumerable:!0,get:function(){return _.Subscriber}});var w=r(20088);Object.defineProperty(t,"Notification",{enumerable:!0,get:function(){return w.Notification}}),Object.defineProperty(t,"NotificationKind",{enumerable:!0,get:function(){return w.NotificationKind}});var S=r(3565);Object.defineProperty(t,"pipe",{enumerable:!0,get:function(){return S.pipe}});var O=r(64416);Object.defineProperty(t,"noop",{enumerable:!0,get:function(){return O.noop}});var M=r(1018);Object.defineProperty(t,"identity",{enumerable:!0,get:function(){return M.identity}});var R=r(94974);Object.defineProperty(t,"isObservable",{enumerable:!0,get:function(){return R.isObservable}});var P=r(8287);Object.defineProperty(t,"lastValueFrom",{enumerable:!0,get:function(){return P.lastValueFrom}});var E=r(31656);Object.defineProperty(t,"firstValueFrom",{enumerable:!0,get:function(){return E.firstValueFrom}});var I=r(16761);Object.defineProperty(t,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return I.ArgumentOutOfRangeError}});var x=r(39452);Object.defineProperty(t,"EmptyError",{enumerable:!0,get:function(){return x.EmptyError}});var A=r(4154);Object.defineProperty(t,"NotFoundError",{enumerable:!0,get:function(){return A.NotFoundError}});var C=r(79805);Object.defineProperty(t,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return C.ObjectUnsubscribedError}});var j=r(20003);Object.defineProperty(t,"SequenceError",{enumerable:!0,get:function(){return j.SequenceError}});var T=r(7620);Object.defineProperty(t,"TimeoutError",{enumerable:!0,get:function(){return T.TimeoutError}});var $=r(5505);Object.defineProperty(t,"UnsubscriptionError",{enumerable:!0,get:function(){return $.UnsubscriptionError}});var D=r(26719);Object.defineProperty(t,"bindCallback",{enumerable:!0,get:function(){return D.bindCallback}});var N=r(1588);Object.defineProperty(t,"bindNodeCallback",{enumerable:!0,get:function(){return N.bindNodeCallback}});var k=r(16199);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return k.combineLatest}});var B=r(48988);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return B.concat}});var F=r(81572);Object.defineProperty(t,"connectable",{enumerable:!0,get:function(){return F.connectable}});var L=r(85489);Object.defineProperty(t,"defer",{enumerable:!0,get:function(){return L.defer}});var U=r(62798);Object.defineProperty(t,"empty",{enumerable:!0,get:function(){return U.empty}});var V=r(20348);Object.defineProperty(t,"forkJoin",{enumerable:!0,get:function(){return V.forkJoin}});var K=r(7252);Object.defineProperty(t,"from",{enumerable:!0,get:function(){return K.from}});var W=r(10120);Object.defineProperty(t,"fromEvent",{enumerable:!0,get:function(){return W.fromEvent}});var J=r(87195);Object.defineProperty(t,"fromEventPattern",{enumerable:!0,get:function(){return J.fromEventPattern}});var H=r(73814);Object.defineProperty(t,"generate",{enumerable:!0,get:function(){return H.generate}});var q=r(21758);Object.defineProperty(t,"iif",{enumerable:!0,get:function(){return q.iif}});var Z=r(68312);Object.defineProperty(t,"interval",{enumerable:!0,get:function(){return Z.interval}});var G=r(11295);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return G.merge}});var z=r(51223);Object.defineProperty(t,"never",{enumerable:!0,get:function(){return z.never}});var Y=r(34814);Object.defineProperty(t,"of",{enumerable:!0,get:function(){return Y.of}});var X=r(22410);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return X.onErrorResumeNext}});var Q=r(87843);Object.defineProperty(t,"pairs",{enumerable:!0,get:function(){return Q.pairs}});var ee=r(11113);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ee.partition}});var et=r(86460);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return et.race}});var er=r(9395);Object.defineProperty(t,"range",{enumerable:!0,get:function(){return er.range}});var en=r(80229);Object.defineProperty(t,"throwError",{enumerable:!0,get:function(){return en.throwError}});var ei=r(17892);Object.defineProperty(t,"timer",{enumerable:!0,get:function(){return ei.timer}});var eo=r(21462);Object.defineProperty(t,"using",{enumerable:!0,get:function(){return eo.using}});var ea=r(91039);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return ea.zip}});var es=r(38789);Object.defineProperty(t,"scheduled",{enumerable:!0,get:function(){return es.scheduled}});var el=r(62798);Object.defineProperty(t,"EMPTY",{enumerable:!0,get:function(){return el.EMPTY}});var ec=r(51223);Object.defineProperty(t,"NEVER",{enumerable:!0,get:function(){return ec.NEVER}}),i(r(18819),t);var eu=r(57425);Object.defineProperty(t,"config",{enumerable:!0,get:function(){return eu.config}});var ed=r(58285);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return ed.audit}});var ef=r(88248);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return ef.auditTime}});var ep=r(84174);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return ep.buffer}});var eh=r(78996);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return eh.bufferCount}});var ey=r(88236);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return ey.bufferTime}});var eg=r(13244);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return eg.bufferToggle}});var ev=r(25595);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return ev.bufferWhen}});var em=r(37579);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return em.catchError}});var eb=r(28978);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return eb.combineAll}});var e_=r(98521);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return e_.combineLatestAll}});var ew=r(23279);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return ew.combineLatestWith}});var eS=r(67686);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return eS.concatAll}});var eO=r(85318);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return eO.concatMap}});var eM=r(94679);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return eM.concatMapTo}});var eR=r(89012);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return eR.concatWith}});var eP=r(51566);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return eP.connect}});var eE=r(92478);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return eE.count}});var eI=r(28583);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return eI.debounce}});var ex=r(94324);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return ex.debounceTime}});var eA=r(2002);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return eA.defaultIfEmpty}});var eC=r(30395);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return eC.delay}});var ej=r(20556);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return ej.delayWhen}});var eT=r(72044);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return eT.dematerialize}});var e$=r(61943);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return e$.distinct}});var eD=r(52662);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return eD.distinctUntilChanged}});var eN=r(86641);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return eN.distinctUntilKeyChanged}});var ek=r(41202);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return ek.elementAt}});var eB=r(17787);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return eB.endWith}});var eF=r(41211);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return eF.every}});var eL=r(12635);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return eL.exhaust}});var eU=r(97642);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return eU.exhaustAll}});var eV=r(79361);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return eV.exhaustMap}});var eK=r(389);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return eK.expand}});var eW=r(1669);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return eW.filter}});var eJ=r(21421);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return eJ.finalize}});var eH=r(54425);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return eH.find}});var eq=r(78075);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return eq.findIndex}});var eZ=r(14639);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return eZ.first}});var eG=r(37578);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return eG.groupBy}});var ez=r(12654);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return ez.ignoreElements}});var eY=r(49010);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return eY.isEmpty}});var eX=r(96346);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return eX.last}});var eQ=r(18050);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return eQ.map}});var e0=r(43341);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return e0.mapTo}});var e1=r(46316);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return e1.materialize}});var e2=r(14046);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return e2.max}});var e3=r(66291);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return e3.mergeAll}});var e5=r(10131);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return e5.flatMap}});var e9=r(40988);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return e9.mergeMap}});var e8=r(98866);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return e8.mergeMapTo}});var e6=r(16041);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return e6.mergeScan}});var e4=r(53628);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return e4.mergeWith}});var e7=r(85643);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return e7.min}});var te=r(63354);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return te.multicast}});var tt=r(74395);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return tt.observeOn}});var tr=r(1646);Object.defineProperty(t,"onErrorResumeNextWith",{enumerable:!0,get:function(){return tr.onErrorResumeNextWith}});var tn=r(58937);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return tn.pairwise}});var ti=r(16841);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return ti.pluck}});var to=r(86960);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return to.publish}});var ta=r(86674);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return ta.publishBehavior}});var ts=r(65814);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return ts.publishLast}});var tl=r(98287);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return tl.publishReplay}});var tc=r(35226);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return tc.raceWith}});var tu=r(6561);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return tu.reduce}});var td=r(52557);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return td.repeat}});var tf=r(55394);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return tf.repeatWhen}});var tp=r(65151);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return tp.retry}});var th=r(10205);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return th.retryWhen}});var ty=r(6172);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return ty.refCount}});var tg=r(16653);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return tg.sample}});var tv=r(681);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return tv.sampleTime}});var tm=r(27375);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return tm.scan}});var tb=r(24612);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return tb.sequenceEqual}});var t_=r(61235);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return t_.share}});var tw=r(53785);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return tw.shareReplay}});var tS=r(13602);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return tS.single}});var tO=r(76395);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return tO.skip}});var tM=r(17797);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return tM.skipLast}});var tR=r(41326);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return tR.skipUntil}});var tP=r(7798);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return tP.skipWhile}});var tE=r(63418);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return tE.startWith}});var tI=r(28383);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return tI.subscribeOn}});var tx=r(28019);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return tx.switchAll}});var tA=r(33662);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return tA.switchMap}});var tC=r(91957);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return tC.switchMapTo}});var tj=r(30365);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return tj.switchScan}});var tT=r(17184);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return tT.take}});var t$=r(64358);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return t$.takeLast}});var tD=r(47671);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return tD.takeUntil}});var tN=r(2282);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return tN.takeWhile}});var tk=r(91756);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return tk.tap}});var tB=r(42463);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return tB.throttle}});var tF=r(2160);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return tF.throttleTime}});var tL=r(30156);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return tL.throwIfEmpty}});var tU=r(460);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return tU.timeInterval}});var tV=r(7620);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return tV.timeout}});var tK=r(88905);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return tK.timeoutWith}});var tW=r(25435);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return tW.timestamp}});var tJ=r(76590);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return tJ.toArray}});var tH=r(74221);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return tH.window}});var tq=r(58920);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return tq.windowCount}});var tZ=r(43094);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return tZ.windowTime}});var tG=r(99287);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return tG.windowToggle}});var tz=r(65046);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return tz.windowWhen}});var tY=r(69539);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return tY.withLatestFrom}});var tX=r(53260);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return tX.zipAll}});var tQ=r(72273);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return tQ.zipWith}})},8166:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncSubject=void 0;var o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._value=null,t._hasValue=!1,t._isComplete=!1,t}return i(t,e),t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this._hasValue,n=this._value,i=this.thrownError,o=this.isStopped,a=this._isComplete;t?e.error(i):(o||a)&&(r&&e.next(n),e.complete())},t.prototype.next=function(e){this.isStopped||(this._value=e,this._hasValue=!0)},t.prototype.complete=function(){var t=this._hasValue,r=this._value;this._isComplete||(this._isComplete=!0,t&&e.prototype.next.call(this,r),e.prototype.complete.call(this))},t}(r(45816).Subject);t.AsyncSubject=o},98516:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.BehaviorSubject=void 0;var o=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return i(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r.closed||t.next(this._value),r},t.prototype.getValue=function(){var e=this.hasError,t=this.thrownError,r=this._value;if(e)throw t;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(r(45816).Subject);t.BehaviorSubject=o},20088:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeNotification=t.Notification=t.NotificationKind=void 0;var n,i=r(62798),o=r(34814),a=r(80229),s=r(92803);(n=t.NotificationKind||(t.NotificationKind={})).NEXT="N",n.ERROR="E",n.COMPLETE="C";var Notification=function(){function Notification(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return Notification.prototype.observe=function(e){return l(this,e)},Notification.prototype.do=function(e,t,r){var n=this.kind,i=this.value,o=this.error;return"N"===n?null==e?void 0:e(i):"E"===n?null==t?void 0:t(o):null==r?void 0:r()},Notification.prototype.accept=function(e,t,r){return s.isFunction(null==e?void 0:e.next)?this.observe(e):this.do(e,t,r)},Notification.prototype.toObservable=function(){var e=this.kind,t=this.value,r=this.error,n="N"===e?o.of(t):"E"===e?a.throwError(function(){return r}):"C"===e?i.EMPTY:0;if(!n)throw TypeError("Unexpected notification kind "+e);return n},Notification.createNext=function(e){return new Notification("N",e)},Notification.createError=function(e){return new Notification("E",void 0,e)},Notification.createComplete=function(){return Notification.completeNotification},Notification.completeNotification=new Notification("C"),Notification}();function l(e,t){var r,n,i,o=e.kind,a=e.value,s=e.error;if("string"!=typeof o)throw TypeError('Invalid notification, missing "kind"');"N"===o?null===(r=t.next)||void 0===r||r.call(t,a):"E"===o?null===(n=t.error)||void 0===n||n.call(t,s):null===(i=t.complete)||void 0===i||i.call(t)}t.Notification=Notification,t.observeNotification=l},36674:function(e,t){"use strict";function r(e,t,r){return{kind:e,value:t,error:r}}Object.defineProperty(t,"__esModule",{value:!0}),t.createNotification=t.nextNotification=t.errorNotification=t.COMPLETE_NOTIFICATION=void 0,t.COMPLETE_NOTIFICATION=r("C",void 0,void 0),t.errorNotification=function(e){return r("E",void 0,e)},t.nextNotification=function(e){return r("N",e,void 0)},t.createNotification=r},31498:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Observable=void 0;var n=r(63455),i=r(64524),o=r(87591),a=r(3565),s=r(57425),l=r(92803),c=r(23996),u=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var o,a=this,s=(o=e)&&o instanceof n.Subscriber||o&&l.isFunction(o.next)&&l.isFunction(o.error)&&l.isFunction(o.complete)&&i.isSubscription(o)?e:new n.SafeSubscriber(e,t,r);return c.errorContext(function(){var e=a.operator,t=a.source;s.add(e?e.call(s,t):t?a._subscribe(s):a._trySubscribe(s))}),s},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))(function(t,i){var o=new n.SafeSubscriber({next:function(t){try{e(t)}catch(e){i(e),o.unsubscribe()}},error:i,complete:t});r.subscribe(o)})},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.pipeFromArray(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))(function(e,r){var n;t.subscribe(function(e){return n=e},function(e){return r(e)},function(){return e(n)})})},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!=e?e:s.config.Promise)&&void 0!==t?t:Promise}t.Observable=u},86803:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ReplaySubject=void 0;var o=r(45816),a=r(63510),s=function(e){function t(t,r,n){void 0===t&&(t=1/0),void 0===r&&(r=1/0),void 0===n&&(n=a.dateTimestampProvider);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=r,i._timestampProvider=n,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=r===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,r),i}return i(t,e),t.prototype.next=function(t){var r=this.isStopped,n=this._buffer,i=this._infiniteTimeWindow,o=this._timestampProvider,a=this._windowTime;!r&&(n.push(t),i||n.push(o.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),r=this._infiniteTimeWindow,n=this._buffer.slice(),i=0;i<n.length&&!e.closed;i+=r?1:2)e.next(n[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this._bufferSize,t=this._timestampProvider,r=this._buffer,n=this._infiniteTimeWindow,i=(n?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!n){for(var o=t.now(),a=0,s=1;s<r.length&&r[s]<=o;s+=2)a=s;a&&r.splice(0,a+1)}},t}(o.Subject);t.ReplaySubject=s},53449:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Scheduler=void 0;var n=r(63510),i=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=n.dateTimestampProvider.now,e}();t.Scheduler=i},45816:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.AnonymousSubject=t.Subject=void 0;var a=r(31498),s=r(64524),l=r(79805),c=r(92447),u=r(23996),d=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return i(t,e),t.prototype.lift=function(e){var t=new f(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new l.ObjectUnsubscribedError},t.prototype.next=function(e){var t=this;u.errorContext(function(){var r,n;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=o(t.currentObservers),a=i.next();!a.done;a=i.next())a.value.next(e)}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}}})},t.prototype.error=function(e){var t=this;u.errorContext(function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var r=t.observers;r.length;)r.shift().error(e)}})},t.prototype.complete=function(){var e=this;u.errorContext(function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,r=this.hasError,n=this.isStopped,i=this.observers;return r||n?s.EMPTY_SUBSCRIPTION:(this.currentObservers=null,i.push(e),new s.Subscription(function(){t.currentObservers=null,c.arrRemove(i,e)}))},t.prototype._checkFinalizedStatuses=function(e){var t=this.hasError,r=this.thrownError,n=this.isStopped;t?e.error(r):n&&e.complete()},t.prototype.asObservable=function(){var e=new a.Observable;return e.source=this,e},t.create=function(e,t){return new f(e,t)},t}(a.Observable);t.Subject=d;var f=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return i(t,e),t.prototype.next=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)},t.prototype.error=function(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:s.EMPTY_SUBSCRIPTION},t}(d);t.AnonymousSubject=f},63455:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_OBSERVER=t.SafeSubscriber=t.Subscriber=void 0;var o=r(92803),a=r(64524),s=r(57425),l=r(20012),c=r(64416),u=r(36674),d=r(54141),f=r(23996),p=function(e){function r(r){var n=e.call(this)||this;return n.isStopped=!1,r?(n.destination=r,a.isSubscription(r)&&r.add(n)):n.destination=t.EMPTY_OBSERVER,n}return i(r,e),r.create=function(e,t,r){return new v(e,t,r)},r.prototype.next=function(e){this.isStopped?b(u.nextNotification(e),this):this._next(e)},r.prototype.error=function(e){this.isStopped?b(u.errorNotification(e),this):(this.isStopped=!0,this._error(e))},r.prototype.complete=function(){this.isStopped?b(u.COMPLETE_NOTIFICATION,this):(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(e){this.destination.next(e)},r.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(a.Subscription);t.Subscriber=p;var h=Function.prototype.bind;function y(e,t){return h.call(e,t)}var g=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){m(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){m(e)}else m(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){m(e)}},e}(),v=function(e){function t(t,r,n){var i,a,l=e.call(this)||this;return o.isFunction(t)||!t?i={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:l&&s.config.useDeprecatedNextContext?((a=Object.create(t)).unsubscribe=function(){return l.unsubscribe()},i={next:t.next&&y(t.next,a),error:t.error&&y(t.error,a),complete:t.complete&&y(t.complete,a)}):i=t,l.destination=new g(i),l}return i(t,e),t}(p);function m(e){s.config.useDeprecatedSynchronousErrorHandling?f.captureError(e):l.reportUnhandledError(e)}function b(e,t){var r=s.config.onStoppedNotification;r&&d.timeoutProvider.setTimeout(function(){return r(e,t)})}t.SafeSubscriber=v,t.EMPTY_OBSERVER={closed:!0,next:c.noop,error:function(e){throw e},complete:c.noop}},64524:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.isSubscription=t.EMPTY_SUBSCRIPTION=t.Subscription=void 0;var a=r(92803),s=r(5505),l=r(92447),c=function(){var e;function t(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e,t,r,l,c,d=this._parentage;if(d){if(this._parentage=null,Array.isArray(d))try{for(var f=n(d),p=f.next();!p.done;p=f.next())p.value.remove(this)}catch(t){e={error:t}}finally{try{p&&!p.done&&(t=f.return)&&t.call(f)}finally{if(e)throw e.error}}else d.remove(this)}var h=this.initialTeardown;if(a.isFunction(h))try{h()}catch(e){c=e instanceof s.UnsubscriptionError?e.errors:[e]}var y=this._finalizers;if(y){this._finalizers=null;try{for(var g=n(y),v=g.next();!v.done;v=g.next()){var m=v.value;try{u(m)}catch(e){c=null!=c?c:[],e instanceof s.UnsubscriptionError?c=o(o([],i(c)),i(e.errors)):c.push(e)}}}catch(e){r={error:e}}finally{try{v&&!v.done&&(l=g.return)&&l.call(g)}finally{if(r)throw r.error}}}if(c)throw new s.UnsubscriptionError(c)}},t.prototype.add=function(e){var r;if(e&&e!==this){if(this.closed)u(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(e)}}},t.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},t.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},t.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&l.arrRemove(t,e)},t.prototype.remove=function(e){var r=this._finalizers;r&&l.arrRemove(r,e),e instanceof t&&e._removeParent(this)},t.EMPTY=((e=new t).closed=!0,e),t}();function u(e){a.isFunction(e)?e():e.unsubscribe()}t.Subscription=c,t.EMPTY_SUBSCRIPTION=c.EMPTY,t.isSubscription=function(e){return e instanceof c||e&&"closed"in e&&a.isFunction(e.remove)&&a.isFunction(e.add)&&a.isFunction(e.unsubscribe)}},57425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},31656:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.firstValueFrom=void 0;var n=r(39452),i=r(63455);t.firstValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(o,a){var s=new i.SafeSubscriber({next:function(e){o(e),s.unsubscribe()},error:a,complete:function(){r?o(t.defaultValue):a(new n.EmptyError)}});e.subscribe(s)})}},8287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lastValueFrom=void 0;var n=r(39452);t.lastValueFrom=function(e,t){var r="object"==typeof t;return new Promise(function(i,o){var a,s=!1;e.subscribe({next:function(e){a=e,s=!0},error:o,complete:function(){s?i(a):r?i(t.defaultValue):o(new n.EmptyError)}})})}},60517:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectableObservable=void 0;var o=r(31498),a=r(64524),s=r(6172),l=r(44087),c=r(86863),u=function(e){function t(t,r){var n=e.call(this)||this;return n.source=t,n.subjectFactory=r,n._subject=null,n._refCount=0,n._connection=null,c.hasLift(t)&&(n.lift=t.lift),n}return i(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject},t.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null,null==e||e.unsubscribe()},t.prototype.connect=function(){var e=this,t=this._connection;if(!t){t=this._connection=new a.Subscription;var r=this.getSubject();t.add(this.source.subscribe(l.createOperatorSubscriber(r,void 0,function(){e._teardown(),r.complete()},function(t){e._teardown(),r.error(t)},function(){return e._teardown()}))),t.closed&&(this._connection=null,t=a.Subscription.EMPTY)}return t},t.prototype.refCount=function(){return s.refCount()(this)},t}(o.Observable);t.ConnectableObservable=u},26719:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallback=void 0;var n=r(66412);t.bindCallback=function(e,t,r){return n.bindCallbackInternals(!1,e,t,r)}},66412:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.bindCallbackInternals=void 0;var o=r(27737),a=r(31498),s=r(28383),l=r(52884),c=r(74395),u=r(8166);t.bindCallbackInternals=function e(t,r,d,f){if(d){if(!o.isScheduler(d))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r,f).apply(this,n).pipe(l.mapOneOrManyArgs(d))};f=d}return f?function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t,r).apply(this,n).pipe(s.subscribeOn(f),c.observeOn(f))}:function(){for(var e=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var l=new u.AsyncSubject,c=!0;return new a.Observable(function(a){var s=l.subscribe(a);if(c){c=!1;var u=!1,d=!1;r.apply(e,i(i([],n(o)),[function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];if(t){var n=e.shift();if(null!=n){l.error(n);return}}l.next(1<e.length?e:e[0]),d=!0,u&&l.complete()}])),d&&l.complete(),u=!0}return s})}}},1588:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindNodeCallback=void 0;var n=r(66412);t.bindNodeCallback=function(e,t,r){return n.bindCallbackInternals(!0,e,t,r)}},16199:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestInit=t.combineLatest=void 0;var n=r(31498),i=r(24474),o=r(7252),a=r(1018),s=r(52884),l=r(55375),c=r(53281),u=r(44087),d=r(37209);function f(e,t,r){return void 0===r&&(r=a.identity),function(n){p(t,function(){for(var i=e.length,a=Array(i),s=i,l=i,c=function(i){p(t,function(){var c=o.from(e[i],t),d=!1;c.subscribe(u.createOperatorSubscriber(n,function(e){a[i]=e,!d&&(d=!0,l--),l||n.next(r(a.slice()))},function(){--s||n.complete()}))},n)},d=0;d<i;d++)c(d)},n)}}function p(e,t,r){e?d.executeSchedule(r,e,t):t()}t.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popScheduler(e),u=l.popResultSelector(e),d=i.argsArgArrayOrObject(e),p=d.args,h=d.keys;if(0===p.length)return o.from([],r);var y=new n.Observable(f(p,r,h?function(e){return c.createObject(h,e)}:a.identity));return u?y.pipe(s.mapOneOrManyArgs(u)):y},t.combineLatestInit=f},48988:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var n=r(67686),i=r(55375),o=r(7252);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.concatAll()(o.from(e,i.popScheduler(e)))}},81572:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connectable=void 0;var n=r(45816),i=r(31498),o=r(85489),a={connector:function(){return new n.Subject},resetOnDisconnect:!0};t.connectable=function(e,t){void 0===t&&(t=a);var r=null,n=t.connector,s=t.resetOnDisconnect,l=void 0===s||s,c=n(),u=new i.Observable(function(e){return c.subscribe(e)});return u.connect=function(){return(!r||r.closed)&&(r=o.defer(function(){return e}).subscribe(c),l&&r.add(function(){return c=n()})),r},u}},85489:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var n=r(31498),i=r(26828);t.defer=function(e){return new n.Observable(function(t){i.innerFrom(e()).subscribe(t)})}},21819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrames=void 0;var n=r(31498),i=r(74858),o=r(12545);function a(e){return new n.Observable(function(t){var r=e||i.performanceTimestampProvider,n=r.now(),a=0,s=function(){t.closed||(a=o.animationFrameProvider.requestAnimationFrame(function(i){a=0;var o=r.now();t.next({timestamp:e?o:i,elapsed:o-n}),s()}))};return s(),function(){a&&o.animationFrameProvider.cancelAnimationFrame(a)}})}t.animationFrames=function(e){return e?a(e):s};var s=a()},62798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=t.EMPTY=void 0;var n=r(31498);t.EMPTY=new n.Observable(function(e){return e.complete()}),t.empty=function(e){return e?new n.Observable(function(t){return e.schedule(function(){return t.complete()})}):t.EMPTY}},20348:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forkJoin=void 0;var n=r(31498),i=r(24474),o=r(26828),a=r(55375),s=r(44087),l=r(52884),c=r(53281);t.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popResultSelector(e),u=i.argsArgArrayOrObject(e),d=u.args,f=u.keys,p=new n.Observable(function(e){var t=d.length;if(!t){e.complete();return}for(var r=Array(t),n=t,i=t,a=function(t){var a=!1;o.innerFrom(d[t]).subscribe(s.createOperatorSubscriber(e,function(e){!a&&(a=!0,i--),r[t]=e},function(){return n--},void 0,function(){n&&a||(i||e.next(f?c.createObject(f,r):r),e.complete())}))},l=0;l<t;l++)a(l)});return r?p.pipe(l.mapOneOrManyArgs(r)):p}},7252:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.from=void 0;var n=r(38789),i=r(26828);t.from=function(e,t){return t?n.scheduled(e,t):i.innerFrom(e)}},10120:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.fromEvent=void 0;var i=r(26828),o=r(31498),a=r(40988),s=r(96253),l=r(92803),c=r(52884),u=["addListener","removeListener"],d=["addEventListener","removeEventListener"],f=["on","off"];function p(e,t){return function(r){return function(n){return e[r](t,n)}}}t.fromEvent=function e(t,r,h,y){if(l.isFunction(h)&&(y=h,h=void 0),y)return e(t,r,h).pipe(c.mapOneOrManyArgs(y));var g=n(l.isFunction(t.addEventListener)&&l.isFunction(t.removeEventListener)?d.map(function(e){return function(n){return t[e](r,n,h)}}):l.isFunction(t.addListener)&&l.isFunction(t.removeListener)?u.map(p(t,r)):l.isFunction(t.on)&&l.isFunction(t.off)?f.map(p(t,r)):[],2),v=g[0],m=g[1];if(!v&&s.isArrayLike(t))return a.mergeMap(function(t){return e(t,r,h)})(i.innerFrom(t));if(!v)throw TypeError("Invalid event target");return new o.Observable(function(e){var t=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1<t.length?t:t[0])};return v(t),function(){return m(t)}})}},87195:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromEventPattern=void 0;var n=r(31498),i=r(92803),o=r(52884);t.fromEventPattern=function e(t,r,a){return a?e(t,r).pipe(o.mapOneOrManyArgs(a)):new n.Observable(function(e){var n=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.next(1===t.length?t[0]:t)},o=t(n);return i.isFunction(r)?function(){return r(n,o)}:void 0})}},92006:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromSubscribable=void 0;var n=r(31498);t.fromSubscribable=function(e){return new n.Observable(function(t){return e.subscribe(t)})}},73814:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.generate=void 0;var i=r(1018),o=r(27737),a=r(85489),s=r(82144);t.generate=function(e,t,r,l,c){var u,d,f;function p(){var e;return n(this,function(n){switch(n.label){case 0:e=f,n.label=1;case 1:if(!(!t||t(e)))return[3,4];return[4,d(e)];case 2:n.sent(),n.label=3;case 3:return e=r(e),[3,1];case 4:return[2]}})}return 1==arguments.length?(f=e.initialState,t=e.condition,r=e.iterate,d=void 0===(u=e.resultSelector)?i.identity:u,c=e.scheduler):(f=e,!l||o.isScheduler(l)?(d=i.identity,c=l):d=l),a.defer(c?function(){return s.scheduleIterable(p(),c)}:p)}},21758:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iif=void 0;var n=r(85489);t.iif=function(e,t,r){return n.defer(function(){return e()?t:r})}},26828:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof a?a(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){!function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)}(n,i,(t=e[r](t)).done,t.value)})}}},a=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.fromReadableStreamLike=t.fromAsyncIterable=t.fromIterable=t.fromPromise=t.fromArrayLike=t.fromInteropObservable=t.innerFrom=void 0;var s=r(96253),l=r(98633),c=r(31498),u=r(94592),d=r(39653),f=r(74975),p=r(37944),h=r(18412),y=r(92803),g=r(20012),v=r(87591);function m(e){return new c.Observable(function(t){var r=e[v.observable]();if(y.isFunction(r.subscribe))return r.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")})}function b(e){return new c.Observable(function(t){for(var r=0;r<e.length&&!t.closed;r++)t.next(e[r]);t.complete()})}function _(e){return new c.Observable(function(t){e.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,g.reportUnhandledError)})}function w(e){return new c.Observable(function(t){var r,n;try{for(var i=a(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}t.complete()})}function S(e){return new c.Observable(function(t){(function(e,t){var r,a,s,l;return n(this,void 0,void 0,function(){var n;return i(this,function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),r=o(e),i.label=1;case 1:return[4,r.next()];case 2:if((a=i.sent()).done)return[3,4];if(n=a.value,t.next(n),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s={error:i.sent()},[3,11];case 6:if(i.trys.push([6,,9,10]),!(a&&!a.done&&(l=r.return)))return[3,8];return[4,l.call(r)];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})})(e,t).catch(function(e){return t.error(e)})})}function O(e){return S(h.readableStreamLikeToAsyncGenerator(e))}t.innerFrom=function(e){if(e instanceof c.Observable)return e;if(null!=e){if(u.isInteropObservable(e))return m(e);if(s.isArrayLike(e))return b(e);if(l.isPromise(e))return _(e);if(d.isAsyncIterable(e))return S(e);if(p.isIterable(e))return w(e);if(h.isReadableStreamLike(e))return O(e)}throw f.createInvalidObservableTypeError(e)},t.fromInteropObservable=m,t.fromArrayLike=b,t.fromPromise=_,t.fromIterable=w,t.fromAsyncIterable=S,t.fromReadableStreamLike=O},68312:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interval=void 0;var n=r(95313),i=r(17892);t.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=n.asyncScheduler),e<0&&(e=0),i.timer(e,e,t)}},11295:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var n=r(66291),i=r(26828),o=r(62798),a=r(55375),s=r(7252);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=a.popScheduler(e),l=a.popNumber(e,1/0);return e.length?1===e.length?i.innerFrom(e[0]):n.mergeAll(l)(s.from(e,r)):o.EMPTY}},51223:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.never=t.NEVER=void 0;var n=r(31498),i=r(64416);t.NEVER=new n.Observable(i.noop),t.never=function(){return t.NEVER}},34814:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.of=void 0;var n=r(55375),i=r(7252);t.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n.popScheduler(e);return i.from(e,r)}},22410:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=void 0;var n=r(31498),i=r(13838),o=r(44087),a=r(64416),s=r(26828);t.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.argsOrArgArray(e);return new n.Observable(function(e){var t=0,n=function(){if(t<r.length){var i=void 0;try{i=s.innerFrom(r[t++])}catch(e){n();return}var l=new o.OperatorSubscriber(e,void 0,a.noop,a.noop);i.subscribe(l),l.add(n)}else e.complete()};n()})}},87843:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairs=void 0;var n=r(7252);t.pairs=function(e,t){return n.from(Object.entries(e),t)}},11113:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(67451),i=r(1669),o=r(26828);t.partition=function(e,t,r){return[i.filter(t,r)(o.innerFrom(e)),i.filter(n.not(t,r))(o.innerFrom(e))]}},86460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.raceInit=t.race=void 0;var n=r(31498),i=r(26828),o=r(13838),a=r(44087);function s(e){return function(t){for(var r=[],n=function(n){r.push(i.innerFrom(e[n]).subscribe(a.createOperatorSubscriber(t,function(e){if(r){for(var i=0;i<r.length;i++)i!==n&&r[i].unsubscribe();r=null}t.next(e)})))},o=0;r&&!t.closed&&o<e.length;o++)n(o)}}t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===(e=o.argsOrArgArray(e)).length?i.innerFrom(e[0]):new n.Observable(s(e))},t.raceInit=s},9395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=void 0;var n=r(31498),i=r(62798);t.range=function(e,t,r){if(null==t&&(t=e,e=0),t<=0)return i.EMPTY;var o=t+e;return new n.Observable(r?function(t){var n=e;return r.schedule(function(){n<o?(t.next(n++),this.schedule()):t.complete()})}:function(t){for(var r=e;r<o&&!t.closed;)t.next(r++);t.complete()})}},80229:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwError=void 0;var n=r(31498),i=r(92803);t.throwError=function(e,t){var r=i.isFunction(e)?e:function(){return e},o=function(e){return e.error(r())};return new n.Observable(t?function(e){return t.schedule(o,0,e)}:o)}},17892:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timer=void 0;var n=r(31498),i=r(95313),o=r(27737),a=r(34701);t.timer=function(e,t,r){void 0===e&&(e=0),void 0===r&&(r=i.async);var s=-1;return null!=t&&(o.isScheduler(t)?r=t:s=t),new n.Observable(function(t){var n=a.isValidDate(e)?+e-r.now():e;n<0&&(n=0);var i=0;return r.schedule(function(){t.closed||(t.next(i++),0<=s?this.schedule(void 0,s):t.complete())},n)})}},21462:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.using=void 0;var n=r(31498),i=r(26828),o=r(62798);t.using=function(e,t){return new n.Observable(function(r){var n=e(),a=t(n);return(a?i.innerFrom(a):o.EMPTY).subscribe(r),function(){n&&n.unsubscribe()}})}},91039:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var o=r(31498),a=r(26828),s=r(13838),l=r(62798),c=r(44087),u=r(55375);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popResultSelector(e),d=s.argsOrArgArray(e);return d.length?new o.Observable(function(e){var t=d.map(function(){return[]}),o=d.map(function(){return!1});e.add(function(){t=o=null});for(var s=function(s){a.innerFrom(d[s]).subscribe(c.createOperatorSubscriber(e,function(a){if(t[s].push(a),t.every(function(e){return e.length})){var l=t.map(function(e){return e.shift()});e.next(r?r.apply(void 0,i([],n(l))):l),t.some(function(e,t){return!e.length&&o[t]})&&e.complete()}},function(){o[s]=!0,t[s].length||e.complete()}))},l=0;!e.closed&&l<d.length;l++)s(l);return function(){t=o=null}}):l.EMPTY}},44087:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.OperatorSubscriber=t.createOperatorSubscriber=void 0;var o=r(63455);t.createOperatorSubscriber=function(e,t,r,n,i){return new a(e,t,r,n,i)};var a=function(e){function t(t,r,n,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return i(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),r||null===(t=this.onFinalize)||void 0===t||t.call(this)}},t}(o.Subscriber);t.OperatorSubscriber=a},58285:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.audit=void 0;var n=r(86863),i=r(26828),o=r(44087);t.audit=function(e){return n.operate(function(t,r){var n=!1,a=null,s=null,l=!1,c=function(){if(null==s||s.unsubscribe(),s=null,n){n=!1;var e=a;a=null,r.next(e)}l&&r.complete()},u=function(){s=null,l&&r.complete()};t.subscribe(o.createOperatorSubscriber(r,function(t){n=!0,a=t,s||i.innerFrom(e(t)).subscribe(s=o.createOperatorSubscriber(r,c,u))},function(){l=!0,n&&s&&!s.closed||r.complete()}))})}},88248:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.auditTime=void 0;var n=r(95313),i=r(58285),o=r(17892);t.auditTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.audit(function(){return o.timer(e,t)})}},84174:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.buffer=void 0;var n=r(86863),i=r(64416),o=r(44087),a=r(26828);t.buffer=function(e){return n.operate(function(t,r){var n=[];return t.subscribe(o.createOperatorSubscriber(r,function(e){return n.push(e)},function(){r.next(n),r.complete()})),a.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){var e=n;n=[],r.next(e)},i.noop)),function(){n=null}})}},78996:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferCount=void 0;var i=r(86863),o=r(44087),a=r(92447);t.bufferCount=function(e,t){return void 0===t&&(t=null),t=null!=t?t:e,i.operate(function(r,i){var s=[],l=0;r.subscribe(o.createOperatorSubscriber(i,function(r){var o,c,u,d,f=null;l++%t==0&&s.push([]);try{for(var p=n(s),h=p.next();!h.done;h=p.next()){var y=h.value;y.push(r),e<=y.length&&(f=null!=f?f:[]).push(y)}}catch(e){o={error:e}}finally{try{h&&!h.done&&(c=p.return)&&c.call(p)}finally{if(o)throw o.error}}if(f)try{for(var g=n(f),v=g.next();!v.done;v=g.next()){var y=v.value;a.arrRemove(s,y),i.next(y)}}catch(e){u={error:e}}finally{try{v&&!v.done&&(d=g.return)&&d.call(g)}finally{if(u)throw u.error}}},function(){var e,t;try{for(var r=n(s),o=r.next();!o.done;o=r.next()){var a=o.value;i.next(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}i.complete()},void 0,function(){s=null}))})}},88236:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferTime=void 0;var i=r(64524),o=r(86863),a=r(44087),s=r(92447),l=r(95313),c=r(55375),u=r(37209);t.bufferTime=function(e){for(var t,r,d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];var p=null!==(t=c.popScheduler(d))&&void 0!==t?t:l.asyncScheduler,h=null!==(r=d[0])&&void 0!==r?r:null,y=d[1]||1/0;return o.operate(function(t,r){var o=[],l=!1,c=function(e){var t=e.buffer;e.subs.unsubscribe(),s.arrRemove(o,e),r.next(t),l&&d()},d=function(){if(o){var t=new i.Subscription;r.add(t);var n={buffer:[],subs:t};o.push(n),u.executeSchedule(t,p,function(){return c(n)},e)}};null!==h&&h>=0?u.executeSchedule(r,p,d,h,!0):l=!0,d();var f=a.createOperatorSubscriber(r,function(e){var t,r,i=o.slice();try{for(var a=n(i),s=a.next();!s.done;s=a.next()){var l=s.value,u=l.buffer;u.push(e),y<=u.length&&c(l)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(t)throw t.error}}},function(){for(;null==o?void 0:o.length;)r.next(o.shift().buffer);null==f||f.unsubscribe(),r.complete(),r.unsubscribe()},void 0,function(){return o=null});t.subscribe(f)})}},13244:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.bufferToggle=void 0;var i=r(64524),o=r(86863),a=r(26828),s=r(44087),l=r(64416),c=r(92447);t.bufferToggle=function(e,t){return o.operate(function(r,o){var u=[];a.innerFrom(e).subscribe(s.createOperatorSubscriber(o,function(e){var r=[];u.push(r);var n=new i.Subscription;n.add(a.innerFrom(t(e)).subscribe(s.createOperatorSubscriber(o,function(){c.arrRemove(u,r),o.next(r),n.unsubscribe()},l.noop)))},l.noop)),r.subscribe(s.createOperatorSubscriber(o,function(e){var t,r;try{for(var i=n(u),o=i.next();!o.done;o=i.next())o.value.push(e)}catch(e){t={error:e}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},function(){for(;u.length>0;)o.next(u.shift());o.complete()}))})}},25595:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bufferWhen=void 0;var n=r(86863),i=r(64416),o=r(44087),a=r(26828);t.bufferWhen=function(e){return n.operate(function(t,r){var n=null,s=null,l=function(){null==s||s.unsubscribe();var t=n;n=[],t&&r.next(t),a.innerFrom(e()).subscribe(s=o.createOperatorSubscriber(r,l,i.noop))};l(),t.subscribe(o.createOperatorSubscriber(r,function(e){return null==n?void 0:n.push(e)},function(){n&&r.next(n),r.complete()},void 0,function(){return n=s=null}))})}},37579:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.catchError=void 0;var n=r(26828),i=r(44087),o=r(86863);t.catchError=function e(t){return o.operate(function(r,o){var a,s=null,l=!1;s=r.subscribe(i.createOperatorSubscriber(o,void 0,void 0,function(i){a=n.innerFrom(t(i,e(t)(r))),s?(s.unsubscribe(),s=null,a.subscribe(o)):l=!0})),l&&(s.unsubscribe(),s=null,a.subscribe(o))})}},28978:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineAll=void 0;var n=r(98521);t.combineAll=n.combineLatestAll},52304:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatest=void 0;var o=r(16199),a=r(86863),s=r(13838),l=r(52884),c=r(3565),u=r(55375);t.combineLatest=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var d=u.popResultSelector(t);return d?c.pipe(e.apply(void 0,i([],n(t))),l.mapOneOrManyArgs(d)):a.operate(function(e,r){o.combineLatestInit(i([e],n(s.argsOrArgArray(t))))(r)})}},98521:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestAll=void 0;var n=r(16199),i=r(68447);t.combineLatestAll=function(e){return i.joinAllInternals(n.combineLatest,e)}},23279:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.combineLatestWith=void 0;var o=r(52304);t.combineLatestWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.combineLatest.apply(void 0,i([],n(e)))}},39958:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concat=void 0;var o=r(86863),a=r(67686),s=r(55375),l=r(7252);t.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=s.popScheduler(e);return o.operate(function(t,o){a.concatAll()(l.from(i([t],n(e)),r)).subscribe(o)})}},67686:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatAll=void 0;var n=r(66291);t.concatAll=function(){return n.mergeAll(1)}},85318:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMap=void 0;var n=r(40988),i=r(92803);t.concatMap=function(e,t){return i.isFunction(t)?n.mergeMap(e,t,1):n.mergeMap(e,1)}},94679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.concatMapTo=void 0;var n=r(85318),i=r(92803);t.concatMapTo=function(e,t){return i.isFunction(t)?n.concatMap(function(){return e},t):n.concatMap(function(){return e})}},89012:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.concatWith=void 0;var o=r(39958);t.concatWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.concat.apply(void 0,i([],n(e)))}},51566:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.connect=void 0;var n=r(45816),i=r(26828),o=r(86863),a=r(92006),s={connector:function(){return new n.Subject}};t.connect=function(e,t){void 0===t&&(t=s);var r=t.connector;return o.operate(function(t,n){var o=r();i.innerFrom(e(a.fromSubscribable(o))).subscribe(n),n.add(t.subscribe(o))})}},92478:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.count=void 0;var n=r(6561);t.count=function(e){return n.reduce(function(t,r,n){return!e||e(r,n)?t+1:t},0)}},28583:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=void 0;var n=r(86863),i=r(64416),o=r(44087),a=r(26828);t.debounce=function(e){return n.operate(function(t,r){var n=!1,s=null,l=null,c=function(){if(null==l||l.unsubscribe(),l=null,n){n=!1;var e=s;s=null,r.next(e)}};t.subscribe(o.createOperatorSubscriber(r,function(t){null==l||l.unsubscribe(),n=!0,s=t,l=o.createOperatorSubscriber(r,c,i.noop),a.innerFrom(e(t)).subscribe(l)},function(){c(),r.complete()},void 0,function(){s=l=null}))})}},94324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounceTime=void 0;var n=r(95313),i=r(86863),o=r(44087);t.debounceTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.operate(function(r,n){var i=null,a=null,s=null,l=function(){if(i){i.unsubscribe(),i=null;var e=a;a=null,n.next(e)}};function c(){var r=s+e,o=t.now();if(o<r){i=this.schedule(void 0,r-o),n.add(i);return}l()}r.subscribe(o.createOperatorSubscriber(n,function(r){a=r,s=t.now(),i||(i=t.schedule(c,e),n.add(i))},function(){l(),n.complete()},void 0,function(){a=i=null}))})}},2002:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultIfEmpty=void 0;var n=r(86863),i=r(44087);t.defaultIfEmpty=function(e){return n.operate(function(t,r){var n=!1;t.subscribe(i.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){n||r.next(e),r.complete()}))})}},30395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=void 0;var n=r(95313),i=r(20556),o=r(17892);t.delay=function(e,t){void 0===t&&(t=n.asyncScheduler);var r=o.timer(e,t);return i.delayWhen(function(){return r})}},20556:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delayWhen=void 0;var n=r(48988),i=r(17184),o=r(12654),a=r(43341),s=r(40988),l=r(26828);t.delayWhen=function e(t,r){return r?function(a){return n.concat(r.pipe(i.take(1),o.ignoreElements()),a.pipe(e(t)))}:s.mergeMap(function(e,r){return l.innerFrom(t(e,r)).pipe(i.take(1),a.mapTo(e))})}},72044:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dematerialize=void 0;var n=r(20088),i=r(86863),o=r(44087);t.dematerialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){return n.observeNotification(e,t)}))})}},61943:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinct=void 0;var n=r(86863),i=r(44087),o=r(64416),a=r(26828);t.distinct=function(e,t){return n.operate(function(r,n){var s=new Set;r.subscribe(i.createOperatorSubscriber(n,function(t){var r=e?e(t):t;s.has(r)||(s.add(r),n.next(t))})),t&&a.innerFrom(t).subscribe(i.createOperatorSubscriber(n,function(){return s.clear()},o.noop))})}},52662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilChanged=void 0;var n=r(1018),i=r(86863),o=r(44087);function a(e,t){return e===t}t.distinctUntilChanged=function(e,t){return void 0===t&&(t=n.identity),e=null!=e?e:a,i.operate(function(r,n){var i,a=!0;r.subscribe(o.createOperatorSubscriber(n,function(r){var o=t(r);(a||!e(i,o))&&(a=!1,i=o,n.next(r))}))})}},86641:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.distinctUntilKeyChanged=void 0;var n=r(52662);t.distinctUntilKeyChanged=function(e,t){return n.distinctUntilChanged(function(r,n){return t?t(r[e],n[e]):r[e]===n[e]})}},41202:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementAt=void 0;var n=r(16761),i=r(1669),o=r(30156),a=r(2002),s=r(17184);t.elementAt=function(e,t){if(e<0)throw new n.ArgumentOutOfRangeError;var r=arguments.length>=2;return function(l){return l.pipe(i.filter(function(t,r){return r===e}),s.take(1),r?a.defaultIfEmpty(t):o.throwIfEmpty(function(){return new n.ArgumentOutOfRangeError}))}}},17787:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.endWith=void 0;var o=r(48988),a=r(34814);t.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return o.concat(t,a.of.apply(void 0,i([],n(e))))}}},41211:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.every=void 0;var n=r(86863),i=r(44087);t.every=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(i){e.call(t,i,o++,r)||(n.next(!1),n.complete())},function(){n.next(!0),n.complete()}))})}},12635:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaust=void 0;var n=r(97642);t.exhaust=n.exhaustAll},97642:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustAll=void 0;var n=r(79361),i=r(1018);t.exhaustAll=function(){return n.exhaustMap(i.identity)}},79361:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exhaustMap=void 0;var n=r(18050),i=r(26828),o=r(86863),a=r(44087);t.exhaustMap=function e(t,r){return r?function(o){return o.pipe(e(function(e,o){return i.innerFrom(t(e,o)).pipe(n.map(function(t,n){return r(e,t,o,n)}))}))}:o.operate(function(e,r){var n=0,o=null,s=!1;e.subscribe(a.createOperatorSubscriber(r,function(e){o||(o=a.createOperatorSubscriber(r,void 0,function(){o=null,s&&r.complete()}),i.innerFrom(t(e,n++)).subscribe(o))},function(){s=!0,o||r.complete()}))})}},389:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expand=void 0;var n=r(86863),i=r(10011);t.expand=function(e,t,r){return void 0===t&&(t=1/0),t=1>(t||0)?1/0:t,n.operate(function(n,o){return i.mergeInternals(n,o,e,t,void 0,!0,r)})}},1669:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filter=void 0;var n=r(86863),i=r(44087);t.filter=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){return e.call(t,r,o++)&&n.next(r)}))})}},21421:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.finalize=void 0;var n=r(86863);t.finalize=function(e){return n.operate(function(t,r){try{t.subscribe(r)}finally{r.add(e)}})}},54425:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createFind=t.find=void 0;var n=r(86863),i=r(44087);function o(e,t,r){var n="index"===r;return function(r,o){var a=0;r.subscribe(i.createOperatorSubscriber(o,function(i){var s=a++;e.call(t,i,s,r)&&(o.next(n?s:i),o.complete())},function(){o.next(n?-1:void 0),o.complete()}))}}t.find=function(e,t){return n.operate(o(e,t,"value"))},t.createFind=o},78075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findIndex=void 0;var n=r(86863),i=r(54425);t.findIndex=function(e,t){return n.operate(i.createFind(e,t,"index"))}},14639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.first=void 0;var n=r(39452),i=r(1669),o=r(17184),a=r(2002),s=r(30156),l=r(1018);t.first=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter(function(t,r){return e(t,r,c)}):l.identity,o.take(1),r?a.defaultIfEmpty(t):s.throwIfEmpty(function(){return new n.EmptyError}))}}},10131:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flatMap=void 0;var n=r(40988);t.flatMap=n.mergeMap},37578:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupBy=void 0;var n=r(31498),i=r(26828),o=r(45816),a=r(86863),s=r(44087);t.groupBy=function(e,t,r,l){return a.operate(function(a,c){t&&"function"!=typeof t?(r=t.duration,u=t.element,l=t.connector):u=t;var u,d=new Map,f=function(e){d.forEach(e),e(c)},p=function(e){return f(function(t){return t.error(e)})},h=0,y=!1,g=new s.OperatorSubscriber(c,function(t){try{var a=e(t),f=d.get(a);if(!f){d.set(a,f=l?l():new o.Subject);var v,m,b=(v=f,(m=new n.Observable(function(e){h++;var t=v.subscribe(e);return function(){t.unsubscribe(),0==--h&&y&&g.unsubscribe()}})).key=a,m);if(c.next(b),r){var _=s.createOperatorSubscriber(f,function(){f.complete(),null==_||_.unsubscribe()},void 0,void 0,function(){return d.delete(a)});g.add(i.innerFrom(r(b)).subscribe(_))}}f.next(u?u(t):t)}catch(e){p(e)}},function(){return f(function(e){return e.complete()})},p,function(){return d.clear()},function(){return y=!0,0===h});a.subscribe(g)})}},12654:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ignoreElements=void 0;var n=r(86863),i=r(44087),o=r(64416);t.ignoreElements=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,o.noop))})}},49010:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var n=r(86863),i=r(44087);t.isEmpty=function(){return n.operate(function(e,t){e.subscribe(i.createOperatorSubscriber(t,function(){t.next(!1),t.complete()},function(){t.next(!0),t.complete()}))})}},68447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.joinAllInternals=void 0;var n=r(1018),i=r(52884),o=r(3565),a=r(40988),s=r(76590);t.joinAllInternals=function(e,t){return o.pipe(s.toArray(),a.mergeMap(function(t){return e(t)}),t?i.mapOneOrManyArgs(t):n.identity)}},96346:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;var n=r(39452),i=r(1669),o=r(64358),a=r(30156),s=r(2002),l=r(1018);t.last=function(e,t){var r=arguments.length>=2;return function(c){return c.pipe(e?i.filter(function(t,r){return e(t,r,c)}):l.identity,o.takeLast(1),r?s.defaultIfEmpty(t):a.throwIfEmpty(function(){return new n.EmptyError}))}}},18050:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.map=void 0;var n=r(86863),i=r(44087);t.map=function(e,t){return n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){n.next(e.call(t,r,o++))}))})}},43341:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapTo=void 0;var n=r(18050);t.mapTo=function(e){return n.map(function(){return e})}},46316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.materialize=void 0;var n=r(20088),i=r(86863),o=r(44087);t.materialize=function(){return i.operate(function(e,t){e.subscribe(o.createOperatorSubscriber(t,function(e){t.next(n.Notification.createNext(e))},function(){t.next(n.Notification.createComplete()),t.complete()},function(e){t.next(n.Notification.createError(e)),t.complete()}))})}},14046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.max=void 0;var n=r(6561),i=r(92803);t.max=function(e){return n.reduce(i.isFunction(e)?function(t,r){return e(t,r)>0?t:r}:function(e,t){return e>t?e:t})}},41055:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.merge=void 0;var o=r(86863),a=r(13838),s=r(66291),l=r(55375),c=r(7252);t.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=l.popScheduler(e),u=l.popNumber(e,1/0);return e=a.argsOrArgArray(e),o.operate(function(t,o){s.mergeAll(u)(c.from(i([t],n(e)),r)).subscribe(o)})}},66291:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=void 0;var n=r(40988),i=r(1018);t.mergeAll=function(e){return void 0===e&&(e=1/0),n.mergeMap(i.identity,e)}},10011:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeInternals=void 0;var n=r(26828),i=r(37209),o=r(44087);t.mergeInternals=function(e,t,r,a,s,l,c,u){var d=[],f=0,p=0,h=!1,y=function(){!h||d.length||f||t.complete()},g=function(e){return f<a?v(e):d.push(e)},v=function(e){l&&t.next(e),f++;var u=!1;n.innerFrom(r(e,p++)).subscribe(o.createOperatorSubscriber(t,function(e){null==s||s(e),l?g(e):t.next(e)},function(){u=!0},void 0,function(){if(u)try{for(f--;d.length&&f<a;)!function(){var e=d.shift();c?i.executeSchedule(t,c,function(){return v(e)}):v(e)}();y()}catch(e){t.error(e)}}))};return e.subscribe(o.createOperatorSubscriber(t,g,function(){h=!0,y()})),function(){null==u||u()}}},40988:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMap=void 0;var n=r(18050),i=r(26828),o=r(86863),a=r(10011),s=r(92803);t.mergeMap=function e(t,r,l){return(void 0===l&&(l=1/0),s.isFunction(r))?e(function(e,o){return n.map(function(t,n){return r(e,t,o,n)})(i.innerFrom(t(e,o)))},l):("number"==typeof r&&(l=r),o.operate(function(e,r){return a.mergeInternals(e,r,t,l)}))}},98866:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeMapTo=void 0;var n=r(40988),i=r(92803);t.mergeMapTo=function(e,t,r){return(void 0===r&&(r=1/0),i.isFunction(t))?n.mergeMap(function(){return e},t,r):("number"==typeof t&&(r=t),n.mergeMap(function(){return e},r))}},16041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeScan=void 0;var n=r(86863),i=r(10011);t.mergeScan=function(e,t,r){return void 0===r&&(r=1/0),n.operate(function(n,o){var a=t;return i.mergeInternals(n,o,function(t,r){return e(a,t,r)},r,function(e){a=e},!1,void 0,function(){return a=null})})}},53628:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mergeWith=void 0;var o=r(41055);t.mergeWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.merge.apply(void 0,i([],n(e)))}},85643:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.min=void 0;var n=r(6561),i=r(92803);t.min=function(e){return n.reduce(i.isFunction(e)?function(t,r){return 0>e(t,r)?t:r}:function(e,t){return e<t?e:t})}},63354:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multicast=void 0;var n=r(60517),i=r(92803),o=r(51566);t.multicast=function(e,t){var r=i.isFunction(e)?e:function(){return e};return i.isFunction(t)?o.connect(t,{connector:r}):function(e){return new n.ConnectableObservable(e,r)}}},74395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observeOn=void 0;var n=r(37209),i=r(86863),o=r(44087);t.observeOn=function(e,t){return void 0===t&&(t=0),i.operate(function(r,i){r.subscribe(o.createOperatorSubscriber(i,function(r){return n.executeSchedule(i,e,function(){return i.next(r)},t)},function(){return n.executeSchedule(i,e,function(){return i.complete()},t)},function(r){return n.executeSchedule(i,e,function(){return i.error(r)},t)}))})}},1646:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.onErrorResumeNext=t.onErrorResumeNextWith=void 0;var o=r(13838),a=r(22410);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.argsOrArgArray(e);return function(e){return a.onErrorResumeNext.apply(void 0,i([e],n(r)))}}t.onErrorResumeNextWith=s,t.onErrorResumeNext=s},58937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pairwise=void 0;var n=r(86863),i=r(44087);t.pairwise=function(){return n.operate(function(e,t){var r,n=!1;e.subscribe(i.createOperatorSubscriber(t,function(e){var i=r;r=e,n&&t.next([i,e]),n=!0}))})}},74960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partition=void 0;var n=r(67451),i=r(1669);t.partition=function(e,t){return function(r){return[i.filter(e,t)(r),i.filter(n.not(e,t))(r)]}}},16841:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pluck=void 0;var n=r(18050);t.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length;if(0===r)throw Error("list of properties cannot be empty.");return n.map(function(t){for(var n=t,i=0;i<r;i++){var o=null==n?void 0:n[e[i]];if(void 0===o)return;n=o}return n})}},86960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publish=void 0;var n=r(45816),i=r(63354),o=r(51566);t.publish=function(e){return e?function(t){return o.connect(e)(t)}:function(e){return i.multicast(new n.Subject)(e)}}},86674:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishBehavior=void 0;var n=r(98516),i=r(60517);t.publishBehavior=function(e){return function(t){var r=new n.BehaviorSubject(e);return new i.ConnectableObservable(t,function(){return r})}}},65814:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishLast=void 0;var n=r(8166),i=r(60517);t.publishLast=function(){return function(e){var t=new n.AsyncSubject;return new i.ConnectableObservable(e,function(){return t})}}},98287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.publishReplay=void 0;var n=r(86803),i=r(63354),o=r(92803);t.publishReplay=function(e,t,r,a){r&&!o.isFunction(r)&&(a=r);var s=o.isFunction(r)?r:void 0;return function(r){return i.multicast(new n.ReplaySubject(e,t,a),s)(r)}}},88353:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.race=void 0;var o=r(13838),a=r(35226);t.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.raceWith.apply(void 0,i([],n(o.argsOrArgArray(e))))}},35226:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.raceWith=void 0;var o=r(86460),a=r(86863),s=r(1018);t.raceWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.length?a.operate(function(t,r){o.raceInit(i([t],n(e)))(r)}):s.identity}},6561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reduce=void 0;var n=r(29726),i=r(86863);t.reduce=function(e,t){return i.operate(n.scanInternals(e,t,arguments.length>=2,!1,!0))}},6172:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.refCount=void 0;var n=r(86863),i=r(44087);t.refCount=function(){return n.operate(function(e,t){var r=null;e._refCount++;var n=i.createOperatorSubscriber(t,void 0,void 0,void 0,function(){if(!e||e._refCount<=0||0<--e._refCount){r=null;return}var n=e._connection,i=r;r=null,n&&(!i||n===i)&&n.unsubscribe(),t.unsubscribe()});e.subscribe(n),n.closed||(r=e.connect())})}},52557:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=void 0;var n=r(62798),i=r(86863),o=r(44087),a=r(26828),s=r(17892);t.repeat=function(e){var t,r,l=1/0;return null!=e&&("object"==typeof e?(l=void 0===(t=e.count)?1/0:t,r=e.delay):l=e),l<=0?function(){return n.EMPTY}:i.operate(function(e,t){var n,i=0,c=function(){if(null==n||n.unsubscribe(),n=null,null!=r){var e="number"==typeof r?s.timer(r):a.innerFrom(r(i)),l=o.createOperatorSubscriber(t,function(){l.unsubscribe(),u()});e.subscribe(l)}else u()},u=function(){var r=!1;n=e.subscribe(o.createOperatorSubscriber(t,void 0,function(){++i<l?n?c():r=!0:t.complete()})),r&&c()};u()})}},55394:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeatWhen=void 0;var n=r(26828),i=r(45816),o=r(86863),a=r(44087);t.repeatWhen=function(e){return o.operate(function(t,r){var o,s,l=!1,c=!1,u=!1,d=function(){return u&&c&&(r.complete(),!0)},f=function(){u=!1,o=t.subscribe(a.createOperatorSubscriber(r,void 0,function(){u=!0,d()||(s||(s=new i.Subject,n.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(r,function(){o?f():l=!0},function(){c=!0,d()}))),s).next()})),l&&(o.unsubscribe(),o=null,l=!1,f())};f()})}},65151:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retry=void 0;var n=r(86863),i=r(44087),o=r(1018),a=r(17892),s=r(26828);t.retry=function(e){void 0===e&&(e=1/0);var t,r=(t=e&&"object"==typeof e?e:{count:e}).count,l=void 0===r?1/0:r,c=t.delay,u=t.resetOnSuccess,d=void 0!==u&&u;return l<=0?o.identity:n.operate(function(e,t){var r,n=0,o=function(){var u=!1;r=e.subscribe(i.createOperatorSubscriber(t,function(e){d&&(n=0),t.next(e)},void 0,function(e){if(n++<l){var d=function(){r?(r.unsubscribe(),r=null,o()):u=!0};if(null!=c){var f="number"==typeof c?a.timer(c):s.innerFrom(c(e,n)),p=i.createOperatorSubscriber(t,function(){p.unsubscribe(),d()},function(){t.complete()});f.subscribe(p)}else d()}else t.error(e)})),u&&(r.unsubscribe(),r=null,o())};o()})}},10205:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retryWhen=void 0;var n=r(26828),i=r(45816),o=r(86863),a=r(44087);t.retryWhen=function(e){return o.operate(function(t,r){var o,s,l=!1,c=function(){o=t.subscribe(a.createOperatorSubscriber(r,void 0,void 0,function(t){s||(s=new i.Subject,n.innerFrom(e(s)).subscribe(a.createOperatorSubscriber(r,function(){return o?c():l=!0}))),s&&s.next(t)})),l&&(o.unsubscribe(),o=null,l=!1,c())};c()})}},16653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sample=void 0;var n=r(26828),i=r(86863),o=r(64416),a=r(44087);t.sample=function(e){return i.operate(function(t,r){var i=!1,s=null;t.subscribe(a.createOperatorSubscriber(r,function(e){i=!0,s=e})),n.innerFrom(e).subscribe(a.createOperatorSubscriber(r,function(){if(i){i=!1;var e=s;s=null,r.next(e)}},o.noop))})}},681:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sampleTime=void 0;var n=r(95313),i=r(16653),o=r(68312);t.sampleTime=function(e,t){return void 0===t&&(t=n.asyncScheduler),i.sample(o.interval(e,t))}},27375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scan=void 0;var n=r(86863),i=r(29726);t.scan=function(e,t){return n.operate(i.scanInternals(e,t,arguments.length>=2,!0))}},29726:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scanInternals=void 0;var n=r(44087);t.scanInternals=function(e,t,r,i,o){return function(a,s){var l=r,c=t,u=0;a.subscribe(n.createOperatorSubscriber(s,function(t){var r=u++;c=l?e(c,t,r):(l=!0,t),i&&s.next(c)},o&&function(){l&&s.next(c),s.complete()}))}}},24612:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sequenceEqual=void 0;var n=r(86863),i=r(44087),o=r(26828);function a(){return{buffer:[],complete:!1}}t.sequenceEqual=function(e,t){return void 0===t&&(t=function(e,t){return e===t}),n.operate(function(r,n){var s=a(),l=a(),c=function(e){n.next(e),n.complete()},u=function(e,r){var o=i.createOperatorSubscriber(n,function(n){var i=r.buffer,o=r.complete;0===i.length?o?c(!1):e.buffer.push(n):t(n,i.shift())||c(!1)},function(){e.complete=!0;var t=r.complete,n=r.buffer;t&&c(0===n.length),null==o||o.unsubscribe()});return o};r.subscribe(u(s,l)),o.innerFrom(e).subscribe(u(l,s))})}},61235:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.share=void 0;var o=r(26828),a=r(45816),s=r(63455),l=r(86863);function c(e,t){for(var r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(!0===t){e();return}if(!1!==t){var l=new s.SafeSubscriber({next:function(){l.unsubscribe(),e()}});return o.innerFrom(t.apply(void 0,i([],n(r)))).subscribe(l)}}t.share=function(e){void 0===e&&(e={});var t=e.connector,r=void 0===t?function(){return new a.Subject}:t,n=e.resetOnError,i=void 0===n||n,u=e.resetOnComplete,d=void 0===u||u,f=e.resetOnRefCountZero,p=void 0===f||f;return function(e){var t,n,a,u=0,f=!1,h=!1,y=function(){null==n||n.unsubscribe(),n=void 0},g=function(){y(),t=a=void 0,f=h=!1},v=function(){var e=t;g(),null==e||e.unsubscribe()};return l.operate(function(e,l){u++,h||f||y();var m=a=null!=a?a:r();l.add(function(){0!=--u||h||f||(n=c(v,p))}),m.subscribe(l),!t&&u>0&&(t=new s.SafeSubscriber({next:function(e){return m.next(e)},error:function(e){h=!0,y(),n=c(g,i,e),m.error(e)},complete:function(){f=!0,y(),n=c(g,d),m.complete()}}),o.innerFrom(e).subscribe(t))})(e)}}},53785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.shareReplay=void 0;var n=r(86803),i=r(61235);t.shareReplay=function(e,t,r){var o,a,s,l,c=!1;return e&&"object"==typeof e?(l=void 0===(o=e.bufferSize)?1/0:o,t=void 0===(a=e.windowTime)?1/0:a,c=void 0!==(s=e.refCount)&&s,r=e.scheduler):l=null!=e?e:1/0,i.share({connector:function(){return new n.ReplaySubject(l,t,r)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:c})}},13602:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.single=void 0;var n=r(39452),i=r(20003),o=r(4154),a=r(86863),s=r(44087);t.single=function(e){return a.operate(function(t,r){var a,l=!1,c=!1,u=0;t.subscribe(s.createOperatorSubscriber(r,function(n){c=!0,(!e||e(n,u++,t))&&(l&&r.error(new i.SequenceError("Too many matching values")),l=!0,a=n)},function(){l?(r.next(a),r.complete()):r.error(c?new o.NotFoundError("No matching values"):new n.EmptyError)}))})}},76395:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skip=void 0;var n=r(1669);t.skip=function(e){return n.filter(function(t,r){return e<=r})}},17797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipLast=void 0;var n=r(1018),i=r(86863),o=r(44087);t.skipLast=function(e){return e<=0?n.identity:i.operate(function(t,r){var n=Array(e),i=0;return t.subscribe(o.createOperatorSubscriber(r,function(t){var o=i++;if(o<e)n[o]=t;else{var a=o%e,s=n[a];n[a]=t,r.next(s)}})),function(){n=null}})}},41326:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipUntil=void 0;var n=r(86863),i=r(44087),o=r(26828),a=r(64416);t.skipUntil=function(e){return n.operate(function(t,r){var n=!1,s=i.createOperatorSubscriber(r,function(){null==s||s.unsubscribe(),n=!0},a.noop);o.innerFrom(e).subscribe(s),t.subscribe(i.createOperatorSubscriber(r,function(e){return n&&r.next(e)}))})}},7798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.skipWhile=void 0;var n=r(86863),i=r(44087);t.skipWhile=function(e){return n.operate(function(t,r){var n=!1,o=0;t.subscribe(i.createOperatorSubscriber(r,function(t){return(n||(n=!e(t,o++)))&&r.next(t)}))})}},63418:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=void 0;var n=r(48988),i=r(55375),o=r(86863);t.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=i.popScheduler(e);return o.operate(function(t,i){(r?n.concat(e,t,r):n.concat(e,t)).subscribe(i)})}},28383:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOn=void 0;var n=r(86863);t.subscribeOn=function(e,t){return void 0===t&&(t=0),n.operate(function(r,n){n.add(e.schedule(function(){return r.subscribe(n)},t))})}},28019:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchAll=void 0;var n=r(33662),i=r(1018);t.switchAll=function(){return n.switchMap(i.identity)}},33662:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMap=void 0;var n=r(26828),i=r(86863),o=r(44087);t.switchMap=function(e,t){return i.operate(function(r,i){var a=null,s=0,l=!1,c=function(){return l&&!a&&i.complete()};r.subscribe(o.createOperatorSubscriber(i,function(r){null==a||a.unsubscribe();var l=0,u=s++;n.innerFrom(e(r,u)).subscribe(a=o.createOperatorSubscriber(i,function(e){return i.next(t?t(r,e,u,l++):e)},function(){a=null,c()}))},function(){l=!0,c()}))})}},91957:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchMapTo=void 0;var n=r(33662),i=r(92803);t.switchMapTo=function(e,t){return i.isFunction(t)?n.switchMap(function(){return e},t):n.switchMap(function(){return e})}},30365:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.switchScan=void 0;var n=r(33662),i=r(86863);t.switchScan=function(e,t){return i.operate(function(r,i){var o=t;return n.switchMap(function(t,r){return e(o,t,r)},function(e,t){return o=t,t})(r).subscribe(i),function(){o=null}})}},17184:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.take=void 0;var n=r(62798),i=r(86863),o=r(44087);t.take=function(e){return e<=0?function(){return n.EMPTY}:i.operate(function(t,r){var n=0;t.subscribe(o.createOperatorSubscriber(r,function(t){++n<=e&&(r.next(t),e<=n&&r.complete())}))})}},64358:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.takeLast=void 0;var i=r(62798),o=r(86863),a=r(44087);t.takeLast=function(e){return e<=0?function(){return i.EMPTY}:o.operate(function(t,r){var i=[];t.subscribe(a.createOperatorSubscriber(r,function(t){i.push(t),e<i.length&&i.shift()},function(){var e,t;try{for(var o=n(i),a=o.next();!a.done;a=o.next()){var s=a.value;r.next(s)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}r.complete()},void 0,function(){i=null}))})}},47671:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeUntil=void 0;var n=r(86863),i=r(44087),o=r(26828),a=r(64416);t.takeUntil=function(e){return n.operate(function(t,r){o.innerFrom(e).subscribe(i.createOperatorSubscriber(r,function(){return r.complete()},a.noop)),r.closed||t.subscribe(r)})}},2282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.takeWhile=void 0;var n=r(86863),i=r(44087);t.takeWhile=function(e,t){return void 0===t&&(t=!1),n.operate(function(r,n){var o=0;r.subscribe(i.createOperatorSubscriber(n,function(r){var i=e(r,o++);(i||t)&&n.next(r),i||n.complete()}))})}},91756:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tap=void 0;var n=r(92803),i=r(86863),o=r(44087),a=r(1018);t.tap=function(e,t,r){var s=n.isFunction(e)||t||r?{next:e,error:t,complete:r}:e;return s?i.operate(function(e,t){null===(r=s.subscribe)||void 0===r||r.call(s);var r,n=!0;e.subscribe(o.createOperatorSubscriber(t,function(e){var r;null===(r=s.next)||void 0===r||r.call(s,e),t.next(e)},function(){var e;n=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()},function(e){var r;n=!1,null===(r=s.error)||void 0===r||r.call(s,e),t.error(e)},function(){var e,t;n&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)}))}):a.identity}},42463:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=void 0;var n=r(86863),i=r(44087),o=r(26828);t.throttle=function(e,t){return n.operate(function(r,n){var a=null!=t?t:{},s=a.leading,l=void 0===s||s,c=a.trailing,u=void 0!==c&&c,d=!1,f=null,p=null,h=!1,y=function(){null==p||p.unsubscribe(),p=null,u&&(m(),h&&n.complete())},g=function(){p=null,h&&n.complete()},v=function(t){return p=o.innerFrom(e(t)).subscribe(i.createOperatorSubscriber(n,y,g))},m=function(){if(d){d=!1;var e=f;f=null,n.next(e),h||v(e)}};r.subscribe(i.createOperatorSubscriber(n,function(e){d=!0,f=e,p&&!p.closed||(l?m():v(e))},function(){h=!0,u&&d&&p&&!p.closed||n.complete()}))})}},2160:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttleTime=void 0;var n=r(95313),i=r(42463),o=r(17892);t.throttleTime=function(e,t,r){void 0===t&&(t=n.asyncScheduler);var a=o.timer(e,t);return i.throttle(function(){return a},r)}},30156:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throwIfEmpty=void 0;var n=r(39452),i=r(86863),o=r(44087);function a(){return new n.EmptyError}t.throwIfEmpty=function(e){return void 0===e&&(e=a),i.operate(function(t,r){var n=!1;t.subscribe(o.createOperatorSubscriber(r,function(e){n=!0,r.next(e)},function(){return n?r.complete():r.error(e())}))})}},460:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TimeInterval=t.timeInterval=void 0;var n=r(95313),i=r(86863),o=r(44087);t.timeInterval=function(e){return void 0===e&&(e=n.asyncScheduler),i.operate(function(t,r){var n=e.now();t.subscribe(o.createOperatorSubscriber(r,function(t){var i=e.now(),o=i-n;n=i,r.next(new a(t,o))}))})};var a=function(e,t){this.value=e,this.interval=t};t.TimeInterval=a},7620:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeout=t.TimeoutError=void 0;var n=r(95313),i=r(34701),o=r(86863),a=r(26828),s=r(78090),l=r(44087),c=r(37209);function u(e){throw new t.TimeoutError(e)}t.TimeoutError=s.createErrorClass(function(e){return function(t){void 0===t&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}}),t.timeout=function(e,t){var r=i.isValidDate(e)?{first:e}:"number"==typeof e?{each:e}:e,s=r.first,d=r.each,f=r.with,p=void 0===f?u:f,h=r.scheduler,y=void 0===h?null!=t?t:n.asyncScheduler:h,g=r.meta,v=void 0===g?null:g;if(null==s&&null==d)throw TypeError("No timeout provided.");return o.operate(function(e,t){var r,n,i=null,o=0,u=function(e){n=c.executeSchedule(t,y,function(){try{r.unsubscribe(),a.innerFrom(p({meta:v,lastValue:i,seen:o})).subscribe(t)}catch(e){t.error(e)}},e)};r=e.subscribe(l.createOperatorSubscriber(t,function(e){null==n||n.unsubscribe(),o++,t.next(i=e),d>0&&u(d)},void 0,void 0,function(){(null==n?void 0:n.closed)||null==n||n.unsubscribe(),i=null})),o||u(null!=s?"number"==typeof s?s:+s-y.now():d)})}},88905:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutWith=void 0;var n=r(95313),i=r(34701),o=r(7620);t.timeoutWith=function(e,t,r){var a,s,l;if(r=null!=r?r:n.async,i.isValidDate(e)?a=e:"number"==typeof e&&(s=e),t)l=function(){return t};else throw TypeError("No observable provided to switch to");if(null==a&&null==s)throw TypeError("No timeout provided.");return o.timeout({first:a,each:s,scheduler:r,with:l})}},25435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timestamp=void 0;var n=r(63510),i=r(18050);t.timestamp=function(e){return void 0===e&&(e=n.dateTimestampProvider),i.map(function(t){return{value:t,timestamp:e.now()}})}},76590:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toArray=void 0;var n=r(6561),i=r(86863),o=function(e,t){return e.push(t),e};t.toArray=function(){return i.operate(function(e,t){n.reduce(o,[])(e).subscribe(t)})}},74221:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.window=void 0;var n=r(45816),i=r(86863),o=r(44087),a=r(64416),s=r(26828);t.window=function(e){return i.operate(function(t,r){var i=new n.Subject;r.next(i.asObservable());var l=function(e){i.error(e),r.error(e)};return t.subscribe(o.createOperatorSubscriber(r,function(e){return null==i?void 0:i.next(e)},function(){i.complete(),r.complete()},l)),s.innerFrom(e).subscribe(o.createOperatorSubscriber(r,function(){i.complete(),r.next(i=new n.Subject)},a.noop,l)),function(){null==i||i.unsubscribe(),i=null}})}},58920:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowCount=void 0;var i=r(45816),o=r(86863),a=r(44087);t.windowCount=function(e,t){void 0===t&&(t=0);var r=t>0?t:e;return o.operate(function(t,o){var s=[new i.Subject],l=0;o.next(s[0].asObservable()),t.subscribe(a.createOperatorSubscriber(o,function(t){try{for(var a,c,u=n(s),d=u.next();!d.done;d=u.next())d.value.next(t)}catch(e){a={error:e}}finally{try{d&&!d.done&&(c=u.return)&&c.call(u)}finally{if(a)throw a.error}}var f=l-e+1;if(f>=0&&f%r==0&&s.shift().complete(),++l%r==0){var p=new i.Subject;s.push(p),o.next(p.asObservable())}},function(){for(;s.length>0;)s.shift().complete();o.complete()},function(e){for(;s.length>0;)s.shift().error(e);o.error(e)},function(){s=null}))})}},43094:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowTime=void 0;var n=r(45816),i=r(95313),o=r(64524),a=r(86863),s=r(44087),l=r(92447),c=r(55375),u=r(37209);t.windowTime=function(e){for(var t,r,d=[],f=1;f<arguments.length;f++)d[f-1]=arguments[f];var p=null!==(t=c.popScheduler(d))&&void 0!==t?t:i.asyncScheduler,h=null!==(r=d[0])&&void 0!==r?r:null,y=d[1]||1/0;return a.operate(function(t,r){var i=[],a=!1,c=function(e){var t=e.window,r=e.subs;t.complete(),r.unsubscribe(),l.arrRemove(i,e),a&&d()},d=function(){if(i){var t=new o.Subscription;r.add(t);var a=new n.Subject,s={window:a,subs:t,seen:0};i.push(s),r.next(a.asObservable()),u.executeSchedule(t,p,function(){return c(s)},e)}};null!==h&&h>=0?u.executeSchedule(r,p,d,h,!0):a=!0,d();var f=function(e){return i.slice().forEach(e)},g=function(e){f(function(t){return e(t.window)}),e(r),r.unsubscribe()};return t.subscribe(s.createOperatorSubscriber(r,function(e){f(function(t){t.window.next(e),y<=++t.seen&&c(t)})},function(){return g(function(e){return e.complete()})},function(e){return g(function(t){return t.error(e)})})),function(){i=null}})}},99287:function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.windowToggle=void 0;var i=r(45816),o=r(64524),a=r(86863),s=r(26828),l=r(44087),c=r(64416),u=r(92447);t.windowToggle=function(e,t){return a.operate(function(r,a){var d=[],f=function(e){for(;0<d.length;)d.shift().error(e);a.error(e)};s.innerFrom(e).subscribe(l.createOperatorSubscriber(a,function(e){var r,n=new i.Subject;d.push(n);var p=new o.Subscription;try{r=s.innerFrom(t(e))}catch(e){f(e);return}a.next(n.asObservable()),p.add(r.subscribe(l.createOperatorSubscriber(a,function(){u.arrRemove(d,n),n.complete(),p.unsubscribe()},c.noop,f)))},c.noop)),r.subscribe(l.createOperatorSubscriber(a,function(e){var t,r,i=d.slice();try{for(var o=n(i),a=o.next();!a.done;a=o.next())a.value.next(e)}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}},function(){for(;0<d.length;)d.shift().complete();a.complete()},f,function(){for(;0<d.length;)d.shift().unsubscribe()}))})}},65046:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowWhen=void 0;var n=r(45816),i=r(86863),o=r(44087),a=r(26828);t.windowWhen=function(e){return i.operate(function(t,r){var i,s,l=function(e){i.error(e),r.error(e)},c=function(){var t;null==s||s.unsubscribe(),null==i||i.complete(),i=new n.Subject,r.next(i.asObservable());try{t=a.innerFrom(e())}catch(e){l(e);return}t.subscribe(s=o.createOperatorSubscriber(r,c,c,l))};c(),t.subscribe(o.createOperatorSubscriber(r,function(e){return i.next(e)},function(){i.complete(),r.complete()},l,function(){null==s||s.unsubscribe(),i=null}))})}},69539:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.withLatestFrom=void 0;var o=r(86863),a=r(44087),s=r(26828),l=r(1018),c=r(64416),u=r(55375);t.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=u.popResultSelector(e);return o.operate(function(t,o){for(var u=e.length,d=Array(u),f=e.map(function(){return!1}),p=!1,h=function(t){s.innerFrom(e[t]).subscribe(a.createOperatorSubscriber(o,function(e){d[t]=e,!p&&!f[t]&&(f[t]=!0,(p=f.every(l.identity))&&(f=null))},c.noop))},y=0;y<u;y++)h(y);t.subscribe(a.createOperatorSubscriber(o,function(e){if(p){var t=i([e],n(d));o.next(r?r.apply(void 0,i([],n(t))):t)}}))})}},90610:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zip=void 0;var o=r(91039),a=r(86863);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a.operate(function(t,r){o.zip.apply(void 0,i([t],n(e))).subscribe(r)})}},53260:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipAll=void 0;var n=r(91039),i=r(68447);t.zipAll=function(e){return i.joinAllInternals(n.zip,e)}},72273:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.zipWith=void 0;var o=r(90610);t.zipWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o.zip.apply(void 0,i([],n(e)))}},41169:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleArray=void 0;var n=r(31498);t.scheduleArray=function(e,t){return new n.Observable(function(r){var n=0;return t.schedule(function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())})})}},1476:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleAsyncIterable=void 0;var n=r(31498),i=r(37209);t.scheduleAsyncIterable=function(e,t){if(!e)throw Error("Iterable cannot be null");return new n.Observable(function(r){i.executeSchedule(r,t,function(){var n=e[Symbol.asyncIterator]();i.executeSchedule(r,t,function(){n.next().then(function(e){e.done?r.complete():r.next(e.value)})},0,!0)})})}},82144:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleIterable=void 0;var n=r(31498),i=r(28465),o=r(92803),a=r(37209);t.scheduleIterable=function(e,t){return new n.Observable(function(r){var n;return a.executeSchedule(r,t,function(){n=e[i.iterator](),a.executeSchedule(r,t,function(){var e,t,i;try{t=(e=n.next()).value,i=e.done}catch(e){r.error(e);return}i?r.complete():r.next(t)},0,!0)}),function(){return o.isFunction(null==n?void 0:n.return)&&n.return()}})}},50366:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleObservable=void 0;var n=r(26828),i=r(74395),o=r(28383);t.scheduleObservable=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}},1941:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.schedulePromise=void 0;var n=r(26828),i=r(74395),o=r(28383);t.schedulePromise=function(e,t){return n.innerFrom(e).pipe(o.subscribeOn(t),i.observeOn(t))}},63430:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduleReadableStreamLike=void 0;var n=r(1476),i=r(18412);t.scheduleReadableStreamLike=function(e,t){return n.scheduleAsyncIterable(i.readableStreamLikeToAsyncGenerator(e),t)}},38789:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.scheduled=void 0;var n=r(50366),i=r(1941),o=r(41169),a=r(82144),s=r(1476),l=r(94592),c=r(98633),u=r(96253),d=r(37944),f=r(39653),p=r(74975),h=r(18412),y=r(63430);t.scheduled=function(e,t){if(null!=e){if(l.isInteropObservable(e))return n.scheduleObservable(e,t);if(u.isArrayLike(e))return o.scheduleArray(e,t);if(c.isPromise(e))return i.schedulePromise(e,t);if(f.isAsyncIterable(e))return s.scheduleAsyncIterable(e,t);if(d.isIterable(e))return a.scheduleIterable(e,t);if(h.isReadableStreamLike(e))return y.scheduleReadableStreamLike(e,t)}throw p.createInvalidObservableTypeError(e)}},89303:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;var o=function(e){function t(t,r){return e.call(this)||this}return i(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(r(64524).Subscription);t.Action=o},82383:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameAction=void 0;var o=r(62625),a=r(12545),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!==n&&n>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.animationFrameProvider.requestAnimationFrame(function(){return t.flush(void 0)})))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i,o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(a.animationFrameProvider.cancelAnimationFrame(r),t._scheduled=void 0)},t}(o.AsyncAction);t.AnimationFrameAction=s},28848:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AnimationFrameScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled;this._scheduled=void 0;var n=this.actions;e=e||n.shift();do if(t=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},t}(r(94168).AsyncScheduler);t.AnimationFrameScheduler=o},63723:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapAction=void 0;var o=r(62625),a=r(68261),s=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!==n&&n>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.actions.push(this),t._scheduled||(t._scheduled=a.immediateProvider.setImmediate(t.flush.bind(t,void 0))))},t.prototype.recycleAsyncId=function(t,r,n){if(void 0===n&&(n=0),null!=n?n>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,t,r,n);var i,o=t.actions;null!=r&&(null===(i=o[o.length-1])||void 0===i?void 0:i.id)!==r&&(a.immediateProvider.clearImmediate(r),t._scheduled===r&&(t._scheduled=void 0))},t}(o.AsyncAction);t.AsapAction=s},9498:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsapScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.flush=function(e){this._active=!0;var t,r=this._scheduled;this._scheduled=void 0;var n=this.actions;e=e||n.shift();do if(t=e.execute(e.state,e.delay))break;while((e=n[0])&&e.id===r&&n.shift());if(this._active=!1,t){for(;(e=n[0])&&e.id===r&&n.shift();)e.unsubscribe();throw t}},t}(r(94168).AsyncScheduler);t.AsapScheduler=o},62625:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncAction=void 0;var o=r(89303),a=r(70137),s=r(92447),l=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return i(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r,n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),a.intervalProvider.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&a.intervalProvider.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,s.arrRemove(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(o.Action);t.AsyncAction=l},94168:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncScheduler=void 0;var o=r(53449),a=function(e){function t(t,r){void 0===r&&(r=o.Scheduler.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return i(t,e),t.prototype.flush=function(e){var t,r=this.actions;if(this._active){r.push(e);return}this._active=!0;do if(t=e.execute(e.state,e.delay))break;while(e=r.shift());if(this._active=!1,t){for(;e=r.shift();)e.unsubscribe();throw t}},t}(o.Scheduler);t.AsyncScheduler=a},74606:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueAction=void 0;var o=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n}return i(t,e),t.prototype.schedule=function(t,r){return(void 0===r&&(r=0),r>0)?e.prototype.schedule.call(this,t,r):(this.delay=r,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,r){return r>0||this.closed?e.prototype.execute.call(this,t,r):this._execute(t,r)},t.prototype.requestAsyncId=function(t,r,n){return(void 0===n&&(n=0),null!=n&&n>0||null==n&&this.delay>0)?e.prototype.requestAsyncId.call(this,t,r,n):(t.flush(this),0)},t}(r(62625).AsyncAction);t.QueueAction=o},6121:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.QueueScheduler=void 0;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t}(r(94168).AsyncScheduler);t.QueueScheduler=o},88894:function(e,t,r){"use strict";var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0}),t.VirtualAction=t.VirtualTimeScheduler=void 0;var o=r(62625),a=r(64524),s=function(e){function t(t,r){void 0===t&&(t=l),void 0===r&&(r=1/0);var n=e.call(this,t,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return i(t,e),t.prototype.flush=function(){for(var e,t,r=this.actions,n=this.maxFrames;(t=r[0])&&t.delay<=n&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(r(94168).AsyncScheduler);t.VirtualTimeScheduler=s;var l=function(e){function t(t,r,n){void 0===n&&(n=t.index+=1);var i=e.call(this,t,r)||this;return i.scheduler=t,i.work=r,i.index=n,i.active=!0,i.index=t.index=n,i}return i(t,e),t.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!Number.isFinite(n))return a.Subscription.EMPTY;if(!this.id)return e.prototype.schedule.call(this,r,n);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},t.prototype.requestAsyncId=function(e,r,n){void 0===n&&(n=0),this.delay=e.frame+n;var i=e.actions;return i.push(this),i.sort(t.sortActions),1},t.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},t.prototype._execute=function(t,r){if(!0===this.active)return e.prototype._execute.call(this,t,r)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(o.AsyncAction);t.VirtualAction=l},13403:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrame=t.animationFrameScheduler=void 0;var n=r(82383),i=r(28848);t.animationFrameScheduler=new i.AnimationFrameScheduler(n.AnimationFrameAction),t.animationFrame=t.animationFrameScheduler},12545:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.animationFrameProvider=void 0;var o=r(64524);t.animationFrameProvider={schedule:function(e){var r=requestAnimationFrame,n=cancelAnimationFrame,i=t.animationFrameProvider.delegate;i&&(r=i.requestAnimationFrame,n=i.cancelAnimationFrame);var a=r(function(t){n=void 0,e(t)});return new o.Subscription(function(){return null==n?void 0:n(a)})},requestAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.animationFrameProvider.delegate;return((null==o?void 0:o.requestAnimationFrame)||requestAnimationFrame).apply(void 0,i([],n(e)))},cancelAnimationFrame:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.animationFrameProvider.delegate;return((null==o?void 0:o.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,i([],n(e)))},delegate:void 0}},14287:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asap=t.asapScheduler=void 0;var n=r(63723),i=r(9498);t.asapScheduler=new i.AsapScheduler(n.AsapAction),t.asap=t.asapScheduler},95313:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.async=t.asyncScheduler=void 0;var n=r(62625),i=r(94168);t.asyncScheduler=new i.AsyncScheduler(n.AsyncAction),t.async=t.asyncScheduler},63510:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dateTimestampProvider=void 0,t.dateTimestampProvider={now:function(){return(t.dateTimestampProvider.delegate||Date).now()},delegate:void 0}},68261:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.immediateProvider=void 0;var o=r(49503),a=o.Immediate.setImmediate,s=o.Immediate.clearImmediate;t.immediateProvider={setImmediate:function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var o=t.immediateProvider.delegate;return((null==o?void 0:o.setImmediate)||a).apply(void 0,i([],n(e)))},clearImmediate:function(e){var r=t.immediateProvider.delegate;return((null==r?void 0:r.clearImmediate)||s)(e)},delegate:void 0}},70137:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.intervalProvider=void 0,t.intervalProvider={setInterval:function(e,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=t.intervalProvider.delegate;return(null==s?void 0:s.setInterval)?s.setInterval.apply(s,n([e,i],r(o))):setInterval.apply(void 0,n([e,i],r(o)))},clearInterval:function(e){var r=t.intervalProvider.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(e)},delegate:void 0}},74858:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.performanceTimestampProvider=void 0,t.performanceTimestampProvider={now:function(){return(t.performanceTimestampProvider.delegate||performance).now()},delegate:void 0}},70733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queue=t.queueScheduler=void 0;var n=r(74606),i=r(6121);t.queueScheduler=new i.QueueScheduler(n.QueueAction),t.queue=t.queueScheduler},54141:function(e,t){"use strict";var r=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},n=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.timeoutProvider=void 0,t.timeoutProvider={setTimeout:function(e,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var s=t.timeoutProvider.delegate;return(null==s?void 0:s.setTimeout)?s.setTimeout.apply(s,n([e,i],r(o))):setTimeout.apply(void 0,n([e,i],r(o)))},clearTimeout:function(e){var r=t.timeoutProvider.delegate;return((null==r?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0}},28465:function(e,t){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(t,"__esModule",{value:!0}),t.iterator=t.getSymbolIterator=void 0,t.getSymbolIterator=r,t.iterator=r()},87591:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.observable=void 0,t.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},18819:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},16761:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ArgumentOutOfRangeError=void 0;var n=r(78090);t.ArgumentOutOfRangeError=n.createErrorClass(function(e){return function(){e(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})},39452:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyError=void 0;var n=r(78090);t.EmptyError=n.createErrorClass(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}})},49503:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestTools=t.Immediate=void 0;var r,n=1,i={};function o(e){return e in i&&(delete i[e],!0)}t.Immediate={setImmediate:function(e){var t=n++;return i[t]=!0,r||(r=Promise.resolve()),r.then(function(){return o(t)&&e()}),t},clearImmediate:function(e){o(e)}},t.TestTools={pending:function(){return Object.keys(i).length}}},4154:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotFoundError=void 0;var n=r(78090);t.NotFoundError=n.createErrorClass(function(e){return function(t){e(this),this.name="NotFoundError",this.message=t}})},79805:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectUnsubscribedError=void 0;var n=r(78090);t.ObjectUnsubscribedError=n.createErrorClass(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})},20003:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SequenceError=void 0;var n=r(78090);t.SequenceError=n.createErrorClass(function(e){return function(t){e(this),this.name="SequenceError",this.message=t}})},5505:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscriptionError=void 0;var n=r(78090);t.UnsubscriptionError=n.createErrorClass(function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})},55375:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.popNumber=t.popScheduler=t.popResultSelector=void 0;var n=r(92803),i=r(27737);function o(e){return e[e.length-1]}t.popResultSelector=function(e){return n.isFunction(o(e))?e.pop():void 0},t.popScheduler=function(e){return i.isScheduler(o(e))?e.pop():void 0},t.popNumber=function(e,t){return"number"==typeof o(e)?e.pop():t}},24474:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsArgArrayOrObject=void 0;var r=Array.isArray,n=Object.getPrototypeOf,i=Object.prototype,o=Object.keys;t.argsArgArrayOrObject=function(e){if(1===e.length){var t=e[0];if(r(t))return{args:t,keys:null};if(t&&"object"==typeof t&&n(t)===i){var a=o(t);return{args:a.map(function(e){return t[e]}),keys:a}}}return{args:e,keys:null}}},13838:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.argsOrArgArray=void 0;var r=Array.isArray;t.argsOrArgArray=function(e){return 1===e.length&&r(e[0])?e[0]:e}},92447:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrRemove=void 0,t.arrRemove=function(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}},78090:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createErrorClass=void 0,t.createErrorClass=function(e){var t=e(function(e){Error.call(e),e.stack=Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}},53281:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createObject=void 0,t.createObject=function(e,t){return e.reduce(function(e,r,n){return e[r]=t[n],e},{})}},23996:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.captureError=t.errorContext=void 0;var n=r(57425),i=null;t.errorContext=function(e){if(n.config.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var r=i,o=r.errorThrown,a=r.error;if(i=null,o)throw a}}else e()},t.captureError=function(e){n.config.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},37209:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.executeSchedule=void 0,t.executeSchedule=function(e,t,r,n,i){void 0===n&&(n=0),void 0===i&&(i=!1);var o=t.schedule(function(){r(),i?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(o),!i)return o}},1018:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.identity=void 0,t.identity=function(e){return e}},96253:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayLike=void 0,t.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},39653:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isAsyncIterable=void 0;var n=r(92803);t.isAsyncIterable=function(e){return Symbol.asyncIterator&&n.isFunction(null==e?void 0:e[Symbol.asyncIterator])}},34701:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isValidDate=void 0,t.isValidDate=function(e){return e instanceof Date&&!isNaN(e)}},92803:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=function(e){return"function"==typeof e}},94592:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isInteropObservable=void 0;var n=r(87591),i=r(92803);t.isInteropObservable=function(e){return i.isFunction(e[n.observable])}},37944:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterable=void 0;var n=r(28465),i=r(92803);t.isIterable=function(e){return i.isFunction(null==e?void 0:e[n.iterator])}},94974:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObservable=void 0;var n=r(31498),i=r(92803);t.isObservable=function(e){return!!e&&(e instanceof n.Observable||i.isFunction(e.lift)&&i.isFunction(e.subscribe))}},98633:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPromise=void 0;var n=r(92803);t.isPromise=function(e){return n.isFunction(null==e?void 0:e.then)}},18412:function(e,t,r){"use strict";var n=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},o=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),a=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){o[e]&&(n[e]=function(t){return new Promise(function(r,n){a.push([e,t,r,n])>1||l(e,t)})})}function l(e,t){try{var r;(r=o[e](t)).value instanceof i?Promise.resolve(r.value.v).then(c,u):d(a[0][2],r)}catch(e){d(a[0][3],e)}}function c(e){l("next",e)}function u(e){l("throw",e)}function d(e,t){e(t),a.shift(),a.length&&l(a[0][0],a[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.isReadableStreamLike=t.readableStreamLikeToAsyncGenerator=void 0;var a=r(92803);t.readableStreamLikeToAsyncGenerator=function(e){return o(this,arguments,function(){var t,r,o;return n(this,function(n){switch(n.label){case 0:t=e.getReader(),n.label=1;case 1:n.trys.push([1,,9,10]),n.label=2;case 2:return[4,i(t.read())];case 3:if(o=(r=n.sent()).value,!r.done)return[3,5];return[4,i(void 0)];case 4:return[2,n.sent()];case 5:return[4,i(o)];case 6:return[4,n.sent()];case 7:return n.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})},t.isReadableStreamLike=function(e){return a.isFunction(null==e?void 0:e.getReader)}},27737:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isScheduler=void 0;var n=r(92803);t.isScheduler=function(e){return e&&n.isFunction(e.schedule)}},86863:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.operate=t.hasLift=void 0;var n=r(92803);function i(e){return n.isFunction(null==e?void 0:e.lift)}t.hasLift=i,t.operate=function(e){return function(t){if(i(t))return t.lift(function(t){try{return e(t,this)}catch(e){this.error(e)}});throw TypeError("Unable to lift unknown Observable type")}}},52884:function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(t,"__esModule",{value:!0}),t.mapOneOrManyArgs=void 0;var o=r(18050),a=Array.isArray;t.mapOneOrManyArgs=function(e){return o.map(function(t){return a(t)?e.apply(void 0,i([],n(t))):e(t)})}},64416:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noop=void 0,t.noop=function(){}},67451:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.not=void 0,t.not=function(e,t){return function(r,n){return!e.call(t,r,n)}}},3565:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeFromArray=t.pipe=void 0;var n=r(1018);function i(e){return 0===e.length?n.identity:1===e.length?e[0]:function(t){return e.reduce(function(e,t){return t(e)},t)}}t.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},t.pipeFromArray=i},20012:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportUnhandledError=void 0;var n=r(57425),i=r(54141);t.reportUnhandledError=function(e){i.timeoutProvider.setTimeout(function(){var t=n.config.onUnhandledError;if(t)t(e);else throw e})}},74975:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInvalidObservableTypeError=void 0,t.createInvalidObservableTypeError=function(e){return TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}},19734:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeAll=t.merge=t.max=t.materialize=t.mapTo=t.map=t.last=t.isEmpty=t.ignoreElements=t.groupBy=t.first=t.findIndex=t.find=t.finalize=t.filter=t.expand=t.exhaustMap=t.exhaustAll=t.exhaust=t.every=t.endWith=t.elementAt=t.distinctUntilKeyChanged=t.distinctUntilChanged=t.distinct=t.dematerialize=t.delayWhen=t.delay=t.defaultIfEmpty=t.debounceTime=t.debounce=t.count=t.connect=t.concatWith=t.concatMapTo=t.concatMap=t.concatAll=t.concat=t.combineLatestWith=t.combineLatest=t.combineLatestAll=t.combineAll=t.catchError=t.bufferWhen=t.bufferToggle=t.bufferTime=t.bufferCount=t.buffer=t.auditTime=t.audit=void 0,t.timeInterval=t.throwIfEmpty=t.throttleTime=t.throttle=t.tap=t.takeWhile=t.takeUntil=t.takeLast=t.take=t.switchScan=t.switchMapTo=t.switchMap=t.switchAll=t.subscribeOn=t.startWith=t.skipWhile=t.skipUntil=t.skipLast=t.skip=t.single=t.shareReplay=t.share=t.sequenceEqual=t.scan=t.sampleTime=t.sample=t.refCount=t.retryWhen=t.retry=t.repeatWhen=t.repeat=t.reduce=t.raceWith=t.race=t.publishReplay=t.publishLast=t.publishBehavior=t.publish=t.pluck=t.partition=t.pairwise=t.onErrorResumeNext=t.observeOn=t.multicast=t.min=t.mergeWith=t.mergeScan=t.mergeMapTo=t.mergeMap=t.flatMap=void 0,t.zipWith=t.zipAll=t.zip=t.withLatestFrom=t.windowWhen=t.windowToggle=t.windowTime=t.windowCount=t.window=t.toArray=t.timestamp=t.timeoutWith=t.timeout=void 0;var n=r(58285);Object.defineProperty(t,"audit",{enumerable:!0,get:function(){return n.audit}});var i=r(88248);Object.defineProperty(t,"auditTime",{enumerable:!0,get:function(){return i.auditTime}});var o=r(84174);Object.defineProperty(t,"buffer",{enumerable:!0,get:function(){return o.buffer}});var a=r(78996);Object.defineProperty(t,"bufferCount",{enumerable:!0,get:function(){return a.bufferCount}});var s=r(88236);Object.defineProperty(t,"bufferTime",{enumerable:!0,get:function(){return s.bufferTime}});var l=r(13244);Object.defineProperty(t,"bufferToggle",{enumerable:!0,get:function(){return l.bufferToggle}});var c=r(25595);Object.defineProperty(t,"bufferWhen",{enumerable:!0,get:function(){return c.bufferWhen}});var u=r(37579);Object.defineProperty(t,"catchError",{enumerable:!0,get:function(){return u.catchError}});var d=r(28978);Object.defineProperty(t,"combineAll",{enumerable:!0,get:function(){return d.combineAll}});var f=r(98521);Object.defineProperty(t,"combineLatestAll",{enumerable:!0,get:function(){return f.combineLatestAll}});var p=r(52304);Object.defineProperty(t,"combineLatest",{enumerable:!0,get:function(){return p.combineLatest}});var h=r(23279);Object.defineProperty(t,"combineLatestWith",{enumerable:!0,get:function(){return h.combineLatestWith}});var y=r(39958);Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return y.concat}});var g=r(67686);Object.defineProperty(t,"concatAll",{enumerable:!0,get:function(){return g.concatAll}});var v=r(85318);Object.defineProperty(t,"concatMap",{enumerable:!0,get:function(){return v.concatMap}});var m=r(94679);Object.defineProperty(t,"concatMapTo",{enumerable:!0,get:function(){return m.concatMapTo}});var b=r(89012);Object.defineProperty(t,"concatWith",{enumerable:!0,get:function(){return b.concatWith}});var _=r(51566);Object.defineProperty(t,"connect",{enumerable:!0,get:function(){return _.connect}});var w=r(92478);Object.defineProperty(t,"count",{enumerable:!0,get:function(){return w.count}});var S=r(28583);Object.defineProperty(t,"debounce",{enumerable:!0,get:function(){return S.debounce}});var O=r(94324);Object.defineProperty(t,"debounceTime",{enumerable:!0,get:function(){return O.debounceTime}});var M=r(2002);Object.defineProperty(t,"defaultIfEmpty",{enumerable:!0,get:function(){return M.defaultIfEmpty}});var R=r(30395);Object.defineProperty(t,"delay",{enumerable:!0,get:function(){return R.delay}});var P=r(20556);Object.defineProperty(t,"delayWhen",{enumerable:!0,get:function(){return P.delayWhen}});var E=r(72044);Object.defineProperty(t,"dematerialize",{enumerable:!0,get:function(){return E.dematerialize}});var I=r(61943);Object.defineProperty(t,"distinct",{enumerable:!0,get:function(){return I.distinct}});var x=r(52662);Object.defineProperty(t,"distinctUntilChanged",{enumerable:!0,get:function(){return x.distinctUntilChanged}});var A=r(86641);Object.defineProperty(t,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return A.distinctUntilKeyChanged}});var C=r(41202);Object.defineProperty(t,"elementAt",{enumerable:!0,get:function(){return C.elementAt}});var j=r(17787);Object.defineProperty(t,"endWith",{enumerable:!0,get:function(){return j.endWith}});var T=r(41211);Object.defineProperty(t,"every",{enumerable:!0,get:function(){return T.every}});var $=r(12635);Object.defineProperty(t,"exhaust",{enumerable:!0,get:function(){return $.exhaust}});var D=r(97642);Object.defineProperty(t,"exhaustAll",{enumerable:!0,get:function(){return D.exhaustAll}});var N=r(79361);Object.defineProperty(t,"exhaustMap",{enumerable:!0,get:function(){return N.exhaustMap}});var k=r(389);Object.defineProperty(t,"expand",{enumerable:!0,get:function(){return k.expand}});var B=r(1669);Object.defineProperty(t,"filter",{enumerable:!0,get:function(){return B.filter}});var F=r(21421);Object.defineProperty(t,"finalize",{enumerable:!0,get:function(){return F.finalize}});var L=r(54425);Object.defineProperty(t,"find",{enumerable:!0,get:function(){return L.find}});var U=r(78075);Object.defineProperty(t,"findIndex",{enumerable:!0,get:function(){return U.findIndex}});var V=r(14639);Object.defineProperty(t,"first",{enumerable:!0,get:function(){return V.first}});var K=r(37578);Object.defineProperty(t,"groupBy",{enumerable:!0,get:function(){return K.groupBy}});var W=r(12654);Object.defineProperty(t,"ignoreElements",{enumerable:!0,get:function(){return W.ignoreElements}});var J=r(49010);Object.defineProperty(t,"isEmpty",{enumerable:!0,get:function(){return J.isEmpty}});var H=r(96346);Object.defineProperty(t,"last",{enumerable:!0,get:function(){return H.last}});var q=r(18050);Object.defineProperty(t,"map",{enumerable:!0,get:function(){return q.map}});var Z=r(43341);Object.defineProperty(t,"mapTo",{enumerable:!0,get:function(){return Z.mapTo}});var G=r(46316);Object.defineProperty(t,"materialize",{enumerable:!0,get:function(){return G.materialize}});var z=r(14046);Object.defineProperty(t,"max",{enumerable:!0,get:function(){return z.max}});var Y=r(41055);Object.defineProperty(t,"merge",{enumerable:!0,get:function(){return Y.merge}});var X=r(66291);Object.defineProperty(t,"mergeAll",{enumerable:!0,get:function(){return X.mergeAll}});var Q=r(10131);Object.defineProperty(t,"flatMap",{enumerable:!0,get:function(){return Q.flatMap}});var ee=r(40988);Object.defineProperty(t,"mergeMap",{enumerable:!0,get:function(){return ee.mergeMap}});var et=r(98866);Object.defineProperty(t,"mergeMapTo",{enumerable:!0,get:function(){return et.mergeMapTo}});var er=r(16041);Object.defineProperty(t,"mergeScan",{enumerable:!0,get:function(){return er.mergeScan}});var en=r(53628);Object.defineProperty(t,"mergeWith",{enumerable:!0,get:function(){return en.mergeWith}});var ei=r(85643);Object.defineProperty(t,"min",{enumerable:!0,get:function(){return ei.min}});var eo=r(63354);Object.defineProperty(t,"multicast",{enumerable:!0,get:function(){return eo.multicast}});var ea=r(74395);Object.defineProperty(t,"observeOn",{enumerable:!0,get:function(){return ea.observeOn}});var es=r(1646);Object.defineProperty(t,"onErrorResumeNext",{enumerable:!0,get:function(){return es.onErrorResumeNext}});var el=r(58937);Object.defineProperty(t,"pairwise",{enumerable:!0,get:function(){return el.pairwise}});var ec=r(74960);Object.defineProperty(t,"partition",{enumerable:!0,get:function(){return ec.partition}});var eu=r(16841);Object.defineProperty(t,"pluck",{enumerable:!0,get:function(){return eu.pluck}});var ed=r(86960);Object.defineProperty(t,"publish",{enumerable:!0,get:function(){return ed.publish}});var ef=r(86674);Object.defineProperty(t,"publishBehavior",{enumerable:!0,get:function(){return ef.publishBehavior}});var ep=r(65814);Object.defineProperty(t,"publishLast",{enumerable:!0,get:function(){return ep.publishLast}});var eh=r(98287);Object.defineProperty(t,"publishReplay",{enumerable:!0,get:function(){return eh.publishReplay}});var ey=r(88353);Object.defineProperty(t,"race",{enumerable:!0,get:function(){return ey.race}});var eg=r(35226);Object.defineProperty(t,"raceWith",{enumerable:!0,get:function(){return eg.raceWith}});var ev=r(6561);Object.defineProperty(t,"reduce",{enumerable:!0,get:function(){return ev.reduce}});var em=r(52557);Object.defineProperty(t,"repeat",{enumerable:!0,get:function(){return em.repeat}});var eb=r(55394);Object.defineProperty(t,"repeatWhen",{enumerable:!0,get:function(){return eb.repeatWhen}});var e_=r(65151);Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return e_.retry}});var ew=r(10205);Object.defineProperty(t,"retryWhen",{enumerable:!0,get:function(){return ew.retryWhen}});var eS=r(6172);Object.defineProperty(t,"refCount",{enumerable:!0,get:function(){return eS.refCount}});var eO=r(16653);Object.defineProperty(t,"sample",{enumerable:!0,get:function(){return eO.sample}});var eM=r(681);Object.defineProperty(t,"sampleTime",{enumerable:!0,get:function(){return eM.sampleTime}});var eR=r(27375);Object.defineProperty(t,"scan",{enumerable:!0,get:function(){return eR.scan}});var eP=r(24612);Object.defineProperty(t,"sequenceEqual",{enumerable:!0,get:function(){return eP.sequenceEqual}});var eE=r(61235);Object.defineProperty(t,"share",{enumerable:!0,get:function(){return eE.share}});var eI=r(53785);Object.defineProperty(t,"shareReplay",{enumerable:!0,get:function(){return eI.shareReplay}});var ex=r(13602);Object.defineProperty(t,"single",{enumerable:!0,get:function(){return ex.single}});var eA=r(76395);Object.defineProperty(t,"skip",{enumerable:!0,get:function(){return eA.skip}});var eC=r(17797);Object.defineProperty(t,"skipLast",{enumerable:!0,get:function(){return eC.skipLast}});var ej=r(41326);Object.defineProperty(t,"skipUntil",{enumerable:!0,get:function(){return ej.skipUntil}});var eT=r(7798);Object.defineProperty(t,"skipWhile",{enumerable:!0,get:function(){return eT.skipWhile}});var e$=r(63418);Object.defineProperty(t,"startWith",{enumerable:!0,get:function(){return e$.startWith}});var eD=r(28383);Object.defineProperty(t,"subscribeOn",{enumerable:!0,get:function(){return eD.subscribeOn}});var eN=r(28019);Object.defineProperty(t,"switchAll",{enumerable:!0,get:function(){return eN.switchAll}});var ek=r(33662);Object.defineProperty(t,"switchMap",{enumerable:!0,get:function(){return ek.switchMap}});var eB=r(91957);Object.defineProperty(t,"switchMapTo",{enumerable:!0,get:function(){return eB.switchMapTo}});var eF=r(30365);Object.defineProperty(t,"switchScan",{enumerable:!0,get:function(){return eF.switchScan}});var eL=r(17184);Object.defineProperty(t,"take",{enumerable:!0,get:function(){return eL.take}});var eU=r(64358);Object.defineProperty(t,"takeLast",{enumerable:!0,get:function(){return eU.takeLast}});var eV=r(47671);Object.defineProperty(t,"takeUntil",{enumerable:!0,get:function(){return eV.takeUntil}});var eK=r(2282);Object.defineProperty(t,"takeWhile",{enumerable:!0,get:function(){return eK.takeWhile}});var eW=r(91756);Object.defineProperty(t,"tap",{enumerable:!0,get:function(){return eW.tap}});var eJ=r(42463);Object.defineProperty(t,"throttle",{enumerable:!0,get:function(){return eJ.throttle}});var eH=r(2160);Object.defineProperty(t,"throttleTime",{enumerable:!0,get:function(){return eH.throttleTime}});var eq=r(30156);Object.defineProperty(t,"throwIfEmpty",{enumerable:!0,get:function(){return eq.throwIfEmpty}});var eZ=r(460);Object.defineProperty(t,"timeInterval",{enumerable:!0,get:function(){return eZ.timeInterval}});var eG=r(7620);Object.defineProperty(t,"timeout",{enumerable:!0,get:function(){return eG.timeout}});var ez=r(88905);Object.defineProperty(t,"timeoutWith",{enumerable:!0,get:function(){return ez.timeoutWith}});var eY=r(25435);Object.defineProperty(t,"timestamp",{enumerable:!0,get:function(){return eY.timestamp}});var eX=r(76590);Object.defineProperty(t,"toArray",{enumerable:!0,get:function(){return eX.toArray}});var eQ=r(74221);Object.defineProperty(t,"window",{enumerable:!0,get:function(){return eQ.window}});var e0=r(58920);Object.defineProperty(t,"windowCount",{enumerable:!0,get:function(){return e0.windowCount}});var e1=r(43094);Object.defineProperty(t,"windowTime",{enumerable:!0,get:function(){return e1.windowTime}});var e2=r(99287);Object.defineProperty(t,"windowToggle",{enumerable:!0,get:function(){return e2.windowToggle}});var e3=r(65046);Object.defineProperty(t,"windowWhen",{enumerable:!0,get:function(){return e3.windowWhen}});var e5=r(69539);Object.defineProperty(t,"withLatestFrom",{enumerable:!0,get:function(){return e5.withLatestFrom}});var e9=r(90610);Object.defineProperty(t,"zip",{enumerable:!0,get:function(){return e9.zip}});var e8=r(53260);Object.defineProperty(t,"zipAll",{enumerable:!0,get:function(){return e8.zipAll}});var e6=r(72273);Object.defineProperty(t,"zipWith",{enumerable:!0,get:function(){return e6.zipWith}})},89016:function(e,t,r){"use strict";var n=r(67133).Buffer;class i extends Error{constructor(e){super(i._prepareSuperMessage(e)),Object.defineProperty(this,"name",{value:"NonError",configurable:!0,writable:!0}),Error.captureStackTrace&&Error.captureStackTrace(this,i)}static _prepareSuperMessage(e){try{return JSON.stringify(e)}catch{return String(e)}}}let o=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0}],a=Symbol(".toJSON called"),s=e=>{e[a]=!0;let t=e.toJSON();return delete e[a],t},l=({from:e,seen:t,to_:r,forceEnumerable:i,maxDepth:c,depth:u})=>{let d=r||(Array.isArray(e)?[]:{});if(t.push(e),u>=c)return d;if("function"==typeof e.toJSON&&!0!==e[a])return s(e);for(let[r,o]of Object.entries(e)){if("function"==typeof n&&n.isBuffer(o)){d[r]="[object Buffer]";continue}if("function"!=typeof o){if(!o||"object"!=typeof o){d[r]=o;continue}if(!t.includes(e[r])){u++,d[r]=l({from:e[r],seen:t.slice(),forceEnumerable:i,maxDepth:c,depth:u});continue}d[r]="[Circular]"}}for(let{property:t,enumerable:r}of o)"string"==typeof e[t]&&Object.defineProperty(d,t,{value:e[t],enumerable:!!i||r,configurable:!0,writable:!0});return d};e.exports={serializeError:(e,t={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=t;return"object"==typeof e&&null!==e?l({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0}):"function"==typeof e?`[Function: ${e.name||"anonymous"}]`:e},deserializeError:(e,t={})=>{let{maxDepth:r=Number.POSITIVE_INFINITY}=t;if(e instanceof Error)return e;if("object"==typeof e&&null!==e&&!Array.isArray(e)){let t=Error();return l({from:e,seen:[],to_:t,maxDepth:r,depth:0}),t}return new i(e)}}},34470:function(e){"use strict";e.exports=(e,t)=>{if(!("string"==typeof e&&"string"==typeof t))throw TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];let r=e.indexOf(t);return -1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},67116:function(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},70581:function(e,t){"use strict";t.D=void 0;var r=new WeakMap;function n(e){var t,n,i;return null!=e&&(t=!0===e.disableCache,n=!0===e.disableMix,i=e.transform),function(){for(var e=[],o="",a=null,s=t?null:r,l=Array(arguments.length),c=0;c<arguments.length;c++)l[c]=arguments[c];for(;l.length>0;){var u=l.pop();if(null!=u&&!1!==u){if(Array.isArray(u)){for(var d=0;d<u.length;d++)l.push(u[d]);continue}var f=null!=i?i(u):u;if(f.$$css){var p="";if(null!=s&&s.has(f)){var h=s.get(f);null!=h&&(p=h[0],e.push.apply(e,h[1]),s=h[2])}else{var y=[];for(var g in f){var v=f[g];"$$css"===g||("string"==typeof v||null===v?e.includes(g)||(e.push(g),null!=s&&y.push(g),"string"==typeof v&&(p+=p?" "+v:v)):console.error("styleq: ".concat(g," typeof ").concat(String(v),' is not "string" or "null".')))}if(null!=s){var m=new WeakMap;s.set(f,[p,y,m]),s=m}}p&&(o=o?p+" "+o:p)}else if(n)null==a&&(a={}),a=Object.assign({},f,a);else{var b=null;for(var _ in f){var w=f[_];void 0===w||e.includes(_)||(null!=w&&(null==a&&(a={}),null==b&&(b={}),b[_]=w),e.push(_),s=null)}null!=b&&(a=Object.assign(b,a))}}}return[o,a]}}var i=n();t.D=i,i.factory=n},65311:function(e,t){"use strict";t.j=function(e,t){if(null!=e[n]){var o=t?1:0;if(r.has(e)){var a=r.get(e),s=a[o];return null==s&&(s=i(e,t),a[o]=s,r.set(e,a)),s}var l=i(e,t),c=[,,];return c[o]=l,r.set(e,c),l}return e};var r=new WeakMap,n="$$css$localize";function i(e,t){var r={};for(var i in e)if(i!==n){var o=e[i];Array.isArray(o)?r[i]=t?o[1]:o[0]:r[i]=o}return r}},42984:function(e,t,r){"use strict";r.r(t),r.d(t,{Lifecycle:function(){return o},autoInjectable:function(){return j},container:function(){return C},delay:function(){return v},inject:function(){return T},injectAll:function(){return k},injectAllWithTransform:function(){return B},injectWithTransform:function(){return F},injectable:function(){return $},instanceCachingFactory:function(){return U},instancePerContainerCachingFactory:function(){return V},isClassProvider:function(){return h},isFactoryProvider:function(){return y},isNormalToken:function(){return m},isTokenProvider:function(){return w},isValueProvider:function(){return S},predicateAwareClassFactory:function(){return K},registry:function(){return D},scoped:function(){return L},singleton:function(){return N}}),(n=i||(i={}))[n.Transient=0]="Transient",n[n.Singleton=1]="Singleton",n[n.ResolutionScoped=2]="ResolutionScoped",n[n.ContainerScoped=3]="ContainerScoped";var n,i,o=i,a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function s(e,t){function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function l(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=o.next()).done;)a.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var d="injectionTokens";function f(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(d,e)||{};return Object.keys(r).forEach(function(e){t[+e]=r[e]}),t}function p(e,t){return function(r,n,i){var o=Reflect.getOwnMetadata(d,r)||{};o[i]=t?{token:e,transform:t.transformToken,transformArgs:t.args||[]}:e,Reflect.defineMetadata(d,o,r)}}function h(e){return!!e.useClass}function y(e){return!!e.useFactory}var g=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,n=!1;return new Proxy({},this.createHandler(function(){return n||(t=e(r.wrap()),n=!0),t}))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach(function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t[0]=e(),Reflect[r].apply(void 0,u(t))}}),t},e}();function v(e){if(void 0===e)throw Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new g(e)}function m(e){return"string"==typeof e||"symbol"==typeof e}function b(e){return"object"==typeof e&&"token"in e&&"multiple"in e}function _(e){return"object"==typeof e&&"token"in e&&"transform"in e}function w(e){return!!e.useToken}function S(e){return void 0!=e.useValue}var O=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(O),R=function(){this.scopedResolutions=new Map};function P(e,t,r){var n,i,o,a=c(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return i="Cannot inject the dependency "+(null===(n=void 0===a?null:a)?"at position #"+t:'"'+n.split(",")[t].trim()+'" at position #'+t)+' of "'+e.name+'" constructor. Reason:',void 0===o&&(o="    "),u([i],r.message.split("\n").map(function(e){return o+e})).join("\n")}var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(O),I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(O),x=function(){this.preResolution=new E,this.postResolution=new I},A=new Map,C=new(function(){function e(e){this.parent=e,this._registry=new M,this.interceptors=new x,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,r){if(void 0===r&&(r={lifecycle:o.Transient}),this.ensureNotDisposed(),n=h(t)||S(t)||w(t)||y(t)?t:{useClass:t},w(n))for(var n,i=[e],a=n;null!=a;){var s=a.useToken;if(i.includes(s))throw Error("Token registration cycle detected! "+u(i,[s]).join(" -> "));i.push(s);var l=this._registry.get(s);a=l&&w(l.provider)?l.provider:null}if((r.lifecycle===o.Singleton||r.lifecycle==o.ContainerScoped||r.lifecycle==o.ResolutionScoped)&&(S(n)||y(n)))throw Error('Cannot use lifecycle "'+o[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:r}),this},e.prototype.registerType=function(e,t){return(this.ensureNotDisposed(),m(t))?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),m(e)){if(m(t))return this.register(e,{useToken:t},{lifecycle:o.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:o.Singleton});throw Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!m(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:o.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new R),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&m(e))throw Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var n=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if("function"==typeof e||e instanceof g){var n=this.construct(e,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}throw Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,n;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var o=l(this.interceptors.preResolution.getAll(e)),a=o.next();!a.done;a=o.next()){var s=a.value;"Once"!=s.options.frequency&&i.push(s),s.callback(e,t)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,i)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var n,i;if(this.interceptors.postResolution.has(e)){var o=[];try{for(var a=l(this.interceptors.postResolution.getAll(e)),s=a.next();!s.done;s=a.next()){var c=s.value;"Once"!=c.options.frequency&&o.push(c),c.callback(e,t,r)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(e,o)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r,n=e.options.lifecycle===o.Singleton,i=e.options.lifecycle===o.ContainerScoped,a=n||i;return r=S(e.provider)?e.provider.useValue:w(e.provider)?a?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):h(e.provider)?a?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):y(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.set(e,r),r},e.prototype.resolveAll=function(e,t){var r=this;void 0===t&&(t=new R),this.ensureNotDisposed();var n=this.getAllRegistrations(e);if(!n&&m(e))throw Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),n){var i=n.map(function(e){return r.resolveRegistration(e,t)});return this.executePostResolutionInterceptor(e,i,"All"),i}var o=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,o,"All"),o},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=l(this._registry.entries()),n=r.next();!n.done;n=r.next()){var i=c(n.value,2),o=i[0],a=i[1];this._registry.setAll(o,a.filter(function(e){return!S(e.provider)}).map(function(e){return e.instance=void 0,e}))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){this.ensureNotDisposed();var t,r,n=new e(this);try{for(var i=l(this._registry.entries()),a=i.next();!a.done;a=i.next()){var s=c(a.value,2),u=s[0],d=s[1];d.some(function(e){return e.options.lifecycle===o.ContainerScoped})&&n._registry.setAll(u,d.map(function(e){return e.options.lifecycle===o.ContainerScoped?{provider:e.provider,options:e.options}:e}))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.dispose=function(){var e,t,r,n;return e=this,t=void 0,r=void 0,n=function(){var e;return function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(t){var r=t.dispose();r&&e.push(r)}),[4,Promise.all(e)];case 1:return t.sent(),[2]}})},new(r||(r=Promise))(function(i,o){function a(e){try{l(n.next(e))}catch(e){o(e)}}function s(e){try{l(n.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(a,s)}l((n=n.apply(e,t||[])).next())})},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof g)return e.createProxy(function(e){return r.resolve(e,t)});var n=function(){var n=A.get(e);if(!n||0===n.length){if(0===e.length)return new e;throw Error('TypeInfo not known for "'+e.name+'"')}var i=n.map(r.resolveParams(t,e));return new(e.bind.apply(e,u([void 0],i)))}();return"function"!=typeof n.dispose||n.dispose.length>0||this.disposables.add(n),n},e.prototype.resolveParams=function(e,t){var r=this;return function(n,i){var o,a,s;try{if(b(n)){if(_(n))return n.multiple?(o=r.resolve(n.transform)).transform.apply(o,u([r.resolveAll(n.token)],n.transformArgs)):(a=r.resolve(n.transform)).transform.apply(a,u([r.resolve(n.token,e)],n.transformArgs));return n.multiple?r.resolveAll(n.token):r.resolve(n.token,e)}if(_(n))return(s=r.resolve(n.transform,e)).transform.apply(s,u([r.resolve(n.token,e)],n.transformArgs));return r.resolve(n,e)}catch(e){throw Error(P(t,i,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw Error("This container has been disposed, you cannot interact with a disposed container")},e}()),j=function(){return function(e){var t=f(e);return function(r){function n(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return r.apply(this,u(n.concat(t.slice(n.length).map(function(t,r){var i,o,a;try{if(b(t)){if(_(t))return t.multiple?(i=C.resolve(t.transform)).transform.apply(i,u([C.resolveAll(t.token)],t.transformArgs)):(o=C.resolve(t.transform)).transform.apply(o,u([C.resolve(t.token)],t.transformArgs));return t.multiple?C.resolveAll(t.token):C.resolve(t.token)}if(_(t))return(a=C.resolve(t.transform)).transform.apply(a,u([C.resolve(t.token)],t.transformArgs));return C.resolve(t)}catch(t){throw Error(P(e,r+n.length,t))}}))))||this}return s(n,r),n}(e)}},T=function(e){return p(e)},$=function(){return function(e){A.set(e,f(e))}},D=function(e){return void 0===e&&(e=[]),function(t){return e.forEach(function(e){var t=e.token,r=e.options,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)0>t.indexOf(n[i])&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}(e,["token","options"]);return C.register(t,n,r)}),t}},N=function(){return function(e){$()(e),C.registerSingleton(e)}},k=function(e){return p({token:e,multiple:!0})},B=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return p({token:e,multiple:!0,transform:t,transformArgs:r})},F=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return p(e,{transformToken:t,args:r})};function L(e,t){return function(r){$()(r),C.register(t||r,r,{lifecycle:e})}}function U(e){var t;return function(r){return void 0==t&&(t=e(r)),t}}function V(e){var t=new WeakMap;return function(r){var n=t.get(r);return void 0==n&&(n=e(r),t.set(r,n)),n}}function K(e,t,r,n){var i,o;return void 0===n&&(n=!0),function(a){var s=e(a);return n&&o===s||(i=(o=s)?a.resolve(t):a.resolve(r)),i}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")},74916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return l.default}});var n=f(r(61481)),i=f(r(77683)),o=f(r(27841)),a=f(r(88627)),s=f(r(36662)),l=f(r(2551)),c=f(r(26804)),u=f(r(99021)),d=f(r(82367));function f(e){return e&&e.__esModule?e:{default:e}}},73750:function(e,t){"use strict";function r(e){return(e+64>>>9<<4)+14+1}function n(e,t){let r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,a){var s;return n((s=n(n(t,e),n(i,a)))<<o|s>>>32-o,r)}function o(e,t,r,n,o,a,s){return i(t&r|~t&n,e,t,o,a,s)}function a(e,t,r,n,o,a,s){return i(t&n|r&~n,e,t,o,a,s)}function s(e,t,r,n,o,a,s){return i(t^r^n,e,t,o,a,s)}function l(e,t,r,n,o,a,s){return i(r^(t|~n),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){let t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){let r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,c=-271733879,u=-1732584194,d=271733878;for(let t=0;t<e.length;t+=16){let r=i,f=c,p=u,h=d;i=o(i,c,u,d,e[t],7,-680876936),d=o(d,i,c,u,e[t+1],12,-389564586),u=o(u,d,i,c,e[t+2],17,606105819),c=o(c,u,d,i,e[t+3],22,-1044525330),i=o(i,c,u,d,e[t+4],7,-176418897),d=o(d,i,c,u,e[t+5],12,1200080426),u=o(u,d,i,c,e[t+6],17,-1473231341),c=o(c,u,d,i,e[t+7],22,-45705983),i=o(i,c,u,d,e[t+8],7,1770035416),d=o(d,i,c,u,e[t+9],12,-1958414417),u=o(u,d,i,c,e[t+10],17,-42063),c=o(c,u,d,i,e[t+11],22,-1990404162),i=o(i,c,u,d,e[t+12],7,1804603682),d=o(d,i,c,u,e[t+13],12,-40341101),u=o(u,d,i,c,e[t+14],17,-1502002290),c=o(c,u,d,i,e[t+15],22,1236535329),i=a(i,c,u,d,e[t+1],5,-165796510),d=a(d,i,c,u,e[t+6],9,-1069501632),u=a(u,d,i,c,e[t+11],14,643717713),c=a(c,u,d,i,e[t],20,-373897302),i=a(i,c,u,d,e[t+5],5,-701558691),d=a(d,i,c,u,e[t+10],9,38016083),u=a(u,d,i,c,e[t+15],14,-660478335),c=a(c,u,d,i,e[t+4],20,-405537848),i=a(i,c,u,d,e[t+9],5,568446438),d=a(d,i,c,u,e[t+14],9,-1019803690),u=a(u,d,i,c,e[t+3],14,-187363961),c=a(c,u,d,i,e[t+8],20,1163531501),i=a(i,c,u,d,e[t+13],5,-1444681467),d=a(d,i,c,u,e[t+2],9,-51403784),u=a(u,d,i,c,e[t+7],14,1735328473),c=a(c,u,d,i,e[t+12],20,-1926607734),i=s(i,c,u,d,e[t+5],4,-378558),d=s(d,i,c,u,e[t+8],11,-2022574463),u=s(u,d,i,c,e[t+11],16,1839030562),c=s(c,u,d,i,e[t+14],23,-35309556),i=s(i,c,u,d,e[t+1],4,-1530992060),d=s(d,i,c,u,e[t+4],11,1272893353),u=s(u,d,i,c,e[t+7],16,-155497632),c=s(c,u,d,i,e[t+10],23,-1094730640),i=s(i,c,u,d,e[t+13],4,681279174),d=s(d,i,c,u,e[t],11,-358537222),u=s(u,d,i,c,e[t+3],16,-722521979),c=s(c,u,d,i,e[t+6],23,76029189),i=s(i,c,u,d,e[t+9],4,-640364487),d=s(d,i,c,u,e[t+12],11,-421815835),u=s(u,d,i,c,e[t+15],16,530742520),c=s(c,u,d,i,e[t+2],23,-995338651),i=l(i,c,u,d,e[t],6,-198630844),d=l(d,i,c,u,e[t+7],10,1126891415),u=l(u,d,i,c,e[t+14],15,-1416354905),c=l(c,u,d,i,e[t+5],21,-57434055),i=l(i,c,u,d,e[t+12],6,1700485571),d=l(d,i,c,u,e[t+3],10,-1894986606),u=l(u,d,i,c,e[t+10],15,-1051523),c=l(c,u,d,i,e[t+1],21,-2054922799),i=l(i,c,u,d,e[t+8],6,1873313359),d=l(d,i,c,u,e[t+15],10,-30611744),u=l(u,d,i,c,e[t+6],15,-1560198380),c=l(c,u,d,i,e[t+13],21,1309151649),i=l(i,c,u,d,e[t+4],6,-145523070),d=l(d,i,c,u,e[t+11],10,-1120210379),u=l(u,d,i,c,e[t+2],15,718787259),c=l(c,u,d,i,e[t+9],21,-343485551),i=n(i,r),c=n(c,f),u=n(u,p),d=n(d,h)}return[i,c,u,d]}(function(e){if(0===e.length)return[];let t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},48169:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},36662:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},82367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(26804))&&n.__esModule?n:{default:n};t.default=function(e){let t;if(!(0,i.default)(e))throw TypeError("Invalid UUID");let r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},54486:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},39563:function(e,t){"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};let n=new Uint8Array(16)},85926:function(e,t){"use strict";function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e){let t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){let t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);let i=e.length/4+2,o=Math.ceil(i/16),a=Array(o);for(let t=0;t<o;++t){let r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];a[t]=r}a[o-1][14]=(e.length-1)*8/4294967296,a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(let e=0;e<o;++e){let i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=a[e][t];for(let e=16;e<80;++e)i[e]=r(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let o=n[0],s=n[1],l=n[2],c=n[3],u=n[4];for(let e=0;e<80;++e){let n=Math.floor(e/20),a=r(o,5)+function(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}(n,s,l,c)+u+t[n]+i[e]>>>0;u=c,c=l,l=r(s,30)>>>0,s=o,o=a}n[0]=n[0]+o>>>0,n[1]=n[1]+s>>>0,n[2]=n[2]+l>>>0,n[3]=n[3]+c>>>0,n[4]=n[4]+u>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}},99021:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,i=(n=r(26804))&&n.__esModule?n:{default:n};let o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function a(e,t=0){return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}t.default=function(e,t=0){let r=a(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r}},61481:function(e,t,r){"use strict";let n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=r(39563))&&o.__esModule?o:{default:o},s=r(99021);let l=0,c=0;t.default=function(e,t,r){let o=t&&r||0,u=t||Array(16),d=(e=e||{}).node||n,f=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==f){let t=e.random||(e.rng||a.default)();null==d&&(d=n=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=i=(t[6]<<8|t[7])&16383)}let p=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1,y=p-l+(h-c)/1e4;if(y<0&&void 0===e.clockseq&&(f=f+1&16383),(y<0||p>l)&&void 0===e.nsecs&&(h=0),h>=1e4)throw Error("uuid.v1(): Can't create more than 10M uuids/sec");l=p,c=h,i=f,p+=122192928e5;let g=((268435455&p)*1e4+h)%4294967296;u[o++]=g>>>24&255,u[o++]=g>>>16&255,u[o++]=g>>>8&255,u[o++]=255&g;let v=p/4294967296*1e4&268435455;u[o++]=v>>>8&255,u[o++]=255&v,u[o++]=v>>>24&15|16,u[o++]=v>>>16&255,u[o++]=f>>>8|128,u[o++]=255&f;for(let e=0;e<6;++e)u[o+e]=d[e];return t||(0,s.unsafeStringify)(u)}},77683:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(31209)),i=o(r(73750));function o(e){return e&&e.__esModule?e:{default:e}}let a=(0,n.default)("v3",48,i.default);t.default=a},31209:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,o.default)(n)),(null===(l=n)||void 0===l?void 0:l.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(n),c.set(e,n.length),(c=r(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=c[e];return a}return(0,i.unsafeStringify)(c)}try{n.name=e}catch(e){}return n.DNS=a,n.URL=URL,n};var n,i=r(99021),o=(n=r(82367))&&n.__esModule?n:{default:n};let a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;let URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=URL},27841:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(48169)),i=a(r(39563)),o=r(99021);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();e=e||{};let a=e.random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,o.unsafeStringify)(a)}},88627:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(31209)),i=o(r(85926));function o(e){return e&&e.__esModule?e:{default:e}}let a=(0,n.default)("v5",80,i.default);t.default=a},26804:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(54486))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},2551:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(26804))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},4589:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=ez(r(56606)),o=ez(r(84218)),a=ez(r(80970)),s=ez(r(95005)),l=ez(r(95952)),c=ez(r(3134)),u=ez(r(38937)),d=ez(r(20038)),f=ez(r(38059)),p=ez(r(78912)),h=ez(r(14216)),y=ez(r(25993)),g=ez(r(22273)),v=ez(r(98764)),m=ez(r(3039)),b=ez(r(63692)),_=ez(r(23629)),w=eG(r(89705)),S=eG(r(19)),O=ez(r(78749)),M=ez(r(36712)),R=ez(r(9419)),P=ez(r(92880)),E=ez(r(49605)),I=ez(r(50090)),x=ez(r(98793)),A=ez(r(16384)),C=ez(r(34241)),j=ez(r(91457)),T=ez(r(72651)),$=ez(r(58143)),D=ez(r(62942)),N=ez(r(54974)),k=eG(r(7639)),B=ez(r(6875)),F=ez(r(8717)),L=ez(r(93456)),U=ez(r(67700)),V=ez(r(20309)),K=ez(r(72246)),W=ez(r(90076)),J=ez(r(5316)),H=eG(r(2834)),q=ez(r(60465)),Z=ez(r(12856)),G=ez(r(54475)),z=ez(r(39351)),Y=ez(r(19775)),X=ez(r(27860)),Q=ez(r(28080)),ee=ez(r(83942)),et=ez(r(33e3)),er=ez(r(14398)),en=ez(r(72655)),ei=ez(r(64298)),eo=ez(r(98785)),ea=ez(r(14586)),es=ez(r(83267)),el=ez(r(19267)),ec=ez(r(87819)),eu=ez(r(46123)),ed=ez(r(80823)),ef=ez(r(61264)),ep=ez(r(54111)),eh=eG(r(32546)),ey=ez(r(94024)),eg=ez(r(32426)),ev=ez(r(8916)),em=r(71605),eb=ez(r(65786)),e_=ez(r(37581)),ew=ez(r(21710)),eS=ez(r(97856)),eO=ez(r(58903)),eM=ez(r(64744)),eR=ez(r(25021)),eP=ez(r(47415)),eE=ez(r(59367)),eI=ez(r(10439)),ex=ez(r(64364)),eA=ez(r(52527)),eC=ez(r(59600)),ej=ez(r(92816)),eT=eG(r(63393)),e$=ez(r(6389)),eD=ez(r(33014)),eN=ez(r(79041)),ek=ez(r(6292)),eB=ez(r(75621)),eF=ez(r(98120)),eL=ez(r(51057)),eU=ez(r(73887)),eV=ez(r(73050)),eK=ez(r(67072)),eW=ez(r(68435)),eJ=ez(r(96391)),eH=ez(r(77200)),eq=ez(r(7879));function eZ(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return eZ=function(){return e},e}function eG(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=eZ();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}function ez(e){return e&&e.__esModule?e:{default:e}}var eY={version:"13.11.0",toDate:i.default,toFloat:o.default,toInt:a.default,toBoolean:s.default,equals:l.default,contains:c.default,matches:u.default,isEmail:d.default,isURL:f.default,isMACAddress:p.default,isIP:h.default,isIPRange:y.default,isFQDN:g.default,isBoolean:b.default,isIBAN:H.default,isBIC:q.default,isAlpha:w.default,isAlphaLocales:w.locales,isAlphanumeric:S.default,isAlphanumericLocales:S.locales,isNumeric:O.default,isPassportNumber:M.default,isPort:R.default,isLowercase:P.default,isUppercase:E.default,isAscii:x.default,isFullWidth:A.default,isHalfWidth:C.default,isVariableWidth:j.default,isMultibyte:T.default,isSemVer:$.default,isSurrogatePair:D.default,isInt:N.default,isIMEI:I.default,isFloat:k.default,isFloatLocales:k.locales,isDecimal:B.default,isHexadecimal:F.default,isOctal:L.default,isDivisibleBy:U.default,isHexColor:V.default,isRgbColor:K.default,isHSL:W.default,isISRC:J.default,isMD5:Z.default,isHash:G.default,isJWT:z.default,isJSON:Y.default,isEmpty:X.default,isLength:Q.default,isLocale:_.default,isByteLength:ee.default,isUUID:et.default,isMongoId:er.default,isAfter:en.default,isBefore:ei.default,isIn:eo.default,isLuhnNumber:ea.default,isCreditCard:es.default,isIdentityCard:el.default,isEAN:ec.default,isISIN:eu.default,isISBN:ed.default,isISSN:ef.default,isMobilePhone:eh.default,isMobilePhoneLocales:eh.locales,isPostalCode:eT.default,isPostalCodeLocales:eT.locales,isEthereumAddress:ey.default,isCurrency:eg.default,isBtcAddress:ev.default,isISO6346:em.isISO6346,isFreightContainerID:em.isFreightContainerID,isISO6391:eb.default,isISO8601:e_.default,isRFC3339:ew.default,isISO31661Alpha2:eS.default,isISO31661Alpha3:eO.default,isISO4217:eM.default,isBase32:eR.default,isBase58:eP.default,isBase64:eE.default,isDataURI:eI.default,isMagnetURI:ex.default,isMailtoURI:eA.default,isMimeType:eC.default,isLatLong:ej.default,ltrim:e$.default,rtrim:eD.default,trim:eN.default,escape:ek.default,unescape:eB.default,stripLow:eF.default,whitelist:eL.default,blacklist:eU.default,isWhitelisted:eV.default,normalizeEmail:eK.default,toString:toString,isSlug:eW.default,isStrongPassword:eH.default,isTaxID:ep.default,isDate:v.default,isTime:m.default,isLicensePlate:eJ.default,isVAT:eq.default,ibanLocales:H.locales};t.default=eY,e.exports=t.default,e.exports.default=t.default},84740:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.bengaliLocales=t.farsiLocales=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var r={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[А-Я]+$/i,"cs-CZ":/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[A-ZÆØÅ]+$/i,"de-DE":/^[A-ZÄÖÜß]+$/i,"el-GR":/^[Α-ώ]+$/i,"es-ES":/^[A-ZÁÉÍÑÓÚÜ]+$/i,"fa-IR":/^[ابپتثجچحخدذرزژسشصضطظعغفقکگلمنوهی]+$/i,"fi-FI":/^[A-ZÅÄÖ]+$/i,"fr-FR":/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"nb-NO":/^[A-ZÆØÅ]+$/i,"nl-NL":/^[A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[A-ZÆØÅ]+$/i,"hu-HU":/^[A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"pl-PL":/^[A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[А-ЯЁ]+$/i,"kk-KZ":/^[А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๐\s]+$/i,"tr-TR":/^[A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[А-ЩЬЮЯЄIЇҐі]+$/i,"vi-VN":/^[A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,"ko-KR":/^[ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[א-ת]+$/,fa:/^['آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i,"si-LK":/^[\u0D80-\u0DFF]+$/};t.alpha=r;var n={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZÇƏĞİıÖŞÜ]+$/i,"bg-BG":/^[0-9А-Я]+$/i,"cs-CZ":/^[0-9A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ]+$/i,"da-DK":/^[0-9A-ZÆØÅ]+$/i,"de-DE":/^[0-9A-ZÄÖÜß]+$/i,"el-GR":/^[0-9Α-ω]+$/i,"es-ES":/^[0-9A-ZÁÉÍÑÓÚÜ]+$/i,"fi-FI":/^[0-9A-ZÅÄÖ]+$/i,"fr-FR":/^[0-9A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ]+$/i,"it-IT":/^[0-9A-ZÀÉÈÌÎÓÒÙ]+$/i,"ja-JP":/^[0-9０-９ぁ-んァ-ヶｦ-ﾟ一-龠ー・。、]+$/i,"hu-HU":/^[0-9A-ZÁÉÍÓÖŐÚÜŰ]+$/i,"nb-NO":/^[0-9A-ZÆØÅ]+$/i,"nl-NL":/^[0-9A-ZÁÉËÏÓÖÜÚ]+$/i,"nn-NO":/^[0-9A-ZÆØÅ]+$/i,"pl-PL":/^[0-9A-ZĄĆĘŚŁŃÓŻŹ]+$/i,"pt-PT":/^[0-9A-ZÃÁÀÂÄÇÉÊËÍÏÕÓÔÖÚÜ]+$/i,"ru-RU":/^[0-9А-ЯЁ]+$/i,"kk-KZ":/^[0-9А-ЯЁ\u04D8\u04B0\u0406\u04A2\u0492\u04AE\u049A\u04E8\u04BA]+$/i,"sl-SI":/^[0-9A-ZČĆĐŠŽ]+$/i,"sk-SK":/^[0-9A-ZÁČĎÉÍŇÓŠŤÚÝŽĹŔĽÄÔ]+$/i,"sr-RS@latin":/^[0-9A-ZČĆŽŠĐ]+$/i,"sr-RS":/^[0-9А-ЯЂЈЉЊЋЏ]+$/i,"sv-SE":/^[0-9A-ZÅÄÖ]+$/i,"th-TH":/^[ก-๙\s]+$/i,"tr-TR":/^[0-9A-ZÇĞİıÖŞÜ]+$/i,"uk-UA":/^[0-9А-ЩЬЮЯЄIЇҐі]+$/i,"ko-KR":/^[0-9ㄱ-ㅎㅏ-ㅣ가-힣]*$/,"ku-IQ":/^[٠١٢٣٤٥٦٧٨٩0-9ئابپتجچحخدرڕزژسشعغفڤقکگلڵمنوۆھەیێيطؤثآإأكضصةظذ]+$/i,"vi-VN":/^[0-9A-ZÀÁẠẢÃÂẦẤẬẨẪĂẰẮẶẲẴĐÈÉẸẺẼÊỀẾỆỂỄÌÍỊỈĨÒÓỌỎÕÔỒỐỘỔỖƠỜỚỢỞỠÙÚỤỦŨƯỪỨỰỬỮỲÝỴỶỸ]+$/i,ar:/^[٠١٢٣٤٥٦٧٨٩0-9ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ]+$/,he:/^[0-9א-ת]+$/,fa:/^['0-9آاءأؤئبپتثجچحخدذرزژسشصضطظعغفقکگلمنوهةی۱۲۳۴۵۶۷۸۹۰']+$/i,bn:/^['ঀঁংঃঅআইঈউঊঋঌএঐওঔকখগঘঙচছজঝঞটঠডঢণতথদধনপফবভমযরলশষসহ়ঽািীুূৃৄেৈোৌ্ৎৗড়ঢ়য়ৠৡৢৣ০১২৩৪৫৬৭৮৯ৰৱ৲৳৴৵৶৷৸৹৺৻']+$/,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i,"si-LK":/^[0-9\u0D80-\u0DFF]+$/};t.alphanumeric=n;var i={"en-US":".",ar:"٫"};t.decimal=i;var o=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=o;for(var a,s=0;s<o.length;s++)r[a="en-".concat(o[s])]=r["en-US"],n[a]=n["en-US"],i[a]=i["en-US"];var l=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=l;for(var c,u=0;u<l.length;u++)r[c="ar-".concat(l[u])]=r.ar,n[c]=n.ar,i[c]=i.ar;var d=["IR","AF"];t.farsiLocales=d;for(var f,p=0;p<d.length;p++)n[f="fa-".concat(d[p])]=n.fa,i[f]=i.ar;var h=["BD","IN"];t.bengaliLocales=h;for(var y,g=0;g<h.length;g++)r[y="bn-".concat(h[g])]=r.bn,n[y]=n.bn,i[y]=i["en-US"];var v=["ar-EG","ar-LB","ar-LY"];t.dotDecimal=v;var m=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","kk-KZ","si-LK","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];t.commaDecimal=m;for(var b=0;b<v.length;b++)i[v[b]]=i["en-US"];for(var _=0;_<m.length;_++)i[m[_]]=",";r["fr-CA"]=r["fr-FR"],n["fr-CA"]=n["fr-FR"],r["pt-BR"]=r["pt-PT"],n["pt-BR"]=n["pt-PT"],i["pt-BR"]=i["pt-PT"],r["pl-Pl"]=r["pl-PL"],n["pl-Pl"]=n["pl-PL"],i["pl-Pl"]=i["pl-PL"],r["fa-AF"]=r.fa},73887:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(RegExp("[".concat(t,"]+"),"g"),"")};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},3134:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return((0,n.default)(e),(r=(0,o.default)(r,s)).ignoreCase)?e.toLowerCase().split((0,i.default)(t).toLowerCase()).length>r.minOccurrences:e.split((0,i.default)(t)).length>r.minOccurrences};var n=a(r(21956)),i=a(r(30862)),o=a(r(22104));function a(e){return e&&e.__esModule?e:{default:e}}var s={ignoreCase:!1,minOccurrences:1};e.exports=t.default,e.exports.default=t.default},95952:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e===t};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},6292:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},72655:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(null==t?void 0:t.comparisonDate)||t||Date().toString(),n=(0,i.default)(r),o=(0,i.default)(e);return!!(o&&n&&o>n)};var n,i=(n=r(56606))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},89705:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var n=e,a=r.ignore;if(a){if(a instanceof RegExp)n=n.replace(a,"");else if("string"==typeof a)n=n.replace(RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp")}if(t in o.alpha)return o.alpha[t].test(n);throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(84740),a=Object.keys(o.alpha);t.locales=a},19:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var n=e,a=r.ignore;if(a){if(a instanceof RegExp)n=n.replace(a,"");else if("string"==typeof a)n=n.replace(RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"");else throw Error("ignore should be instance of a String or RegExp")}if(t in o.alphanumeric)return o.alphanumeric[t].test(n);throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(84740),a=Object.keys(o.alphanumeric);t.locales=a},98793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},60465:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.slice(4,6).toUpperCase();return(!!o.CountryCodes.has(t)||"XK"===t)&&a.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(97856),a=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;e.exports=t.default,e.exports.default=t.default},25021:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,n.default)(e),(t=(0,i.default)(t,l)).crockford)?s.test(e):!!(e.length%8==0&&a.test(e))};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z2-7]+=*$/,s=/^[A-HJKMNP-TV-Z0-9]+$/,l={crockford:!1};e.exports=t.default,e.exports.default=t.default},47415:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),!!o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[A-HJ-NP-Za-km-z1-9]*$/;e.exports=t.default,e.exports.default=t.default},59367:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),t=(0,i.default)(t,l);var r=e.length;if(t.urlSafe)return s.test(e);if(r%4!=0||a.test(e))return!1;var o=e.indexOf("=");return -1===o||o===r-1||o===r-2&&"="===e[r-1]};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}var a=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,l={urlSafe:!1};e.exports=t.default,e.exports.default=t.default},64298:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,n.default)(e);var r=(0,i.default)(t),o=(0,i.default)(e);return!!(o&&r&&o<r)};var n=o(r(21956)),i=o(r(56606));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},63692:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;return((0,i.default)(e),t.loose)?s.includes(e.toLowerCase()):a.includes(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={loose:!1},a=["true","false","1","0"],s=[].concat(a,["yes","no"]);e.exports=t.default,e.exports.default=t.default},8916:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)||a.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(bc1)[a-z0-9]{25,39}$/,a=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;e.exports=t.default,e.exports.default=t.default},83942:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),"object"===o(t)?(r=t.min||0,n=t.max):(r=arguments[1],n=arguments[2]);var r,n,a=encodeURI(e).split(/%..|./).length-1;return a>=r&&(void 0===n||a<=n)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},83267:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(e);var r=t.provider,o=e.replace(/[- ]+/g,"");if(r&&r.toLowerCase() in a){if(!a[r.toLowerCase()].test(o))return!1}else if(!r||r.toLowerCase() in a){if(!s.some(function(e){return e.test(o)}))return!1}else throw Error("".concat(r," is not a valid credit card provider."));return(0,i.default)(e)};var n=o(r(21956)),i=o(r(14586));function o(e){return e&&e.__esModule?e:{default:e}}var a={amex:/^3[47][0-9]{13}$/,dinersclub:/^3(?:0[0-5]|[68][0-9])[0-9]{11}$/,discover:/^6(?:011|5[0-9][0-9])[0-9]{12,15}$/,jcb:/^(?:2131|1800|35\d{3})\d{11}$/,mastercard:/^5[1-5][0-9]{2}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$/,unionpay:/^(6[27][0-9]{14}|^(81[0-9]{14,17}))$/,visa:/^(?:4[0-9]{12})(?:[0-9]{3,6})?$/},s=function(){var e=[];for(var t in a)a.hasOwnProperty(t)&&e.push(a[t]);return e}();e.exports=t.default,e.exports.default=t.default},32426:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),(function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach(function(e,r){0!==r&&(t="".concat(t,"|\\d{").concat(e,"}"))});var r="(".concat(e.symbol.replace(/\W/,function(e){return"\\".concat(e)}),")").concat(e.require_symbol?"":"?"),n="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),i="(".concat(["0","[1-9]\\d*",n].join("|"),")?"),o="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),a=i+(e.allow_decimal||e.require_decimal?o:"");return e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?a+="-?":e.negative_sign_before_digits&&(a="-?"+a)),e.allow_negative_sign_placeholder?a="( (?!\\-))?".concat(a):e.allow_space_after_symbol?a=" ?".concat(a):e.allow_space_after_digits&&(a+="( (?!$))?"),e.symbol_after_digits?a+=r:a=r+a,e.allow_negatives&&(e.parens_for_negatives?a="(\\(".concat(a,"\\)|").concat(a,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(a="-?"+a)),new RegExp("^(?!-? )(?=.*\\d)".concat(a,"$"))})(t=(0,n.default)(t,a)).test(e)};var n=o(r(22104)),i=o(r(21956));function o(e){return e&&e.__esModule?e:{default:e}}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},10439:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split(",");if(t.length<2)return!1;var r=t.shift().trim().split(";"),n=r.shift();if("data:"!==n.slice(0,5))return!1;var l=n.slice(5);if(""!==l&&!o.test(l))return!1;for(var c=0;c<r.length;c++)if(!(c===r.length-1&&"base64"===r[c].toLowerCase())&&!a.test(r[c]))return!1;for(var u=0;u<t.length;u++)if(!s.test(t[u]))return!1;return!0};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[a-z]+\/[a-z0-9\-\+\._]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},98764:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t="string"==typeof t?(0,i.default)({format:t},s):(0,i.default)(t,s),"string"==typeof e&&(r=t.format,/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(r))){var r,n,a=t.delimiters.find(function(e){return -1!==t.format.indexOf(e)}),l=t.strictMode?a:t.delimiters.find(function(t){return -1!==e.indexOf(t)}),c=function(e,t){for(var r=[],n=Math.min(e.length,t.length),i=0;i<n;i++)r.push([e[i],t[i]]);return r}(e.split(l),t.format.toLowerCase().split(a)),u={},d=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=o(e))){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a,s=!0,l=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==i.return||i.return()}finally{if(l)throw a}}}}(c);try{for(d.s();!(n=d.n()).done;){var f,p=(f=n.value,function(e){if(Array.isArray(e))return e}(f)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(f,2)||o(f,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),h=p[0],y=p[1];if(h.length!==y.length)return!1;u[y.charAt(0)]=h}}catch(e){d.e(e)}finally{d.f()}var g=u.y;if(2===u.y.length){var v=parseInt(u.y,10);if(isNaN(v))return!1;g=v<new Date().getFullYear()%100?"20".concat(u.y):"19".concat(u.y)}return new Date("".concat(g,"-").concat(u.m,"-").concat(u.d)).getDate()===+u.d}return!t.strictMode&&"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e)};var n,i=(n=r(22104))&&n.__esModule?n:{default:n};function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};e.exports=t.default,e.exports.default=t.default},6875:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,n.default)(t,l)).locale in a.decimal){var r;return!(0,o.default)(c,e.replace(/ /g,""))&&(r=t,new RegExp("^[-+]?([0-9]+)?(\\".concat(a.decimal[r.locale],"[0-9]{").concat(r.decimal_digits,"})").concat(r.force_decimal?"":"?","$"))).test(e)}throw Error("Invalid locale '".concat(t.locale,"'"))};var n=s(r(22104)),i=s(r(21956)),o=s(r(41788)),a=r(84740);function s(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];e.exports=t.default,e.exports.default=t.default},67700:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,i.default)(e)%parseInt(t,10)==0};var n=o(r(21956)),i=o(r(84218));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},87819:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t,r=Number(e.slice(-1));return o.test(e)&&r===((t=10-e.slice(0,-1).split("").map(function(t,r){var n;return Number(t)*(8===(n=e.length)||14===n?r%2==0?3:1:r%2==0?1:3)}).reduce(function(e,t){return e+t},0)%10)<10?t:0)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(\d{8}|\d{13}|\d{14})$/;e.exports=t.default,e.exports.default=t.default},20038:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),(t=(0,s.default)(t,c)).require_display_name||t.allow_display_name){var r=e.match(u);if(r){var l,g,v=r[1];if(e=e.replace(v,"").replace(/(^<|>$)/g,""),v.endsWith(" ")&&(v=v.slice(0,-1)),!(g=(l=v).replace(/^"(.+)"$/,"$1")).trim()||/[\.";<>]/.test(g)&&(g===l||g.split('"').length!==g.split('\\"').length))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var m=e.split("@"),b=m.pop(),_=b.toLowerCase();if(t.host_blacklist.includes(_)||t.host_whitelist.length>0&&!t.host_whitelist.includes(_))return!1;var w=m.join("@");if(t.domain_specific_validation&&("gmail.com"===_||"googlemail.com"===_)){var S=(w=w.toLowerCase()).split("+")[0];if(!(0,i.default)(S.replace(/\./g,""),{min:6,max:30}))return!1;for(var O=S.split("."),M=0;M<O.length;M++)if(!f.test(O[M]))return!1}if(!1===t.ignore_max_length&&(!(0,i.default)(w,{max:64})||!(0,i.default)(b,{max:254})))return!1;if(!(0,o.default)(b,{require_tld:t.require_tld,ignore_max_length:t.ignore_max_length,allow_underscores:t.allow_underscores})){if(!t.allow_ip_domain)return!1;if(!(0,a.default)(b)){if(!b.startsWith("[")||!b.endsWith("]"))return!1;var R=b.slice(1,-1);if(0===R.length||!(0,a.default)(R))return!1}}if('"'===w[0])return w=w.slice(1,w.length-1),t.allow_utf8_local_part?y.test(w):p.test(w);for(var P=t.allow_utf8_local_part?h:d,E=w.split("."),I=0;I<E.length;I++)if(!P.test(E[I]))return!1;return!t.blacklisted_chars||-1===w.search(RegExp("[".concat(t.blacklisted_chars,"]+"),"g"))};var n=l(r(21956)),i=l(r(83942)),o=l(r(22273)),a=l(r(14216)),s=l(r(22104));function l(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,allow_underscores:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[],host_whitelist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,f=/^[a-z\d]+$/,p=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A1-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,y=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},27860:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),((t=(0,i.default)(t,a)).ignore_whitespace?e.trim().length:e.length)===0};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}var a={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},94024:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(0x)[0-9a-f]{40}$/i;e.exports=t.default,e.exports.default=t.default},22273:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,i.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),o=r[r.length-1];return!(t.require_tld&&(r.length<2||!t.allow_numeric_tld&&!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o)||/\s/.test(o))||!t.allow_numeric_tld&&/^\d+$/.test(o))&&r.every(function(e){return!(e.length>63&&!t.ignore_max_length||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))})};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1,ignore_max_length:!1};e.exports=t.default,e.exports.default=t.default},7639:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),t=t||{};var r=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?o.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||","===e||"-"===e||"+"===e)return!1;var n=parseFloat(e.replace(",","."));return r.test(e)&&(!t.hasOwnProperty("min")||n>=t.min)&&(!t.hasOwnProperty("max")||n<=t.max)&&(!t.hasOwnProperty("lt")||n<t.lt)&&(!t.hasOwnProperty("gt")||n>t.gt)},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(84740),a=Object.keys(o.decimal);t.locales=a},16384:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.fullWidth=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=o},90076:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/ig,"$1");return -1!==t.indexOf(",")?o.test(t):a.test(t)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,a=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;e.exports=t.default,e.exports.default=t.default},34241:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.halfWidth=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=o},54475:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),new RegExp("^[a-fA-F0-9]{".concat(o[t],"}$")).test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},20309:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;e.exports=t.default,e.exports.default=t.default},8717:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(0x|0h)?[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},2834:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.default)(e),n=(r=(t=e.replace(/[\s\-]+/gi,"").toUpperCase()).slice(0,2).toUpperCase())in o,(!s.whitelist||!(s.whitelist.filter(function(e){return!(e in o)}).length>0)&&!!s.whitelist.includes(r))&&!(s.blacklist&&s.blacklist.includes(r))&&n&&o[r].test(t)&&1===((a=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase()).slice(4)+a.slice(0,4)).replace(/[A-Z]/g,function(e){return e.charCodeAt(0)-55}).match(/\d{1,7}/g).reduce(function(e,t){return Number(e+t)%97},"")},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MA:/^(MA[0-9]{26})$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/},a=Object.keys(o);t.locales=a},50090:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=o;if((t=t||{}).allow_hyphens&&(r=a),!r.test(e))return!1;e=e.replace(/-/g,"");for(var n=0,s=2,l=0;l<14;l++){var c=parseInt(e.substring(14-l-1,14-l),10)*s;c>=10?n+=c%10+1:n+=c,1===s?s+=1:s-=1}return(10-n%10)%10===parseInt(e.substring(14,15),10)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[0-9]{15}$/,a=/^\d{2}-\d{6}-\d{6}-\d{1}$/;e.exports=t.default,e.exports.default=t.default},14216:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return((0,i.default)(t),r=String(r))?"4"===r?s.test(t):"6"===r&&c.test(t):e(t,4)||e(t,6)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(o,"[.]){3}").concat(o),s=new RegExp("^".concat(a,"$")),l="(?:[0-9a-fA-F]{1,4})",c=RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(a,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(a,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(a,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(a,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(a,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(a,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(a,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},25993:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,n.default)(e);var r=e.split("/");if(2!==r.length||!a.test(r[1])||r[1].length>1&&r[1].startsWith("0")||!(0,i.default)(r[0],t))return!1;var o=null;switch(String(t)){case"4":o=32;break;case"6":o=128;break;default:o=(0,i.default)(r[0],"6")?128:32}return r[1]<=o&&r[1]>=0};var n=o(r(21956)),i=o(r(14216));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\d{1,3}$/;e.exports=t.default,e.exports.default=t.default},80823:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){(0,i.default)(t);var n=String((null==r?void 0:r.version)||r);if(!(null!=r&&r.version||r))return e(t,{version:10})||e(t,{version:13});var l=t.replace(/[\s-]+/g,""),c=0;if("10"===n){if(!o.test(l))return!1;for(var u=0;u<n-1;u++)c+=(u+1)*l.charAt(u);if("X"===l.charAt(9)?c+=100:c+=10*l.charAt(9),c%11==0)return!0}else if("13"===n){if(!a.test(l))return!1;for(var d=0;d<12;d++)c+=s[d%2]*l.charAt(d);if(l.charAt(12)-(10-c%10)%10==0)return!0}return!1};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,s=[1,3];e.exports=t.default,e.exports.default=t.default},46123:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!o.test(e))return!1;for(var t=!0,r=0,n=e.length-2;n>=0;n--)if(e[n]>="A"&&e[n]<="Z")for(var a=e[n].charCodeAt(0)-55,s=a%10,l=Math.trunc(a/10),c=0,u=[s,l];c<u.length;c++){var d=u[c];t?d>=5?r+=1+(d-5)*2:r+=2*d:r+=d,t=!t}else{var f=e[n].charCodeAt(0)-48;t?f>=5?r+=1+(f-5)*2:r+=2*f:r+=f,t=!t}var p=10*Math.trunc((r+9)/10)-r;return+e[e.length-1]===p};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},97856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CountryCodes=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);t.CountryCodes=o},58903:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);e.exports=t.default,e.exports.default=t.default},64744:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CurrencyCodes=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);t.CurrencyCodes=o},71605:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isISO6346=s,t.isFreightContainerID=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[A-Z]{3}(U[0-9]{7})|([J,Z][0-9]{6,7})$/,a=/^[0-9]$/;function s(e){if((0,i.default)(e),e=e.toUpperCase(),!o.test(e))return!1;if(11===e.length){for(var t=0,r=0;r<e.length-1;r++)if(a.test(e[r]))t+=e[r]*Math.pow(2,r);else{var n=e.charCodeAt(r)-55;t+=(n<11?n:n>=11&&n<=20?12+n%11:n>=21&&n<=30?23+n%21:34+n%31)*Math.pow(2,r)}var s=t%11;return Number(e[e.length-1])===s}return!0}t.isFreightContainerID=s},65786:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=new Set(["aa","ab","ae","af","ak","am","an","ar","as","av","ay","az","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","ce","ch","co","cr","cs","cu","cv","cy","da","de","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fj","fo","fr","fy","ga","gd","gl","gn","gu","gv","ha","he","hi","ho","hr","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","io","is","it","iu","ja","jv","ka","kg","ki","kj","kk","kl","km","kn","ko","kr","ks","ku","kv","kw","ky","la","lb","lg","li","ln","lo","lt","lu","lv","mg","mh","mi","mk","ml","mn","mr","ms","mt","my","na","nb","nd","ne","ng","nl","nn","no","nr","nv","ny","oc","oj","om","or","os","pa","pi","pl","ps","pt","qu","rm","rn","ro","ru","rw","sa","sc","sd","se","sg","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tr","ts","tt","tw","ty","ug","uk","ur","uz","ve","vi","vo","wa","wo","xh","yi","yo","za","zh","zu"]);e.exports=t.default,e.exports.default=t.default},37581:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var r=t.strictSeparator?a.test(e):o.test(e);return r&&t.strict?s(e):r};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var r=Number(t[1]),n=Number(t[2]);return r%4==0&&r%100!=0||r%400==0?n<=366:n<=365}var i=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=i[1],a=i[2],s=i[3],l=a?"0".concat(a).slice(-2):a,c=s?"0".concat(s).slice(-2):s,u=new Date("".concat(o,"-").concat(l||"01","-").concat(c||"01"));return!a||!s||u.getUTCFullYear()===o&&u.getUTCMonth()+1===a&&u.getUTCDate()===s};e.exports=t.default,e.exports.default=t.default},5316:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},61264:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var r="^\\d{4}-?\\d{3}[\\dX]$";if(r=t.require_hyphen?r.replace("?",""):r,!(r=t.case_sensitive?new RegExp(r):RegExp(r,"i")).test(e))return!1;for(var n=e.replace("-","").toUpperCase(),o=0,a=0;a<n.length;a++){var s=n[a];o+=("X"===s?10:+s)*(8-a)}return o%11==0};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},19267:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t in a)return a[t](e);if("any"===t){for(var r in a)if(a.hasOwnProperty(r)&&(0,a[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))};var n=o(r(21956)),i=o(r(54974));function o(e){return e&&e.__esModule?e:{default:e}}var a={PL:function(e){(0,n.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,i.default)(e,{allow_leading_zeroes:!0})){var r=e.split("").slice(0,-1).reduce(function(e,r,n){return e+Number(r)*t[n+1]},0)%10,o=Number(e.charAt(e.length-1));if(0===r&&0===o||o===10-r)return!0}return!1},ES:function(e){(0,n.default)(e);var t={X:0,Y:1,Z:2},r=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(r))return!1;var i=r.slice(0,-1).replace(/[X,Y,Z]/g,function(e){return t[e]});return r.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},FI:function(e){return(0,n.default)(e),!!(11===e.length&&e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))&&"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],r=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(n))return!1;var i=0;return n.replace(/\s/g,"").split("").map(Number).reverse().forEach(function(e,n){i=t[i][r[n%8][e]]}),0===i},IR:function(e){if(!e.match(/^\d{10}$/)||0===parseInt((e="0000".concat(e).slice(e.length-6)).slice(3,9),10))return!1;for(var t=parseInt(e.slice(9,10),10),r=0,n=0;n<9;n++)r+=parseInt(e.slice(n,n+1),10)*(10-n);return(r%=11)<2&&t===r||r>=2&&t===11-r},IT:function(e){return 9===e.length&&"CA00000AA"!==e&&e.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1},NO:function(e){var t=e.trim();if(isNaN(Number(t))||11!==t.length||"00000000000"===t)return!1;var r=t.split("").map(Number),n=(11-(3*r[0]+7*r[1]+6*r[2]+1*r[3]+8*r[4]+9*r[5]+4*r[6]+5*r[7]+2*r[8])%11)%11,i=(11-(5*r[0]+4*r[1]+3*r[2]+2*r[3]+7*r[4]+6*r[5]+5*r[6]+4*r[7]+3*r[8]+2*n)%11)%11;return n===r[9]&&i===r[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,r=0;r<12;r++)t+=parseInt(e[r],10)*(13-r);return e[12]===((11-t%11)%10).toString()},LK:function(e){return!!(10===e.length&&/^[1-9]\d{8}[vx]$/i.test(e))||!!(12===e.length&&/^[1-9]\d{11}$/i.test(e))},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var r,n=0,i=0;i<t.length;i++)n+=(r=Number(t[i])*(i%2+1))>9?r-9:r;return n%10==0},"ar-LY":function(e){var t=e.trim();return!!/^(1|2)\d{11}$/.test(t)},"ar-TN":function(e){var t=e.trim();return!!/^\d{8}$/.test(t)},"zh-CN":function(e){var t,r,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],i=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],o=["1","0","X","9","8","7","6","5","4","3","2"],a=function(e){return n.includes(e)},s=function(e){var t=parseInt(e.substring(0,4),10),r=parseInt(e.substring(4,6),10),n=parseInt(e.substring(6),10),i=new Date(t,r-1,n);if(i>new Date);else if(i.getFullYear()===t&&i.getMonth()===r-1&&i.getDate()===n)return!0;return!1};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(e)&&(15===e.length?!!(/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e)&&a(e.substring(0,2))&&s("19".concat(e.substring(6,12)))):!!(/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e)&&a(e.substring(0,2))&&s(e.substring(6,14)))&&function(e){for(var t=e.substring(0,17),r=0,n=0;n<17;n++)r+=parseInt(t.charAt(n),10)*parseInt(i[n],10);return o[r%11]}(e)===e.charAt(17).toUpperCase())},"zh-HK":function(e){e=e.trim();var t=/^[0-9]$/;if(e=e.toUpperCase(),!/^[A-Z]{1,2}[0-9]{6}((\([0-9A]\))|(\[[0-9A]\])|([0-9A]))$/.test(e))return!1;8===(e=e.replace(/\[|\]|\(|\)/g,"")).length&&(e="3".concat(e));for(var r=0,n=0;n<=7;n++)r+=(t.test(e[n])?e[n]:(e[n].charCodeAt(0)-55)%11)*(9-n);return(0==(r%=11)?"0":1===r?"A":String(11-r))===e[e.length-1]},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},r=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(r)&&Array.from(r).reduce(function(e,r,n){if(0===n){var i=t[r];return i%10*9+Math.floor(i/10)}return 9===n?(10-e%10-Number(r))%10==0:e+Number(r)*(9-n)},0)}};e.exports=t.default,e.exports.default=t.default},98785:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var r,o=[];for(r in t)({}).hasOwnProperty.call(t,r)&&(o[r]=(0,i.default)(t[r]));return o.indexOf(e)>=0}return"object"===a(t)?t.hasOwnProperty(e):!!t&&"function"==typeof t.indexOf&&t.indexOf(e)>=0};var n=o(r(21956)),i=o(r(30862));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},54974:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?o:a,n=!t.hasOwnProperty("min")||e>=t.min,s=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,c=!t.hasOwnProperty("gt")||e>t.gt;return r.test(e)&&n&&s&&l&&c};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},19775:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e);try{t=(0,i.default)(t,s);var r=[];t.allow_primitives&&(r=[null,!1,!0]);var o=JSON.parse(e);return r.includes(o)||!!o&&"object"===a(o)}catch(e){}return!1};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s={allow_primitives:!1};e.exports=t.default,e.exports.default=t.default},39351:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,n.default)(e);var t=e.split(".");return 3===t.length&&t.reduce(function(e,t){return e&&(0,i.default)(t,{urlSafe:!0})},!0)};var n=o(r(21956)),i=o(r(59367));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},92816:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),t=(0,i.default)(t,u),!e.includes(","))return!1;var r=e.split(",");return!(r[0].startsWith("(")&&!r[1].endsWith(")")||r[1].endsWith(")")&&!r[0].startsWith("("))&&(t.checkDMS?l.test(r[0])&&c.test(r[1]):a.test(r[0])&&s.test(r[1]))};var n=o(r(21956)),i=o(r(22104));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,c=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};e.exports=t.default,e.exports.default=t.default},28080:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),"object"===o(t)?(r=t.min||0,n=t.max):(r=arguments[1]||0,n=arguments[2]);var r,n,a=e.match(/(\uFE0F|\uFE0E)/g)||[],s=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],l=e.length-a.length-s.length;return l>=r&&(void 0===n||l<=n)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=t.default,e.exports.default=t.default},96391:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in o)return o[t](e);if("any"===t){for(var r in o)if((0,o[r])(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={"cs-CZ":function(e){return/^(([ABCDEFHIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((A|AA|AB|AC|AE|AH|AK|AM|AN|AÖ|AP|AS|AT|AU|AW|AZ|B|BA|BB|BC|BE|BF|BH|BI|BK|BL|BM|BN|BO|BÖ|BS|BT|BZ|C|CA|CB|CE|CO|CR|CW|D|DA|DD|DE|DH|DI|DL|DM|DN|DO|DU|DW|DZ|E|EA|EB|ED|EE|EF|EG|EH|EI|EL|EM|EN|ER|ES|EU|EW|F|FB|FD|FF|FG|FI|FL|FN|FO|FR|FS|FT|FÜ|FW|FZ|G|GA|GC|GD|GE|GF|GG|GI|GK|GL|GM|GN|GÖ|GP|GR|GS|GT|GÜ|GV|GW|GZ|H|HA|HB|HC|HD|HE|HF|HG|HH|HI|HK|HL|HM|HN|HO|HP|HR|HS|HU|HV|HX|HY|HZ|IK|IL|IN|IZ|J|JE|JL|K|KA|KB|KC|KE|KF|KG|KH|KI|KK|KL|KM|KN|KO|KR|KS|KT|KU|KW|KY|L|LA|LB|LC|LD|LF|LG|LH|LI|LL|LM|LN|LÖ|LP|LR|LU|M|MA|MB|MC|MD|ME|MG|MH|MI|MK|ML|MM|MN|MO|MQ|MR|MS|MÜ|MW|MY|MZ|N|NB|ND|NE|NF|NH|NI|NK|NM|NÖ|NP|NR|NT|NU|NW|NY|NZ|OA|OB|OC|OD|OE|OF|OG|OH|OK|OL|OP|OS|OZ|P|PA|PB|PE|PF|PI|PL|PM|PN|PR|PS|PW|PZ|R|RA|RC|RD|RE|RG|RH|RI|RL|RM|RN|RO|RP|RS|RT|RU|RV|RW|RZ|S|SB|SC|SE|SG|SI|SK|SL|SM|SN|SO|SP|SR|ST|SU|SW|SY|SZ|TE|TF|TG|TO|TP|TR|TS|TT|TÜ|ÜB|UE|UH|UL|UM|UN|V|VB|VG|VK|VR|VS|W|WA|WB|WE|WF|WI|WK|WL|WM|WN|WO|WR|WS|WT|WÜ|WW|WZ|Z|ZE|ZI|ZP|ZR|ZW|ZZ)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(ABG|ABI|AIB|AIC|ALF|ALZ|ANA|ANG|ANK|APD|ARN|ART|ASL|ASZ|AUR|AZE|BAD|BAR|BBG|BCH|BED|BER|BGD|BGL|BID|BIN|BIR|BIT|BIW|BKS|BLB|BLK|BNA|BOG|BOH|BOR|BOT|BRA|BRB|BRG|BRK|BRL|BRV|BSB|BSK|BTF|BÜD|BUL|BÜR|BÜS|BÜZ|CAS|CHA|CLP|CLZ|COC|COE|CUX|DAH|DAN|DAU|DBR|DEG|DEL|DGF|DIL|DIN|DIZ|DKB|DLG|DON|DUD|DÜW|EBE|EBN|EBS|ECK|EIC|EIL|EIN|EIS|EMD|EMS|ERB|ERH|ERK|ERZ|ESB|ESW|FDB|FDS|FEU|FFB|FKB|FLÖ|FOR|FRG|FRI|FRW|FTL|FÜS|GAN|GAP|GDB|GEL|GEO|GER|GHA|GHC|GLA|GMN|GNT|GOA|GOH|GRA|GRH|GRI|GRM|GRZ|GTH|GUB|GUN|GVM|HAB|HAL|HAM|HAS|HBN|HBS|HCH|HDH|HDL|HEB|HEF|HEI|HER|HET|HGN|HGW|HHM|HIG|HIP|HMÜ|HOG|HOH|HOL|HOM|HOR|HÖS|HOT|HRO|HSK|HST|HVL|HWI|IGB|ILL|JÜL|KEH|KEL|KEM|KIB|KLE|KLZ|KÖN|KÖT|KÖZ|KRU|KÜN|KUS|KYF|LAN|LAU|LBS|LBZ|LDK|LDS|LEO|LER|LEV|LIB|LIF|LIP|LÖB|LOS|LRO|LSZ|LÜN|LUP|LWL|MAB|MAI|MAK|MAL|MED|MEG|MEI|MEK|MEL|MER|MET|MGH|MGN|MHL|MIL|MKK|MOD|MOL|MON|MOS|MSE|MSH|MSP|MST|MTK|MTL|MÜB|MÜR|MYK|MZG|NAB|NAI|NAU|NDH|NEA|NEB|NEC|NEN|NES|NEW|NMB|NMS|NOH|NOL|NOM|NOR|NVP|NWM|OAL|OBB|OBG|OCH|OHA|ÖHR|OHV|OHZ|OPR|OSL|OVI|OVL|OVP|PAF|PAN|PAR|PCH|PEG|PIR|PLÖ|PRÜ|QFT|QLB|RDG|REG|REH|REI|RID|RIE|ROD|ROF|ROK|ROL|ROS|ROT|ROW|RSL|RÜD|RÜG|SAB|SAD|SAN|SAW|SBG|SBK|SCZ|SDH|SDL|SDT|SEB|SEE|SEF|SEL|SFB|SFT|SGH|SHA|SHG|SHK|SHL|SIG|SIM|SLE|SLF|SLK|SLN|SLS|SLÜ|SLZ|SMÜ|SOB|SOG|SOK|SÖM|SON|SPB|SPN|SRB|SRO|STA|STB|STD|STE|STL|SUL|SÜW|SWA|SZB|TBB|TDO|TET|TIR|TÖL|TUT|UEM|UER|UFF|USI|VAI|VEC|VER|VIB|VIE|VIT|VOH|WAF|WAK|WAN|WAR|WAT|WBS|WDA|WEL|WEN|WER|WES|WHV|WIL|WIS|WIT|WIZ|WLG|WMS|WND|WOB|WOH|WOL|WOR|WOS|WRN|WSF|WST|WSW|WTL|WTM|WUG|WÜM|WUN|WUR|WZL|ZEL|ZIG)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"en-IN":function(e){return/^[A-Z]{2}[ -]?[0-9]{1,2}(?:[ -]?[A-Z])(?:[ -]?[A-Z]*)?[ -]?[0-9]{4}$/.test(e)},"es-AR":function(e){return/^(([A-Z]{2} ?[0-9]{3} ?[A-Z]{2})|([A-Z]{3} ?[0-9]{3}))$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"hu-HU":function(e){return/^((((?!AAA)(([A-NPRSTVZWXY]{1})([A-PR-Z]{1})([A-HJ-NPR-Z]))|(A[ABC]I)|A[ABC]O|A[A-W]Q|BPI|BPO|UCO|UDO|XAO)-(?!000)\d{3})|(M\d{6})|((CK|DT|CD|HC|H[ABEFIKLMNPRSTVX]|MA|OT|R[A-Z]) \d{2}-\d{2})|(CD \d{3}-\d{3})|(C-(C|X) \d{4})|(X-(A|B|C) \d{4})|(([EPVZ]-\d{5}))|(S A[A-Z]{2} \d{2})|(SP \d{2}-\d{2}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})[ -·]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"sv-SE":function(e){return/^[A-HJ-PR-UW-Z]{3} ?[\d]{2}[A-HJ-PR-UW-Z1-9]$|(^[A-ZÅÄÖ ]{2,7}$)/.test(e.trim())}};e.exports=t.default,e.exports.default=t.default},23629:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),c.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o="(x(-[A-Za-z0-9]{1,8})+)",a="(".concat("((en-GB-oed)|(i-ami)|(i-bnn)|(i-default)|(i-enochian)|(i-hak)|(i-klingon)|(i-lux)|(i-mingo)|(i-navajo)|(i-pwn)|(i-tao)|(i-tay)|(i-tsu)|(sgn-BE-FR)|(sgn-BE-NL)|(sgn-CH-DE))","|").concat("((art-lojban)|(cel-gaulish)|(no-bok)|(no-nyn)|(zh-guoyu)|(zh-hakka)|(zh-min)|(zh-min-nan)|(zh-xiang))",")"),s="(-|_)",l="".concat("(([a-zA-Z]{2,3}(-".concat("([A-Za-z]{3}(-[A-Za-z]{3}){0,2})",")?)|([a-zA-Z]{5,8}))"),"(").concat(s).concat("([A-Za-z]{4})",")?(").concat(s).concat("([A-Za-z]{2}|\\d{3})",")?(").concat(s).concat("([A-Za-z0-9]{5,8}|(\\d[A-Z-a-z0-9]{3}))",")*(").concat(s).concat("(".concat("(\\d|[A-W]|[Y-Z]|[a-w]|[y-z])","(-[A-Za-z0-9]{2,8})+)"),")*(").concat(s).concat(o,")?"),c=new RegExp("(^".concat(o,"$)|(^").concat(a,"$)|(^").concat(l,"$)"));e.exports=t.default,e.exports.default=t.default},92880:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toLowerCase()};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},14586:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);for(var t,r,n=e.replace(/[- ]+/g,""),o=0,a=n.length-1;a>=0;a--)t=parseInt(n.substring(a,a+1),10),r&&(t*=2)>=10?o+=t%10+1:o+=t,r=!r;return!!(o%10==0&&n)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},78912:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t,r){return((0,i.default)(t),null!=r&&r.eui&&(r.eui=String(r.eui)),null!=r&&r.no_colons||null!=r&&r.no_separators)?"48"===r.eui?a.test(t):"64"===r.eui?c.test(t):a.test(t)||c.test(t):(null==r?void 0:r.eui)==="48"?o.test(t)||s.test(t):(null==r?void 0:r.eui)==="64"?l.test(t)||u.test(t):e(t,{eui:"48"})||e(t,{eui:"64"})};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,a=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/,l=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){6}([0-9a-fA-F]{2})$/,c=/^([0-9a-fA-F]){16}$/,u=/^([0-9a-fA-F]{4}\.){3}([0-9a-fA-F]{4})$/;e.exports=t.default,e.exports.default=t.default},12856:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},64364:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),0===e.indexOf("magnet:?")&&o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/(?:^magnet:\?|[^?&]&)xt(?:\.1)?=urn:(?:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?|btmh:1220[a-z0-9]{64})(?:$|&)/i;e.exports=t.default,e.exports.default=t.default},52527:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),0!==e.indexOf("mailto:"))return!1;var r=s(e.replace("mailto:","").split("?"),2),a=r[0],c=void 0===a?"":a,u=r[1],d=void 0===u?"":u;if(!c&&!d)return!0;var f=function(e){var t=new Set(["subject","body","cc","bcc"]),r={cc:"",bcc:""},n=!1,i=e.split("&");if(i.length>4)return!1;var o,a=function(e,t){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=l(e))){i&&(e=i);var r=0,n=function(){};return{s:n,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:n}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}(i);try{for(a.s();!(o=a.n()).done;){var c=o.value.split("="),u=s(c,2),d=u[0],f=u[1];if(d&&!t.has(d)){n=!0;break}f&&("cc"===d||"bcc"===d)&&(r[d]=f),d&&t.delete(d)}}catch(e){a.e(e)}finally{a.f()}return!n&&r}(d);return!!f&&"".concat(c,",").concat(f.cc,",").concat(f.bcc).split(",").every(function(e){return!(e=(0,n.default)(e," "))||(0,i.default)(e,t)})};var n=a(r(79041)),i=a(r(20038)),o=a(r(21956));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||l(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}e.exports=t.default,e.exports.default=t.default},59600:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)||a.test(e)||s.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+_]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},32546:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if((0,i.default)(e),r&&r.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some(function(t){return!!(o.hasOwnProperty(t)&&o[t].test(e))});if(t in o)return o[t].test(e);if(!t||"any"===t){for(var n in o)if(o.hasOwnProperty(n)&&o[n].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)([569]\d{7}|41\d{6})$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SD":/^((\+?249)|0)?(9[012369]|1[012])\d{7}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(10|5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)1)(5[0-25-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|9[1-9])\d{5}$/,"el-GR":/^(\+?30|0)?6(8[5-9]|9(?![26])[0-9])\d{7}$/,"el-CY":/^(\+?357?)?(9(9|6)\d{6})$/,"en-AI":/^(\+?1|0)264(?:2(35|92)|4(?:6[1-2]|76|97)|5(?:3[6-9]|8[1-4])|7(?:2(4|9)|72))\d{4}$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-AG":/^(?:\+1|1)268(?:464|7(?:1[3-9]|[28]\d|3[0246]|64|7[0-689]))\d{4}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}$))/,"en-BS":/^(\+?1[-\s]?|0)?\(?242\)?[-\s]?\d{3}[-\s]?\d{4}$/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-JM":/^(\+?876)?\d{7}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"fr-CF":/^(\+?236| ?)(70|75|77|72|21|22)\d{6}$/,"en-SS":/^(\+?211|0)(9[1257])\d{7}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-KN":/^(?:\+1|1)869(?:46\d|48[89]|55[6-8]|66\d|76[02-7])\d{4}$/,"en-LS":/^(\+?266)(22|28|57|58|59|27|52)\d{6}$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PG":/^(\+?675|0)?(7\d|8[18])\d{6}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}$/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8|3|2]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-NI":/^(\+?505)\d{7,8}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4[0-6]|50)\s?(\d\s?){4,8}$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-BJ":/^(\+229)\d{8}$/,"fr-CD":/^(\+?243|0)?(8|9)\d{8}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"fr-WF":/^(\+681)?\d{6}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"ir-IR":/^(\+98|0)?9\d{9}$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(79\d{7}|5\d{8})$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"ky-KG":/^(\+?7\s?\+?7|0)\s?\d{2}\s?\d{3}\s?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"mg-MG":/^((\+?261|0)(2|3)\d)?\d{7}$/,"mn-MN":/^(\+|00|011)?976(77|81|88|91|94|95|96|99)\d{6}$/,"my-MM":/^(\+?959|09|9)(2[5-7]|3[1-2]|4[0-5]|6[6-9]|7[5-9]|9[6-9])[0-9]{7}$/,"ms-MY":/^(\+?60|0)1(([0145](-|\s)?\d{7,8})|([236-9](-|\s)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nl-AW":/^(\+)?297(56|59|64|73|74|99)\d{5}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?([5-8]\d|45) ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[1-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-MD":/^(\+?373|0)((6(0|1|2|6|7|8|9))|(7(6|7|8|9)))\d{6}$/,"ro-RO":/^(\+?40|0)\s?7\d{2}(\/|\s|\.|-)?\d{3}(\s|\.|-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"so-SO":/^(\+?252|0)((6[0-9])\d{7}|(7[1-9])\d{7})$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/,"ar-YE":/^(((\+|00)9677|0?7)[0137]\d{7}|((\+|00)967|0)[1-7]\d{6})$/,"ar-EH":/^(\+?212|0)[\s\-]?(5288|5289)[\s\-]?\d{5}$/,"fa-AF":/^(\+93|0)?(2{1}[0-8]{1}|[3-5]{1}[0-4]{1})(\d{7})$/};o["en-CA"]=o["en-US"],o["fr-CA"]=o["en-CA"],o["fr-BE"]=o["nl-BE"],o["zh-HK"]=o["en-HK"],o["zh-MO"]=o["en-MO"],o["ga-IE"]=o["en-IE"],o["fr-CH"]=o["de-CH"],o["it-CH"]=o["fr-CH"];var a=Object.keys(o);t.locales=a},14398:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),(0,i.default)(e)&&24===e.length};var n=o(r(21956)),i=o(r(8717));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},72651:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},78749:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,i.default)(e),t&&t.no_symbols)?a.test(e):new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?o.decimal[t.locale]:".","])?[0-9]+$")).test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(84740),a=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},93456:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^(0o)?[0-7]+$/i;e.exports=t.default,e.exports.default=t.default},36712:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase() in o&&o[t].test(r)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,AZ:/^[A-Z]{2,3}\d{7,8}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JM:/^[Aa]\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,KZ:/^[a-zA-Z]\d{7}$/,LI:/^[a-zA-Z]\d{5}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,MX:/^\d{10,11}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,NZ:/^([Ll]([Aa]|[Dd]|[Ff]|[Hh])|[Ee]([Aa]|[Pp])|[Nn])\d{6}$/,PH:/^([A-Z](\d{6}|\d{7}[A-Z]))|([A-Z]{2}(\d{6}|\d{7}))$/,PK:/^[A-Z]{2}\d{7}$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TH:/^[A-Z]{1,2}\d{6,7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};e.exports=t.default,e.exports.default=t.default},9419:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,{min:0,max:65535})};var n,i=(n=r(54974))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},63393:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in c)return c[t].test(e);if("any"===t){for(var r in c)if(c.hasOwnProperty(r)&&c[r].test(e))return!0;return!1}throw Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^\d{3}$/,a=/^\d{4}$/,s=/^\d{5}$/,l=/^\d{6}$/,c={AD:/^AD\d{3}$/,AT:a,AU:a,AZ:/^AZ\d{4}$/,BA:/^([7-8]\d{4}$)/,BE:a,BG:a,BR:/^\d{5}-\d{3}$/,BY:/^2[1-4]\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:a,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:s,DK:a,DO:s,DZ:s,EE:s,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:s,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:a,ID:s,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/^(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}$/,IS:o,IT:s,JP:/^\d{3}\-\d{4}$/,KE:s,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:a,LV:/^LV\-\d{4}$/,LK:s,MG:o,MX:s,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:s,NL:/^\d{4}\s?[a-z]{2}$/i,NO:a,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:a,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:l,RU:l,SA:s,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:l,SI:a,SK:/^\d{3}\s?\d{2}$/,TH:s,TN:a,TW:/^\d{3}(\d{2})?$/,UA:s,US:/^\d{5}(-\d{4})?$/,ZA:a,ZM:s},u=Object.keys(c);t.locales=u},21710:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),f.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/([01][0-9]|2[0-3])/,a=/[0-5][0-9]/,s=new RegExp("[-+]".concat(o.source,":").concat(a.source)),l=new RegExp("([zZ]|".concat(s.source,")")),c=new RegExp("".concat(o.source,":").concat(a.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),u=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),d=new RegExp("".concat(c.source).concat(l.source)),f=new RegExp("^".concat(u.source,"[ tT]").concat(d.source,"$"));e.exports=t.default,e.exports.default=t.default},72246:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return((0,i.default)(e),t)?o.test(e)||a.test(e)||s.test(e)||l.test(e):o.test(e)||a.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)$/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/;e.exports=t.default,e.exports.default=t.default},58143:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.default)(e),o.test(e)};var n=i(r(21956));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,i(r(74971)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");e.exports=t.default,e.exports.default=t.default},68435:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;e.exports=t.default,e.exports.default=t.default},77200:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,o,d,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(e);var p=(t={},Array.from(e).forEach(function(e){t[e]?t[e]+=1:t[e]=1}),r={length:e.length,uniqueChars:Object.keys(t).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0},Object.keys(t).forEach(function(e){a.test(e)?r.uppercaseCount+=t[e]:s.test(e)?r.lowercaseCount+=t[e]:l.test(e)?r.numberCount+=t[e]:c.test(e)&&(r.symbolCount+=t[e])}),r);return(f=(0,n.default)(f||{},u)).returnScore?(o=f,d=0+p.uniqueChars*o.pointsPerUnique+(p.length-p.uniqueChars)*o.pointsPerRepeat,p.lowercaseCount>0&&(d+=o.pointsForContainingLower),p.uppercaseCount>0&&(d+=o.pointsForContainingUpper),p.numberCount>0&&(d+=o.pointsForContainingNumber),p.symbolCount>0&&(d+=o.pointsForContainingSymbol),d):p.length>=f.minLength&&p.lowercaseCount>=f.minLowercase&&p.uppercaseCount>=f.minUppercase&&p.numberCount>=f.minNumbers&&p.symbolCount>=f.minSymbols};var n=o(r(22104)),i=o(r(21956));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z]$/,s=/^[a-z]$/,l=/^[0-9]$/,c=/^[-#!$@£%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};e.exports=t.default,e.exports.default=t.default},62942:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},54111:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,i.default)(e);var r=e.slice(0);if(t in f)return t in y&&(r=r.replace(y[t],"")),!!f[t].test(r)&&(!(t in p)||p[t](r));throw Error("Invalid locale '".concat(t,"'"))};var i=l(r(21956)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(88464)),a=l(r(98764));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function d(e){for(var t=!1,r=!1,n=0;n<3;n++)if(!t&&/[AEIOU]/.test(e[n]))t=!0;else if(!r&&t&&"X"===e[n])r=!0;else if(n>0&&(t&&!r&&!/[AEIOU]/.test(e[n])||r&&!/X/.test(e[n])))return!1;return!0}var f={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-CA":/^\d{9}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/};f["lb-LU"]=f["fr-LU"],f["lt-LT"]=f["et-EE"],f["nl-BE"]=f["fr-BE"],f["fr-CA"]=f["en-CA"];var p={"bg-BG":function(e){var t=e.slice(0,2),r=parseInt(e.slice(2,4),10);r>40?(r-=40,t="20".concat(t)):r>20?(r-=20,t="18".concat(t)):t="19".concat(t),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var i=e.split("").map(function(e){return parseInt(e,10)}),o=[2,4,8,5,10,9,7,3,6],s=0,l=0;l<o.length;l++)s+=i[l]*o[l];return(s=s%11==10?0:s%11)===i[9]},"cs-CZ":function(e){var t=parseInt((e=e.replace(/\W/,"")).slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6)||!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r=parseInt(e.slice(2,4),10);if(r>50&&(r-=50),r>20){if(2004>parseInt(t,10))return!1;r-=20}r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!=0){var i=parseInt(e.slice(0,9),10)%11;if(!(1986>parseInt(t,10))||10!==i||0!==parseInt(e.slice(9),10))return!1}return!0},"de-AT":function(e){return o.luhnCheck(e)},"de-DE":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=[],n=0;n<t.length-1;n++){r.push("");for(var i=0;i<t.length-1;i++)t[n]===t[i]&&(r[n]+=i)}if(2!==(r=r.filter(function(e){return e.length>1})).length&&3!==r.length)return!1;if(3===r[0].length){for(var a=r[0].split("").map(function(e){return parseInt(e,10)}),s=0,l=0;l<a.length-1;l++)a[l]+1===a[l+1]&&(s+=1);if(2===s)return!1}return o.iso7064Check(e)},"dk-DK":function(e){var t=parseInt((e=e.replace(/\W/,"")).slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=0,o=4,s=0;s<9;s++)i+=n[s]*o,1==(o-=1)&&(o=7);return 1!=(i%=11)&&(0===i?0===n[9]:n[9]===11-i)},"el-CY":function(e){for(var t=e.slice(0,8).split("").map(function(e){return parseInt(e,10)}),r=0,n=1;n<t.length;n+=2)r+=t[n];for(var i=0;i<t.length;i+=2)t[i]<2?r+=1-t[i]:(r+=2*(t[i]-2)+5,t[i]>4&&(r+=2));return String.fromCharCode(r%26+65)===e.charAt(8)},"el-GR":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=0,n=0;n<8;n++)r+=t[n]*Math.pow(2,8-n);return r%11%10===t[8]},"en-CA":function(e){var t=e.split(""),r=t.filter(function(e,t){return t%2}).map(function(e){return 2*Number(e)}).join("").split("");return t.filter(function(e,t){return!(t%2)}).concat(r).map(function(e){return Number(e)}).reduce(function(e,t){return e+t})%10==0},"en-IE":function(e){var t=o.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8);return(9===e.length&&"W"!==e[8]&&(t+=(e[8].charCodeAt(0)-64)*9),0==(t%=23))?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)},"en-US":function(e){return -1!==(function(){var e,t=[];for(var r in u)u.hasOwnProperty(r)&&t.push.apply(t,function(e){if(Array.isArray(e))return c(e)}(e=u[r])||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return t})().indexOf(e.slice(0,2))},"es-ES":function(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var r=0;switch(t[0]){case"Y":r=1;break;case"Z":r=2}t.splice(0,1,r)}else for(;t.length<9;)t.unshift(0);var n=parseInt((t=t.join("")).slice(0,8),10)%23;return t[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][n]},"et-EE":function(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=0,o=1,s=0;s<10;s++)i+=n[s]*o,10===(o+=1)&&(o=1);if(i%11==10){i=0,o=3;for(var l=0;l<10;l++)i+=n[l]*o,10===(o+=1)&&(o=1);if(i%11==10)return 0===n[10]}return i%11===n[10]},"fi-FI":function(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;var n=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return n<10?n===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][n-=10]===e.slice(10)},"fr-BE":function(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,a.default)(t,"YY/MM/DD"))return!1}var r=97-parseInt(e.slice(0,9),10)%97,n=parseInt(e.slice(9,11),10);return r===n||(r=97-parseInt("2".concat(e.slice(0,9)),10)%97)===n},"fr-FR":function(e){return parseInt((e=e.replace(/\s/g,"")).slice(0,10),10)%511===parseInt(e.slice(10,13),10)},"fr-LU":function(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!((0,a.default)(t,"YYYY/MM/DD")&&o.luhnCheck(e.slice(0,12)))&&o.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12]))},"hr-HR":function(e){return o.iso7064Check(e)},"hu-HU":function(e){for(var t=e.split("").map(function(e){return parseInt(e,10)}),r=8,n=1;n<9;n++)r+=t[n]*(n+1);return r%11===t[9]},"it-IT":function(e){var t=e.toUpperCase().split("");if(!d(t.slice(0,3))||!d(t.slice(3,6)))return!1;for(var r={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},n=0,i=[6,7,9,10,12,13,14];n<i.length;n++){var o=i[n];t[o]in r&&t.splice(o,1,r[t[o]])}var s={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],l=parseInt(t[9]+t[10],10);l>40&&(l-=40),l<10&&(l="0".concat(l));var c="".concat(t[6]).concat(t[7],"/").concat(s,"/").concat(l);if(!(0,a.default)(c,"YY/MM/DD"))return!1;for(var u=0,f=1;f<t.length-1;f+=2){var p=parseInt(t[f],10);isNaN(p)&&(p=t[f].charCodeAt(0)-65),u+=p}for(var h={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},y=0;y<t.length-1;y+=2){var g=0;if(t[y]in h)g=h[t[y]];else{var v=parseInt(t[y],10);g=2*v+1,v>4&&(g+=2)}u+=g}return String.fromCharCode(65+u%26)===t[15]},"lv-LV":function(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var r=e.slice(4,6);switch(e[6]){case"0":r="18".concat(r);break;case"1":r="19".concat(r);break;default:r="20".concat(r)}var n="".concat(r,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,a.default)(n,"YYYY/MM/DD"))return!1}for(var i=1101,o=[1,6,3,7,9,10,5,8,4,2],s=0;s<e.length-1;s++)i-=parseInt(e[s],10)*o[s];return parseInt(e[10],10)===i%11}return!0},"mt-MT":function(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var r=parseInt(t.join("").slice(0,5),10);if(r>32e3||r===parseInt(t.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(e){return o.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11===parseInt(e[8],10)},"pl-PL":function(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],r=0,n=0;n<t.length;n++)r+=parseInt(e[n],10)*t[n];return 10!=(r%=11)&&r===parseInt(e[9],10)}var i=e.slice(0,2),o=parseInt(e.slice(2,4),10);o>80?(i="18".concat(i),o-=80):o>60?(i="22".concat(i),o-=60):o>40?(i="21".concat(i),o-=40):o>20?(i="20".concat(i),o-=20):i="19".concat(i),o<10&&(o="0".concat(o));var s="".concat(i,"/").concat(o,"/").concat(e.slice(4,6));if(!(0,a.default)(s,"YYYY/MM/DD"))return!1;for(var l=0,c=1,u=0;u<e.length-1;u++)l+=parseInt(e[u],10)*c%10,(c+=2)>10?c=1:5===c&&(c+=2);return(l=10-l%10)===parseInt(e[10],10)},"pt-BR":function(e){if(11===e.length){if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var t,r,n=1;n<=9;n++)t+=parseInt(e.substring(n-1,n),10)*(11-n);if(10==(r=10*t%11)&&(r=0),r!==parseInt(e.substring(9,10),10))return!1;t=0;for(var i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i),10)*(12-i);return 10==(r=10*t%11)&&(r=0),r===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var o=e.length-2,a=e.substring(0,o),s=e.substring(o),l=0,c=o-7,u=o;u>=1;u--)l+=a.charAt(o-u)*c,(c-=1)<2&&(c=9);var d=l%11<2?0:11-l%11;if(d!==parseInt(s.charAt(0),10))return!1;o+=1,a=e.substring(0,o),l=0,c=o-7;for(var f=o;f>=1;f--)l+=a.charAt(o-f)*c,(c-=1)<2&&(c=9);return(d=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)},"pt-PT":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)},"ro-RO":function(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var r="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===r.length){if(!(0,a.default)(r,"YY/MM/DD"))return!1}else if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;for(var n=e.split("").map(function(e){return parseInt(e,10)}),i=[2,7,9,1,4,6,3,5,8,2,7,9],o=0,s=0;s<i.length;s++)o+=n[s]*i[s];return o%11==10?1===n[12]:n[12]===o%11}return!0},"sk-SK":function(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var r=parseInt(e.slice(2,4),10);r>50&&(r-=50),r<10&&(r="0".concat(r));var n="".concat(t,"/").concat(r,"/").concat(e.slice(4,6));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,7).map(function(e){return parseInt(e,10)}),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)},"sv-SE":function(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var r="",n=t.slice(2,4),i=parseInt(t.slice(4,6),10);if(e.length>11)r=e.slice(0,4);else if(r=e.slice(0,2),11===e.length&&i<60){var s=new Date().getFullYear().toString(),l=parseInt(s.slice(0,2),10);if(s=parseInt(s,10),"-"===e[6])r=parseInt("".concat(l).concat(r),10)>s?"".concat(l-1).concat(r):"".concat(l).concat(r);else if(s-parseInt(r="".concat(l-1).concat(r),10)<100)return!1}i>60&&(i-=60),i<10&&(i="0".concat(i));var c="".concat(r,"/").concat(n,"/").concat(i);if(8===c.length){if(!(0,a.default)(c,"YY/MM/DD"))return!1}else if(!(0,a.default)(c,"YYYY/MM/DD"))return!1;return o.luhnCheck(e.replace(/\W/,""))}};p["lb-LU"]=p["fr-LU"],p["lt-LT"]=p["et-EE"],p["nl-BE"]=p["fr-BE"],p["fr-CA"]=p["en-CA"];var h=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,y={"de-AT":h,"de-DE":/[\/\\]/g,"fr-BE":h};y["nl-BE"]=y["fr-BE"],e.exports=t.default,e.exports.default=t.default},3039:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=(0,i.default)(t,o),"string"==typeof e&&a[t.hourFormat][t.mode].test(e)};var n,i=(n=r(22104))&&n.__esModule?n:{default:n},o={hourFormat:"hour24",mode:"default"},a={hour24:{default:/^([01]?[0-9]|2[0-3]):([0-5][0-9])$/,withSeconds:/^([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])$/},hour12:{default:/^(0?[1-9]|1[0-2]):([0-5][0-9]) (A|P)M$/,withSeconds:/^(0?[1-9]|1[0-2]):([0-5][0-9]):([0-5][0-9]) (A|P)M$/}};e.exports=t.default,e.exports.default=t.default},38059:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||/[\s<>]/.test(e)||0===e.indexOf("mailto:")||(t=(0,a.default)(t,c)).validate_length&&e.length>=2083||!t.allow_fragments&&e.includes("#")||!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;if((v=(e=(v=(e=(v=e.split("#")).shift()).split("?")).shift()).split("://")).length>1){if(s=v.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(s))return!1}else if(t.require_protocol)return!1;else if("//"===e.slice(0,2)){if(!t.allow_protocol_relative_urls)return!1;v[0]=e.slice(2)}if(""===(e=v.join("://")))return!1;if(""===(e=(v=e.split("/")).shift())&&!t.require_host)return!0;if((v=e.split("@")).length>1){if(t.disallow_auth||""===v[0]||(f=v.shift()).indexOf(":")>=0&&f.split(":").length>2)return!1;var r,s,f,p,h,y,g,v,m,b=function(e){if(Array.isArray(e))return e}(r=f.split(":"))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(r,2)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(r,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=b[0],w=b[1];if(""===_&&""===w)return!1}h=v.join("@"),g=null,m=null;var S=h.match(u);if(S?(p="",m=S[1],g=S[2]||null):(p=(v=h.split(":")).shift(),v.length&&(g=v.join(":"))),null!==g&&g.length>0){if(y=parseInt(g,10),!/^[0-9]+$/.test(g)||y<=0||y>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?d(p,t.host_whitelist):""===p&&!t.require_host||!!((0,o.default)(p)||(0,i.default)(p,t)||m&&(0,o.default)(m,6))&&(p=p||m,!(t.host_blacklist&&d(p,t.host_blacklist)))};var n=s(r(21956)),i=s(r(22273)),o=s(r(14216)),a=s(r(22104));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||"[object RegExp]"===Object.prototype.toString.call(n)&&n.test(e))return!0}return!1}e.exports=t.default,e.exports.default=t.default},33e3:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=o[[void 0,null].includes(t)?"all":t];return!!r&&r.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},49605:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toUpperCase()};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},7879:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,o.default)(e),(0,o.default)(t),t in l)return l[t](e);throw Error("Invalid country code: '".concat(t,"'"))},t.vatMatchers=void 0;var i,o=(i=r(21956))&&i.__esModule?i:{default:i},a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(r,o,a):r[o]=e[o]}return r.default=e,t&&t.set(e,r),r}(r(88464));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var l={AT:function(e){return/^(AT)?U\d{8}$/.test(e)},BE:function(e){return/^(BE)?\d{10}$/.test(e)},BG:function(e){return/^(BG)?\d{9,10}$/.test(e)},HR:function(e){return/^(HR)?\d{11}$/.test(e)},CY:function(e){return/^(CY)?\w{9}$/.test(e)},CZ:function(e){return/^(CZ)?\d{8,10}$/.test(e)},DK:function(e){return/^(DK)?\d{8}$/.test(e)},EE:function(e){return/^(EE)?\d{9}$/.test(e)},FI:function(e){return/^(FI)?\d{8}$/.test(e)},FR:function(e){return/^(FR)?\w{2}\d{9}$/.test(e)},DE:function(e){return/^(DE)?\d{9}$/.test(e)},EL:function(e){return/^(EL)?\d{9}$/.test(e)},HU:function(e){return/^(HU)?\d{8}$/.test(e)},IE:function(e){return/^(IE)?\d{7}\w{1}(W)?$/.test(e)},IT:function(e){return/^(IT)?\d{11}$/.test(e)},LV:function(e){return/^(LV)?\d{11}$/.test(e)},LT:function(e){return/^(LT)?\d{9,12}$/.test(e)},LU:function(e){return/^(LU)?\d{8}$/.test(e)},MT:function(e){return/^(MT)?\d{8}$/.test(e)},NL:function(e){return/^(NL)?\d{9}B\d{2}$/.test(e)},PL:function(e){return/^(PL)?(\d{10}|(\d{3}-\d{3}-\d{2}-\d{2})|(\d{3}-\d{2}-\d{2}-\d{3}))$/.test(e)},PT:function(e){var t=e.match(/^(PT)?(\d{9})$/);if(!t)return!1;var r=t[2],n=11-a.reverseMultiplyAndSum(r.split("").slice(0,8).map(function(e){return parseInt(e,10)}),9)%11;return n>9?0===parseInt(r[8],10):n===parseInt(r[8],10)},RO:function(e){return/^(RO)?\d{2,10}$/.test(e)},SK:function(e){return/^(SK)?\d{10}$/.test(e)},SI:function(e){return/^(SI)?\d{8}$/.test(e)},ES:function(e){return/^(ES)?\w\d{7}[A-Z]$/.test(e)},SE:function(e){return/^(SE)?\d{12}$/.test(e)},AL:function(e){return/^(AL)?\w{9}[A-Z]$/.test(e)},MK:function(e){return/^(MK)?\d{13}$/.test(e)},AU:function(e){return/^(AU)?\d{11}$/.test(e)},BY:function(e){return/^(УНП )?\d{9}$/.test(e)},CA:function(e){return/^(CA)?\d{9}$/.test(e)},IS:function(e){return/^(IS)?\d{5,6}$/.test(e)},IN:function(e){return/^(IN)?\d{15}$/.test(e)},ID:function(e){return/^(ID)?(\d{15}|(\d{2}.\d{3}.\d{3}.\d{1}-\d{3}.\d{3}))$/.test(e)},IL:function(e){return/^(IL)?\d{9}$/.test(e)},KZ:function(e){return/^(KZ)?\d{9}$/.test(e)},NZ:function(e){return/^(NZ)?\d{9}$/.test(e)},NG:function(e){return/^(NG)?(\d{12}|(\d{8}-\d{4}))$/.test(e)},NO:function(e){return/^(NO)?\d{9}MVA$/.test(e)},PH:function(e){return/^(PH)?(\d{12}|\d{3} \d{3} \d{3} \d{3})$/.test(e)},RU:function(e){return/^(RU)?(\d{10}|\d{12})$/.test(e)},SM:function(e){return/^(SM)?\d{5}$/.test(e)},SA:function(e){return/^(SA)?\d{15}$/.test(e)},RS:function(e){return/^(RS)?\d{9}$/.test(e)},CH:function(e){var t,r,n;return/^(CHE[- ]?)?(\d{9}|(\d{3}\.\d{3}\.\d{3})|(\d{3} \d{3} \d{3})) ?(TVA|MWST|IVA)?$/.test(e)&&(r=(t=e.match(/\d/g).map(function(e){return+e})).pop(),n=[5,4,3,2,7,6,5,4],r===(11-t.reduce(function(e,t,r){return e+t*n[r]},0)%11)%11)},TR:function(e){return/^(TR)?\d{10}$/.test(e)},UA:function(e){return/^(UA)?\d{12}$/.test(e)},GB:function(e){return/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/.test(e)},UZ:function(e){return/^(UZ)?\d{9}$/.test(e)},AR:function(e){return/^(AR)?\d{11}$/.test(e)},BO:function(e){return/^(BO)?\d{7}$/.test(e)},BR:function(e){return/^(BR)?((\d{2}.\d{3}.\d{3}\/\d{4}-\d{2})|(\d{3}.\d{3}.\d{3}-\d{2}))$/.test(e)},CL:function(e){return/^(CL)?\d{8}-\d{1}$/.test(e)},CO:function(e){return/^(CO)?\d{10}$/.test(e)},CR:function(e){return/^(CR)?\d{9,12}$/.test(e)},EC:function(e){return/^(EC)?\d{13}$/.test(e)},SV:function(e){return/^(SV)?\d{4}-\d{6}-\d{3}-\d{1}$/.test(e)},GT:function(e){return/^(GT)?\d{7}-\d{1}$/.test(e)},HN:function(e){return/^(HN)?$/.test(e)},MX:function(e){return/^(MX)?\w{3,4}\d{6}\w{3}$/.test(e)},NI:function(e){return/^(NI)?\d{3}-\d{6}-\d{4}\w{1}$/.test(e)},PA:function(e){return/^(PA)?$/.test(e)},PY:function(e){return/^(PY)?\d{6,8}-\d{1}$/.test(e)},PE:function(e){return/^(PE)?\d{11}$/.test(e)},DO:function(e){return/^(DO)?(\d{11}|(\d{3}-\d{7}-\d{1})|[1,4,5]{1}\d{8}|([1,4,5]{1})-\d{2}-\d{5}-\d{1})$/.test(e)},UY:function(e){return/^(UY)?\d{12}$/.test(e)},VE:function(e){return/^(VE)?[J,G,V,E]{1}-(\d{9}|(\d{8}-\d{1}))$/.test(e)}};t.vatMatchers=l},91457:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.fullWidth.test(e)&&a.halfWidth.test(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n},o=r(16384),a=r(34241);e.exports=t.default,e.exports.default=t.default},73050:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);for(var r=e.length-1;r>=0;r--)if(-1===t.indexOf(e[r]))return!1;return!0};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},6389:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var r=t?RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(r,"")};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},38937:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,i.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,r)),!!e.match(t)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},67072:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,i.default)(t,o);var r=e.split("@"),n=r.pop(),d=[r.join("@"),n];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,u)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(a.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(s.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var f=d[0].split("-");d[0]=f.length>1?f.slice(0,-1).join("-"):f[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else c.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var n,i=(n=r(22104))&&n.__esModule?n:{default:n},o={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},33014:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t){var r=RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(r,"")}for(var n=e.length-1;/\s/.test(e.charAt(n));)n-=1;return e.slice(0,n+1)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},98120:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)(e),(0,i.default)(e,t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F")};var n=o(r(21956)),i=o(r(73887));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},95005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return((0,i.default)(e),t)?"1"===e||/^true$/i.test(e):"0"!==e&&!/^false$/i.test(e)&&""!==e};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},56606:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),isNaN(e=Date.parse(e))?null:new Date(e)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},84218:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)?parseFloat(e):NaN};var n,i=(n=r(7639))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},80970:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),parseInt(e,t||10)};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},79041:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,n.default)((0,i.default)(e,t),t)};var n=o(r(33014)),i=o(r(6389));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},75621:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},88464:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=function(e){for(var t=10,r=0;r<e.length-1;r++)t=(parseInt(e[r],10)+t)%10==0?9:(parseInt(e[r],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)},t.luhnCheck=function(e){for(var t=0,r=!1,n=e.length-1;n>=0;n--){if(r){var i=2*parseInt(e[n],10);i>9?t+=i.toString().split("").map(function(e){return parseInt(e,10)}).reduce(function(e,t){return e+t},0):t+=i}else t+=parseInt(e[n],10);r=!r}return t%10==0},t.reverseMultiplyAndSum=function(e,t){for(var r=0,n=0;n<e.length;n++)r+=e[n]*(t-n);return r},t.verhoeffCheck=function(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],r=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],n=e.split("").reverse().join(""),i=0,o=0;o<n.length;o++)i=t[i][r[o%8][parseInt(n[o],10)]];return 0===i}},21956:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},41788:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=function(e,t){return e.some(function(e){return t===e})},e.exports=t.default,e.exports.default=t.default},22104:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default},74971:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return new RegExp(e.join(""),t)},e.exports=t.default,e.exports.default=t.default},30862:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"object"===r(e)&&null!==e?e="function"==typeof e.toString?e.toString():"[object Object]":(null==e||isNaN(e)&&!e.length)&&(e=""),String(e)},e.exports=t.default,e.exports.default=t.default},51057:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(RegExp("[^".concat(t,"]+"),"g"),"")};var n,i=(n=r(21956))&&n.__esModule?n:{default:n};e.exports=t.default,e.exports.default=t.default},22212:function(e){e.exports=function e(t,r){var n,i=0,r=r||0,o=0,a=r,s=t.length;do{if(a>=s||o>49)throw e.bytes=0,RangeError("Could not decode varint");n=t[a++],i+=o<28?(127&n)<<o:(127&n)*Math.pow(2,o),o+=7}while(n>=128);return e.bytes=a-r,i}},4834:function(e){e.exports=function e(r,n,i){if(Number.MAX_SAFE_INTEGER&&r>Number.MAX_SAFE_INTEGER)throw e.bytes=0,RangeError("Could not encode varint");n=n||[];for(var o=i=i||0;r>=2147483648;)n[i++]=255&r|128,r/=128;for(;r&t;)n[i++]=255&r|128,r>>>=7;return n[i]=0|r,e.bytes=i-o+1,n};var t=-128},28965:function(e,t,r){e.exports={encode:r(4834),decode:r(22212),encodingLength:r(30403)}},30403:function(e){e.exports=function(e){return e<128?1:e<16384?2:e<2097152?3:e<268435456?4:e<34359738368?5:e<4398046511104?6:e<562949953421312?7:e<72057594037927940?8:e<0x7fffffffffffffff?9:10}},55e3:function(e,t,r){var n="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();(function(e){var t=void 0!==i&&i||"undefined"!=typeof self&&self||void 0!==t&&t,r={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(r.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],o=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};function a(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function s(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r.iterable&&(t[Symbol.iterator]=function(){return t}),t}function Headers(e){this.map={},e instanceof Headers?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function c(e){if(e.bodyUsed)return Promise.reject(TypeError("Already read"));e.bodyUsed=!0}function u(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function d(e){var t=new FileReader,r=u(t);return t.readAsArrayBuffer(e),r}function f(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function p(){return this.bodyUsed=!1,this._initBody=function(e){if(this.bodyUsed=this.bodyUsed,this._bodyInit=e,e){if("string"==typeof e)this._bodyText=e;else if(r.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(r.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else{var t;r.arrayBuffer&&r.blob&&(t=e)&&DataView.prototype.isPrototypeOf(t)?(this._bodyArrayBuffer=f(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||o(e))?this._bodyArrayBuffer=f(e):this._bodyText=e=Object.prototype.toString.call(e)}}else this._bodyText="";!this.headers.get("content-type")&&("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var e=c(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(!this._bodyFormData)return Promise.resolve(new Blob([this._bodyText]));throw Error("could not read FormData body as blob")},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer)):this.blob().then(d)}),this.text=function(){var e,t,r,n=c(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,r=u(t=new FileReader),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(!this._bodyFormData)return Promise.resolve(this._bodyText);throw Error("could not read FormData body as text")},r.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}Headers.prototype.append=function(e,t){e=a(e),t=s(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},Headers.prototype.delete=function(e){delete this.map[a(e)]},Headers.prototype.get=function(e){return e=a(e),this.has(e)?this.map[e]:null},Headers.prototype.has=function(e){return this.map.hasOwnProperty(a(e))},Headers.prototype.set=function(e,t){this.map[a(e)]=s(t)},Headers.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},Headers.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),l(e)},Headers.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),l(e)},Headers.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),l(e)},r.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Request(e,t){if(!(this instanceof Request))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r,n,i=(t=t||{}).body;if(e instanceof Request){if(e.bodyUsed)throw TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new Headers(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new Headers(t.headers)),this.method=(n=(r=t.method||this.method||"GET").toUpperCase(),h.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var o=/([?&])_=[^&]*/;o.test(this.url)?this.url=this.url.replace(o,"$1_="+new Date().getTime()):this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime()}}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function Response(e,t){if(!(this instanceof Response))throw TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new Headers(t.headers),this.url=t.url||"",this._initBody(e)}Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},p.call(Request.prototype),p.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var e=new Response(null,{status:0,statusText:""});return e.type="error",e};var g=[301,302,303,307,308];Response.redirect=function(e,t){if(-1===g.indexOf(t))throw RangeError("Invalid status code");return new Response(null,{status:t,headers:{location:e}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function v(n,i){return new Promise(function(o,a){var l=new Request(n,i);if(l.signal&&l.signal.aborted)return a(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function u(){c.abort()}c.onload=function(){var e,t,r={status:c.status,statusText:c.statusText,headers:(e=c.getAllResponseHeaders()||"",t=new Headers,e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};r.url="responseURL"in c?c.responseURL:r.headers.get("X-Request-URL");var n="response"in c?c.response:c.responseText;setTimeout(function(){o(new Response(n,r))},0)},c.onerror=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.ontimeout=function(){setTimeout(function(){a(TypeError("Network request failed"))},0)},c.onabort=function(){setTimeout(function(){a(new e.DOMException("Aborted","AbortError"))},0)},c.open(l.method,function(e){try{return""===e&&t.location.href?t.location.href:e}catch(t){return e}}(l.url),!0),"include"===l.credentials?c.withCredentials=!0:"omit"===l.credentials&&(c.withCredentials=!1),"responseType"in c&&(r.blob?c.responseType="blob":r.arrayBuffer&&l.headers.get("Content-Type")&&-1!==l.headers.get("Content-Type").indexOf("application/octet-stream")&&(c.responseType="arraybuffer")),!i||"object"!=typeof i.headers||i.headers instanceof Headers?l.headers.forEach(function(e,t){c.setRequestHeader(t,e)}):Object.getOwnPropertyNames(i.headers).forEach(function(e){c.setRequestHeader(e,s(i.headers[e]))}),l.signal&&(l.signal.addEventListener("abort",u),c.onreadystatechange=function(){4===c.readyState&&l.signal.removeEventListener("abort",u)}),c.send(void 0===l._bodyInit?null:l._bodyInit)})}v.polyfill=!0,t.fetch||(t.fetch=v,t.Headers=Headers,t.Request=Request,t.Response=Response),e.Headers=Headers,e.Request=Request,e.Response=Response,e.fetch=v})({}),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var o=n.fetch?n:i;(t=o.fetch).default=o.fetch,t.fetch=o.fetch,t.Headers=o.Headers,t.Request=o.Request,t.Response=o.Response,e.exports=t},34526:function(e){"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},79584:function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function Node(e,t,r,n){if(!(this instanceof Node))return new Node(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}e.exports=n,n.Node=Node,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.tail=new Node(e,this.tail,null,this),this.head||(this.head=this.tail),this.length++;return this.length},n.prototype.unshift=function(){for(var e,t=0,r=arguments.length;t<r;t++)e=arguments[t],this.head=new Node(e,null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else if(this.head)n=this.head.next,r=this.head.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else if(this.tail)n=this.tail.prev,r=this.tail.value;else throw TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,i=this.head;null!==i&&n<e;n++)i=i.next;for(var o=[],n=0;i&&n<t;n++)o.push(i.value),i=this.removeNode(i);null===i&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var n=0;n<r.length;n++)i=function(e,t,r){var n=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}(this,i,r[n]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{r(34526)(n)}catch(e){}},55994:function(e,t,r){"use strict";var n,i,o,a=r(67133).Buffer;function s(e,t){return function(){return e.apply(t,arguments)}}let{toString:l}=Object.prototype,{getPrototypeOf:c}=Object,u=(n=Object.create(null),e=>{let t=l.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())}),d=e=>(e=e.toLowerCase(),t=>u(t)===e),f=e=>t=>typeof t===e,{isArray:p}=Array,h=f("undefined"),y=d("ArrayBuffer"),g=f("string"),v=f("function"),m=f("number"),b=e=>null!==e&&"object"==typeof e,_=e=>{if("object"!==u(e))return!1;let t=c(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},w=d("Date"),S=d("File"),O=d("Blob"),M=d("FileList"),R=d("URLSearchParams");function P(e,t,{allOwnKeys:r=!1}={}){let n,i;if(null!=e){if("object"!=typeof e&&(e=[e]),p(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{let i;let o=r?Object.getOwnPropertyNames(e):Object.keys(e),a=o.length;for(n=0;n<a;n++)i=o[n],t.call(null,e[i],i,e)}}}function E(e,t){let r;t=t.toLowerCase();let n=Object.keys(e),i=n.length;for(;i-- >0;)if(t===(r=n[i]).toLowerCase())return r;return null}let I="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:r.g,x=e=>!h(e)&&e!==I,A=(i="undefined"!=typeof Uint8Array&&c(Uint8Array),e=>i&&e instanceof i),C=d("HTMLFormElement"),j=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),T=d("RegExp"),$=(e,t)=>{let r=Object.getOwnPropertyDescriptors(e),n={};P(r,(r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)}),Object.defineProperties(e,n)},D="abcdefghijklmnopqrstuvwxyz",N="0123456789",k={DIGIT:N,ALPHA:D,ALPHA_DIGIT:D+D.toUpperCase()+N},B=d("AsyncFunction");var F={isArray:p,isArrayBuffer:y,isBuffer:function(e){return null!==e&&!h(e)&&null!==e.constructor&&!h(e.constructor)&&v(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||v(e.append)&&("formdata"===(t=u(e))||"object"===t&&v(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&y(e.buffer)},isString:g,isNumber:m,isBoolean:e=>!0===e||!1===e,isObject:b,isPlainObject:_,isUndefined:h,isDate:w,isFile:S,isBlob:O,isRegExp:T,isFunction:v,isStream:e=>b(e)&&v(e.pipe),isURLSearchParams:R,isTypedArray:A,isFileList:M,forEach:P,merge:function e(){let{caseless:t}=x(this)&&this||{},r={},n=(n,i)=>{let o=t&&E(r,i)||i;_(r[o])&&_(n)?r[o]=e(r[o],n):_(n)?r[o]=e({},n):p(n)?r[o]=n.slice():r[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&P(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(P(t,(t,n)=>{r&&v(t)?e[n]=s(t,r):e[n]=t},{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,a;let s={};if(t=t||{},null==e)return t;do{for(o=(i=Object.getOwnPropertyNames(e)).length;o-- >0;)a=i[o],(!n||n(a,e,t))&&!s[a]&&(t[a]=e[a],s[a]=!0);e=!1!==r&&c(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:u,kindOfTest:d,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;let n=e.indexOf(t,r);return -1!==n&&n===r},toArray:e=>{if(!e)return null;if(p(e))return e;let t=e.length;if(!m(t))return null;let r=Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{let r;let n=e&&e[Symbol.iterator],i=n.call(e);for(;(r=i.next())&&!r.done;){let n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let r;let n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:C,hasOwnProperty:j,hasOwnProp:j,reduceDescriptors:$,freezeMethods:e=>{$(e,(t,r)=>{if(v(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;let n=e[r];if(v(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},toObjectSet:(e,t)=>{let r={};return(e=>{e.forEach(e=>{r[e]=!0})})(p(e)?e:String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,r){return t.toUpperCase()+r}),noop:()=>{},toFiniteNumber:(e,t)=>Number.isFinite(e=+e)?e:t,findKey:E,global:I,isContextDefined:x,ALPHABET:k,generateString:(e=16,t=k.ALPHA_DIGIT)=>{let r="",{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&v(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{let t=Array(10),r=(e,n)=>{if(b(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;let i=p(e)?[]:{};return P(e,(e,t)=>{let o=r(e,n+1);h(o)||(i[t]=o)}),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:B,isThenable:e=>e&&(b(e)||v(e))&&v(e.then)&&v(e.catch)};function L(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}F.inherits(L,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});let U=L.prototype,V={};function K(e){return F.isPlainObject(e)||F.isArray(e)}function W(e){return F.endsWith(e,"[]")?e.slice(0,-2):e}function J(e,t,r){return e?e.concat(t).map(function(e,t){return e=W(e),!r&&t?"["+e+"]":e}).join(r?".":""):t}["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{V[e]={value:e}}),Object.defineProperties(L,V),Object.defineProperty(U,"isAxiosError",{value:!0}),L.from=(e,t,r,n,i,o)=>{let a=Object.create(U);return F.toFlatObject(e,a,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),L.call(a,e.message,t,r,n,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};let H=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function q(e,t,r){if(!F.isObject(e))throw TypeError("target must be an object");t=t||new FormData,r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!F.isUndefined(t[e])});let n=r.metaTokens,i=r.visitor||d,o=r.dots,s=r.indexes,l=r.Blob||"undefined"!=typeof Blob&&Blob,c=l&&F.isSpecCompliantForm(t);if(!F.isFunction(i))throw TypeError("visitor must be a function");function u(e){if(null===e)return"";if(F.isDate(e))return e.toISOString();if(!c&&F.isBlob(e))throw new L("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(e)||F.isTypedArray(e)?c&&"function"==typeof Blob?new Blob([e]):a.from(e):e}function d(e,r,i){let a=e;if(e&&!i&&"object"==typeof e){if(F.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else{var l;if(F.isArray(e)&&(l=e,F.isArray(l)&&!l.some(K))||(F.isFileList(e)||F.endsWith(r,"[]"))&&(a=F.toArray(e)))return r=W(r),a.forEach(function(e,n){F.isUndefined(e)||null===e||t.append(!0===s?J([r],n,o):null===s?r:r+"[]",u(e))}),!1}}return!!K(e)||(t.append(J(i,r,o),u(e)),!1)}let f=[],p=Object.assign(H,{defaultVisitor:d,convertValue:u,isVisitable:K});if(!F.isObject(e))throw TypeError("data must be an object");return!function e(r,n){if(!F.isUndefined(r)){if(-1!==f.indexOf(r))throw Error("Circular reference detected in "+n.join("."));f.push(r),F.forEach(r,function(r,o){let a=!(F.isUndefined(r)||null===r)&&i.call(t,r,F.isString(o)?o.trim():o,n,p);!0===a&&e(r,n?n.concat(o):[o])}),f.pop()}}(e),t}function Z(e){let t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\x00"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function G(e,t){this._pairs=[],e&&q(e,this,t)}let z=G.prototype;function Y(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function X(e,t,r){let n;if(!t)return e;let i=r&&r.encode||Y,o=r&&r.serialize;if(n=o?o(t,r):F.isURLSearchParams(t)?t.toString():new G(t,r).toString(i)){let t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e}z.append=function(e,t){this._pairs.push([e,t])},z.toString=function(e){let t=e?function(t){return e.call(this,t,Z)}:Z;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};class Q{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(t){null!==t&&e(t)})}}var ee={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},et="undefined"!=typeof URLSearchParams?URLSearchParams:G,er="undefined"!=typeof FormData?FormData:null,en="undefined"!=typeof Blob?Blob:null;let ei="undefined"!=typeof window&&"undefined"!=typeof document,eo=(o="undefined"!=typeof navigator&&navigator.product,ei&&0>["ReactNative","NativeScript","NS"].indexOf(o)),ea="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts;var es={...Object.freeze({__proto__:null,hasBrowserEnv:ei,hasStandardBrowserWebWorkerEnv:ea,hasStandardBrowserEnv:eo}),isBrowser:!0,classes:{URLSearchParams:et,FormData:er,Blob:en},protocols:["http","https","file","blob","url","data"]};function el(e){if(F.isFormData(e)&&F.isFunction(e.entries)){let t={};return F.forEachEntry(e,(e,r)=>{!function e(t,r,n,i){let o=t[i++],a=Number.isFinite(+o),s=i>=t.length;if(o=!o&&F.isArray(n)?n.length:o,s)return F.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!a;n[o]&&F.isObject(n[o])||(n[o]=[]);let l=e(t,r,n[o],i);return l&&F.isArray(n[o])&&(n[o]=function(e){let t,r;let n={},i=Object.keys(e),o=i.length;for(t=0;t<o;t++)n[r=i[t]]=e[r];return n}(n[o])),!a}(F.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0]),r,t,0)}),t}return null}let ec={transitional:ee,adapter:["xhr","http"],transformRequest:[function(e,t){let r;let n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=F.isObject(e);o&&F.isHTMLForm(e)&&(e=new FormData(e));let a=F.isFormData(e);if(a)return i&&i?JSON.stringify(el(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1){var s,l;return(s=e,l=this.formSerializer,q(s,new es.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return es.isNode&&F.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},l))).toString()}if((r=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){let t=this.env&&this.env.FormData;return q(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,r){if(F.isString(e))try{return(0,JSON.parse)(e),F.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){let t=this.transitional||ec.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(e&&F.isString(e)&&(r&&!this.responseType||n)){let r=t&&t.silentJSONParsing;try{return JSON.parse(e)}catch(e){if(!r&&n){if("SyntaxError"===e.name)throw L.from(e,L.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:es.classes.FormData,Blob:es.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],e=>{ec.headers[e]={}});let eu=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var ed=e=>{let t,r,n;let i={};return e&&e.split("\n").forEach(function(e){n=e.indexOf(":"),t=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!t||i[t]&&eu[t]||("set-cookie"===t?i[t]?i[t].push(r):i[t]=[r]:i[t]=i[t]?i[t]+", "+r:r)}),i};let ef=Symbol("internals");function ep(e){return e&&String(e).trim().toLowerCase()}function eh(e){return!1===e||null==e?e:F.isArray(e)?e.map(eh):String(e)}let ey=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function eg(e,t,r,n,i){if(F.isFunction(n))return n.call(this,t,r);if(i&&(t=r),F.isString(t)){if(F.isString(n))return -1!==t.indexOf(n);if(F.isRegExp(n))return n.test(t)}}class ev{constructor(e){e&&this.set(e)}set(e,t,r){let n=this;function i(e,t,r){let i=ep(t);if(!i)throw Error("header name must be a non-empty string");let o=F.findKey(n,i);o&&void 0!==n[o]&&!0!==r&&(void 0!==r||!1===n[o])||(n[o||t]=eh(e))}let o=(e,t)=>F.forEach(e,(e,r)=>i(e,r,t));return F.isPlainObject(e)||e instanceof this.constructor?o(e,t):F.isString(e)&&(e=e.trim())&&!ey(e)?o(ed(e),t):null!=e&&i(t,e,r),this}get(e,t){if(e=ep(e)){let r=F.findKey(this,e);if(r){let e=this[r];if(!t)return e;if(!0===t)return function(e){let t;let r=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;for(;t=n.exec(e);)r[t[1]]=t[2];return r}(e);if(F.isFunction(t))return t.call(this,e,r);if(F.isRegExp(t))return t.exec(e);throw TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ep(e)){let r=F.findKey(this,e);return!!(r&&void 0!==this[r]&&(!t||eg(this,this[r],r,t)))}return!1}delete(e,t){let r=this,n=!1;function i(e){if(e=ep(e)){let i=F.findKey(r,e);i&&(!t||eg(r,r[i],i,t))&&(delete r[i],n=!0)}}return F.isArray(e)?e.forEach(i):i(e),n}clear(e){let t=Object.keys(this),r=t.length,n=!1;for(;r--;){let i=t[r];(!e||eg(this,this[i],i,e,!0))&&(delete this[i],n=!0)}return n}normalize(e){let t=this,r={};return F.forEach(this,(n,i)=>{let o=F.findKey(r,i);if(o){t[o]=eh(n),delete t[i];return}let a=e?i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r):String(i).trim();a!==i&&delete t[i],t[a]=eh(n),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){let t=Object.create(null);return F.forEach(this,(r,n)=>{null!=r&&!1!==r&&(t[n]=e&&F.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){let r=new this(e);return t.forEach(e=>r.set(e)),r}static accessor(e){let t=this[ef]=this[ef]={accessors:{}},r=t.accessors,n=this.prototype;function i(e){let t=ep(e);r[t]||(!function(e,t){let r=F.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})})}(n,e),r[t]=!0)}return F.isArray(e)?e.forEach(i):i(e),this}}function em(e,t){let r=this||ec,n=t||r,i=ev.from(n.headers),o=n.data;return F.forEach(e,function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function eb(e){return!!(e&&e.__CANCEL__)}function e_(e,t,r){L.call(this,null==e?"canceled":e,L.ERR_CANCELED,t,r),this.name="CanceledError"}ev.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),F.reduceDescriptors(ev.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}}),F.freezeMethods(ev),F.inherits(e_,L,{__CANCEL__:!0});var ew=es.hasStandardBrowserEnv?{write(e,t,r,n,i,o){let a=[e+"="+encodeURIComponent(t)];F.isNumber(r)&&a.push("expires="+new Date(r).toGMTString()),F.isString(n)&&a.push("path="+n),F.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){let t=document.cookie.match(RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function eS(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e:t}var eO=es.hasStandardBrowserEnv?function(){let e;let t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){let n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){let r=F.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0};function eM(e,t){let r=0,n=function(e,t){let r;e=e||10;let n=Array(e),i=Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){let l=Date.now(),c=i[a];r||(r=l),n[o]=s,i[o]=l;let u=a,d=0;for(;u!==o;)d+=n[u++],u%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),l-r<t)return;let f=c&&l-c;return f?Math.round(1e3*d/f):void 0}}(50,250);return i=>{let o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-r,l=n(s);r=o;let c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&o<=a?(a-o)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}let eR="undefined"!=typeof XMLHttpRequest;var eP=eR&&function(e){return new Promise(function(t,r){let n,i,o=e.data,a=ev.from(e.headers).normalize(),{responseType:s,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(n),e.signal&&e.signal.removeEventListener("abort",n)}if(F.isFormData(o)){if(es.hasStandardBrowserEnv||es.hasStandardBrowserWebWorkerEnv)a.setContentType(!1);else if(!1!==(i=a.getContentType())){let[e,...t]=i?i.split(";").map(e=>e.trim()).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}}let u=new XMLHttpRequest;if(e.auth){let t=e.auth.username||"",r=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";a.set("Authorization","Basic "+btoa(t+":"+r))}let d=eS(e.baseURL,e.url);function f(){if(!u)return;let n=ev.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),i=s&&"text"!==s&&"json"!==s?u.response:u.responseText,o={data:i,status:u.status,statusText:u.statusText,headers:n,config:e,request:u};!function(e,t,r){let n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new L("Request failed with status code "+r.status,[L.ERR_BAD_REQUEST,L.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}(function(e){t(e),c()},function(e){r(e),c()},o),u=null}if(u.open(e.method.toUpperCase(),X(d,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=f:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(f)},u.onabort=function(){u&&(r(new L("Request aborted",L.ECONNABORTED,e,u)),u=null)},u.onerror=function(){r(new L("Network Error",L.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",n=e.transitional||ee;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(new L(t,n.clarifyTimeoutError?L.ETIMEDOUT:L.ECONNABORTED,e,u)),u=null},es.hasStandardBrowserEnv&&(l&&F.isFunction(l)&&(l=l(e)),l||!1!==l&&eO(d))){let t=e.xsrfHeaderName&&e.xsrfCookieName&&ew.read(e.xsrfCookieName);t&&a.set(e.xsrfHeaderName,t)}void 0===o&&a.setContentType(null),"setRequestHeader"in u&&F.forEach(a.toJSON(),function(e,t){u.setRequestHeader(t,e)}),F.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),s&&"json"!==s&&(u.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&u.addEventListener("progress",eM(e.onDownloadProgress,!0)),"function"==typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",eM(e.onUploadProgress)),(e.cancelToken||e.signal)&&(n=t=>{u&&(r(!t||t.type?new e_(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(n),e.signal&&(e.signal.aborted?n():e.signal.addEventListener("abort",n)));let p=function(e){let t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(d);if(p&&-1===es.protocols.indexOf(p)){r(new L("Unsupported protocol "+p+":",L.ERR_BAD_REQUEST,e));return}u.send(o||null)})};let eE={http:null,xhr:eP};F.forEach(eE,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}});let eI=e=>`- ${e}`,ex=e=>F.isFunction(e)||null===e||!1===e;var eA={getAdapter:e=>{let t,r;e=F.isArray(e)?e:[e];let{length:n}=e,i={};for(let o=0;o<n;o++){let n;if(r=t=e[o],!ex(t)&&void 0===(r=eE[(n=String(t)).toLowerCase()]))throw new L(`Unknown adapter '${n}'`);if(r)break;i[n||"#"+o]=r}if(!r){let e=Object.entries(i).map(([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build"));throw new L("There is no suitable adapter to dispatch the request "+(n?e.length>1?"since :\n"+e.map(eI).join("\n"):" "+eI(e[0]):"as no adapter specified"),"ERR_NOT_SUPPORT")}return r},adapters:eE};function eC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new e_(null,e)}function ej(e){eC(e),e.headers=ev.from(e.headers),e.data=em.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);let t=eA.getAdapter(e.adapter||ec.adapter);return t(e).then(function(t){return eC(e),t.data=em.call(e,e.transformResponse,t),t.headers=ev.from(t.headers),t},function(t){return!eb(t)&&(eC(e),t&&t.response&&(t.response.data=em.call(e,e.transformResponse,t.response),t.response.headers=ev.from(t.response.headers))),Promise.reject(t)})}let eT=e=>e instanceof ev?e.toJSON():e;function e$(e,t){t=t||{};let r={};function n(e,t,r){return F.isPlainObject(e)&&F.isPlainObject(t)?F.merge.call({caseless:r},e,t):F.isPlainObject(t)?F.merge({},t):F.isArray(t)?t.slice():t}function i(e,t,r){return F.isUndefined(t)?F.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!F.isUndefined(t))return n(void 0,t)}function a(e,t){return F.isUndefined(t)?F.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function s(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}let l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(eT(e),eT(t),!0)};return F.forEach(Object.keys(Object.assign({},e,t)),function(n){let o=l[n]||i,a=o(e[n],t[n],n);F.isUndefined(a)&&o!==s||(r[n]=a)}),r}let eD="1.6.2",eN={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{eN[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});let ek={};eN.transitional=function(e,t,r){function n(e,t){return"[Axios v"+eD+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new L(n(i," has been removed"+(t?" in "+t:"")),L.ERR_DEPRECATED);return t&&!ek[i]&&(ek[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};var eB={assertOptions:function(e,t,r){if("object"!=typeof e)throw new L("options must be an object",L.ERR_BAD_OPTION_VALUE);let n=Object.keys(e),i=n.length;for(;i-- >0;){let o=n[i],a=t[o];if(a){let t=e[o],r=void 0===t||a(t,o,e);if(!0!==r)throw new L("option "+o+" must be "+r,L.ERR_BAD_OPTION_VALUE);continue}if(!0!==r)throw new L("Unknown option "+o,L.ERR_BAD_OPTION)}},validators:eN};let eF=eB.validators;class eL{constructor(e){this.defaults=e,this.interceptors={request:new Q,response:new Q}}request(e,t){let r,n;"string"==typeof e?(t=t||{}).url=e:t=e||{},t=e$(this.defaults,t);let{transitional:i,paramsSerializer:o,headers:a}=t;void 0!==i&&eB.assertOptions(i,{silentJSONParsing:eF.transitional(eF.boolean),forcedJSONParsing:eF.transitional(eF.boolean),clarifyTimeoutError:eF.transitional(eF.boolean)},!1),null!=o&&(F.isFunction(o)?t.paramsSerializer={serialize:o}:eB.assertOptions(o,{encode:eF.function,serialize:eF.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&F.merge(a.common,a[t.method]);a&&F.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=ev.concat(s,a);let l=[],c=!0;this.interceptors.request.forEach(function(e){("function"!=typeof e.runWhen||!1!==e.runWhen(t))&&(c=c&&e.synchronous,l.unshift(e.fulfilled,e.rejected))});let u=[];this.interceptors.response.forEach(function(e){u.push(e.fulfilled,e.rejected)});let d=0;if(!c){let e=[ej.bind(this),void 0];for(e.unshift.apply(e,l),e.push.apply(e,u),n=e.length,r=Promise.resolve(t);d<n;)r=r.then(e[d++],e[d++]);return r}n=l.length;let f=t;for(d=0;d<n;){let e=l[d++],t=l[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{r=ej.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,n=u.length;d<n;)r=r.then(u[d++],u[d++]);return r}getUri(e){e=e$(this.defaults,e);let t=eS(e.baseURL,e.url);return X(t,e.params,e.paramsSerializer)}}F.forEach(["delete","get","head","options"],function(e){eL.prototype[e]=function(t,r){return this.request(e$(r||{},{method:e,url:t,data:(r||{}).data}))}}),F.forEach(["post","put","patch"],function(e){function t(t){return function(r,n,i){return this.request(e$(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}eL.prototype[e]=t(),eL.prototype[e+"Form"]=t(!0)});class eU{constructor(e){let t;if("function"!=typeof e)throw TypeError("executor must be a function.");this.promise=new Promise(function(e){t=e});let r=this;this.promise.then(e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null}),this.promise.then=e=>{let t;let n=new Promise(e=>{r.subscribe(e),t=e}).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e(function(e,n,i){r.reason||(r.reason=new e_(e,n,i),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;let t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;let t=new eU(function(t){e=t});return{token:t,cancel:e}}}let eV={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(eV).forEach(([e,t])=>{eV[t]=e});let eK=function e(t){let r=new eL(t),n=s(eL.prototype.request,r);return F.extend(n,eL.prototype,r,{allOwnKeys:!0}),F.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(e$(t,r))},n}(ec);eK.Axios=eL,eK.CanceledError=e_,eK.CancelToken=eU,eK.isCancel=eb,eK.VERSION=eD,eK.toFormData=q,eK.AxiosError=L,eK.Cancel=eK.CanceledError,eK.all=function(e){return Promise.all(e)},eK.spread=function(e){return function(t){return e.apply(null,t)}},eK.isAxiosError=function(e){return F.isObject(e)&&!0===e.isAxiosError},eK.mergeConfig=e$,eK.AxiosHeaders=ev,eK.formToJSON=e=>el(F.isHTMLForm(e)?new FormData(e):e),eK.getAdapter=eA.getAdapter,eK.HttpStatusCode=eV,eK.default=eK,e.exports=eK},21234:function(e,t){function r(){let e=new Map;return function(t,r){try{let i;function n(n){if(i)return n;let o=e.get(t.didUrl);return void 0!==o?o:Promise.resolve(r()).then(function(r){var n;return(null==(n=r.didResolutionMetadata)?void 0:n.error)!=="notFound"&&e.set(t.didUrl,r),r})}let o=function(){if(t.params&&"true"===t.params["no-cache"])return Promise.resolve(r()).then(function(e){return i=1,e})}();return Promise.resolve(o&&o.then?o.then(n):n(o))}catch(e){return Promise.reject(e)}}}function n(e,t){return t()}let i="(?:[a-zA-Z0-9._-]|(?:%[0-9a-fA-F]{2}))",o=`((?:${i}*:)*(${i}+))`,a="[a-zA-Z0-9_.:%-]",s=`;${a}+=${a}*`,l=`((${s})*)`,c=RegExp(`^did:([a-z0-9]+):${o}${l}(/[^#?]*)?([?][^#]*)?(#.*)?$`);function u(e){if(""===e||!e)return null;let t=e.match(c);if(t){let r={did:`did:${t[1]}:${t[2]}`,method:t[1],id:t[2],didUrl:e};if(t[4]){let e=t[4].slice(1).split(";");for(let t of(r.params={},e)){let e=t.split("=");r.params[e[0]]=e[1]}}return t[6]&&(r.path=t[6]),t[7]&&(r.query=t[7].slice(1)),t[8]&&(r.fragment=t[8].slice(1)),r}return null}let d={didResolutionMetadata:{},didDocument:null,didDocumentMetadata:{}};function f(e){return function(t,r,n){try{return Promise.resolve(function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(function(){return Promise.resolve(e(t,r,n)).then(function(e){return{...d,didResolutionMetadata:{contentType:"application/did+ld+json"},didDocument:e}})},function(e){return{...d,didResolutionMetadata:{error:"notFound",message:e.toString()}}}))}catch(e){return Promise.reject(e)}}}class p{constructor(e={},t={}){this.registry=void 0,this.cache=void 0,this.registry=e,this.cache=!0===t.cache?r():t.cache||n,t.legacyResolvers&&Object.keys(t.legacyResolvers).map(e=>{this.registry[e]||(this.registry[e]=f(t.legacyResolvers[e]))})}resolve(e,t={}){try{let r=this,n=u(e);if(null===n)return Promise.resolve({...d,didResolutionMetadata:{error:"invalidDid"}});let i=r.registry[n.method];if(!i)return Promise.resolve({...d,didResolutionMetadata:{error:"unsupportedDidMethod"}});return Promise.resolve(r.cache(n,()=>i(n.did,n,r,t)))}catch(e){return Promise.reject(e)}}}t.Resolver=p,t.inMemoryCache=r,t.noCache=n,t.parse=u,t.wrapLegacyResolver=f},89515:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=h(r(98635)),o=h(r(9784)),a=h(r(95637)),s=p(r(85815)),l=p(r(41371)),c=h(r(64851)),u=h(r(18982)),d=h(r(95863));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}function h(e){return e&&e.__esModule?e:{default:e}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var v=function(){var e,t;function r(e,t){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.metadata=new i.default(t);var n,o=function(e){if(Array.isArray(e))return e}(n=this.getCountryAndCallingCode(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(n,2)||function(e,t){if(e){if("string"==typeof e)return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}}(n,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),a=o[0],s=o[1];this.defaultCountry=a,this.defaultCallingCode=s,this.reset()}return e=[{key:"getCountryAndCallingCode",value:function(e){var t,r;return e&&((0,d.default)(e)?(t=e.defaultCountry,r=e.defaultCallingCode):t=e),t&&!this.metadata.hasCountry(t)&&(t=void 0),[t,r]}},{key:"input",value:function(e){var t=this.parser.input(e,this.state),r=t.digits;if(t.justLeadingPlus)this.formattedOutput="+";else if(r){if(this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state),this.metadata.hasSelectedNumberingPlan()&&(n=this.formatter.format(r,this.state)),void 0===n&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var n,i=this.state.getNationalDigits();i&&(n=this.formatter.format(i,this.state))}this.formattedOutput=n?this.getFullNumber(n):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var e=this;return this.state=new a.default({onCountryChange:function(t){e.country=t},onCallingCodeChange:function(t,r){e.metadata.selectNumberingPlan(r,t),e.formatter.reset(e.metadata.numberingPlan,e.state),e.parser.reset(e.metadata.numberingPlan)}}),this.formatter=new s.default({state:this.state,metadata:this.metadata}),this.parser=new l.default({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){e.determineTheCountryIfNeeded(),e.formatter.reset(e.metadata.numberingPlan,e.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){if(this.state.digits)return this._getCountry()}},{key:"_getCountry",value:function(){return this.state.country}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(e){var t=this;if(this.isInternational()){var r,n=this.state.callingCode;return r=n?e?"".concat(n," ").concat(e):n:"".concat(this.state.getDigitsWithoutInternationalPrefix()),t.formatter.getInternationalPrefixBeforeCountryCallingCode(t.state,{spacing:!!r})+r}return e}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.complexPrefixBeforeNationalSignificantNumber,n=e.nationalPrefix,i=t,o=r||n;return o&&(i=o+i),i}},{key:"getNonFormattedNumber",value:function(){var e=this.state.nationalSignificantNumberMatchesInput;return this.getFullNumber(e?this.getNonFormattedNationalNumberWithPrefix():this.state.getNationalDigits())}},{key:"getNonFormattedTemplate",value:function(){var e=this.getNonFormattedNumber();if(e)return e.replace(/[\+\d]/g,s.DIGIT_PLACEHOLDER)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var e=this.state.callingCode,t=this.metadata.getCountryCodesForCallingCode(e);return t&&t.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry((0,c.default)(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,defaultCountry:this.defaultCountry,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var e=this.state,t=e.digits,r=e.callingCode,n=e.country,i=e.nationalSignificantNumber;if(t){if(this.isInternational())return r?"+"+r+i:"+"+t;if(n||r)return"+"+(n?this.metadata.countryCallingCode():r)+i}}},{key:"getNumber",value:function(){var e=this.state,t=e.nationalSignificantNumber,r=e.carrierCode,n=e.callingCode,a=this._getCountry();if(t&&(a||n)){if(a&&a===this.defaultCountry){var s=new i.default(this.metadata.metadata);s.selectNumberingPlan(a);var l=s.numberingPlan.callingCode(),c=this.metadata.getCountryCodesForCallingCode(l);if(c.length>1){var d=(0,u.default)(t,{countries:c,defaultCountry:this.defaultCountry,metadata:this.metadata.metadata});d&&(a=d)}}var f=new o.default(a||n,t,this.metadata.metadata);return r&&(f.carrierCode=r),f}}},{key:"isPossible",value:function(){var e=this.getNumber();return!!e&&e.isPossible()}},{key:"isValid",value:function(){var e=this.getNumber();return!!e&&e.isValid()}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}],g(r.prototype,e),t&&g(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.default=v},13396:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(5900))&&n.__esModule?n:{default:n};function o(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var l=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.matchTree=new i.default().parse(e)}return e=[{key:"match",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.allowOverflow;if(!e)throw Error("String is required");var n=function e(t,r,n){if("string"==typeof r){var i=t.join("");return 0===r.indexOf(i)?t.length===r.length?{match:!0,matchedChars:t}:{partialMatch:!0}:0===i.indexOf(r)?n&&t.length>r.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,r.length)}:void 0}if(Array.isArray(r)){for(var a=t.slice(),s=0;s<r.length;){var l=e(a,r[s],n&&s===r.length-1);if(!l)return;if(l.overflow)return l;if(l.match){if(0===(a=a.slice(l.matchedChars.length)).length){if(s===r.length-1)return{match:!0,matchedChars:t};return{partialMatch:!0}}}else{if(l.partialMatch)return{partialMatch:!0};throw Error("Unsupported match result:\n".concat(JSON.stringify(l,null,2)))}s++}return n?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-a.length)}}switch(r.op){case"|":for(var c,u,d=o(r.args);!(u=d()).done;){var f=e(t,u.value,n);if(f){if(f.overflow)return f;if(f.match)return{match:!0,matchedChars:f.matchedChars};if(f.partialMatch)c=!0;else throw Error("Unsupported match result:\n".concat(JSON.stringify(f,null,2)))}}if(c)return{partialMatch:!0};return;case"[]":for(var p,h=o(r.args);!(p=h()).done;){var y=p.value;if(t[0]===y){if(1===t.length)return{match:!0,matchedChars:t};if(n)return{overflow:!0};return{match:!0,matchedChars:[y]}}}return;default:throw Error("Unsupported instruction tree: ".concat(r))}}(e.split(""),this.matchTree,!0);if(n&&n.match&&delete n.matchedChars,!n||!n.overflow||r)return n}}],s(r.prototype,e),t&&s(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.default=l},5900:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e,t;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n)}return e=[{key:"parse",value:function(e){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(e),1!==this.context.length)throw Error("Non-finalized contexts left when pattern parse ended");var t=this.context[0],r=t.branches,n=t.instructions;if(r)return{op:"|",args:r.concat([a(n)])};if(0===n.length)throw Error("Pattern is required");return 1===n.length?n[0]:n}},{key:"startContext",value:function(e){this.context.push(e)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(e){if(!e)throw Error("Pattern is required");var t=e.match(o);if(!t){if(i.test(e))throw Error("Illegal characters found in a pattern: ".concat(e));this.getContext().instructions=this.getContext().instructions.concat(e.split(""));return}var r=t[1],n=e.slice(0,t.index),s=e.slice(t.index+r.length);switch(r){case"(?:":n&&this.parsePattern(n),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw Error('")" operator must be preceded by "(?:" operator');if(n&&this.parsePattern(n),0===this.getContext().instructions.length)throw Error('No instructions found after "|" operator in an "or" group');var l=this.getContext().branches;l.push(a(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw Error('"|" operator can only be used inside "or" groups');if(n&&this.parsePattern(n),!this.getContext().branches){if(1===this.context.length)this.getContext().branches=[];else throw Error('"branches" not found in an "or" group context')}this.getContext().branches.push(a(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":n&&this.parsePattern(n),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:function(e){for(var t=[],r=0;r<e.length;){if("-"===e[r]){if(0===r||r===e.length-1)throw Error("Couldn't parse a one-of set pattern: ".concat(e));for(var n=e[r-1].charCodeAt(0)+1,i=e[r+1].charCodeAt(0)-1,o=n;o<=i;)t.push(String.fromCharCode(o)),o++}else t.push(e[r]);r++}return t}(n)});break;default:throw Error("Unknown operator: ".concat(r))}s&&this.parsePattern(s)}}],r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();t.default=n;var i=/[\(\)\[\]\?\:\|]/,o=RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function a(e){return 1===e.length?e[0]:e}},88522:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canFormatCompleteNumber=function(e,t){return"IS_POSSIBLE"===(0,n.default)(e,t)},t.default=function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,o=r.getSeparatorAfterNationalPrefix;if(new RegExp("^(?:".concat(t.pattern(),")$")).test(e.nationalSignificantNumber))return function(e,t,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,o=r.getSeparatorAfterNationalPrefix;if(e.nationalSignificantNumber,e.international,e.nationalPrefix,e.carrierCode,i(t)){var a=s(e,t,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:o,metadata:n});if(a)return a}return s(e,t,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:o,metadata:n})}(e,t,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:o})};var n=a(r(23752)),i=a(r(81047)),o=a(r(41017));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){var n,a=r.metadata,s=r.useNationalPrefixFormattingRule,l=r.getSeparatorAfterNationalPrefix,c=(0,o.default)(e.nationalSignificantNumber,t,{carrierCode:e.carrierCode,useInternationalFormat:e.international,withNationalPrefix:s,metadata:a});if(!s&&(e.nationalPrefix?c=e.nationalPrefix+l(t)+c:e.complexPrefixBeforeNationalSignificantNumber&&(c=e.complexPrefixBeforeNationalSignificantNumber+" "+c)),n=c,(0,i.default)(n)===e.getNationalDigits())return c}},85815:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DIGIT_PLACEHOLDER",{enumerable:!0,get:function(){return i.DIGIT_PLACEHOLDER}}),t.default=void 0;var i=r(12006),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=f(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(88522)),a=d(r(13396)),s=d(r(81047)),l=r(41017),c=r(28312),u=d(r(83730));function d(e){return e&&e.__esModule?e:{default:e}}function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(f=function(e){return e?r:t})(e)}function p(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var g=(0,i.repeat)("9",15),v=/[- ]/,m=RegExp("["+c.VALID_PUNCTUATION+"]*\\$1["+c.VALID_PUNCTUATION+"]*(\\$\\d["+c.VALID_PUNCTUATION+"]*)*$"),b=function(){var e,t;function r(e){e.state;var t=e.metadata;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.metadata=t,this.resetFormat()}return e=[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(e,t){this.resetFormat(),e?(this.isNANP="1"===e.callingCode(),this.matchingFormats=e.formats(),t.nationalSignificantNumber&&this.narrowDownMatchingFormats(t)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(e,t){var r=this;if((0,o.canFormatCompleteNumber)(t.nationalSignificantNumber,this.metadata))for(var n,a=p(this.matchingFormats);!(n=a()).done;){var s=n.value,l=(0,o.default)(t,s,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(e){return r.shouldTryNationalPrefixFormattingRule(e,{international:t.international,nationalPrefix:t.nationalPrefix})},getSeparatorAfterNationalPrefix:function(e){return r.getSeparatorAfterNationalPrefix(e)}});if(l)return this.resetFormat(),this.chosenFormat=s,this.setNationalNumberTemplate(l.replace(/\d/g,i.DIGIT_PLACEHOLDER),t),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(i.DIGIT_PLACEHOLDER),l}return this.formatNationalNumberWithNextDigits(e,t)}},{key:"formatNationalNumberWithNextDigits",value:function(e,t){var r=this.chosenFormat,n=this.chooseFormat(t);if(n)return n===r?this.formatNextNationalNumberDigits(e):this.formatNextNationalNumberDigits(t.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(e){var t=this,r=e.nationalSignificantNumber,n=e.nationalPrefix,i=e.international,o=r.length-3;o<0&&(o=0),this.matchingFormats=this.matchingFormats.filter(function(e){return t.formatSuits(e,i,n)&&t.formatMatches(e,r,o)}),this.chosenFormat&&-1===this.matchingFormats.indexOf(this.chosenFormat)&&this.resetFormat()}},{key:"formatSuits",value:function(e,t,r){return!(r&&!e.usesNationalPrefix()&&!e.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!t&&!r&&e.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(e,t,r){var n=e.leadingDigitsPatterns().length;if(0===n)return!0;r=Math.min(r,n-1);var i=e.leadingDigitsPatterns()[r];if(t.length<3)try{return void 0!==new a.default(i).match(t,{allowOverflow:!0})}catch(e){return console.error(e),!0}return new RegExp("^(".concat(i,")")).test(t)}},{key:"getFormatFormat",value:function(e,t){return t?e.internationalFormat():e.format()}},{key:"chooseFormat",value:function(e){for(var t,r=this,n=p(this.matchingFormats.slice());!(t=n()).done;){var i=function(){var n=t.value;return r.chosenFormat===n?"break":m.test(r.getFormatFormat(n,e.international))?r.createTemplateForFormat(n,e)?(r.chosenFormat=n,"break"):(r.matchingFormats=r.matchingFormats.filter(function(e){return e!==n}),"continue"):"continue"}();if("break"===i)break;if("continue"===i)continue}return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(e,t){if(!(e.pattern().indexOf("|")>=0)){var r=this.getTemplateForFormat(e,t);if(r)return this.setNationalNumberTemplate(r,t),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(e){return this.isNANP||e&&e.nationalPrefixFormattingRule()&&v.test(e.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(e,t){var r=e.IDDPrefix,n=e.missingPlus;return r?t&&!1===t.spacing?r:r+" ":n?"":"+"}},{key:"getTemplate",value:function(e){if(this.template){for(var t=-1,r=0,n=e.international?this.getInternationalPrefixBeforeCountryCallingCode(e,{spacing:!1}):"";r<n.length+e.getDigitsWithoutInternationalPrefix().length;)t=this.template.indexOf(i.DIGIT_PLACEHOLDER,t+1),r++;return(0,i.cutAndStripNonPairedParens)(this.template,t+1)}}},{key:"setNationalNumberTemplate",value:function(e,t){this.nationalNumberTemplate=e,this.populatedNationalNumberTemplate=e,this.populatedNationalNumberTemplatePosition=-1,t.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(t).replace(/[\d\+]/g,i.DIGIT_PLACEHOLDER)+(0,i.repeat)(i.DIGIT_PLACEHOLDER,t.callingCode.length)+" "+e:this.template=e}},{key:"getTemplateForFormat",value:function(e,t){var r,n=t.nationalSignificantNumber,o=t.international,a=t.nationalPrefix,c=t.complexPrefixBeforeNationalSignificantNumber,d=e.pattern();d=d.replace(/\[([^\[\]])*\]/g,"\\d").replace(/\d(?=[^,}][^,}])/g,"\\d");var f=g.match(d)[0];if(!(n.length>f.length)){var p=RegExp("^"+d+"$"),h=n.replace(/\d/g,"9");p.test(h)&&(f=h);var y=this.getFormatFormat(e,o);if(this.shouldTryNationalPrefixFormattingRule(e,{international:o,nationalPrefix:a})){var v=y.replace(l.FIRST_GROUP_PATTERN,e.nationalPrefixFormattingRule());if((0,s.default)(e.nationalPrefixFormattingRule())===(a||"")+(0,s.default)("$1")&&(y=v,r=!0,a))for(var m=a.length;m>0;)y=y.replace(/\d/,i.DIGIT_PLACEHOLDER),m--}var b=f.replace(new RegExp(d),y).replace(/9/g,i.DIGIT_PLACEHOLDER);return!r&&(c?b=(0,i.repeat)(i.DIGIT_PLACEHOLDER,c.length)+" "+b:a&&(b=(0,i.repeat)(i.DIGIT_PLACEHOLDER,a.length)+this.getSeparatorAfterNationalPrefix(e)+b)),o&&(b=(0,u.default)(b)),b}}},{key:"formatNextNationalNumberDigits",value:function(e){var t=(0,i.populateTemplateWithDigits)(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,e);if(!t){this.resetFormat();return}return this.populatedNationalNumberTemplate=t[0],this.populatedNationalNumberTemplatePosition=t[1],(0,i.cutAndStripNonPairedParens)(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(e,t){var r=t.international,n=t.nationalPrefix;if(e.nationalPrefixFormattingRule()){var i=e.usesNationalPrefix();if(i&&n||!i&&!r)return!0}}}],y(r.prototype,e),t&&y(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.default=b},12006:function(e,t){"use strict";function r(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DIGIT_PLACEHOLDER=void 0,t.closeNonPairedParens=function(e,t){for(var r=e.slice(0,t),n=o("(",r)-o(")",r);n>0&&t<e.length;)")"===e[t]&&n--,t++;return e.slice(0,t)},t.countOccurences=o,t.cutAndStripNonPairedParens=function(e,t){return")"===e[t]&&t++,a(e.slice(0,t))},t.populateTemplateWithDigits=function(e,t,n){for(var o,a=r(n.split(""));!(o=a()).done;){var s=o.value;if(0>e.slice(t+1).search(i))return;t=e.search(i),e=e.replace(i,s)}return[e,t]},t.repeat=function(e,t){if(t<1)return"";for(var r="";t>1;)1&t&&(r+=e),t>>=1,e+=e;return r+e},t.stripNonPairedParens=a,t.DIGIT_PLACEHOLDER="x";var i=/x/;function o(e,t){for(var n,i=0,o=r(t.split(""));!(n=o()).done;)n.value===e&&i++;return i}function a(e){for(var t=[],r=0;r<e.length;)"("===e[r]?t.push(r):")"===e[r]&&t.pop(),r++;var n=0,i="";t.push(e.length);for(var o=0;o<t.length;o++){var a=t[o];i+=e.slice(n,a),n=a+1}return i}},41371:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.extractFormattedDigitsAndPlus=m;var n=c(r(38075)),i=c(r(83561)),o=c(r(2011)),a=c(r(25018)),s=c(r(81047)),l=r(28312);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=RegExp("^["+l.VALID_PUNCTUATION+l.VALID_DIGITS+"]+$","i"),h="(?:["+l.PLUS_CHARS+"]["+l.VALID_PUNCTUATION+l.VALID_DIGITS+"]*|["+l.VALID_PUNCTUATION+l.VALID_DIGITS+"]+)",y=RegExp("[^"+l.VALID_PUNCTUATION+l.VALID_DIGITS+"]+.*$"),g=/[^\d\[\]]/,v=function(){var e,t;function r(e){var t=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,o=e.onNationalSignificantNumberChange;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.defaultCountry=t,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=o}return e=[{key:"input",value:function(e,t){var r,n=u(m(e),2),i=n[0],o=n[1],a=(0,s.default)(i);return!o||t.digits||(t.startInternationalNumber(),a||(r=!0)),a&&this.inputDigits(a,t),{digits:a,justLeadingPlus:r}}},{key:"inputDigits",value:function(e,t){var r=t.digits,n=r.length<3&&r.length+e.length>=3;if(t.appendDigits(e),n&&this.extractIddPrefix(t),this.isWaitingForCountryCallingCode(t)){if(!this.extractCountryCallingCode(t))return}else t.appendNationalSignificantNumberDigits(e);t.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(t.getNationalDigits(),function(e){return t.update(e)})}},{key:"isWaitingForCountryCallingCode",value:function(e){var t=e.international,r=e.callingCode;return t&&!r}},{key:"extractCountryCallingCode",value:function(e){var t=(0,n.default)("+"+e.getDigitsWithoutInternationalPrefix(),this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode,i=t.number;if(r)return e.setCallingCode(r),e.update({nationalSignificantNumber:i}),!0}},{key:"reset",value:function(e){if(e){this.hasSelectedNumberingPlan=!0;var t=e._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=t&&g.test(t)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(e,t){if(this.hasSelectedNumberingPlan){var r=(0,o.default)(e,this.metadata),n=r.nationalPrefix,i=r.nationalNumber,a=r.carrierCode;if(i!==e)return this.onExtractedNationalNumber(n,a,i,e,t),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(e,t,r){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(e,r);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var n=(0,o.default)(e,this.metadata),i=n.nationalPrefix,a=n.nationalNumber,s=n.carrierCode;if(a!==t)return this.onExtractedNationalNumber(i,s,a,e,r),!0}}},{key:"onExtractedNationalNumber",value:function(e,t,r,n,i){var o,a,s=n.lastIndexOf(r);if(s>=0&&s===n.length-r.length){a=!0;var l=n.slice(0,s);l!==e&&(o=l)}i({nationalPrefix:e,carrierCode:t,nationalSignificantNumber:r,nationalSignificantNumberMatchesInput:a,complexPrefixBeforeNationalSignificantNumber:o}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(e){return!!this.extractAnotherNationalSignificantNumber(e.getNationalDigits(),e.nationalSignificantNumber,function(t){return e.update(t)})||(this.extractIddPrefix(e)||this.fixMissingPlus(e)?(this.extractCallingCodeAndNationalSignificantNumber(e),!0):void 0)}},{key:"extractIddPrefix",value:function(e){var t=e.international,r=e.IDDPrefix,n=e.digits;if(e.nationalSignificantNumber,!t&&!r){var i=(0,a.default)(n,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(void 0!==i&&i!==n)return e.update({IDDPrefix:n.slice(0,n.length-i.length)}),this.startInternationalNumber(e,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(e){if(!e.international){var t=(0,i.default)(e.digits,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),r=t.countryCallingCode;if(t.number,r)return e.update({missingPlus:!0}),this.startInternationalNumber(e,{country:e.country,callingCode:r}),!0}}},{key:"startInternationalNumber",value:function(e,t){var r=t.country,n=t.callingCode;e.startInternationalNumber(r,n),e.nationalSignificantNumber&&(e.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(e){this.extractCountryCallingCode(e)&&this.extractNationalSignificantNumber(e.getNationalDigits(),function(t){return e.update(t)})}}],f(r.prototype,e),t&&f(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();function m(e){var t,r=u("+"===(t=function(e){var t,r=e.search(h);if(!(r<0))return"+"===(e=e.slice(r))[0]&&(t=!0,e=e.slice(1)),e=e.replace(y,""),t&&(e="+"+e),e}(e)||"")[0]?[t.slice(1),!0]:[t],2),n=r[0],i=r[1];return p.test(n)||(n=""),[n,i]}t.default=v},95637:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(){var e,t;function n(e){var t=e.onCountryChange,r=e.onCallingCodeChange;!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n),this.onCountryChange=t,this.onCallingCodeChange=r}return e=[{key:"reset",value:function(e){var t=e.country,r=e.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(t,r)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberMatchesInput=!0,this.nationalPrefix=void 0,this.carrierCode=void 0,this.complexPrefixBeforeNationalSignificantNumber=void 0}},{key:"update",value:function(e){for(var t=0,r=Object.keys(e);t<r.length;t++){var n=r[t];this[n]=e[n]}}},{key:"initCountryAndCallingCode",value:function(e,t){this.setCountry(e),this.setCallingCode(t)}},{key:"setCountry",value:function(e){this.country=e,this.onCountryChange(e)}},{key:"setCallingCode",value:function(e){this.callingCode=e,this.onCallingCodeChange(e,this.country)}},{key:"startInternationalNumber",value:function(e,t){this.international=!0,this.initCountryAndCallingCode(e,t)}},{key:"appendDigits",value:function(e){this.digits+=e}},{key:"appendNationalSignificantNumberDigits",value:function(e){this.nationalSignificantNumber+=e}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}],r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}();t.default=n},23630:function(e,t){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e){var t="function"==typeof Map?new Map:void 0;return(o=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)})(e)}function a(e,t,r){return(a=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&l(i,r.prototype),i}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(d,e);var t,o,a,u=(t=s(),function(){var e,n=c(d);if(t){var o=c(this).constructor;e=Reflect.construct(n,arguments,o)}else e=n.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return i(e)}(this,e)});function d(e){var t;return!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,d),Object.setPrototypeOf(i(t=u.call(this,e)),d.prototype),t.name=t.constructor.name,t}return o&&n(d.prototype,o),a&&n(d,a),Object.defineProperty(d,"prototype",{writable:!1}),d}(o(Error));t.default=u},9784:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=c(r(98635)),i=c(r(86881)),o=c(r(5984)),a=c(r(37894)),s=c(r(75448)),l=c(r(58292));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){var e;function t(e,r,i){if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,t),!e)throw TypeError("`country` or `countryCallingCode` not passed");if(!r)throw TypeError("`nationalNumber` not passed");if(!i)throw TypeError("`metadata` not passed");var o,a,s,l,c,u=(o=e,a=i,c=new n.default(a),/^[A-Z]{2}$/.test(o)?(s=o,c.selectNumberingPlan(s),l=c.countryCallingCode()):l=o,{country:s,countryCallingCode:l}),d=u.country,f=u.countryCallingCode;this.country=d,this.countryCallingCode=f,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return i}}return f(t.prototype,[{key:"setExt",value:function(e){this.ext=e}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:(0,s.default)(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return(0,i.default)(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return(0,o.default)(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){return new n.default(this.getMetadata()).isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(e){return this.number===e.number&&this.ext===e.ext}},{key:"getType",value:function(){return(0,a.default)(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(e,t){return(0,l.default)(this,e,t?d(d({},t),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(e){return this.format("NATIONAL",e)}},{key:"formatInternational",value:function(e){return this.format("INTERNATIONAL",e)}},{key:"getURI",value:function(e){return this.format("RFC3966",e)}}]),e&&f(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}();t.default=p},46322:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,g(r(9784));var i=r(28312),o=g(r(56282)),a=g(r(46798)),s=r(64463),l=r(83855),c=g(r(59347)),u=g(r(77797)),d=g(r(87105)),f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=y(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(81778)),p=r(98635),h=g(r(47810));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(y=function(e){return e?r:t})(e)}function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var b=(0,o.default)("matching"),_=["\\/+(.*)/","(\\([^(]*)","(?:".concat(l.pZ,"-|-").concat(l.pZ,")").concat(l.pZ,"*(.+)"),"[‒-―－]".concat(l.pZ,"*(.+)"),"\\.+".concat(l.pZ,"*([^.]+)"),"".concat(l.pZ,"+(").concat(l.PZ,"+)")],w=(0,s.limit)(0,2),S=(0,s.limit)(0,4),O=i.MAX_LENGTH_FOR_NSN+i.MAX_LENGTH_COUNTRY_CODE,M=(0,s.limit)(0,O),R="[".concat(i.VALID_PUNCTUATION,"]")+S,P=l.pNd+(0,s.limit)(1,O),E="(?:"+f.LEAD_CLASS+R+")"+w+P+"(?:"+R+P+")"+M+"(?:"+b+")?",I=new RegExp("[^".concat(l._pN).concat(l._pL,"#]+$")),x=Number.MAX_SAFE_INTEGER||9007199254740991,A=function(){var e,t;function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),!(t={v2:t.v2,defaultCallingCode:t.defaultCallingCode,defaultCountry:t.defaultCountry&&(0,p.isSupportedCountry)(t.defaultCountry,n)?t.defaultCountry:void 0,leniency:t.leniency||(t.extended?"POSSIBLE":"VALID"),maxTries:t.maxTries||x}).leniency)throw TypeError("`leniency` is required");if("POSSIBLE"!==t.leniency&&"VALID"!==t.leniency)throw TypeError('Invalid `leniency`: "'.concat(t.leniency,'". Supported values: "POSSIBLE", "VALID".'));if(t.maxTries<0)throw TypeError("`maxTries` must be `>= 0`");if(this.text=e,this.options=t,this.metadata=n,this.leniency=c.default[t.leniency],!this.leniency)throw TypeError('Unknown leniency: "'.concat(t.leniency,'"'));this.maxTries=t.maxTries,this.PATTERN=RegExp(E,"ig"),this.state="NOT_READY",this.searchIndex=0,this.regExpCache=new a.default(32)}return e=[{key:"find",value:function(){for(var e;this.maxTries>0&&null!==(e=this.PATTERN.exec(this.text));){var t=e[0],r=e.index;if(t=(0,u.default)(t),(0,d.default)(t,r,this.text)){var n=this.parseAndVerify(t,r,this.text)||this.extractInnerMatch(t,r,this.text);if(n){if(this.options.v2)return{startsAt:n.startsAt,endsAt:n.endsAt,number:n.phoneNumber};var i=n.phoneNumber,o={startsAt:n.startsAt,endsAt:n.endsAt,phone:i.nationalNumber};return i.country?o.country=i.country:o.countryCallingCode=i.countryCallingCode,i.ext&&(o.ext=i.ext),o}}this.maxTries--}}},{key:"extractInnerMatch",value:function(e,t,r){for(var n,i=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(_);!(n=i()).done;)for(var o=n.value,a=!0,l=void 0,c=RegExp(o,"g");this.maxTries>0&&null!==(l=c.exec(e));){if(a){var u=(0,s.trimAfterFirstMatch)(I,e.slice(0,l.index)),d=this.parseAndVerify(u,t,r);if(d)return d;this.maxTries--,a=!1}var f=(0,s.trimAfterFirstMatch)(I,l[1]),p=e.indexOf(f,l.index),h=this.parseAndVerify(f,t+p,r);if(h)return h;this.maxTries--}}},{key:"parseAndVerify",value:function(e,t,r){if((0,f.default)(e,t,r,this.options.leniency)){var n=(0,h.default)(e,{extended:!0,defaultCountry:this.options.defaultCountry,defaultCallingCode:this.options.defaultCallingCode},this.metadata);if(n&&n.isPossible()&&this.leniency(n,{candidate:e,defaultCountry:this.options.defaultCountry,metadata:this.metadata,regExpCache:this.regExpCache}))return{startsAt:t,endsAt:t+e.length,phoneNumber:n}}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.lastMatch=this.find(),this.lastMatch?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw Error("No next element");var e=this.lastMatch;return this.lastMatch=null,this.state="NOT_READY",e}}],m(r.prototype,e),t&&m(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.default=A},28312:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE=t.VALID_PUNCTUATION=t.VALID_DIGITS=t.PLUS_CHARS=t.MIN_LENGTH_FOR_NSN=t.MAX_LENGTH_FOR_NSN=t.MAX_LENGTH_COUNTRY_CODE=void 0,t.MIN_LENGTH_FOR_NSN=2,t.MAX_LENGTH_FOR_NSN=17,t.MAX_LENGTH_COUNTRY_CODE=3,t.VALID_DIGITS="0-9０-９٠-٩۰-۹";var r=" \xa0\xad​⁠　";t.WHITESPACE=r;var n="".concat("-‐-―−ー－").concat("／/").concat("．.").concat(r).concat("()（）［］\\[\\]").concat("~⁓∼～");t.VALID_PUNCTUATION=n,t.PLUS_CHARS="+＋"},90814:function(e,t){"use strict";function r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var Node=n(function Node(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i(this,Node),this.key=e,this.value=t,this.next=r,this.prev=n}),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;i(this,e),this.size=0,this.limit=t,this.head=null,this.tail=null,this.cache={}}return n(e,[{key:"put",value:function(e,t){if(this.ensureLimit(),this.head){var r=new Node(e,t,this.head);this.head.prev=r,this.head=r}else this.head=this.tail=new Node(e,t);this.cache[e]=this.head,this.size++}},{key:"get",value:function(e){if(this.cache[e]){var t=this.cache[e].value;return this.remove(e),this.put(e,t),t}console.log("Item not available in cache for key ".concat(e))}},{key:"ensureLimit",value:function(){this.size===this.limit&&this.remove(this.tail.key)}},{key:"remove",value:function(e){var t=this.cache[e];null!==t.prev?t.prev.next=t.next:this.head=t.next,null!==t.next?t.next.prev=t.prev:this.tail=t.prev,delete this.cache[e],this.size--}},{key:"clear",value:function(){this.head=null,this.tail=null,this.size=0,this.cache={}}}]),e}();t.default=o},59347:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.containsMoreThanOneSlashInNationalNumber=d,t.default=void 0,l(r(5984));var n=l(r(81047)),i=l(r(94368)),o=l(r(98635)),a=l(r(64851)),s=r(58292);function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){for(var o=0;o<t.length-1;o++){var a=t.charAt(o);if("x"===a||"X"===a){var s=t.charAt(o+1);if("x"===s||"X"===s){if(o++,"NSN_MATCH"!==(0,i.default)(t.substring(o),e,r))return!1}else{var l=(0,n.default)(t.substring(o));if(l){if(e.ext!==l)return!1}else if(e.ext)return!1}}}return!0}function u(e,t){var r=t.defaultCountry,n=t.metadata;if("FROM_DEFAULT_COUNTRY"!==e.__countryCallingCodeSource)return!0;var i=new o.default(n);i.selectNumberingPlan(e.countryCallingCode),e.country||(0,a.default)(e.countryCallingCode,{nationalNumber:e.nationalNumber,defaultCountry:r,metadata:i});var l=e.nationalNumber,c=(0,s.chooseFormatForNumber)(i.numberingPlan.formats(),l);return!c.nationalPrefixFormattingRule()||!!i.numberingPlan.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!c.usesNationalPrefix()||!!e.nationalPrefix}function d(e,t){var r=t.indexOf("/");if(r<0)return!1;var i=t.indexOf("/",r+1);return!(i<0)&&("FROM_NUMBER_WITH_PLUS_SIGN"!==e.__countryCallingCodeSource&&"FROM_NUMBER_WITHOUT_PLUS_SIGN"!==e.__countryCallingCodeSource||(0,n.default)(t.substring(0,r))!==e.countryCallingCode||t.slice(i+1).indexOf("/")>=0)}function f(e,t,r,n,i){throw Error("This part of code hasn't been ported")}function p(e,t,r,n){throw Error("This part of code hasn't been ported")}function h(e,t,r,n){throw Error("This part of code hasn't been ported")}r(64463),t.default={POSSIBLE:function(e,t){return t.candidate,t.metadata,!0},VALID:function(e,t){var r=t.candidate,n=(t.defaultCountry,t.metadata);return!!(e.isValid()&&c(e,r,n))},STRICT_GROUPING:function(e,t){var r=t.candidate,n=t.defaultCountry,i=t.metadata,o=t.regExpCache;return!(!e.isValid()||!c(e,r,i)||d(e,r))&&!!u(e,{defaultCountry:n,metadata:i})&&f(e,r,i,h,o)},EXACT_GROUPING:function(e,t){var r=t.candidate,n=t.defaultCountry,i=t.metadata,o=t.regExpCache;return!(!e.isValid()||!c(e,r,i)||d(e,r))&&!!u(e,{defaultCountry:n,metadata:i})&&f(e,r,i,p,o)}}},46798:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(90814))&&n.__esModule?n:{default:n};function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=function(){var e,t;function r(e){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.cache=new i.default(e)}return e=[{key:"getPatternForRegExp",value:function(e){var t=this.cache.get(e);return t||(t=RegExp("^"+e),this.cache.put(e,t)),t}}],o(r.prototype,e),t&&o(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.default=a},81778:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LEAD_CLASS=void 0,t.default=function(e,t,r,n){if(!(!d.test(e)||f.test(e))){if("POSSIBLE"!==n){if(t>0&&!u.test(e)){var i=r[t-1];if((0,o.isInvalidPunctuationSymbol)(i)||(0,o.isLatinLetter)(i))return!1}var a=t+e.length;if(a<r.length){var s=r[a];if((0,o.isInvalidPunctuationSymbol)(s)||(0,o.isLatinLetter)(s))return!1}}return!0}};var n=r(28312),i=r(64463),o=r(83855),a="(\\[（［",s=")\\]）］",l="[^".concat(a).concat(s,"]"),c="[".concat(a).concat(n.PLUS_CHARS,"]");t.LEAD_CLASS=c;var u=RegExp("^"+c),d=RegExp("^(?:["+a+"])?(?:"+l+"+["+s+"])?"+l+"+(?:["+a+"]"+l+"+["+s+"])"+(0,i.limit)(0,3)+l+"*$"),f=/\d{1,5}-+\d{1,5}\s{0,4}\(\d{1,4}/},87105:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,o){return!(r.test(e)||n.test(e)&&i.test(o.slice(t+e.length)))};var r=/(?:(?:[0-3]?\d\/[01]?\d)|(?:[01]?\d\/[0-3]?\d))\/(?:[12]\d)?\d{2}/,n=/[12]\d{3}[-/]?[01]\d[-/]?[0-3]\d +[0-2]\d$/,i=/^:[0-5]\d/},94368:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=!0,o=(0,i.default)(e,r);if(o||(n=!1,o=(0,i.default)(e,{defaultCallingCode:t.countryCallingCode},r)),!o)return"INVALID_NUMBER";if(t.ext){if(o.ext!==t.ext)return"NO_MATCH"}else if(o.ext)return"NO_MATCH";return n&&t.countryCallingCode!==o.countryCallingCode?"NO_MATCH":t.number===o.number?n?"EXACT_MATCH":"NSN_MATCH":0===t.nationalNumber.indexOf(o.nationalNumber)||0===o.nationalNumber.indexOf(t.nationalNumber)?"SHORT_NSN_MATCH":"NO_MATCH"};var n,i=(n=r(47810))&&n.__esModule?n:{default:n}},77797:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,n.trimAfterFirstMatch)(i,e)};var n=r(64463),i=/[\\/] *x/},83855:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._pN=t._pL=t.PZ=void 0,t.isInvalidPunctuationSymbol=function(e){return"%"===e||o.test(e)},t.isLatinLetter=function(e){return!!(i.test(e)||a.test(e))&&s.test(e)},t.pZ=t.pNd=void 0;var r=" \xa0 ᠎ - \u2028\u2029  　";t.pZ="[".concat(r,"]"),t.PZ="[^".concat(r,"]"),t._pN="0-9\xb2\xb3\xb9\xbc-\xbe٠-٩۰-۹߀-߉०-९০-৯৴-৹੦-੯૦-૯୦-୯୲-୷௦-௲౦-౯౸-౾೦-೯൦-൵๐-๙໐-໙༠-༳၀-၉႐-႙፩-፼ᛮ-ᛰ០-៩៰-៹᠐-᠙᥆-᥏᧐-᧚᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙⁰⁴-⁹₀-₉⅐-ↂↅ-↉①-⒛⓪-⓿❶-➓⳽〇〡-〩〸-〺㆒-㆕㈠-㈩㉈-㉏㉑-㉟㊀-㊉㊱-㊿꘠-꘩ꛦ-ꛯ꠰-꠵꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９",t.pNd="[".concat("0-9٠-٩۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹０-９","]");var n="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-ײؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘࢠࢢ-ࢬऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜ-ໟༀཀ-ཇཉ-ཬྈ-ྌက-ဪဿၐ-ၕၚ-ၝၡၥၦၮ-ၰၵ-ႁႎႠ-ჅჇჍა-ჺჼ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰក-ឳៗៜᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᥐ-ᥭᥰ-ᥴᦀ-ᦫᧁ-ᧇᨀ-ᨖᨠ-ᩔᪧᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᮺ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᳵᳶᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎↃↄⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⳲⳳⴀ-ⴥⴧⴭⴰ-ⵧⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〆〱-〵〻〼ぁ-ゖゝ-ゟァ-ヺー-ヿㄅ-ㄭㄱ-ㆎㆠ-ㆺㇰ-ㇿ㐀-䶵一-鿌ꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛥꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐ-ꞓꞠ-Ɦꟸ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꩠ-ꩶꩺꪀ-ꪯꪱꪵꪶꪹ-ꪽꫀꫂꫛ-ꫝꫠ-ꫪꫲ-ꫴꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻ豈-舘並-龎ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ";t._pL=n;var i=new RegExp("[".concat(n,"]")),o=new RegExp("[".concat("$\xa2-\xa5֏؋৲৳৻૱௹฿៛₠-₹꠸﷼﹩＄￠￡￥￦","]")),a=new RegExp("[".concat("̀-ͯ҃-֑҇-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ࣾऀ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣଁ଼ିୁ-ୄ୍ୖୢୣஂீ்ా-ీె-ైొ-్ౕౖౢౣ಼ಿೆೌ್ೢೣു-ൄ്ൢൣ්ි-ුූัิ-ฺ็-๎ັິ-ູົຼ່-ໍཱ༹༘༙༵༷-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻ᨘᨗᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᯦᮫ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᷀-ᷦ᷼-᷿⃐-⃥⃜⃡-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〭꙯ꙴ-꙽ꚟ꛰꛱ꠂ꠆ꠋꠥꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꨩ-ꨮꨱꨲꨵꨶꩃꩌꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︦","]")),s=RegExp("[\x00-\x7f\x80-\xffĀ-ſḀ-ỿƀ-ɏ̀-ͯ]")},64463:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.endsWith=function(e,t){return e.indexOf(t,e.length-t.length)===e.length-t.length},t.limit=function(e,t){if(e<0||t<=0||t<e)throw TypeError();return"{".concat(e,",").concat(t,"}")},t.startsWith=function(e,t){return 0===e.indexOf(t)},t.trimAfterFirstMatch=function(e,t){var r=t.search(e);return r>=0?t.slice(0,r):t}},69469:function(e,t,r){"use strict";t.default=function(){for(var e=(0,i.default)(arguments),t=e.text,r=e.options,o=e.metadata,a=new n.default(t,s(s({},r),{},{v2:!0}),o),l=[];a.hasNext();)l.push(a.next());return l};var n=o(r(46322)),i=o(r(15476));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},58292:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.chooseFormatForNumber=g,t.default=function(e,t,r,n){if(r=r?p(p({},h),r):h,n=new a.default(n),e.country&&"001"!==e.country){if(!n.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));n.country(e.country)}else{if(!e.countryCallingCode)return e.phone||"";n.selectNumberingPlan(e.countryCallingCode)}var i,o,c,u,d,f,g,v,m,b,_,w,S,O=n.countryCallingCode(),M=r.v2?e.nationalNumber:e.phone;switch(t){case"NATIONAL":if(!M)return"";return i=S=y(M,e.carrierCode,"NATIONAL",n,r),o=e.ext,c=n,u=r.formatExtension,o?u(i,o,c):i;case"INTERNATIONAL":if(!M)return"+".concat(O);return S=y(M,null,"INTERNATIONAL",n,r),d=S="+".concat(O," ").concat(S),f=e.ext,g=n,v=r.formatExtension,f?v(d,f,g):d;case"E.164":return"+".concat(O).concat(M);case"RFC3966":return(0,l.formatRFC3966)({number:"+".concat(O).concat(M),ext:e.ext});case"IDD":if(!r.fromCountry)return;return m=function(e,t,r,n,i){if((0,a.getCountryCallingCode)(n,i.metadata)===r){var o=y(e,t,"NATIONAL",i);return"1"===r?r+" "+o:o}var l=(0,s.default)(n,void 0,i.metadata);if(l)return"".concat(l," ").concat(r," ").concat(y(e,null,"INTERNATIONAL",i))}(M,e.carrierCode,O,r.fromCountry,n),b=e.ext,_=n,w=r.formatExtension,b?w(m,b,_):m;default:throw Error('Unknown "format" argument passed to "formatNumber()": "'.concat(t,'"'))}};var i=u(r(14271)),o=u(r(41017)),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(98635)),s=u(r(56960)),l=r(24616);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var h={formatExtension:function(e,t,r){return"".concat(e).concat(r.ext()).concat(t)}};function y(e,t,r,n,i){var a=g(n.formats(),e);return a?(0,o.default)(e,a,{useInternationalFormat:"INTERNATIONAL"===r,withNationalPrefix:!a.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!i||!1!==i.nationalPrefix,carrierCode:t,metadata:n}):e}function g(e,t){for(var r,n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e);!(r=n()).done;){var o=r.value;if(o.leadingDigitsPatterns().length>0){var a=o.leadingDigitsPatterns()[o.leadingDigitsPatterns().length-1];if(0!==t.search(a))continue}if((0,i.default)(t,o.pattern()))return o}}},17441:function(e,t,r){"use strict";t.default=function(e,t,r){return r||(r=t,t=void 0),new i.default(t,r).input(e)};var n,i=(n=r(89515))&&n.__esModule?n:{default:n}},61634:function(e,t,r){"use strict";t.default=function(e){return new i.default(e).getCountries()};var n,i=(n=r(98635))&&n.__esModule?n:{default:n}},56885:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n.getCountryCallingCode}});var n=r(98635)},42352:function(e,t,r){"use strict";t.default=function(e,t,r){if(t[e])return new i.default(e,t[e],r)};var n,i=(n=r(9784))&&n.__esModule?n:{default:n}},24616:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatRFC3966=function(e){var t=e.number,r=e.ext;if(!t)return"";if("+"!==t[0])throw Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(t).concat(r?";ext="+r:"")},t.parseRFC3966=function(e){e=e.replace(/^tel:/,"tel=");for(var t,r,n,a=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=o(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(";"));!(n=a()).done;){var s,l=function(e){if(Array.isArray(e))return e}(s=n.value.split("="))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(s,2)||o(s,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1];switch(c){case"tel":t=u;break;case"ext":r=u;break;case"phone-context":"+"===u[0]&&(t=u+t)}}if(!(0,i.default)(t))return{};var d={number:t};return r&&(d.ext=r),d};var n,i=(n=r(42927))&&n.__esModule?n:{default:n};function o(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},83730:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(RegExp("[".concat(n.VALID_PUNCTUATION,"]+"),"g")," ").trim()};var n=r(28312)},23752:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkNumberLengthForType=o,t.default=function(e,t){return o(e,void 0,t)};var n,i=(n=r(16074))&&n.__esModule?n:{default:n};function o(e,t,r){var n=r.type(t),a=n&&n.possibleLengths()||r.possibleLengths();if(!a)return"IS_POSSIBLE";if("FIXED_LINE_OR_MOBILE"===t){if(!r.type("FIXED_LINE"))return o(e,"MOBILE",r);var s=r.type("MOBILE");s&&(a=(0,i.default)(a,s.possibleLengths()))}else if(t&&!n)return"INVALID_LENGTH";var l=e.length,c=a[0];return c===l?"IS_POSSIBLE":c>l?"TOO_SHORT":a[a.length-1]<l?"TOO_LONG":a.indexOf(l,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}},56282:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t="[ \xa0\\t,]*",r="[:\\.．]?[ \xa0\\t,-]*",n="[ \xa0\\t]*";return";ext="+i("20")+"|"+(t+"(?:e?xt(?:ensi(?:ó?|\xf3))?n?|ｅ?ｘｔｎ?|доб|anexo)"+r)+i("20")+"#?|"+(t+"(?:[xｘ#＃~～]|int|ｉｎｔ)"+r)+i("9")+"#?|[- ]+"+i("6")+"#|"+(n+"(?:,{2}|;)"+r)+i("15")+"#?|"+(n+"(?:,)+"+r)+i("9")+"#?"};var n=r(28312),i=function(e){return"([".concat(n.VALID_DIGITS,"]{1,").concat(e,"})")}},83671:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.search(i);if(t<0)return{};for(var r=e.slice(0,t),n=e.match(i),o=1;o<n.length;){if(n[o])return{number:r,ext:n[o]};o++}};var n,i=RegExp("(?:"+(0,((n=r(56282))&&n.__esModule?n:{default:n}).default)()+")$","i")},38075:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){if(!e)return{};if("+"!==e[0]){var l,c=(0,n.default)(e,t,r,s);if(c&&c!==e)l=!0,e="+"+c;else{if(t||r){var u=(0,i.default)(e,t,r,s),d=u.countryCallingCode,f=u.number;if(d)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:d,number:f}}return{number:e}}}if("0"===e[1])return{};s=new o.default(s);for(var p=2;p-1<=a.MAX_LENGTH_COUNTRY_CODE&&p<=e.length;){var h=e.slice(1,p);if(s.hasCallingCode(h))return s.selectNumberingPlan(h),{countryCallingCodeSource:l?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:h,number:e.slice(p)};p++}return{}};var n=s(r(25018)),i=s(r(83561)),o=s(r(98635)),a=r(28312);function s(e){return e&&e.__esModule?e:{default:e}}},83561:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,l){var c=t?(0,s.default)(t,l):r;if(0===e.indexOf(c)){(l=new n.default(l)).selectNumberingPlan(t,r);var u=e.slice(c.length),d=(0,o.default)(u,l).nationalNumber,f=(0,o.default)(e,l).nationalNumber;if(!(0,i.default)(f,l.nationalNumberPattern())&&(0,i.default)(d,l.nationalNumberPattern())||"TOO_LONG"===(0,a.default)(f,l))return{countryCallingCode:c,number:u}}return{number:e}};var n=l(r(98635)),i=l(r(14271)),o=l(r(65750)),a=l(r(23752)),s=l(r(56885));function l(e){return e&&e.__esModule?e:{default:e}}},45905:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.extractFormattedPhoneNumber,n=(0,o.default)(e);if(!(0,o.isPhoneContextValid)(n))throw new a.default("NOT_A_NUMBER");if(null===n)i=r(e)||"";else{i="",n.charAt(0)===o.PLUS_SIGN&&(i+=n);var i,s,l=e.indexOf(o.RFC3966_PREFIX_);s=l>=0?l+o.RFC3966_PREFIX_.length:0;var c=e.indexOf(o.RFC3966_PHONE_CONTEXT_);i+=e.substring(s,c)}var u=i.indexOf(o.RFC3966_ISDN_SUBADDRESS_);if(u>0&&(i=i.substring(0,u)),""!==i)return i};var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(71029)),a=(i=r(23630))&&i.__esModule?i:{default:i};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}},65750:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=(0,n.default)(e,t),a=r.carrierCode,s=r.nationalNumber;return s!==e&&(!(!(0,i.default)(e,t.nationalNumberPattern())||(0,i.default)(s,t.nationalNumberPattern()))||t.possibleLengths()&&!function(e,t){switch((0,o.default)(e,t)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}(s,t))?{nationalNumber:e}:{nationalNumber:s,carrierCode:a}};var n=a(r(2011)),i=a(r(14271)),o=a(r(23752));function a(e){return e&&e.__esModule?e:{default:e}}},2011:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&t.numberingPlan.nationalPrefixForParsing()){var r=RegExp("^(?:"+t.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(e);if(n){var i,o,a,s=n.length-1,l=s>0&&n[s];if(t.nationalPrefixTransformRule()&&l)i=e.replace(r,t.nationalPrefixTransformRule()),s>1&&(o=n[1]);else{var c=n[0];i=e.slice(c.length),l&&(o=n[1])}if(l){var u=e.indexOf(n[1]);e.slice(0,u)===t.numberingPlan.nationalPrefix()&&(a=t.numberingPlan.nationalPrefix())}else a=n[0];return{nationalNumber:i,nationalPrefix:a,carrierCode:o}}}return{nationalNumber:e}}},71029:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RFC3966_PREFIX_=t.RFC3966_PHONE_CONTEXT_=t.RFC3966_ISDN_SUBADDRESS_=t.PLUS_SIGN=void 0,t.default=function(e){var t=e.indexOf(l);if(t<0)return null;var r=t+l.length;if(r>=e.length)return"";var n=e.indexOf(";",r);return n>=0?e.substring(r,n):e.substring(r)},t.isPhoneContextValid=function(e){return null===e||0!==e.length&&(o.test(e)||s.test(e))};var n=r(28312);t.PLUS_SIGN="+";var i="(["+n.VALID_DIGITS+"]|[\\-\\.\\(\\)]?)",o=RegExp("^\\+"+i+"*["+n.VALID_DIGITS+"]"+i+"*$","g"),a=n.VALID_DIGITS,s=RegExp("^(["+a+"]+((\\-)*["+a+"])*\\.)*[a-zA-Z]+((\\-)*["+a+"])*\\.?$","g");t.RFC3966_PREFIX_="tel:";var l=";phone-context=";t.RFC3966_PHONE_CONTEXT_=l,t.RFC3966_ISDN_SUBADDRESS_=";isub="},41017:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FIRST_GROUP_PATTERN=void 0,t.default=function(e,t,r){var n=r.useInternationalFormat,a=r.withNationalPrefix;r.carrierCode,r.metadata;var s=e.replace(new RegExp(t.pattern()),n?t.internationalFormat():a&&t.nationalPrefixFormattingRule()?t.format().replace(o,t.nationalPrefixFormattingRule()):t.format());return n?(0,i.default)(s):s};var n,i=(n=r(83730))&&n.__esModule?n:{default:n},o=/(\$\d)/;t.FIRST_GROUP_PATTERN=o},64851:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.nationalNumber,n=t.defaultCountry,o=t.metadata,a=o.getCountryCodesForCallingCode(e);return a?1===a.length?a[0]:(0,i.default)(r,{countries:a,defaultCountry:n,metadata:o.metadata}):void 0};var n,i=(n=r(18982))&&n.__esModule?n:{default:n}},18982:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var r=t.countries,o=t.defaultCountry,s=t.metadata;s=new n.default(s);for(var l,c=[],u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(r);!(l=u()).done;){var d=l.value;if(s.country(d),s.leadingDigits()){if(e&&0===e.search(s.leadingDigits()))return d}else if((0,i.default)({phone:e,country:d},void 0,s.metadata)){if(!o||d===o)return d;c.push(d)}}if(c.length>0)return c[0]};var n=o(r(98635)),i=o(r(37894));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},56960:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=new i.default(r);return(n.selectNumberingPlan(e,t),n.defaultIDDPrefix())?n.defaultIDDPrefix():o.test(n.IDDPrefix())?n.IDDPrefix():void 0};var n,i=(n=r(98635))&&n.__esModule?n:{default:n},o=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/},37894:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(t=t||{},e.country||e.countryCallingCode){(r=new n.default(r)).selectNumberingPlan(e.country,e.countryCallingCode);var o=t.v2?e.nationalNumber:e.phone;if((0,i.default)(o,r.nationalNumberPattern())){if(l(o,"FIXED_LINE",r))return r.type("MOBILE")&&""===r.type("MOBILE").pattern()||!r.type("MOBILE")||l(o,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var c,u=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(s);!(c=u()).done;){var d=c.value;if(l(o,d,r))return d}}}},t.isNumberTypeEqualTo=l;var n=o(r(98635)),i=o(r(14271));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var s=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function l(e,t,r){return!(!(t=r.type(t))||!t.pattern()||t.possibleLengths()&&0>t.possibleLengths().indexOf(e.length))&&(0,i.default)(e,t.pattern())}},75448:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){var n=new i.default(r).getCountryCodesForCallingCode(e);return n?n.filter(function(e){var n;return(n=new i.default(r)).selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}):[]};var n,i=(n=r(98635))&&n.__esModule?n:{default:n}},95863:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return null!=e&&e.constructor===r};var r={}.constructor},42927:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VALID_PHONE_NUMBER_WITH_EXTENSION=t.VALID_PHONE_NUMBER=void 0,t.default=function(e){return e.length>=i.MIN_LENGTH_FOR_NSN&&u.test(e)},t.isViablePhoneNumberStart=function(e){return l.test(e)};var n,i=r(28312),o=(n=r(56282))&&n.__esModule?n:{default:n},a="["+i.VALID_DIGITS+"]{"+i.MIN_LENGTH_FOR_NSN+"}",s="["+i.PLUS_CHARS+"]{0,1}(?:["+i.VALID_PUNCTUATION+"]*["+i.VALID_DIGITS+"]){3,}["+i.VALID_PUNCTUATION+i.VALID_DIGITS+"]*";t.VALID_PHONE_NUMBER=s;var l=RegExp("^["+i.PLUS_CHARS+"]{0,1}(?:["+i.VALID_PUNCTUATION+"]*["+i.VALID_DIGITS+"]){1,2}$","i"),c=s+"(?:"+(0,o.default)()+")?";t.VALID_PHONE_NUMBER_WITH_EXTENSION=c;var u=RegExp("^"+a+"$|^"+c+"$","i")},14271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e=e||"",RegExp("^(?:"+t+")$").test(e)}},16074:function(e,t){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){for(var n,i=e.slice(),o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(t);!(n=o()).done;){var a=n.value;0>e.indexOf(a)&&i.push(a)}return i.sort(function(e,t){return e-t})}},81047:function(e,t){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(t,"__esModule",{value:!0}),t.DIGITS=void 0,t.default=function(e){for(var t,i="",o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}}(e))){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=o()).done;){var a=n[t.value];a&&(i+=a)}return i},t.parseDigit=function(e){return n[e]};var n={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9"};t.DIGITS=n},25018:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){if(t){var a=new i.default(n);a.selectNumberingPlan(t,r);var s=new RegExp(a.IDDPrefix());if(0===e.search(s)){var l=(e=e.slice(e.match(s)[0].length)).match(o);if(!l||null==l[1]||!(l[1].length>0)||"0"!==l[1])return e}}};var n,i=(n=r(98635))&&n.__esModule?n:{default:n},o=RegExp("(["+r(28312).VALID_DIGITS+"])")},86881:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(void 0===t&&(t={}),r=new n.default(r),t.v2){if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}else{if(!e.phone)return!1;if(e.country){if(!r.hasCountry(e.country))throw Error("Unknown country: ".concat(e.country));r.country(e.country)}else{if(!e.countryCallingCode)throw Error("Invalid phone number object passed");r.selectNumberingPlan(e.countryCallingCode)}}if(r.possibleLengths())return a(e.phone||e.nationalNumber,r);if(e.countryCallingCode&&r.isNonGeographicCallingCode(e.countryCallingCode))return!0;throw Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')},t.isPossibleNumber=a;var n=o(r(98635)),i=o(r(23752));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return"IS_POSSIBLE"===(0,i.default)(e,t)}},37850:function(e,t,r){"use strict";t.default=function(){var e=(0,n.default)(arguments),t=e.text,r=e.options,o=e.metadata;r=s(s({},r),{},{extract:!1});var a=(0,i.default)(t,r,o);return a&&a.isPossible()||!1};var n=o(r(15476)),i=o(r(95597));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},5984:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(t=t||{},(r=new n.default(r)).selectNumberingPlan(e.country,e.countryCallingCode),r.hasTypes())return void 0!==(0,o.default)(e,t,r.metadata);var a=t.v2?e.nationalNumber:e.phone;return(0,i.default)(a,r.nationalNumberPattern())};var n=a(r(98635)),i=a(r(14271)),o=a(r(37894));function a(e){return e&&e.__esModule?e:{default:e}}},66713:function(e,t,r){"use strict";t.default=function(){var e=(0,n.default)(arguments),t=e.text,r=e.options,o=e.metadata;r=s(s({},r),{},{extract:!1});var a=(0,i.default)(t,r,o);return a&&a.isValid()||!1};var n=o(r(15476)),i=o(r(95597));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},99798:function(e,t,r){"use strict";t.default=function(){for(var e=(0,i.default)(arguments),t=e.text,r=e.options,o=e.metadata,a=new n.default(t,r,o),s=[];a.hasNext();)s.push(a.next());return s};var n=o(r(46322)),i=o(r(15476));function o(e){return e&&e.__esModule?e:{default:e}}},3887:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.ZP=function(){var e=(0,a.default)(arguments),t=e.text,r=e.options,n=e.metadata;return(0,o.default)(t,r,n)},t.Pf=function(){var e=(0,a.default)(arguments),t=e.text,r=e.options,n=e.metadata;return(0,o.searchPhoneNumbers)(t,r,n)};var i,o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var l=o?Object.getOwnPropertyDescriptor(e,a):null;l&&(l.get||l.set)?Object.defineProperty(i,a,l):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(55524)),a=(i=r(15476))&&i.__esModule?i:{default:i};function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}},55524:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhoneNumberSearch=t.EXTN_PATTERNS_FOR_PARSING=void 0,t.default=function(e,t,r){void 0===t&&(t={});for(var n=new y(e,t,r),i=[];n.hasNext();)i.push(n.next());return i},t.searchPhoneNumbers=function(e,t,r){void 0===t&&(t={});var n,i,o,a=new y(e,t,r);return n={},i=Symbol.iterator,o=function(){return{next:function(){return a.hasNext()?{done:!1,value:a.next()}:{done:!0}}}},i in n?Object.defineProperty(n,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[i]=o,n};var n=r(28312),i=u(r(32075)),o=r(42927),a=u(r(56282)),s=u(r(77797)),l=u(r(87105)),c=u(r(81778));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var f=(0,a.default)("parsing");t.EXTN_PATTERNS_FOR_PARSING=f;var p=RegExp("^["+n.WHITESPACE+"]+"),h=RegExp("["+n.VALID_PUNCTUATION+"]+$"),y=function(){var e,t;function r(e,t,n){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,r),this.text=e,this.options=t||{},this.metadata=n,this.state="NOT_READY",this.regexp=RegExp(o.VALID_PHONE_NUMBER_WITH_EXTENSION,"ig")}return e=[{key:"find",value:function(){var e=this.regexp.exec(this.text);if(e){var t=e[0],r=e.index;return t=t.replace(p,""),r+=e[0].length-t.length,t=t.replace(h,""),t=(0,s.default)(t),this.parseCandidate(t,r)||this.find()}}},{key:"parseCandidate",value:function(e,t){if((0,l.default)(e,t,this.text)&&(0,c.default)(e,t,this.text,this.options.extended?"POSSIBLE":"VALID")){var r=(0,i.default)(e,this.options,this.metadata);if(r.phone)return r.startsAt=t,r.endsAt=t+e.length,r}}},{key:"hasNext",value:function(){return"NOT_READY"===this.state&&(this.last_match=this.find(),this.last_match?this.state="READY":this.state="DONE"),"READY"===this.state}},{key:"next",value:function(){if(!this.hasNext())throw Error("No next element");var e=this.last_match;return this.last_match=null,this.state="NOT_READY",e}}],d(r.prototype,e),t&&d(r,t),Object.defineProperty(r,"prototype",{writable:!1}),r}();t.PhoneNumberSearch=y},68199:function(e,t,r){"use strict";t.Z=function(){var e=function(e){var t,r,n,a,l,c=function(e){if(Array.isArray(e))return e}(t=Array.prototype.slice.call(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(t,5)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}(t,5)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],d=c[1],f=c[2],p=c[3],h=c[4];if("string"==typeof u){if("string"==typeof f)n=f,h?(a=p,l=h):l=p,r=(0,i.default)(u,{defaultCountry:d,extended:!0},l);else{if("string"!=typeof d)throw Error("`format` argument not passed to `formatNumber(number, format)`");n=d,p?(a=f,l=p):l=f,r=(0,i.default)(u,{extended:!0},l)}}else if((0,o.default)(u))r=u,n=d,p?(a=f,l=p):l=f;else throw TypeError("A phone number must either be a string or an object of shape { phone, [country] }.");return"International"===n?n="INTERNATIONAL":"National"===n&&(n="NATIONAL"),{input:r,format:n,options:a,metadata:l}}(arguments),t=e.input,r=e.format,a=e.options,l=e.metadata;return(0,n.default)(t,r,a,l)};var n=a(r(58292)),i=a(r(32075)),o=a(r(95863));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},58815:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=c(arguments),t=e.input,r=e.options,n=e.metadata;if(t.phone)return(0,i.default)(t,r,n)},t.normalizeArguments=c;var n=s(r(42927)),i=s(r(37894)),o=s(r(95863)),a=s(r(32075));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function c(e){var t,r,i,s=function(e){if(Array.isArray(e))return e}(t=Array.prototype.slice.call(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(t,4)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=s[2],f=s[3],p={};if("string"==typeof c)(0,o.default)(u)?(d?(p=u,i=d):i=u,r=(0,n.default)(c)?(0,a.default)(c,void 0,i):{}):(f?(p=d,i=f):i=d,r=(0,n.default)(c)?(0,a.default)(c,{defaultCountry:u},i):{});else if((0,o.default)(c))r=c,d?(p=u,i=d):i=u;else throw TypeError("A phone number must either be a string or an object of shape { phone, [country] }.");return{input:r,options:p,metadata:i}}},56287:function(e,t,r){"use strict";t.Z=function(){var e=(0,i.normalizeArguments)(arguments),t=e.input,r=e.options,n=e.metadata;return(!!t.phone||!!r&&!!r.v2)&&(0,o.default)(t,r,n)};var n,i=r(58815),o=(n=r(86881))&&n.__esModule?n:{default:n}},93606:function(e,t,r){"use strict";t.Z=function(){var e=(0,o.normalizeArguments)(arguments),t=e.input,r=e.options,n=e.metadata;return!!t.phone&&(0,i.default)(t,r,n)};var n,i=(n=r(5984))&&n.__esModule?n:{default:n},o=r(58815)},70910:function(e,t,r){"use strict";t.Z=function(e,t,r){var a;if("string"!=typeof e)throw TypeError("number must be a string");if("string"!=typeof t)throw TypeError("country must be a string");return a=(0,n.default)(e)?(0,i.default)(e,{defaultCountry:t},r):{},(0,o.default)(a,t,void 0,r)};var n=a(r(42927)),i=a(r(32075)),o=a(r(28005));function a(e){return e&&e.__esModule?e:{default:e}}},28005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,n){return r=r||{},e.country===t&&(0,i.default)(e,r,n)};var n,i=(n=r(5984))&&n.__esModule?n:{default:n}},52227:function(e,t,r){"use strict";t.Z=function(){var e=(0,i.default)(arguments),t=e.text,r=e.options,o=e.metadata;return(0,n.default)(t,r,o)};var n=o(r(32075)),i=o(r(15476));function o(e){return e&&e.__esModule?e:{default:e}}},55635:function(e,t,r){"use strict";t.default=function(){var e,t,r,o=(0,n.default)(arguments),a=o.text,s=o.options,l=o.metadata,c=new i.default(a,s,l);return e={},t=Symbol.iterator,r=function(){return{next:function(){return c.hasNext()?{done:!1,value:c.next()}:{done:!0}}}},t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e};var n=o(r(15476)),i=o(r(46322));function o(e){return e&&e.__esModule?e:{default:e}}},98635:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getCountryCallingCode=function(e,t){if((t=new f(t)).hasCountry(e))return t.country(e).countryCallingCode();throw Error("Unknown country: ".concat(e))},t.getExtPrefix=function(e,t){return(t=new f(t)).hasCountry(e)?t.country(e).ext():u},t.isSupportedCountry=function(e,t){return t.countries.hasOwnProperty(e)},t.validateMetadata=m;var n=o(r(97135)),i=o(r(95863));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var u=" ext. ",d=/^\d+$/,f=function(){function e(t){s(this,e),m(t),this.metadata=t,_.call(this,t)}return c(e,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(e){return"001"!==e})}},{key:"getCountryMetadata",value:function(e){return this.metadata.countries[e]}},{key:"nonGeographic",value:function(){if(!this.v1&&!this.v2&&!this.v3)return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(e){return void 0!==this.getCountryMetadata(e)}},{key:"hasCallingCode",value:function(e){if(this.getCountryCodesForCallingCode(e))return!0;if(this.nonGeographic()){if(this.nonGeographic()[e])return!0}else{var t=this.countryCallingCodes()[e];if(t&&1===t.length&&"001"===t[0])return!0}}},{key:"isNonGeographicCallingCode",value:function(e){return this.nonGeographic()?!!this.nonGeographic()[e]:!this.getCountryCodesForCallingCode(e)}},{key:"country",value:function(e){return this.selectNumberingPlan(e)}},{key:"selectNumberingPlan",value:function(e,t){if(e&&d.test(e)&&(t=e,e=null),e&&"001"!==e){if(!this.hasCountry(e))throw Error("Unknown country: ".concat(e));this.numberingPlan=new p(this.getCountryMetadata(e),this)}else if(t){if(!this.hasCallingCode(t))throw Error("Unknown calling code: ".concat(t));this.numberingPlan=new p(this.getNumberingPlanMetadata(t),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(e){var t=this.countryCallingCodes()[e];if(t){if(1===t.length&&3===t[0].length)return;return t}}},{key:"getCountryCodeForCallingCode",value:function(e){var t=this.getCountryCodesForCallingCode(e);if(t)return t[0]}},{key:"getNumberingPlanMetadata",value:function(e){var t=this.getCountryCodeForCallingCode(e);if(t)return this.getCountryMetadata(t);if(this.nonGeographic()){var r=this.nonGeographic()[e];if(r)return r}else{var n=this.countryCallingCodes()[e];if(n&&1===n.length&&"001"===n[0])return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(e){return this.numberingPlan.type(e)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(e){return this.selectNumberingPlan(e)}},{key:"hasSelectedNumberingPlan",value:function(){return void 0!==this.numberingPlan}}]),e}();t.default=f;var p=function(){function e(t,r){s(this,e),this.globalMetadataObject=r,this.metadata=t,_.call(this,r.metadata)}return c(e,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!this.v1&&!this.v2)return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(e){return e[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var e=this;return(this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[]).map(function(t){return new h(t,e)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(e){return e[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return(!this.types()||0!==this.types().length)&&!!this.types()}},{key:"type",value:function(e){if(this.hasTypes()&&v(this.types(),e))return new g(v(this.types(),e),this)}},{key:"ext",value:function(){return this.v1||this.v2?u:this.metadata[13]||u}}]),e}(),h=function(){function e(t,r){s(this,e),this._format=t,this.metadata=r}return c(e,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!this.nationalPrefixFormattingRule()&&!y.test(this.nationalPrefixFormattingRule())}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}]),e}(),y=/^\(?\$1\)?$/,g=function(){function e(t,r){s(this,e),this.type=t,this.metadata=r}return c(e,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}]),e}();function v(e,t){switch(t){case"FIXED_LINE":return e[0];case"MOBILE":return e[1];case"TOLL_FREE":return e[2];case"PREMIUM_RATE":return e[3];case"PERSONAL_NUMBER":return e[4];case"VOICEMAIL":return e[5];case"UAN":return e[6];case"PAGER":return e[7];case"VOIP":return e[8];case"SHARED_COST":return e[9]}}function m(e){if(!e)throw Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!(0,i.default)(e)||!(0,i.default)(e.countries))throw Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat((0,i.default)(e)?"an object of shape: { "+Object.keys(e).join(", ")+" }":"a "+b(e)+": "+e,"."))}var b=function(e){return a(e)};function _(e){var t=e.version;"number"==typeof t?(this.v1=1===t,this.v2=2===t,this.v3=3===t,this.v4=4===t):t?-1===(0,n.default)(t,"1.2.0")?this.v2=!0:-1===(0,n.default)(t,"1.7.35")?this.v3=!0:this.v4=!0:this.v1=!0}},15476:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t,r,n,s,l=function(e){if(Array.isArray(e))return e}(t=Array.prototype.slice.call(e))||function(e,t){var r,n,i=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var o=[],a=!0,s=!1;try{for(i=i.call(e);!(a=(r=i.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,n=e}finally{try{a||null==i.return||i.return()}finally{if(s)throw n}}return o}}(t,4)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}}(t,4)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1],d=l[2],f=l[3];if("string"==typeof c)r=c;else throw TypeError("A text for parsing must be a string.");if(u&&"string"!=typeof u){if((0,i.default)(u))d?(n=u,s=d):s=u;else throw Error("Invalid second argument: ".concat(u))}else f?(n=d,s=f):(n=void 0,s=d),u&&(n=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({defaultCountry:u},n));return{text:r,options:n,metadata:s}};var n,i=(n=r(95863))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}},32075:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(t=t||{},r=new a.default(r),t.defaultCountry&&!r.hasCountry(t.defaultCountry)){if(t.v2)throw new o.default("INVALID_COUNTRY");throw Error("Unknown country: ".concat(t.defaultCountry))}var n,m=function(e,t,r){var n=(0,v.default)(e,{extractFormattedPhoneNumber:function(e){return function(e,t,r){if(e){if(e.length>250){if(r)throw new o.default("TOO_LONG");return}if(!1===t)return e;var n=e.search(_);if(!(n<0))return e.slice(n).replace(w,"")}}(e,r,t)}});if(!n)return{};if(!(0,s.default)(n))return(0,s.isViablePhoneNumberStart)(n)?{error:"TOO_SHORT"}:{};var i=(0,l.default)(n);return i.ext?i:{number:n}}(e,t.v2,t.extract),b=m.number,S=m.ext,O=m.error;if(!b){if(t.v2){if("TOO_SHORT"===O)throw new o.default("TOO_SHORT");throw new o.default("NOT_A_NUMBER")}return{}}var M=function(e,t,r,n){var i,o=(0,h.default)((0,c.default)(e),t,r,n.metadata),a=o.countryCallingCodeSource,s=o.countryCallingCode,l=o.number;if(s)n.selectNumberingPlan(s);else{if(!l||!t&&!r)return{};n.selectNumberingPlan(t,r),t&&(i=t),s=r||(0,u.default)(t,n.metadata)}if(!l)return{countryCallingCodeSource:a,countryCallingCode:s};var d=(0,y.default)((0,c.default)(l),n),f=d.nationalNumber,p=d.carrierCode,v=(0,g.default)(s,{nationalNumber:f,defaultCountry:t,metadata:n});return v&&(i=v,"001"===v||n.country(i)),{country:i,countryCallingCode:s,countryCallingCodeSource:a,nationalNumber:f,carrierCode:p}}(b,t.defaultCountry,t.defaultCallingCode,r),R=M.country,P=M.nationalNumber,E=M.countryCallingCode,I=M.countryCallingCodeSource,x=M.carrierCode;if(!r.hasSelectedNumberingPlan()){if(t.v2)throw new o.default("INVALID_COUNTRY");return{}}if(!P||P.length<i.MIN_LENGTH_FOR_NSN){if(t.v2)throw new o.default("TOO_SHORT");return{}}if(P.length>i.MAX_LENGTH_FOR_NSN){if(t.v2)throw new o.default("TOO_LONG");return{}}if(t.v2){var A=new f.default(E,P,r.metadata);return R&&(A.country=R),x&&(A.carrierCode=x),S&&(A.ext=S),A.__countryCallingCodeSource=I,A}var C=(t.extended?!!r.hasSelectedNumberingPlan():!!R)&&(0,p.default)(P,r.nationalNumberPattern());return t.extended?{country:R,countryCallingCode:E,carrierCode:x,valid:C,possible:!!C||!!(!0===t.extended&&r.possibleLengths()&&(0,d.isPossibleNumber)(P,r)),phone:P,ext:S}:C?(n={country:R,phone:P},S&&(n.ext=S),n):{}};var i=r(28312),o=b(r(23630)),a=b(r(98635)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=m(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(i,a,s):i[a]=e[a]}return i.default=e,r&&r.set(e,i),i}(r(42927)),l=b(r(83671)),c=b(r(95016)),u=b(r(56885)),d=r(86881),f=b(r(9784)),p=b(r(14271)),h=b(r(38075)),y=b(r(65750));b(r(25018));var g=b(r(64851)),v=b(r(45905));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(m=function(e){return e?r:t})(e)}function b(e){return e&&e.__esModule?e:{default:e}}var _=RegExp("["+i.PLUS_CHARS+i.VALID_DIGITS+"]"),w=RegExp("[^"+i.VALID_DIGITS+"#]+$")},95016:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t,r="",n=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return(r=r.call(e)).next.bind(r);if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}}(e))){r&&(e=r);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split(""));!(t=n()).done;){var a=t.value;r+=o(a,r)||""}return r},t.parsePhoneNumberCharacter=o;var n=r(81047);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){if("+"===e){if(t)return;return"+"}return(0,n.parseDigit)(e)}},47810:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=(0,n.default)(arguments),t=e.text,r=e.options,o=e.metadata;return(0,i.default)(t,r,o)};var n=o(r(15476)),i=o(r(95597));function o(e){return e&&e.__esModule?e:{default:e}}},55561:function(e,t,r){"use strict";t.Z=function(){var e=(0,i.default)(arguments),t=e.text,r=e.options,o=e.metadata;return(0,n.default)(t,r,o)};var n=o(r(98506)),i=o(r(15476));function o(e){return e&&e.__esModule?e:{default:e}}},98506:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){return(0,i.default)(e,a(a({},t),{},{v2:!0}),r)};var n,i=(n=r(32075))&&n.__esModule?n:{default:n};function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},95597:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){t&&t.defaultCountry&&!(0,o.isSupportedCountry)(t.defaultCountry,r)&&(t=l(l({},t),{},{defaultCountry:void 0}));try{return(0,n.default)(e,t,r)}catch(e){if(e instanceof i.default);else throw e}};var n=a(r(98506)),i=a(r(23630)),o=r(98635);function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},51229:function(e,t,r){"use strict";t.default=function(){var e=(0,i.default)(arguments),t=e.text,r=e.options,o=e.metadata,a=new n.default(t,s(s({},r),{},{v2:!0}),o);return l({},Symbol.iterator,function(){return{next:function(){return a.hasNext()?{done:!1,value:a.next()}:{done:!0}}}})};var n=o(r(46322)),i=o(r(15476));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},97135:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e=e.split("-"),t=t.split("-");for(var r=e[0].split("."),n=t[0].split("."),i=0;i<3;i++){var o=Number(r[i]),a=Number(n[i]);if(o>a)return 1;if(a>o)return -1;if(!isNaN(o)&&isNaN(a))return 1;if(isNaN(o)&&!isNaN(a))return -1}return e[1]&&t[1]?e[1]>t[1]?1:e[1]<t[1]?-1:0:!e[1]&&t[1]?1:e[1]&&!t[1]?-1:0}},8756:function(e,t,r){"use strict";t.default=function(){var e=(0,n.default)(arguments),t=e.text,r=e.options,l=e.metadata;r=u(u({},r),{},{extract:!1});try{var c=(0,i.default)(t,r,l);(l=new a.default(l)).selectNumberingPlan(c.countryCallingCode);var d=(0,s.default)(c.nationalNumber,l);if("IS_POSSIBLE"!==d)return d}catch(e){if(e instanceof o.default)return e.message;throw e}};var n=l(r(15476)),i=l(r(98506)),o=l(r(23630)),a=l(r(98635)),s=l(r(23752));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n;n=r[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}},69641:function(e,t,r){"use strict";var n=r(47810).default;(t=e.exports=n).default=n,t.ParseError=r(23630).default;var i=r(55561).Z;t.parsePhoneNumberWithError=i,t.parsePhoneNumber=i,t.parsePhoneNumberFromString=n,t.isValidPhoneNumber=r(66713).default,t.isPossiblePhoneNumber=r(37850).default,t.validatePhoneNumberLength=r(8756).default,t.findNumbers=r(99798).default,t.searchNumbers=r(55635).default,t.findPhoneNumbersInText=r(69469).default,t.searchPhoneNumbersInText=r(51229).default,t.PhoneNumberMatcher=r(46322).default,t.AsYouType=r(89515).default,t.Metadata=r(98635).default,t.isSupportedCountry=r(98635).isSupportedCountry,t.getCountries=r(61634).default,t.getCountryCallingCode=r(98635).getCountryCallingCode,t.getExtPrefix=r(98635).getExtPrefix,t.getExampleNumber=r(42352).default,t.formatIncompletePhoneNumber=r(17441).default,t.parseIncompletePhoneNumber=r(95016).default,t.parsePhoneNumberCharacter=r(95016).parsePhoneNumberCharacter,t.parseDigits=r(81047).default,t.DIGIT_PLACEHOLDER=r(85815).DIGIT_PLACEHOLDER,t.parseRFC3966=r(24616).parseRFC3966,t.formatRFC3966=r(24616).formatRFC3966},61002:function(e,t,r){"use strict";var n=r(60137),i=r(52731);function o(e,t){var r=Array.prototype.slice.call(t);return r.push(i),e.apply(this,r)}(t=e.exports=n.parsePhoneNumberFromString).default=n.parsePhoneNumberFromString,t.parsePhoneNumberFromString=n.parsePhoneNumberFromString,t.ParseError=n.ParseError,t.parsePhoneNumber=n.parsePhoneNumberWithError,t.parsePhoneNumberWithError=n.parsePhoneNumberWithError,t.isValidPhoneNumber=n.isValidPhoneNumber,t.isPossiblePhoneNumber=n.isPossiblePhoneNumber,t.validatePhoneNumberLength=n.validatePhoneNumberLength;var a=r(52227).Z;t.parse=function(){return o(a,arguments)},t.parseNumber=t.parse;var s=r(68199).Z;t.format=function(){return o(s,arguments)},t.formatNumber=t.format;var l=r(58815).default;t.getNumberType=function(){return o(l,arguments)};var c=r(56287).Z;t.isPossibleNumber=function(){return o(c,arguments)};var u=r(93606).Z;t.isValidNumber=function(){return o(u,arguments)};var d=r(70910).Z;t.isValidNumberForRegion=function(){return o(d,arguments)},t.getExampleNumber=n.getExampleNumber,t.Metadata=n.Metadata;var f=r(3887).ZP;t.findPhoneNumbers=function(){return o(f,arguments)};var p=r(3887).Pf;t.searchPhoneNumbers=function(){return o(p,arguments)};var h=r(55524).PhoneNumberSearch;t.PhoneNumberSearch=function(e,t){return h.call(this,e,t,i)},t.PhoneNumberSearch.prototype=Object.create(h.prototype,{}),t.PhoneNumberSearch.prototype.constructor=t.PhoneNumberSearch,t.findNumbers=n.findNumbers,t.searchNumbers=n.searchNumbers,t.findPhoneNumbersInText=n.findPhoneNumbersInText,t.searchPhoneNumbersInText=n.searchPhoneNumbersInText,t.PhoneNumberMatcher=n.PhoneNumberMatcher,t.AsYouType=n.AsYouType,t.getCountries=n.getCountries,t.getCountryCallingCode=n.getCountryCallingCode,t.isSupportedCountry=n.isSupportedCountry,t.getExtPrefix=n.getExtPrefix,t.parseRFC3966=n.parseRFC3966,t.formatRFC3966=n.formatRFC3966,t.DIGITS=r(81047).DIGITS,t.DIGIT_PLACEHOLDER=n.DIGIT_PLACEHOLDER,t.getPhoneCode=n.getCountryCallingCode,t.formatIncompletePhoneNumber=n.formatIncompletePhoneNumber,t.parseIncompletePhoneNumber=n.parseIncompletePhoneNumber,t.parsePhoneNumberCharacter=n.parsePhoneNumberCharacter,t.parseDigits=n.parseDigits},60137:function(e,t,r){"use strict";var n=r(52731),i=r(69641);function o(e,t){var r=Array.prototype.slice.call(t);return r.push(n),e.apply(this,r)}function a(){return o(i.parsePhoneNumberFromString,arguments)}function s(){return o(i.parsePhoneNumberWithError,arguments)}(t=e.exports=a).default=a,t.ParseError=i.ParseError,t.parsePhoneNumber=s,t.parsePhoneNumberWithError=s,t.parsePhoneNumberFromString=a,t.isValidPhoneNumber=function(){return o(i.isValidPhoneNumber,arguments)},t.isPossiblePhoneNumber=function(){return o(i.isPossiblePhoneNumber,arguments)},t.validatePhoneNumberLength=function(){return o(i.validatePhoneNumberLength,arguments)},t.findNumbers=function(){return o(i.findNumbers,arguments)},t.searchNumbers=function(){return o(i.searchNumbers,arguments)},t.findPhoneNumbersInText=function(){return o(i.findPhoneNumbersInText,arguments)},t.searchPhoneNumbersInText=function(){return o(i.searchPhoneNumbersInText,arguments)},t.PhoneNumberMatcher=function(e,t){return i.PhoneNumberMatcher.call(this,e,t,n)},t.PhoneNumberMatcher.prototype=Object.create(i.PhoneNumberMatcher.prototype,{}),t.PhoneNumberMatcher.prototype.constructor=t.PhoneNumberMatcher,t.AsYouType=function(e){return i.AsYouType.call(this,e,n)},t.AsYouType.prototype=Object.create(i.AsYouType.prototype,{}),t.AsYouType.prototype.constructor=t.AsYouType,t.isSupportedCountry=function(e){return o(i.isSupportedCountry,arguments)},t.getCountries=function(){return o(i.getCountries,arguments)},t.getCountryCallingCode=function(){return o(i.getCountryCallingCode,arguments)},t.getExtPrefix=function(e){return o(i.getExtPrefix,arguments)},t.getExampleNumber=function(){return o(i.getExampleNumber,arguments)},t.Metadata=function(){return i.Metadata.call(this,n)},t.Metadata.prototype=Object.create(i.Metadata.prototype,{}),t.Metadata.prototype.constructor=t.Metadata,t.formatIncompletePhoneNumber=function(){return o(i.formatIncompletePhoneNumber,arguments)},t.parseIncompletePhoneNumber=i.parseIncompletePhoneNumber,t.parsePhoneNumberCharacter=i.parsePhoneNumberCharacter,t.parseDigits=i.parseDigits,t.DIGIT_PLACEHOLDER=i.DIGIT_PLACEHOLDER,t.parseRFC3966=i.parseRFC3966,t.formatRFC3966=i.formatRFC3966},44806:function(e,t,r){var n=r(55e3),i=n&&"object"==typeof n&&"default"in n?n:{default:n};let o=function(e){try{return Promise.resolve(i.default(e,{mode:"cors"})).then(function(e){if(e.status>=400)throw Error(`Bad response ${e.statusText}`);return e.json()})}catch(e){return Promise.reject(e)}};function a(e,t,r){if(!e.s){if(r instanceof s){if(r.s)1&t&&(t=r.s),r=r.v;else{r.o=a.bind(null,e,t);return}}if(r&&r.then){r.then(a.bind(null,e,t),a.bind(null,e,2));return}e.s=t,e.v=r;let n=e.o;n&&n(e)}}let s=function(){function e(){}return e.prototype.then=function(t,r){let n=new e,i=this.s;if(i){let e=1&i?t:r;if(!e)return this;try{a(n,1,e(this.v))}catch(e){a(n,2,e)}return n}return this.o=function(e){try{let i=e.v;1&e.s?a(n,1,t?t(i):i):r?a(n,1,r(i)):a(n,2,i)}catch(e){a(n,2,e)}},n},e}();function l(e){return e instanceof s&&1&e.s}t.getResolver=function(){return{web:function(e,t){try{let n;function r(){let e=void 0!==p?.["@context"]?"application/did+ld+json":"application/did+json";return i?{didDocument:p,didDocumentMetadata:f,didResolutionMetadata:{error:"notFound",message:i}}:{didDocument:p,didDocumentMetadata:f,didResolutionMetadata:{contentType:e}}}let i=null,c=decodeURIComponent(t.id)+"/.well-known/did.json",u=t.id.split(":");u.length>1&&(c=u.map(decodeURIComponent).join("/")+"/did.json");let d=`https://${c}`,f={},p=null,h=function(e,t){var r;do{var n=e();if(n&&n.then){if(l(n))n=n.v;else{r=!0;break}}var i=t();if(l(i)&&(i=i.v),!i)return n}while(!i.then);let o=new s,c=a.bind(null,o,2);return(r?n.then(u):i.then(d)).then(void 0,c),o;function u(r){for(n=r;l(i=t())&&(i=i.v),i;){if(i.then){i.then(d).then(void 0,c);return}if((n=e())&&n.then){if(l(n))n=n.v;else{n.then(u).then(void 0,c);return}}}a(o,1,n)}function d(r){if(r){do{if((n=e())&&n.then){if(l(n))n=n.v;else{n.then(u).then(void 0,c);return}}if(l(r=t())&&(r=r.v),!r){a(o,1,n);return}}while(!r.then);r.then(d).then(void 0,c)}else a(o,1,n)}}(function(){function t(){if(!n){let t=p?.id===e;t||(i="resolver_error: DID document id does not match requested did")}}let r=function(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}(function(){return Promise.resolve(o(d)).then(function(e){p=e})},function(e){i=`resolver_error: DID must resolve to a valid https URL containing a JSON document: ${e}`,n=1});return r&&r.then?r.then(t):t(r)},function(){return!n&&!1});return Promise.resolve(h&&h.then?h.then(r):r(h))}catch(e){return Promise.reject(e)}}}}},21047:function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){!function(e,t,r){var i;(i=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(i)?i:i+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}r.d(t,{Z:function(){return o}})},41775:function(e,t,r){"use strict";r.d(t,{Q:function(){return z}});var n="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},i=[],o=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,s=!1;function l(){s=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,r=e.length;t<r;++t)i[t]=e[t],o[e.charCodeAt(t)]=t;o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63}function c(e){s||l();for(var t,r=e.length,n=r%3,o="",a=[],c=0,u=r-n;c<u;c+=16383)a.push(function(e,t,r){for(var n,o=[],a=t;a<r;a+=3)o.push(i[(n=(e[a]<<16)+(e[a+1]<<8)+e[a+2])>>18&63]+i[n>>12&63]+i[n>>6&63]+i[63&n]);return o.join("")}(e,c,c+16383>u?u:c+16383));return 1===n?o+=i[(t=e[r-1])>>2]+i[t<<4&63]+"==":2===n&&(o+=i[(t=(e[r-2]<<8)+e[r-1])>>10]+i[t>>4&63]+i[t<<2&63]+"="),a.push(o),a.join("")}function u(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,c=l>>1,u=-7,d=r?i-1:0,f=r?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+d],d+=f,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=256*a+e[t+d],d+=f,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),o-=c}return(p?-1:1)*a*Math.pow(2,o-n)}function d(e,t,r,n,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,d=u>>1,f=23===i?5960464477539062e-23:0,p=n?0:o-1,h=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?t+=f/l:t+=f*Math.pow(2,1-d),t*l>=2&&(a++,l/=2),a+d>=u?(s=0,a=u):a+d>=1?(s=(t*l-1)*Math.pow(2,i),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[r+p]=255&s,p+=h,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+p]=255&a,p+=h,a/=256,c-=8);e[r+p-h]|=128*y}var f={}.toString,p=Array.isArray||function(e){return"[object Array]"==f.call(e)};function h(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function y(e,t){if(h()<t)throw RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=g.prototype:(null===e&&(e=new g(t)),e.length=t),e}function g(e,t,r){if(!g.TYPED_ARRAY_SUPPORT&&!(this instanceof g))return new g(e,t,r);if("number"==typeof e){if("string"==typeof t)throw Error("If encoding is specified then the first argument must be a string");return b(this,e)}return v(this,e,t,r)}function v(e,t,r,n){if("number"==typeof t)throw TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,r,n){if(t.byteLength,r<0||t.byteLength<r)throw RangeError("'offset' is out of bounds");if(t.byteLength<r+(n||0))throw RangeError("'length' is out of bounds");return t=void 0===r&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,r):new Uint8Array(t,r,n),g.TYPED_ARRAY_SUPPORT?(e=t).__proto__=g.prototype:e=_(e,t),e}(e,t,r,n):"string"==typeof t?function(e,t,r){if(("string"!=typeof r||""===r)&&(r="utf8"),!g.isEncoding(r))throw TypeError('"encoding" must be a valid string encoding');var n=0|O(t,r),i=(e=y(e,n)).write(t,r);return i!==n&&(e=e.slice(0,i)),e}(e,t,r):function(e,t){if(S(t)){var r,n=0|w(t.length);return 0===(e=y(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?y(e,0):_(e,t);if("Buffer"===t.type&&p(t.data))return _(e,t.data)}throw TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function m(e){if("number"!=typeof e)throw TypeError('"size" argument must be a number');if(e<0)throw RangeError('"size" argument must not be negative')}function b(e,t){if(m(t),e=y(e,t<0?0:0|w(t)),!g.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)e[r]=0;return e}function _(e,t){var r=t.length<0?0:0|w(t.length);e=y(e,r);for(var n=0;n<r;n+=1)e[n]=255&t[n];return e}function w(e){if(e>=h())throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|e}function S(e){return!!(null!=e&&e._isBuffer)}function O(e,t){if(S(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return k(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return F(e).length;default:if(n)return k(e).length;t=(""+t).toLowerCase(),n=!0}}function M(e,t,r){var n,i,o=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n,i=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>i)&&(r=i);for(var o="",a=t;a<r;++a)o+=(n=e[a])<16?"0"+n.toString(16):n.toString(16);return o}(this,t,r);case"utf8":case"utf-8":return I(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return n=t,i=r,0===n&&i===this.length?c(this):c(this.slice(n,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(o)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}}function R(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function P(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),isNaN(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=g.from(t,n)),S(t))return 0===t.length?-1:E(e,t,r,n,i);if("number"==typeof t)return(t&=255,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf)?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):E(e,[t],r,n,i);throw TypeError("val must be string, number or Buffer")}function E(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else -1!==u&&(o-=o-u),u=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var d=!0,f=0;f<l;f++)if(c(e,o+f)!==c(t,f)){d=!1;break}if(d)return o}return -1}function I(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,c=e[i],u=null,d=c>239?4:c>223?3:c>191?2:1;if(i+d<=r)switch(d){case 1:c<128&&(u=c);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,d=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),i+=d}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function x(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function A(e,t,r,n,i,o){if(!S(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function C(e,t,r,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);i<o;++i)e[r+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function j(e,t,r,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);i<o;++i)e[r+i]=t>>>(n?i:3-i)*8&255}function T(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function $(e,t,r,n,i){return i||T(e,t,r,4),d(e,t,r,n,23,4),r+4}function D(e,t,r,n,i){return i||T(e,t,r,8),d(e,t,r,n,52,8),r+8}g.TYPED_ARRAY_SUPPORT=void 0===n.TYPED_ARRAY_SUPPORT||n.TYPED_ARRAY_SUPPORT,h(),g.poolSize=8192,g._augment=function(e){return e.__proto__=g.prototype,e},g.from=function(e,t,r){return v(null,e,t,r)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]),g.alloc=function(e,t,r){return(m(e),e<=0)?y(null,e):void 0!==t?"string"==typeof r?y(null,e).fill(t,r):y(null,e).fill(t):y(null,e)},g.allocUnsafe=function(e){return b(null,e)},g.allocUnsafeSlow=function(e){return b(null,e)},g.isBuffer=U,g.compare=function(e,t){if(!S(e)||!S(t))throw TypeError("Arguments must be Buffers");if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},g.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(e,t){if(!p(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return g.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=g.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(!S(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},g.byteLength=O,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)R(this,t,t+1);return this},g.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)R(this,t,t+3),R(this,t+1,t+2);return this},g.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)R(this,t,t+7),R(this,t+1,t+6),R(this,t+2,t+5),R(this,t+3,t+4);return this},g.prototype.toString=function(){var e=0|this.length;return 0===e?"":0==arguments.length?I(this,0,e):M.apply(this,arguments)},g.prototype.equals=function(e){if(!S(e))throw TypeError("Argument must be a Buffer");return this===e||0===g.compare(this,e)},g.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},g.prototype.compare=function(e,t,r,n,i){if(!S(e))throw TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,s=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),u=0;u<s;++u)if(l[u]!==c[u]){o=l[u],a=c[u];break}return o<a?-1:a<o?1:0},g.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},g.prototype.indexOf=function(e,t,r){return P(this,e,t,r,!0)},g.prototype.lastIndexOf=function(e,t,r){return P(this,e,t,r,!1)},g.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,l,c,u,d,f,p,h,y,g=this.length-t;if((void 0===r||r>g)&&(r=g),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var v=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;if(o%2!=0)throw TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return l=t,c=r,L(k(e,this.length-l),this,l,c);case"ascii":return u=t,d=r,L(B(e),this,u,d);case"latin1":case"binary":return i=this,o=e,a=t,s=r,L(B(o),i,a,s);case"base64":return f=t,p=r,L(F(e),this,f,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h=t,y=r,L(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-h),this,h,y);default:if(v)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),v=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},g.prototype.slice=function(e,t){var r,n=this.length;if(e=~~e,t=void 0===t?n:~~t,e<0?(e+=n)<0&&(e=0):e>n&&(e=n),t<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e),g.TYPED_ARRAY_SUPPORT)(r=this.subarray(e,t)).__proto__=g.prototype;else{var i=t-e;r=new g(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+e]}return r},g.prototype.readUIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},g.prototype.readUIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},g.prototype.readUInt8=function(e,t){return t||x(e,1,this.length),this[e]},g.prototype.readUInt16LE=function(e,t){return t||x(e,2,this.length),this[e]|this[e+1]<<8},g.prototype.readUInt16BE=function(e,t){return t||x(e,2,this.length),this[e]<<8|this[e+1]},g.prototype.readUInt32LE=function(e,t){return t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},g.prototype.readUInt32BE=function(e,t){return t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},g.prototype.readIntLE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},g.prototype.readIntBE=function(e,t,r){e|=0,t|=0,r||x(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},g.prototype.readInt8=function(e,t){return(t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},g.prototype.readInt16LE=function(e,t){t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt16BE=function(e,t){t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},g.prototype.readInt32LE=function(e,t){return t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},g.prototype.readInt32BE=function(e,t){return t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},g.prototype.readFloatLE=function(e,t){return t||x(e,4,this.length),u(this,e,!0,23,4)},g.prototype.readFloatBE=function(e,t){return t||x(e,4,this.length),u(this,e,!1,23,4)},g.prototype.readDoubleLE=function(e,t){return t||x(e,8,this.length),u(this,e,!0,52,8)},g.prototype.readDoubleBE=function(e,t){return t||x(e,8,this.length),u(this,e,!1,52,8)},g.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;A(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},g.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t|=0,r|=0,!n){var i=Math.pow(2,8*r)-1;A(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},g.prototype.writeUInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,255,0),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},g.prototype.writeUInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},g.prototype.writeUInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},g.prototype.writeUInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):j(this,e,t,!0),t+4},g.prototype.writeUInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},g.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},g.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t|=0,!n){var i=Math.pow(2,8*r-1);A(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+r},g.prototype.writeInt8=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,1,127,-128),g.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},g.prototype.writeInt16LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):C(this,e,t,!0),t+2},g.prototype.writeInt16BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):C(this,e,t,!1),t+2},g.prototype.writeInt32LE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):j(this,e,t,!0),t+4},g.prototype.writeInt32BE=function(e,t,r){return e=+e,t|=0,r||A(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),g.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):j(this,e,t,!1),t+4},g.prototype.writeFloatLE=function(e,t,r){return $(this,e,t,!0,r)},g.prototype.writeFloatBE=function(e,t,r){return $(this,e,t,!1,r)},g.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},g.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},g.prototype.copy=function(e,t,r,n){if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("sourceStart out of bounds");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i,o=n-r;if(this===e&&r<t&&t<n)for(i=o-1;i>=0;--i)e[i+t]=this[i+r];else if(o<1e3||!g.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,r+o),t);return o},g.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===e.length){var i,o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!g.isEncoding(n))throw TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=S(e)?e:k(new g(e,n).toString()),s=a.length;for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};var N=/[^+\/0-9A-Za-z-_]/g;function k(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function B(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function F(e){return function(e){s||l();var t,r,n,i,c,u,d=e.length;if(d%4>0)throw Error("Invalid string. Length must be a multiple of 4");c="="===e[d-2]?2:"="===e[d-1]?1:0,u=new a(3*d/4-c),n=c>0?d-4:d;var f=0;for(t=0,r=0;t<n;t+=4,r+=3)i=o[e.charCodeAt(t)]<<18|o[e.charCodeAt(t+1)]<<12|o[e.charCodeAt(t+2)]<<6|o[e.charCodeAt(t+3)],u[f++]=i>>16&255,u[f++]=i>>8&255,u[f++]=255&i;return 2===c?(i=o[e.charCodeAt(t)]<<2|o[e.charCodeAt(t+1)]>>4,u[f++]=255&i):1===c&&(i=o[e.charCodeAt(t)]<<10|o[e.charCodeAt(t+1)]<<4|o[e.charCodeAt(t+2)]>>2,u[f++]=i>>8&255,u[f++]=255&i),u}(function(e){var t;if((e=((t=e).trim?t.trim():t.replace(/^\s+|\s+$/g,"")).replace(N,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function L(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function U(e){return null!=e&&(!!e._isBuffer||V(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&V(e.slice(0,0)))}function V(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}class K extends Error{constructor(e,t,r,...n){for(let i of(Array.isArray(t)&&(t=t.join(" ").trim()),super(t),void 0!==Error.captureStackTrace&&Error.captureStackTrace(this,K),this.code=e,n))for(let e in i){let t=i[e];this[e]=U(t)?t.toString(r.encoding):null==t?t:JSON.parse(JSON.stringify(t))}}}let W=function(e){let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];if(null==n||!1===n)t[r]={disabled:!0};else if("string"==typeof n)t[r]={name:n};else{if("object"!=typeof n||null===n||Array.isArray(n))throw new K("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,",`got ${JSON.stringify(n)} at position ${r}`]);if("string"!=typeof n.name)throw new K("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",`property "name" is required at position ${r}`,"when column is an object literal"]);t[r]=n}}return t};class J{constructor(e=100){this.size=e,this.length=0,this.buf=g.allocUnsafe(e)}prepend(e){if(U(e)){let t=this.length+e.length;if(t>=this.size&&(this.resize(),t>=this.size))throw Error("INVALID_BUFFER_STATE");let r=this.buf;this.buf=g.allocUnsafe(this.size),e.copy(this.buf,0),r.copy(this.buf,e.length),this.length+=e.length}else{let t=this.length++;t===this.size&&this.resize();let r=this.clone();this.buf[0]=e,r.copy(this.buf,1,0,t)}}append(e){let t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}clone(){return g.from(this.buf.slice(0,this.length))}resize(){let e=this.length;this.size=2*this.size;let t=g.allocUnsafe(this.size);this.buf.copy(t,0,0,e),this.buf=t}toString(e){return e?this.buf.slice(0,this.length).toString(e):Uint8Array.prototype.slice.call(this.buf.slice(0,this.length))}toJSON(){return this.toString("utf8")}reset(){this.length=0}}let H=function(e){let t={};for(let r in e)t[r.replace(/([A-Z])/g,function(e,t){return"_"+t.toLowerCase()})]=e[r];if(void 0===t.encoding||!0===t.encoding)t.encoding="utf8";else if(null===t.encoding||!1===t.encoding)t.encoding=null;else if("string"!=typeof t.encoding&&null!==t.encoding)throw new K("CSV_INVALID_OPTION_ENCODING",["Invalid option encoding:","encoding must be a string or null to return a buffer,",`got ${JSON.stringify(t.encoding)}`],t);if(void 0===t.bom||null===t.bom||!1===t.bom)t.bom=!1;else if(!0!==t.bom)throw new K("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,",`got ${JSON.stringify(t.bom)}`],t);if(t.cast_function=null,void 0===t.cast||null===t.cast||!1===t.cast||""===t.cast)t.cast=void 0;else if("function"==typeof t.cast)t.cast_function=t.cast,t.cast=!0;else if(!0!==t.cast)throw new K("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,",`got ${JSON.stringify(t.cast)}`],t);if(void 0===t.cast_date||null===t.cast_date||!1===t.cast_date||""===t.cast_date)t.cast_date=!1;else if(!0===t.cast_date)t.cast_date=function(e){let t=Date.parse(e);return isNaN(t)?e:new Date(t)};else if("function"!=typeof t.cast_date)throw new K("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,",`got ${JSON.stringify(t.cast_date)}`],t);if(t.cast_first_line_to_header=null,!0===t.columns)t.cast_first_line_to_header=void 0;else if("function"==typeof t.columns)t.cast_first_line_to_header=t.columns,t.columns=!0;else if(Array.isArray(t.columns))t.columns=W(t.columns);else if(void 0===t.columns||null===t.columns||!1===t.columns)t.columns=!1;else throw new K("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an array, a function or true,",`got ${JSON.stringify(t.columns)}`],t);if(void 0===t.group_columns_by_name||null===t.group_columns_by_name||!1===t.group_columns_by_name)t.group_columns_by_name=!1;else if(!0!==t.group_columns_by_name)throw new K("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","expect an boolean,",`got ${JSON.stringify(t.group_columns_by_name)}`],t);else if(!1===t.columns)throw new K("CSV_INVALID_OPTION_GROUP_COLUMNS_BY_NAME",["Invalid option group_columns_by_name:","the `columns` mode must be activated."],t);if(void 0===t.comment||null===t.comment||!1===t.comment||""===t.comment)t.comment=null;else if("string"==typeof t.comment&&(t.comment=g.from(t.comment,t.encoding)),!U(t.comment))throw new K("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,",`got ${JSON.stringify(t.comment)}`],t);if(void 0===t.comment_no_infix||null===t.comment_no_infix||!1===t.comment_no_infix)t.comment_no_infix=!1;else if(!0!==t.comment_no_infix)throw new K("CSV_INVALID_OPTION_COMMENT",["Invalid option comment_no_infix:","value must be a boolean,",`got ${JSON.stringify(t.comment_no_infix)}`],t);let r=JSON.stringify(t.delimiter);if(Array.isArray(t.delimiter)||(t.delimiter=[t.delimiter]),0===t.delimiter.length)throw new K("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);if(t.delimiter=t.delimiter.map(function(e){if(null==e||!1===e)return g.from(",",t.encoding);if("string"==typeof e&&(e=g.from(e,t.encoding)),!U(e)||0===e.length)throw new K("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,",`got ${r}`],t);return e}),void 0===t.escape||!0===t.escape?t.escape=g.from('"',t.encoding):"string"==typeof t.escape?t.escape=g.from(t.escape,t.encoding):(null===t.escape||!1===t.escape)&&(t.escape=null),null!==t.escape&&!U(t.escape))throw Error(`Invalid Option: escape must be a buffer, a string or a boolean, got ${JSON.stringify(t.escape)}`);if(void 0===t.from||null===t.from)t.from=1;else if("string"==typeof t.from&&/\d+/.test(t.from)&&(t.from=parseInt(t.from)),Number.isInteger(t.from)){if(t.from<0)throw Error(`Invalid Option: from must be a positive integer, got ${JSON.stringify(e.from)}`)}else throw Error(`Invalid Option: from must be an integer, got ${JSON.stringify(t.from)}`);if(void 0===t.from_line||null===t.from_line)t.from_line=1;else if("string"==typeof t.from_line&&/\d+/.test(t.from_line)&&(t.from_line=parseInt(t.from_line)),Number.isInteger(t.from_line)){if(t.from_line<=0)throw Error(`Invalid Option: from_line must be a positive integer greater than 0, got ${JSON.stringify(e.from_line)}`)}else throw Error(`Invalid Option: from_line must be an integer, got ${JSON.stringify(e.from_line)}`);if(void 0===t.ignore_last_delimiters||null===t.ignore_last_delimiters)t.ignore_last_delimiters=!1;else if("number"==typeof t.ignore_last_delimiters)t.ignore_last_delimiters=Math.floor(t.ignore_last_delimiters),0===t.ignore_last_delimiters&&(t.ignore_last_delimiters=!1);else if("boolean"!=typeof t.ignore_last_delimiters)throw new K("CSV_INVALID_OPTION_IGNORE_LAST_DELIMITERS",["Invalid option `ignore_last_delimiters`:","the value must be a boolean value or an integer,",`got ${JSON.stringify(t.ignore_last_delimiters)}`],t);if(!0===t.ignore_last_delimiters&&!1===t.columns)throw new K("CSV_IGNORE_LAST_DELIMITERS_REQUIRES_COLUMNS",["The option `ignore_last_delimiters`","requires the activation of the `columns` option"],t);if(void 0===t.info||null===t.info||!1===t.info)t.info=!1;else if(!0!==t.info)throw Error(`Invalid Option: info must be true, got ${JSON.stringify(t.info)}`);if(void 0===t.max_record_size||null===t.max_record_size||!1===t.max_record_size)t.max_record_size=0;else if(Number.isInteger(t.max_record_size)&&t.max_record_size>=0);else if("string"==typeof t.max_record_size&&/\d+/.test(t.max_record_size))t.max_record_size=parseInt(t.max_record_size);else throw Error(`Invalid Option: max_record_size must be a positive integer, got ${JSON.stringify(t.max_record_size)}`);if(void 0===t.objname||null===t.objname||!1===t.objname)t.objname=void 0;else if(U(t.objname)){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty buffer");null===t.encoding||(t.objname=t.objname.toString(t.encoding))}else if("string"==typeof t.objname){if(0===t.objname.length)throw Error("Invalid Option: objname must be a non empty string")}else if("number"==typeof t.objname);else throw Error(`Invalid Option: objname must be a string or a buffer, got ${t.objname}`);if(void 0!==t.objname){if("number"==typeof t.objname){if(!1!==t.columns)throw Error("Invalid Option: objname index cannot be combined with columns or be defined as a field")}else if(!1===t.columns)throw Error("Invalid Option: objname field must be combined with columns or be defined as an index")}if(void 0===t.on_record||null===t.on_record)t.on_record=void 0;else if("function"!=typeof t.on_record)throw new K("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,",`got ${JSON.stringify(t.on_record)}`],t);if(null===t.quote||!1===t.quote||""===t.quote)t.quote=null;else if(void 0===t.quote||!0===t.quote?t.quote=g.from('"',t.encoding):"string"==typeof t.quote&&(t.quote=g.from(t.quote,t.encoding)),!U(t.quote))throw Error(`Invalid Option: quote must be a buffer or a string, got ${JSON.stringify(t.quote)}`);if(void 0===t.raw||null===t.raw||!1===t.raw)t.raw=!1;else if(!0!==t.raw)throw Error(`Invalid Option: raw must be true, got ${JSON.stringify(t.raw)}`);if(void 0===t.record_delimiter)t.record_delimiter=[];else if("string"==typeof t.record_delimiter||U(t.record_delimiter)){if(0===t.record_delimiter.length)throw new K("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);t.record_delimiter=[t.record_delimiter]}else if(!Array.isArray(t.record_delimiter))throw new K("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer,",`got ${JSON.stringify(t.record_delimiter)}`],t);if(t.record_delimiter=t.record_delimiter.map(function(e,r){if("string"==typeof e||U(e)){if(0===e.length)throw new K("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a non empty string or buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t)}else throw new K("CSV_INVALID_OPTION_RECORD_DELIMITER",["Invalid option `record_delimiter`:","value must be a string, a buffer or array of string|buffer",`at index ${r},`,`got ${JSON.stringify(e)}`],t);return"string"==typeof e&&(e=g.from(e,t.encoding)),e}),"boolean"==typeof t.relax_column_count);else if(void 0===t.relax_column_count||null===t.relax_column_count)t.relax_column_count=!1;else throw Error(`Invalid Option: relax_column_count must be a boolean, got ${JSON.stringify(t.relax_column_count)}`);if("boolean"==typeof t.relax_column_count_less);else if(void 0===t.relax_column_count_less||null===t.relax_column_count_less)t.relax_column_count_less=!1;else throw Error(`Invalid Option: relax_column_count_less must be a boolean, got ${JSON.stringify(t.relax_column_count_less)}`);if("boolean"==typeof t.relax_column_count_more);else if(void 0===t.relax_column_count_more||null===t.relax_column_count_more)t.relax_column_count_more=!1;else throw Error(`Invalid Option: relax_column_count_more must be a boolean, got ${JSON.stringify(t.relax_column_count_more)}`);if("boolean"==typeof t.relax_quotes);else if(void 0===t.relax_quotes||null===t.relax_quotes)t.relax_quotes=!1;else throw Error(`Invalid Option: relax_quotes must be a boolean, got ${JSON.stringify(t.relax_quotes)}`);if("boolean"==typeof t.skip_empty_lines);else if(void 0===t.skip_empty_lines||null===t.skip_empty_lines)t.skip_empty_lines=!1;else throw Error(`Invalid Option: skip_empty_lines must be a boolean, got ${JSON.stringify(t.skip_empty_lines)}`);if("boolean"==typeof t.skip_records_with_empty_values);else if(void 0===t.skip_records_with_empty_values||null===t.skip_records_with_empty_values)t.skip_records_with_empty_values=!1;else throw Error(`Invalid Option: skip_records_with_empty_values must be a boolean, got ${JSON.stringify(t.skip_records_with_empty_values)}`);if("boolean"==typeof t.skip_records_with_error);else if(void 0===t.skip_records_with_error||null===t.skip_records_with_error)t.skip_records_with_error=!1;else throw Error(`Invalid Option: skip_records_with_error must be a boolean, got ${JSON.stringify(t.skip_records_with_error)}`);if(void 0===t.rtrim||null===t.rtrim||!1===t.rtrim)t.rtrim=!1;else if(!0!==t.rtrim)throw Error(`Invalid Option: rtrim must be a boolean, got ${JSON.stringify(t.rtrim)}`);if(void 0===t.ltrim||null===t.ltrim||!1===t.ltrim)t.ltrim=!1;else if(!0!==t.ltrim)throw Error(`Invalid Option: ltrim must be a boolean, got ${JSON.stringify(t.ltrim)}`);if(void 0===t.trim||null===t.trim||!1===t.trim)t.trim=!1;else if(!0!==t.trim)throw Error(`Invalid Option: trim must be a boolean, got ${JSON.stringify(t.trim)}`);if(!0===t.trim&&!1!==e.ltrim?t.ltrim=!0:!0!==t.ltrim&&(t.ltrim=!1),!0===t.trim&&!1!==e.rtrim?t.rtrim=!0:!0!==t.rtrim&&(t.rtrim=!1),void 0===t.to||null===t.to)t.to=-1;else if("string"==typeof t.to&&/\d+/.test(t.to)&&(t.to=parseInt(t.to)),Number.isInteger(t.to)){if(t.to<=0)throw Error(`Invalid Option: to must be a positive integer greater than 0, got ${JSON.stringify(e.to)}`)}else throw Error(`Invalid Option: to must be an integer, got ${JSON.stringify(e.to)}`);if(void 0===t.to_line||null===t.to_line)t.to_line=-1;else if("string"==typeof t.to_line&&/\d+/.test(t.to_line)&&(t.to_line=parseInt(t.to_line)),Number.isInteger(t.to_line)){if(t.to_line<=0)throw Error(`Invalid Option: to_line must be a positive integer greater than 0, got ${JSON.stringify(e.to_line)}`)}else throw Error(`Invalid Option: to_line must be an integer, got ${JSON.stringify(e.to_line)}`);return t},q=function(e){return e.every(e=>null==e||e.toString&&""===e.toString().trim())},Z={utf8:g.from([239,187,191]),utf16le:g.from([255,254])},G=function(e={}){let t=H(e);return{info:{bytes:0,comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},original_options:e,options:t,state:{bomSkipped:!1,bufBytesStart:0,castField:t.cast_function,commenting:!1,error:void 0,enabled:1===t.from_line,escaping:!1,escapeIsQuote:U(t.escape)&&U(t.quote)&&0===g.compare(t.escape,t.quote),expectedRecordLength:Array.isArray(t.columns)?t.columns.length:void 0,field:new J(20),firstLineToHeaders:t.cast_first_line_to_header,needMoreDataSize:Math.max(null!==t.comment?t.comment.length:0,...t.delimiter.map(e=>e.length),null!==t.quote?t.quote.length:0),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new J(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===t.record_delimiter.length?0:Math.max(...t.record_delimiter.map(e=>e.length)),trimChars:[g.from(" ",t.encoding)[0],g.from("	",t.encoding)[0]],wasQuoting:!1,wasRowDelimiter:!1,timchars:[g.from(g.from([13],"utf8").toString(),t.encoding),g.from(g.from([10],"utf8").toString(),t.encoding),g.from(g.from([12],"utf8").toString(),t.encoding),g.from(g.from([32],"utf8").toString(),t.encoding),g.from(g.from([9],"utf8").toString(),t.encoding)]},__needMoreData:function(e,t,r){if(r)return!1;let{encoding:n,escape:i,quote:o}=this.options,{quoting:a,needMoreDataSize:s,recordDelimiterMaxLength:l}=this.state,c=Math.max(s,0===l?g.from("\r\n",n).length:l,a?(null===i?0:i.length)+o.length:0,a?o.length+l:0);return t-e-1<c},parse:function(e,t,r,n){let i,o;let{bom:a,comment_no_infix:s,encoding:l,from_line:c,ltrim:u,max_record_size:d,raw:f,relax_quotes:p,rtrim:h,skip_empty_lines:y,to:v,to_line:m}=this.options,{comment:b,escape:_,quote:w,record_delimiter:S}=this.options,{bomSkipped:O,previousBuf:M,rawBuffer:R,escapeIsQuote:P}=this.state;if(void 0===M){if(void 0===e){n();return}i=e}else i=void 0!==M&&void 0===e?M:g.concat([M,e]);if(!1===O){if(!1===a)this.state.bomSkipped=!0;else if(i.length<3){if(!1===t){this.state.previousBuf=i;return}}else{for(let e in Z)if(0===Z[e].compare(i,0,Z[e].length)){let t=Z[e].length;this.state.bufBytesStart+=t,i=i.slice(t),this.options=H({...this.original_options,encoding:e}),{comment:b,escape:_,quote:w}=this.options;break}this.state.bomSkipped=!0}}let E=i.length;for(o=0;o<E&&!this.__needMoreData(o,E,t);o++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1),-1!==m&&this.info.lines>m){this.state.stop=!0,n();return}if(!1===this.state.quoting&&0===S.length){let e=this.__autoDiscoverRecordDelimiter(i,o);e&&(S=this.options.record_delimiter)}let e=i[o];if(!0===f&&R.append(e),(13===e||10===e)&&!1===this.state.wasRowDelimiter&&(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(null!==_&&!0===this.state.quoting&&this.__isEscape(i,o,e)&&o+_.length<E){if(P){if(this.__isQuote(i,o+_.length)){this.state.escaping=!0,o+=_.length-1;continue}}else{this.state.escaping=!0,o+=_.length-1;continue}}if(!1===this.state.commenting&&this.__isQuote(i,o)){if(!0===this.state.quoting){let t=i[o+w.length],r=h&&this.__isCharTrimable(i,o+w.length),n=null!==b&&this.__compareBytes(b,i,o+w.length,t),a=this.__isDelimiter(i,o+w.length,t),s=0===S.length?this.__autoDiscoverRecordDelimiter(i,o+w.length):this.__isRecordDelimiter(t,i,o+w.length);if(null!==_&&this.__isEscape(i,o,e)&&this.__isQuote(i,o+_.length))o+=_.length-1;else if(!t||a||s||n||r){this.state.quoting=!1,this.state.wasQuoting=!0,o+=w.length-1;continue}else if(!1===p){let e=this.__error(new K("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",`got "${String.fromCharCode(t)}"`,`at line ${this.info.lines}`,"instead of delimiter, record delimiter, trimable character","(if activated) or comment"],this.options,this.__infoField()));if(void 0!==e)return e}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(w),o+=w.length-1}else if(0!==this.state.field.length){if(!1===p){let e=this.__infoField(),t=Object.keys(Z).map(e=>!!Z[e].equals(this.state.field.toString())&&e).filter(Boolean)[0],r=this.__error(new K("INVALID_OPENING_QUOTE",["Invalid Opening Quote:",`a quote is found on field ${JSON.stringify(e.column)} at line ${e.lines}, value is ${JSON.stringify(this.state.field.toString(l))}`,t?`(${t} bom)`:void 0],this.options,e,{field:this.state.field}));if(void 0!==r)return r}}else{this.state.quoting=!0,o+=w.length-1;continue}}if(!1===this.state.quoting){let t=this.__isRecordDelimiter(e,i,o);if(0!==t){let e=this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length;if(e)this.info.comment_lines++;else{if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=c){this.state.enabled=!0,this.__resetField(),this.__resetRecord(),o+=t-1;continue}if(!0===y&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,o+=t-1;continue}this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;this.info.bytes=this.state.bufBytesStart+o+t;let i=this.__onRecord(r);if(void 0!==i)return i;if(-1!==v&&this.info.records>=v){this.state.stop=!0,n();return}}this.state.commenting=!1,o+=t-1;continue}if(this.state.commenting)continue;let a=null===b?0:this.__compareBytes(b,i,o,e);if(0!==a&&(!1===s||0===this.state.field.length)){this.state.commenting=!0;continue}let l=this.__isDelimiter(i,o,e);if(0!==l){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;o+=l-1;continue}}}if(!1===this.state.commenting&&0!==d&&this.state.record_length+this.state.field.length>d)return this.__error(new K("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes",`of ${d}`,`at line ${this.info.lines}`],this.options,this.__infoField()));let t=!1===u||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(i,o),a=!1===h||!1===this.state.wasQuoting;if(!0===t&&!0===a)this.state.field.append(e);else{if(!0===h&&!this.__isCharTrimable(i,o))return this.__error(new K("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote",`at line ${this.info.lines}`],this.options,this.__infoField()));!1===t&&(o+=this.__isCharTrimable(i,o)-1);continue}}if(!0===t){if(!0===this.state.quoting){let e=this.__error(new K("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:",`the parsing is finished with an opening quote at line ${this.info.lines}`],this.options,this.__infoField()));if(void 0!==e)return e}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){this.info.bytes=this.state.bufBytesStart+o;let e=this.__onField();if(void 0!==e)return e;let t=this.__onRecord(r);if(void 0!==t)return t}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++}else this.state.bufBytesStart+=o,this.state.previousBuf=i.slice(o);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)},__onRecord:function(e){let{columns:t,group_columns_by_name:r,encoding:n,info:i,from:o,relax_column_count:a,relax_column_count_less:s,relax_column_count_more:l,raw:c,skip_records_with_empty_values:u}=this.options,{enabled:d,record:f}=this.state;if(!1===d)return this.__resetRecord();let p=f.length;if(!0===t){if(!0===u&&q(f)){this.__resetRecord();return}return this.__firstLineToColumns(f)}if(!1===t&&0===this.info.records&&(this.state.expectedRecordLength=p),p!==this.state.expectedRecordLength){let e=!1===t?new K("CSV_RECORD_INCONSISTENT_FIELDS_LENGTH",["Invalid Record Length:",`expect ${this.state.expectedRecordLength},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f}):new K("CSV_RECORD_INCONSISTENT_COLUMNS",["Invalid Record Length:",`columns length is ${t.length},`,`got ${p} on line ${this.info.lines}`],this.options,this.__infoField(),{record:f});if(!0===a||!0===s&&p<this.state.expectedRecordLength||!0===l&&p>this.state.expectedRecordLength)this.info.invalid_field_length++,this.state.error=e;else{let t=this.__error(e);if(t)return t}}if(!0===u&&q(f)){this.__resetRecord();return}if(!0===this.state.recordHasError){this.__resetRecord(),this.state.recordHasError=!1;return}if(this.info.records++,1===o||this.info.records>=o){let{objname:o}=this.options;if(!1!==t){let a={};for(let e=0,n=f.length;e<n;e++)void 0===t[e]||t[e].disabled||(!0===r&&void 0!==a[t[e].name]?Array.isArray(a[t[e].name])?a[t[e].name]=a[t[e].name].concat(f[e]):a[t[e].name]=[a[t[e].name],f[e]]:a[t[e].name]=f[e]);if(!0===c||!0===i){let t=Object.assign({record:a},!0===c?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[a[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?a:[a[o],a],e);if(t)return t}}else if(!0===c||!0===i){let t=Object.assign({record:f},!0===c?{raw:this.state.rawBuffer.toString(n)}:{},!0===i?{info:this.__infoRecord()}:{}),r=this.__push(void 0===o?t:[f[o],t],e);if(r)return r}else{let t=this.__push(void 0===o?f:[f[o],f],e);if(t)return t}}this.__resetRecord()},__firstLineToColumns:function(e){let{firstLineToHeaders:t}=this.state;try{let r=void 0===t?e:t.call(null,e);if(!Array.isArray(r))return this.__error(new K("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,",`got ${JSON.stringify(r)}`],this.options,this.__infoField(),{headers:r}));let n=W(r);this.state.expectedRecordLength=n.length,this.options.columns=n,this.__resetRecord();return}catch(e){return e}},__resetRecord:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.error=void 0,this.state.record=[],this.state.record_length=0},__onField:function(){let{cast:e,encoding:t,rtrim:r,max_record_size:n}=this.options,{enabled:i,wasQuoting:o}=this.state;if(!1===i)return this.__resetField();let a=this.state.field.toString(t);if(!0===r&&!1===o&&(a=a.trimRight()),!0===e){let[e,t]=this.__cast(a);if(void 0!==e)return e;a=t}this.state.record.push(a),0!==n&&"string"==typeof a&&(this.state.record_length+=a.length),this.__resetField()},__resetField:function(){this.state.field.reset(),this.state.wasQuoting=!1},__push:function(e,t){let{on_record:r}=this.options;if(void 0!==r){let t=this.__infoRecord();try{e=r.call(null,e,t)}catch(e){return e}if(null==e)return}t(e)},__cast:function(e){let{columns:t,relax_column_count:r}=this.options,n=Array.isArray(t);if(!0===n&&r&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];if(null!==this.state.castField)try{let t=this.__infoField();return[void 0,this.state.castField.call(null,e,t)]}catch(e){return[e]}if(this.__isFloat(e))return[void 0,parseFloat(e)];if(!1!==this.options.cast_date){let t=this.__infoField();return[void 0,this.options.cast_date.call(null,e,t)]}return[void 0,e]},__isCharTrimable:function(e,t){return((e,t)=>{let{timchars:r}=this.state;r:for(let n=0;n<r.length;n++){let i=r[n];for(let r=0;r<i.length;r++)if(i[r]!==e[t+r])continue r;return i.length}return 0})(e,t)},__isFloat:function(e){return e-parseFloat(e)+1>=0},__compareBytes:function(e,t,r,n){if(e[0]!==n)return 0;let i=e.length;for(let n=1;n<i;n++)if(e[n]!==t[r+n])return 0;return i},__isDelimiter:function(e,t,r){let{delimiter:n,ignore_last_delimiters:i}=this.options;if(!0===i&&this.state.record.length===this.options.columns.length-1||!1!==i&&"number"==typeof i&&this.state.record.length===i-1)return 0;r:for(let i=0;i<n.length;i++){let o=n[i];if(o[0]===r){for(let r=1;r<o.length;r++)if(o[r]!==e[t+r])continue r;return o.length}}return 0},__isRecordDelimiter:function(e,t,r){let{record_delimiter:n}=this.options,i=n.length;r:for(let o=0;o<i;o++){let i=n[o],a=i.length;if(i[0]===e){for(let e=1;e<a;e++)if(i[e]!==t[r+e])continue r;return i.length}}return 0},__isEscape:function(e,t,r){let{escape:n}=this.options;if(null===n)return!1;let i=n.length;if(n[0]===r){for(let r=0;r<i;r++)if(n[r]!==e[t+r])return!1;return!0}return!1},__isQuote:function(e,t){let{quote:r}=this.options;if(null===r)return!1;let n=r.length;for(let i=0;i<n;i++)if(r[i]!==e[t+i])return!1;return!0},__autoDiscoverRecordDelimiter:function(e,t){let{encoding:r}=this.options,n=[g.from("\r\n",r),g.from("\n",r),g.from("\r",r)];n:for(let r=0;r<n.length;r++){let i=n[r].length;for(let o=0;o<i;o++)if(n[r][o]!==e[t+o])continue n;return this.options.record_delimiter.push(n[r]),this.state.recordDelimiterMaxLength=n[r].length,n[r].length}return 0},__error:function(e){let{encoding:t,raw:r,skip_records_with_error:n}=this.options,i="string"==typeof e?Error(e):e;if(!n)return i;this.state.recordHasError=!0,void 0!==this.options.on_skip&&this.options.on_skip(i,r?this.state.rawBuffer.toString(t):void 0)},__infoDataSet:function(){return{...this.info,columns:this.options.columns}},__infoRecord:function(){let{columns:e,raw:t,encoding:r}=this.options;return{...this.__infoDataSet(),error:this.state.error,header:!0===e,index:this.state.record.length,raw:t?this.state.rawBuffer.toString(r):void 0}},__infoField:function(){let{columns:e}=this.options,t=Array.isArray(e);return{...this.__infoRecord(),column:!0===t?e.length>this.state.record.length?e[this.state.record.length].name:null:this.state.record.length,quoting:this.state.wasQuoting}}}},z=function(e,t={}){"string"==typeof e&&(e=g.from(e));let r=t&&t.objname?{}:[],n=G(t),i=e=>{void 0===n.options.objname?r.push(e):r[e[0]]=e[1]},o=()=>{},a=n.parse(e,!1,i,o);if(void 0!==a)throw a;let s=n.parse(void 0,!0,i,o);if(void 0!==s)throw s;return r}},52731:function(e){"use strict";e.exports=JSON.parse('{"version":4,"country_calling_codes":{"1":["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],"7":["RU","KZ"],"20":["EG"],"27":["ZA"],"30":["GR"],"31":["NL"],"32":["BE"],"33":["FR"],"34":["ES"],"36":["HU"],"39":["IT","VA"],"40":["RO"],"41":["CH"],"43":["AT"],"44":["GB","GG","IM","JE"],"45":["DK"],"46":["SE"],"47":["NO","SJ"],"48":["PL"],"49":["DE"],"51":["PE"],"52":["MX"],"53":["CU"],"54":["AR"],"55":["BR"],"56":["CL"],"57":["CO"],"58":["VE"],"60":["MY"],"61":["AU","CC","CX"],"62":["ID"],"63":["PH"],"64":["NZ"],"65":["SG"],"66":["TH"],"81":["JP"],"82":["KR"],"84":["VN"],"86":["CN"],"90":["TR"],"91":["IN"],"92":["PK"],"93":["AF"],"94":["LK"],"95":["MM"],"98":["IR"],"211":["SS"],"212":["MA","EH"],"213":["DZ"],"216":["TN"],"218":["LY"],"220":["GM"],"221":["SN"],"222":["MR"],"223":["ML"],"224":["GN"],"225":["CI"],"226":["BF"],"227":["NE"],"228":["TG"],"229":["BJ"],"230":["MU"],"231":["LR"],"232":["SL"],"233":["GH"],"234":["NG"],"235":["TD"],"236":["CF"],"237":["CM"],"238":["CV"],"239":["ST"],"240":["GQ"],"241":["GA"],"242":["CG"],"243":["CD"],"244":["AO"],"245":["GW"],"246":["IO"],"247":["AC"],"248":["SC"],"249":["SD"],"250":["RW"],"251":["ET"],"252":["SO"],"253":["DJ"],"254":["KE"],"255":["TZ"],"256":["UG"],"257":["BI"],"258":["MZ"],"260":["ZM"],"261":["MG"],"262":["RE","YT"],"263":["ZW"],"264":["NA"],"265":["MW"],"266":["LS"],"267":["BW"],"268":["SZ"],"269":["KM"],"290":["SH","TA"],"291":["ER"],"297":["AW"],"298":["FO"],"299":["GL"],"350":["GI"],"351":["PT"],"352":["LU"],"353":["IE"],"354":["IS"],"355":["AL"],"356":["MT"],"357":["CY"],"358":["FI","AX"],"359":["BG"],"370":["LT"],"371":["LV"],"372":["EE"],"373":["MD"],"374":["AM"],"375":["BY"],"376":["AD"],"377":["MC"],"378":["SM"],"380":["UA"],"381":["RS"],"382":["ME"],"383":["XK"],"385":["HR"],"386":["SI"],"387":["BA"],"389":["MK"],"420":["CZ"],"421":["SK"],"423":["LI"],"500":["FK"],"501":["BZ"],"502":["GT"],"503":["SV"],"504":["HN"],"505":["NI"],"506":["CR"],"507":["PA"],"508":["PM"],"509":["HT"],"590":["GP","BL","MF"],"591":["BO"],"592":["GY"],"593":["EC"],"594":["GF"],"595":["PY"],"596":["MQ"],"597":["SR"],"598":["UY"],"599":["CW","BQ"],"670":["TL"],"672":["NF"],"673":["BN"],"674":["NR"],"675":["PG"],"676":["TO"],"677":["SB"],"678":["VU"],"679":["FJ"],"680":["PW"],"681":["WF"],"682":["CK"],"683":["NU"],"685":["WS"],"686":["KI"],"687":["NC"],"688":["TV"],"689":["PF"],"690":["TK"],"691":["FM"],"692":["MH"],"850":["KP"],"852":["HK"],"853":["MO"],"855":["KH"],"856":["LA"],"880":["BD"],"886":["TW"],"960":["MV"],"961":["LB"],"962":["JO"],"963":["SY"],"964":["IQ"],"965":["KW"],"966":["SA"],"967":["YE"],"968":["OM"],"970":["PS"],"971":["AE"],"972":["IL"],"973":["BH"],"974":["QA"],"975":["BT"],"976":["MN"],"977":["NP"],"992":["TJ"],"993":["TM"],"994":["AZ"],"995":["GE"],"996":["KG"],"998":["UZ"]},"countries":{"AC":["247","00","(?:[01589]\\\\d|[46])\\\\d{4}",[5,6]],"AD":["376","00","(?:1|6\\\\d)\\\\d{7}|[135-9]\\\\d{5}",[6,8,9],[["(\\\\d{3})(\\\\d{3})","$1 $2",["[135-9]"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["1"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["6"]]]],"AE":["971","00","(?:[4-7]\\\\d|9[0-689])\\\\d{7}|800\\\\d{2,9}|[2-4679]\\\\d{7}",[5,6,7,8,9,10,11,12],[["(\\\\d{3})(\\\\d{2,9})","$1 $2",["60|8"]],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\\\d{3})(\\\\d)(\\\\d{5})","$1 $2 $3",["[479]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],"AF":["93","00","[2-7]\\\\d{8}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],"AG":["1","011","(?:268|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([457]\\\\d{6})$|1","268$1",0,"268"],"AI":["1","011","(?:264|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2457]\\\\d{6})$|1","264$1",0,"264"],"AL":["355","00","(?:700\\\\d\\\\d|900)\\\\d{3}|8\\\\d{5,7}|(?:[2-5]|6\\\\d)\\\\d{7}",[6,7,8,9],[["(\\\\d{3})(\\\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\\\d{3})(\\\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],"AM":["374","00","(?:[1-489]\\\\d|55|60|77)\\\\d{6}",[8],[["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\\\d{3})(\\\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\\\d{2})(\\\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\\\d{2})(\\\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],"AO":["244","00","[29]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[29]"]]]],"AR":["54","00","(?:11|[89]\\\\d\\\\d)\\\\d{8}|[2368]\\\\d{9}",[10,11],[["(\\\\d{4})(\\\\d{2})(\\\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\\\d)(\\\\d{4})(\\\\d{2})(\\\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\\\d{3})(\\\\d{3})(\\\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],"AS":["1","011","(?:[58]\\\\d\\\\d|684|900)\\\\d{7}",[10],0,"1",0,"([267]\\\\d{6})$|1","684$1",0,"684"],"AT":["43","00","1\\\\d{3,12}|2\\\\d{6,12}|43(?:(?:0\\\\d|5[02-9])\\\\d{3,9}|2\\\\d{4,5}|[3467]\\\\d{4}|8\\\\d{4,6}|9\\\\d{4,7})|5\\\\d{4,12}|8\\\\d{7,12}|9\\\\d{8,12}|(?:[367]\\\\d|4[0-24-9])\\\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\\\d)(\\\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\\\d{3})(\\\\d{2})","$1 $2",["517"],"0$1"],["(\\\\d{2})(\\\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\\\d{3})(\\\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\\\d{4})(\\\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],"AU":["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\\\d{7}(?:\\\\d(?:\\\\d{2})?)?|8[0-24-9]\\\\d{7})|[2-478]\\\\d{8}|1\\\\d{4,7}",[5,6,7,8,9,10,12],[["(\\\\d{2})(\\\\d{3,4})","$1 $2",["16"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:[0-26-9]\\\\d|3[0-8]|4[02-9]|5[0135-9])|3(?:[0-3589]\\\\d|4[0-578]|6[1-9]|7[0-35-9])|7(?:[013-57-9]\\\\d|2[0-8]))\\\\d{3}|8(?:51(?:0(?:0[03-9]|[12479]\\\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\\\d|7[89]|9[0-4]))|(?:6[0-8]|[78]\\\\d)\\\\d{3}|9(?:[02-9]\\\\d{3}|1(?:(?:[0-58]\\\\d|6[0135-9])\\\\d|7(?:0[0-24-9]|[1-9]\\\\d)|9(?:[0-46-9]\\\\d|5[0-79])))))\\\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\\\d{5}|4(?:[0-3]\\\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\\\d{6}",[9]],["180(?:0\\\\d{3}|2)\\\\d{3}",[7,10]],["190[0-26]\\\\d{6}",[10]],0,0,0,["163\\\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\\\d)\\\\d{4}",[9]],["13(?:00\\\\d{6}(?:\\\\d{2})?|45[0-4]\\\\d{3})|13\\\\d{4}",[6,8,10,12]]],"0011"],"AW":["297","00","(?:[25-79]\\\\d\\\\d|800)\\\\d{4}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[25-9]"]]]],"AX":["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\\\d{4,9}|35\\\\d{4,5}|(?:60\\\\d\\\\d|800)\\\\d{4,6}|7\\\\d{5,11}|(?:[14]\\\\d|3[0-46-9]|50)\\\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],"AZ":["994","00","365\\\\d{6}|(?:[124579]\\\\d|60|88)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],"BA":["387","00","6\\\\d{8}|(?:[35689]\\\\d|49|70)\\\\d{6}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],"BB":["1","011","(?:246|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","246$1",0,"246"],"BD":["880","00","[1-469]\\\\d{9}|8[0-79]\\\\d{7,8}|[2-79]\\\\d{8}|[2-9]\\\\d{7}|[3-9]\\\\d{6}|[57-9]\\\\d{5}",[6,7,8,9,10],[["(\\\\d{2})(\\\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\\\d{3})(\\\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\\\d{4})(\\\\d{3,6})","$1-$2",["[13-9]|22"],"0$1"],["(\\\\d)(\\\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],"BE":["32","00","4\\\\d{8}|[1-9]\\\\d{7}",[8,9],[["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],"BF":["226","00","[025-7]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[025-7]"]]]],"BG":["359","00","00800\\\\d{7}|[2-7]\\\\d{6,7}|[89]\\\\d{6,8}|2\\\\d{5}",[6,7,8,9,12],[["(\\\\d)(\\\\d)(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\\\d{3})(\\\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],"BH":["973","00","[136-9]\\\\d{7}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],"BI":["257","00","(?:[267]\\\\d|31)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2367]"]]]],"BJ":["229","00","[24-689]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[24-689]"]]]],"BL":["590","00","590\\\\d{6}|(?:69|80|9\\\\d)\\\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\\\d{4}"],["69(?:0\\\\d\\\\d|1(?:2[2-9]|3[0-5]))\\\\d{4}"],["80[0-5]\\\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\\\d|475[0-5])\\\\d{4}"]]],"BM":["1","011","(?:441|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","441$1",0,"441"],"BN":["673","00","[2-578]\\\\d{6}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-578]"]]]],"BO":["591","00(?:1\\\\d)?","(?:[2-467]\\\\d\\\\d|8001)\\\\d{5}",[8,9],[["(\\\\d)(\\\\d{7})","$1 $2",["[23]|4[46]"]],["(\\\\d{8})","$1",["[67]"]],["(\\\\d{3})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\\\d)?"],"BQ":["599","00","(?:[34]1|7\\\\d)\\\\d{5}",[7],0,0,0,0,0,0,"[347]"],"BR":["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","(?:[1-46-9]\\\\d\\\\d|5(?:[0-46-9]\\\\d|5[0-46-9]))\\\\d{8}|[1-9]\\\\d{9}|[3589]\\\\d{8}|[34]\\\\d{7}",[8,9,10,11],[["(\\\\d{4})(\\\\d{4})","$1-$2",["300|4(?:0[02]|37)","4(?:02|37)0|[34]00"]],["(\\\\d{3})(\\\\d{2,3})(\\\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\\\d{2})(\\\\d{5})(\\\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\\\d{10,11}))?","$2"],"BS":["1","011","(?:242|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([3-8]\\\\d{6})$|1","242$1",0,"242"],"BT":["975","00","[17]\\\\d{7}|[2-8]\\\\d{6}",[7,8],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2-68]|7[246]"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["1[67]|7"]]]],"BW":["267","00","(?:0800|(?:[37]|800)\\\\d)\\\\d{6}|(?:[2-6]\\\\d|90)\\\\d{5}",[7,8,10],[["(\\\\d{2})(\\\\d{5})","$1 $2",["90"]],["(\\\\d{3})(\\\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[37]"]],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["0"]],["(\\\\d{3})(\\\\d{4})(\\\\d{3})","$1 $2 $3",["8"]]]],"BY":["375","810","(?:[12]\\\\d|33|44|902)\\\\d{7}|8(?:0[0-79]\\\\d{5,7}|[1-7]\\\\d{9})|8(?:1[0-489]|[5-79]\\\\d)\\\\d{7}|8[1-79]\\\\d{6,7}|8[0-79]\\\\d{5}|8\\\\d{5}",[6,7,8,9,10,11],[["(\\\\d{3})(\\\\d{3})","$1 $2",["800"],"8 $1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\\\d{4})(\\\\d{2})(\\\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\\\d{3})(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],"BZ":["501","00","(?:0800\\\\d|[2-8])\\\\d{6}",[7,11],[["(\\\\d{3})(\\\\d{4})","$1-$2",["[2-8]"]],["(\\\\d)(\\\\d{3})(\\\\d{4})(\\\\d{3})","$1-$2-$3-$4",["0"]]]],"CA":["1","011","(?:[2-8]\\\\d|90)\\\\d{8}|3\\\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|50|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|73)|90[25])[2-9]\\\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\\\d{6}",[10]],["900[2-9]\\\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\\\d|5(?:[02-46-9]\\\\d|5[0-46-9]))|4(?:[2-478][02-9]\\\\d|5(?:[034]\\\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\\\d)|9(?:[05-9]\\\\d|2[0-5]|49)))\\\\d{4}|52[34][2-9]1[02-9]\\\\d{4}|(?:5(?:00|2[125-9]|33|44|66|77|88)|622)[2-9]\\\\d{6}",[10]],0,["310\\\\d{4}",[7]],0,["600[2-9]\\\\d{6}",[10]]]],"CC":["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\\\d{8}(?:\\\\d{2})?|8[0-24-9]\\\\d{7})|[148]\\\\d{8}|1\\\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\\\d|70[23]|959))\\\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\\\d{5}|4(?:[0-3]\\\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\\\d{6}",[9]],["180(?:0\\\\d{3}|2)\\\\d{3}",[7,10]],["190[0-26]\\\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\\\d)\\\\d{4}",[9]],["13(?:00\\\\d{6}(?:\\\\d{2})?|45[0-4]\\\\d{3})|13\\\\d{4}",[6,8,10,12]]],"0011"],"CD":["243","00","[189]\\\\d{8}|[1-68]\\\\d{6}",[7,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\\\d{2})(\\\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[89]"],"0$1"]],"0"],"CF":["236","00","(?:[27]\\\\d{3}|8776)\\\\d{4}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[278]"]]]],"CG":["242","00","222\\\\d{6}|(?:0\\\\d|80)\\\\d{7}",[9],[["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["8"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[02]"]]]],"CH":["41","00","8\\\\d{11}|[2-9]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],"CI":["225","00","[02]\\\\d{9}",[10],[["(\\\\d{2})(\\\\d{2})(\\\\d)(\\\\d{5})","$1 $2 $3 $4",["2"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{4})","$1 $2 $3 $4",["0"]]]],"CK":["682","00","[2-578]\\\\d{4}",[5],[["(\\\\d{2})(\\\\d{3})","$1 $2",["[2-578]"]]]],"CL":["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\\\d{6}|6\\\\d{9,10}|[2-9]\\\\d{8}",[9,10,11],[["(\\\\d{5})(\\\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["44"]],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["9[2-9]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-9]|[1-9])"],"($1)"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["60|8"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"]],["(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3 $4",["60"]]]],"CM":["237","00","[26]\\\\d{8}|88\\\\d{6,7}",[8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["88"]],["(\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],"CN":["86","00|1(?:[12]\\\\d|79)\\\\d\\\\d00","1[127]\\\\d{8,9}|2\\\\d{9}(?:\\\\d{2})?|[12]\\\\d{6,7}|86\\\\d{6}|(?:1[03-689]\\\\d|6)\\\\d{7,9}|(?:[3-579]\\\\d|8[0-57-9])\\\\d{6,9}",[7,8,9,10,11,12],[["(\\\\d{2})(\\\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]","(?:10|2[0-57-9])(?:10|9[56])","10(?:10|9[56])|2[0-57-9](?:100|9[56])"],"0$1"],["(\\\\d{3})(\\\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\\\d|35|49|9[1-68])|4(?:[17]\\\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\\\d|35|49|9[1-68])|4(?:[17]\\\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\\\d|35|49|9[1-68])|4(?:[17]\\\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\\\d{3})(\\\\d{7,8})","$1 $2",["9"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\\\d{3})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\\\d{3})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\\\d|79)\\\\d\\\\d)|0",0,0,0,0,"00"],"CO":["57","00(?:4(?:[14]4|56)|[579])","(?:60\\\\d\\\\d|9101)\\\\d{6}|(?:1\\\\d|3)\\\\d{9}",[10,11],[["(\\\\d{3})(\\\\d{7})","$1 $2",["6"],"($1)"],["(\\\\d{3})(\\\\d{7})","$1 $2",["3[0-357]|91"]],["(\\\\d)(\\\\d{3})(\\\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],"CR":["506","00","(?:8\\\\d|90)\\\\d{8}|(?:[24-8]\\\\d{3}|3005)\\\\d{4}",[8,10],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],"CU":["53","119","[27]\\\\d{6,7}|[34]\\\\d{5,7}|63\\\\d{6}|(?:5|8\\\\d\\\\d)\\\\d{7}",[6,7,8,10],[["(\\\\d{2})(\\\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\\\d)(\\\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\\\d)(\\\\d{7})","$1 $2",["[56]"],"0$1"],["(\\\\d{3})(\\\\d{7})","$1 $2",["8"],"0$1"]],"0"],"CV":["238","0","(?:[2-59]\\\\d\\\\d|800)\\\\d{4}",[7],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["[2-589]"]]]],"CW":["599","00","(?:[34]1|60|(?:7|9\\\\d)\\\\d)\\\\d{5}",[7,8],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[3467]"]],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],"CX":["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\\\d{8}(?:\\\\d{2})?|8[0-24-9]\\\\d{7})|[148]\\\\d{8}|1\\\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\\\d|7(?:0[01]|1[0-2])|958))\\\\d{3}",[9]],["4(?:(?:79|94)[01]|83[0-389])\\\\d{5}|4(?:[0-3]\\\\d|4[047-9]|5[0-25-9]|6[0-26-9]|7[02-8]|8[0-24-9]|9[0-37-9])\\\\d{6}",[9]],["180(?:0\\\\d{3}|2)\\\\d{3}",[7,10]],["190[0-26]\\\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\\\d)\\\\d{4}",[9]],["13(?:00\\\\d{6}(?:\\\\d{2})?|45[0-4]\\\\d{3})|13\\\\d{4}",[6,8,10,12]]],"0011"],"CY":["357","00","(?:[279]\\\\d|[58]0)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{6})","$1 $2",["[257-9]"]]]],"CZ":["420","00","(?:[2-578]\\\\d|60)\\\\d{7}|9\\\\d{8,11}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{3})(\\\\d{2})","$1 $2 $3 $4",["96"]],["(\\\\d{2})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["9"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["9"]]]],"DE":["49","00","[2579]\\\\d{5,14}|49(?:[34]0|69|8\\\\d)\\\\d\\\\d?|49(?:37|49|60|7[089]|9\\\\d)\\\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\\\d{1,8}|(?:1|[368]\\\\d|4[0-8])\\\\d{3,13}|49(?:[015]\\\\d|2[13]|31|[46][1-8])\\\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\\\d{2})(\\\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\\\d{3})(\\\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\\\d{4})(\\\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\\\d{3})(\\\\d{4})","$1 $2",["138"],"0$1"],["(\\\\d{5})(\\\\d{2,10})","$1 $2",["3"],"0$1"],["(\\\\d{3})(\\\\d{5,11})","$1 $2",["181"],"0$1"],["(\\\\d{3})(\\\\d)(\\\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\\\d{3})(\\\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\\\d{3})(\\\\d{7,12})","$1 $2",["8"],"0$1"],["(\\\\d{5})(\\\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\\\d{3})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\\\d{4})(\\\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\\\d{5})(\\\\d{6})","$1 $2",["15[0568]"],"0$1"],["(\\\\d{4})(\\\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\\\d{3})(\\\\d{8})","$1 $2",["18"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\\\d{4})(\\\\d{2})(\\\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],"DJ":["253","00","(?:2\\\\d|77)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[27]"]]]],"DK":["45","00","[2-9]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],"DM":["1","011","(?:[58]\\\\d\\\\d|767|900)\\\\d{7}",[10],0,"1",0,"([2-7]\\\\d{6})$|1","767$1",0,"767"],"DO":["1","011","(?:[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],"DZ":["213","00","(?:[1-4]|[5-79]\\\\d|80)\\\\d{7}",[8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],"EC":["593","00","1\\\\d{9,10}|(?:[2-7]|9\\\\d)\\\\d{7}",[8,9,10,11],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["1"]]],"0"],"EE":["372","00","8\\\\d{9}|[4578]\\\\d{7}|(?:[3-8]\\\\d|90)\\\\d{5}",[7,8,10],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\\\d{4})(\\\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\\\d{2})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["7"]],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"]]]],"EG":["20","00","[189]\\\\d{8,9}|[24-6]\\\\d{8}|[135]\\\\d{7}",[8,9,10],[["(\\\\d)(\\\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\\\d{2})(\\\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\\\d{2})(\\\\d{8})","$1 $2",["1"],"0$1"]],"0"],"EH":["212","00","[5-8]\\\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],"ER":["291","00","[178]\\\\d{6}",[7],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],"ES":["34","00","[5-9]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[89]00"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],"ET":["251","00","(?:11|[2-579]\\\\d)\\\\d{7}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],"FI":["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\\\d{4}|7\\\\d{10,11}|(?:[124-7]\\\\d|3[0-46-9])\\\\d{8}|[1-9]\\\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\\\d)(\\\\d{4,9})","$1 $2",["[2568][1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"],["(\\\\d{3})(\\\\d{3,7})","$1 $2",["[12]00|[368]|70[07-9]"],"0$1"],["(\\\\d{2})(\\\\d{4,8})","$1 $2",["[1245]|7[135]"],"0$1"],["(\\\\d{2})(\\\\d{6,10})","$1 $2",["7"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],"FJ":["679","0(?:0|52)","45\\\\d{5}|(?:0800\\\\d|[235-9])\\\\d{6}",[7,11],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[235-9]|45"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],"FK":["500","00","[2-7]\\\\d{4}",[5]],"FM":["691","00","(?:[39]\\\\d\\\\d|820)\\\\d{4}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[389]"]]]],"FO":["298","00","[2-9]\\\\d{5}",[6],[["(\\\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],"FR":["33","00","[1-9]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],"GA":["241","00","(?:[067]\\\\d|11)\\\\d{6}|[2-7]\\\\d{6}",[7,8],[["(\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["0"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\\\d{6}|60\\\\d{6}|61\\\\d{6}|6[256]\\\\d{6}|7[467]\\\\d{6})","$1"],"GB":["44","00","[1-357-9]\\\\d{9}|[18]\\\\d{8}|8\\\\d{6}",[7,9,10],[["(\\\\d{3})(\\\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\\\d{3})(\\\\d{6})","$1 $2",["800"],"0$1"],["(\\\\d{5})(\\\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\\\d{4})(\\\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\\\d{4})(\\\\d{6})","$1 $2",["7"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,0,0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\\\d\\\\d|73[0235])|4(?:[0-5]\\\\d\\\\d|69[7-9]|70[0-79])|(?:(?:5[0-26-9]|[78][0-49])\\\\d|6(?:[0-4]\\\\d|50))\\\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\\\d)\\\\d|1(?:[0-7]\\\\d|8[0-2]))|(?:3(?:0\\\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\\\d)\\\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\\\d{3})\\\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\\\d)|76\\\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\\\d|7[4-79])|295[5-7]|35[34]\\\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\\\d{5}|7(?:[1-3]\\\\d\\\\d|4(?:[0-46-9]\\\\d|5[0-689])|5(?:0[0-8]|[13-9]\\\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\\\d|8[02-9]|9[0-689])|8(?:[014-9]\\\\d|[23][0-8])|9(?:[024-9]\\\\d|1[02-9]|3[0-689]))\\\\d{6}",[10]],["80[08]\\\\d{7}|800\\\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\\\d|8[2-49]))\\\\d{7}|845464\\\\d",[7,10]],["70\\\\d{8}",[10]],0,["(?:3[0347]|55)\\\\d{8}",[10]],["76(?:464|652)\\\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\\\d{6}",[10]],["56\\\\d{8}",[10]]],0," x"],"GD":["1","011","(?:473|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","473$1",0,"473"],"GE":["995","00","(?:[3-57]\\\\d\\\\d|800)\\\\d{6}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],"GF":["594","00","[56]94\\\\d{6}|(?:80|9\\\\d)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[56]|9[47]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],"GG":["44","00","(?:1481|[357-9]\\\\d{3})\\\\d{6}|8\\\\d{6}(?:\\\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\\\d{5})$|0","1481$1",0,0,[["1481[25-9]\\\\d{5}",[10]],["7(?:(?:781|839)\\\\d|911[17])\\\\d{5}",[10]],["80[08]\\\\d{7}|800\\\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\\\d|8[0-3]))\\\\d{7}|845464\\\\d",[7,10]],["70\\\\d{8}",[10]],0,["(?:3[0347]|55)\\\\d{8}",[10]],["76(?:464|652)\\\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\\\d{6}",[10]],["56\\\\d{8}",[10]]]],"GH":["233","00","(?:[235]\\\\d{3}|800)\\\\d{5}",[8,9],[["(\\\\d{3})(\\\\d{5})","$1 $2",["8"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],"GI":["350","00","(?:[25]\\\\d|60)\\\\d{6}",[8],[["(\\\\d{3})(\\\\d{5})","$1 $2",["2"]]]],"GL":["299","00","(?:19|[2-689]\\\\d|70)\\\\d{4}",[6],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["19|[2-9]"]]]],"GM":["220","00","[2-9]\\\\d{6}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-9]"]]]],"GN":["224","00","722\\\\d{6}|(?:3|6\\\\d)\\\\d{7}",[8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["3"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[67]"]]]],"GP":["590","00","590\\\\d{6}|(?:69|80|9\\\\d)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\\\d)\\\\d{4}"],["69(?:0\\\\d\\\\d|1(?:2[2-9]|3[0-5]))\\\\d{4}"],["80[0-5]\\\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\\\d|475[0-5])\\\\d{4}"]]],"GQ":["240","00","222\\\\d{6}|(?:3\\\\d|55|[89]0)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[235]"]],["(\\\\d{3})(\\\\d{6})","$1 $2",["[89]"]]]],"GR":["30","00","5005000\\\\d{3}|8\\\\d{9,11}|(?:[269]\\\\d|70)\\\\d{8}",[10,11,12],[["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["21|7"]],["(\\\\d{4})(\\\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2689]"]],["(\\\\d{3})(\\\\d{3,4})(\\\\d{5})","$1 $2 $3",["8"]]]],"GT":["502","00","80\\\\d{6}|(?:1\\\\d{3}|[2-7])\\\\d{7}",[8,11],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[2-8]"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"]]]],"GU":["1","011","(?:[58]\\\\d\\\\d|671|900)\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","671$1",0,"671"],"GW":["245","00","[49]\\\\d{8}|4\\\\d{6}",[7,9],[["(\\\\d{3})(\\\\d{4})","$1 $2",["40"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[49]"]]]],"GY":["592","001","(?:[2-8]\\\\d{3}|9008)\\\\d{3}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-9]"]]]],"HK":["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\\\d{6,7}|9\\\\d{4,7}|(?:[2-7]|9\\\\d{3})\\\\d{7}",[5,6,7,8,9,11],[["(\\\\d{3})(\\\\d{2,5})","$1 $2",["900","9003"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"]],["(\\\\d{3})(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],"HN":["504","00","8\\\\d{10}|[237-9]\\\\d{7}",[8,11],[["(\\\\d{4})(\\\\d{4})","$1-$2",["[237-9]"]]]],"HR":["385","00","(?:[24-69]\\\\d|3[0-79])\\\\d{7}|80\\\\d{5,7}|[1-79]\\\\d{7}|6\\\\d{5,6}",[6,7,8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2,3})","$1 $2 $3",["6[01]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[67]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[2-5]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],"HT":["509","00","(?:[2-489]\\\\d|55)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["[2-589]"]]]],"HU":["36","00","[235-7]\\\\d{8}|[1-9]\\\\d{7}",[8,9],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],"ID":["62","00[89]","(?:(?:00[1-9]|8\\\\d)\\\\d{4}|[1-36])\\\\d{6}|00\\\\d{10}|[1-9]\\\\d{8,10}|[2-9]\\\\d{7}",[7,8,9,10,11,12,13],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["15"]],["(\\\\d{2})(\\\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\\\d{3})(\\\\d{5,7})","$1 $2",["800"],"0$1"],["(\\\\d{3})(\\\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\\\d{3})(\\\\d{3,4})(\\\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\\\d{3})(\\\\d{6,8})","$1 $2",["1"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\\\d{3})(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\\\d{3})(\\\\d{4})(\\\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],"IE":["353","00","(?:1\\\\d|[2569])\\\\d{6,8}|4\\\\d{6,9}|7\\\\d{8}|8\\\\d{8,9}",[7,8,9,10],[["(\\\\d{2})(\\\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\\\d{3})(\\\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\\\d)(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1"]],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\\\d{2})(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],"IL":["972","0(?:0|1[2-9])","1\\\\d{6}(?:\\\\d{3,5})?|[57]\\\\d{8}|[1-489]\\\\d{7}",[7,8,9,10,11,12],[["(\\\\d{4})(\\\\d{3})","$1-$2",["125"]],["(\\\\d{4})(\\\\d{2})(\\\\d{2})","$1-$2-$3",["121"]],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1-$2-$3",["12"]],["(\\\\d{4})(\\\\d{6})","$1-$2",["159"]],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\\\d{3})(\\\\d{1,2})(\\\\d{3})(\\\\d{4})","$1-$2 $3-$4",["15"]]],"0"],"IM":["44","00","1624\\\\d{6}|(?:[3578]\\\\d|90)\\\\d{8}",[10],0,"0",0,"([25-8]\\\\d{5})$|0","1624$1",0,"74576|(?:16|7[56])24"],"IN":["91","00","(?:000800|[2-9]\\\\d\\\\d)\\\\d{7}|1\\\\d{7,12}",[8,9,10,11,12,13],[["(\\\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\\\d{4})(\\\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["140"],0,1],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\\\d|7(?:1(?:[013-8]\\\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\\\d{5})(\\\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\\\d{4})(\\\\d{2,4})(\\\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\\\d{4})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],"IO":["246","00","3\\\\d{6}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["3"]]]],"IQ":["964","00","(?:1|7\\\\d\\\\d)\\\\d{7}|[2-6]\\\\d{7,8}",[8,9,10],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],"IR":["98","00","[1-9]\\\\d{9}|(?:[1-8]\\\\d\\\\d|9)\\\\d{3,4}",[4,5,6,7,10],[["(\\\\d{4,5})","$1",["96"],"0$1"],["(\\\\d{2})(\\\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],"IS":["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\\\d|[4-9])\\\\d{6}",[7,9],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[4-9]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],"IT":["39","00","0\\\\d{5,10}|1\\\\d{8,10}|3(?:[0-8]\\\\d{7,10}|9\\\\d{7,8})|(?:55|70)\\\\d{8}|8\\\\d{5}(?:\\\\d{2,4})?",[6,7,8,9,10,11],[["(\\\\d{2})(\\\\d{4,6})","$1 $2",["0[26]"]],["(\\\\d{3})(\\\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\\\d{4})(\\\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["894"]],["(\\\\d{2})(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]"]],["(\\\\d{3})(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\\\d{2})(\\\\d{4})(\\\\d{5})","$1 $2 $3",["0[26]"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["0"]],["(\\\\d{3})(\\\\d{4})(\\\\d{4,5})","$1 $2 $3",["3"]]],0,0,0,0,0,0,[["0669[0-79]\\\\d{1,6}|0(?:1(?:[0159]\\\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\\\d\\\\d|3(?:[0159]\\\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\\\d|6[0-8])|7(?:[0159]\\\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\\\d|2[3-578]|3[1-356]|[6-8][1-5])|9(?:[0159]\\\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\\\d{2,7}"],["3[1-9]\\\\d{8}|3[2-9]\\\\d{7}",[9,10]],["80(?:0\\\\d{3}|3)\\\\d{3}",[6,9]],["(?:0878\\\\d{3}|89(?:2\\\\d|3[04]|4(?:[0-4]|[5-9]\\\\d\\\\d)|5[0-4]))\\\\d\\\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\\\d{6}",[6,8,9,10]],["1(?:78\\\\d|99)\\\\d{6}",[9,10]],0,0,0,["55\\\\d{8}",[10]],["84(?:[08]\\\\d{3}|[17])\\\\d{3}",[6,9]]]],"JE":["44","00","1534\\\\d{6}|(?:[3578]\\\\d|90)\\\\d{8}",[10],0,"0",0,"([0-24-8]\\\\d{5})$|0","1534$1",0,0,[["1534[0-24-8]\\\\d{5}"],["7(?:(?:(?:50|82)9|937)\\\\d|7(?:00[378]|97[7-9]))\\\\d{5}"],["80(?:07(?:35|81)|8901)\\\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\\\d{4}"],["701511\\\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\\\d{4})\\\\d{4}"],["76(?:464|652)\\\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\\\d{6}"],["56\\\\d{8}"]]],"JM":["1","011","(?:[58]\\\\d\\\\d|658|900)\\\\d{7}",[10],0,"1",0,0,0,0,"658|876"],"JO":["962","00","(?:(?:[2689]|7\\\\d)\\\\d|32|53)\\\\d{6}",[8,9],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\\\d{3})(\\\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["70"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],"JP":["81","010","00[1-9]\\\\d{6,14}|[257-9]\\\\d{9}|(?:00|[1-9]\\\\d\\\\d)\\\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\\\d{4})(\\\\d)(\\\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1-$2-$3",["[36]|4(?:2[09]|7[01])","[36]|4(?:2(?:0|9[02-69])|7(?:0[019]|1))"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1-$2-$3",["[257-9]"],"0$1"]],"0",0,"(000[259]\\\\d{6})$|(?:(?:003768)0?)|0","$1"],"KE":["254","000","(?:[17]\\\\d\\\\d|900)\\\\d{6}|(?:2|80)0\\\\d{6,7}|[4-6]\\\\d{6,8}",[7,8,9,10],[["(\\\\d{2})(\\\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\\\d{3})(\\\\d{6})","$1 $2",["[17]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],"KG":["996","00","8\\\\d{9}|[235-9]\\\\d{8}",[9,10],[["(\\\\d{4})(\\\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d)(\\\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],"KH":["855","00[14-9]","1\\\\d{9}|[1-9]\\\\d{7,8}",[8,9,10],[["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1"]]],"0"],"KI":["686","00","(?:[37]\\\\d|6[0-79])\\\\d{6}|(?:[2-48]\\\\d|50)\\\\d{3}",[5,8],0,"0"],"KM":["269","00","[3478]\\\\d{6}",[7],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["[3478]"]]]],"KN":["1","011","(?:[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-7]\\\\d{6})$|1","869$1",0,"869"],"KP":["850","00|99","85\\\\d{6}|(?:19\\\\d|[2-7])\\\\d{7}",[8,10],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],"KR":["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\\\d{8,11}|(?:[12]|5\\\\d{3})\\\\d{7}|[13-6]\\\\d{9}|(?:[1-6]\\\\d|80)\\\\d{7}|[3-6]\\\\d{4,5}|(?:00|7)0\\\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\\\d{2})(\\\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\\\d{4})(\\\\d{4})","$1-$2",["1"]],["(\\\\d)(\\\\d{3,4})(\\\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1-$2-$3",["60|8"],"0$1"],["(\\\\d{2})(\\\\d{3,4})(\\\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\\\d{2})(\\\\d{5})(\\\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\\\d\\\\d))?"],"KW":["965","00","18\\\\d{5}|(?:[2569]\\\\d|41)\\\\d{6}",[7,8],[["(\\\\d{4})(\\\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\\\d{3})(\\\\d{5})","$1 $2",["[245]"]]]],"KY":["1","011","(?:345|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","345$1",0,"345"],"KZ":["7","810","(?:33622|8\\\\d{8})\\\\d{5}|[78]\\\\d{9}",[10,14],0,"8",0,0,0,0,"33|7",0,"8~10"],"LA":["856","00","[23]\\\\d{9}|3\\\\d{8}|(?:[235-8]\\\\d|41)\\\\d{6}",[8,9,10],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3 $4",["30[013-9]"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],"LB":["961","00","[27-9]\\\\d{7}|[13-9]\\\\d{6}",[7,8],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-7]|9[04-9])|8[02-9]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],"LC":["1","011","(?:[58]\\\\d\\\\d|758|900)\\\\d{7}",[10],0,"1",0,"([2-8]\\\\d{6})$|1","758$1",0,"758"],"LI":["423","00","[68]\\\\d{8}|(?:[2378]\\\\d|90)\\\\d{5}",[7,9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["69"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],"LK":["94","00","[1-9]\\\\d{8}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],"LR":["231","00","(?:[25]\\\\d|33|77|88)\\\\d{7}|(?:2\\\\d|[4-6])\\\\d{6}",[7,8,9],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[4-6]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[23578]"],"0$1"]],"0"],"LS":["266","00","(?:[256]\\\\d\\\\d|800)\\\\d{5}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[2568]"]]]],"LT":["370","00","(?:[3469]\\\\d|52|[78]0)\\\\d{6}",[8],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["52[0-7]"],"(8-$1)",1],["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["[7-9]"],"8 $1",1],["(\\\\d{2})(\\\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(8-$1)",1],["(\\\\d{3})(\\\\d{5})","$1 $2",["[3-6]"],"(8-$1)",1]],"8",0,"[08]"],"LU":["352","00","35[013-9]\\\\d{4,8}|6\\\\d{8}|35\\\\d{2,4}|(?:[2457-9]\\\\d|3[0-46-9])\\\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\\\d{2})(\\\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3 $4",["20"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["6"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\\\d)"],"LV":["371","00","(?:[268]\\\\d|90)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[269]|8[01]"]]]],"LY":["218","00","[2-9]\\\\d{8}",[9],[["(\\\\d{2})(\\\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],"MA":["212","00","[5-8]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\\\d{4})(\\\\d{5})","$1-$2",["5(?:2[2-489]|3[5-9]|9)|8(?:0[89]|92)","5(?:2(?:[2-49]|8[235-9])|3[5-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1-$2",["8"],"0$1"],["(\\\\d{3})(\\\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\\\d)\\\\d{5}"],["(?:6(?:[0-79]\\\\d|8[0-247-9])|7(?:[0167]\\\\d|2[0-2]|5[01]|8[0-3]))\\\\d{6}"],["80[0-7]\\\\d{6}"],["89\\\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\\\d\\\\d)\\\\d{4}"]]],"MC":["377","00","(?:[3489]|6\\\\d)\\\\d{7}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\\\d)(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],"MD":["373","00","(?:[235-7]\\\\d|[89]0)\\\\d{6}",[8],[["(\\\\d{3})(\\\\d{5})","$1 $2",["[89]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],"ME":["382","00","(?:20|[3-79]\\\\d)\\\\d{6}|80\\\\d{6,7}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],"MF":["590","00","590\\\\d{6}|(?:69|80|9\\\\d)\\\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\\\d{4}"],["69(?:0\\\\d\\\\d|1(?:2[2-9]|3[0-5]))\\\\d{4}"],["80[0-5]\\\\d{6}"],0,0,0,0,0,["9(?:(?:395|76[018])\\\\d|475[0-5])\\\\d{4}"]]],"MG":["261","00","[23]\\\\d{8}",[9],[["(\\\\d{2})(\\\\d{2})(\\\\d{3})(\\\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\\\d{6})$|0","20$1"],"MH":["692","011","329\\\\d{4}|(?:[256]\\\\d|45)\\\\d{5}",[7],[["(\\\\d{3})(\\\\d{4})","$1-$2",["[2-6]"]]],"1"],"MK":["389","00","[2-578]\\\\d{7}",[8],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\\\d{3})(\\\\d)(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],"ML":["223","00","[24-9]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],"MM":["95","00","1\\\\d{5,7}|95\\\\d{6}|(?:[4-7]|9[0-46-9])\\\\d{6,8}|(?:2|8\\\\d)\\\\d{5,8}",[6,7,8,9,10],[["(\\\\d)(\\\\d{2})(\\\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["[45]|6(?:0[23]|[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-6]"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[12]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\\\d)(\\\\d{5})(\\\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],"MN":["976","001","[12]\\\\d{7,9}|[5-9]\\\\d{7}",[8,9,10],[["(\\\\d{2})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\\\d{4})(\\\\d{4})","$1 $2",["[5-9]"]],["(\\\\d{3})(\\\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\\\d{4})(\\\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\\\d{5})(\\\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],"MO":["853","00","0800\\\\d{3}|(?:28|[68]\\\\d)\\\\d{6}",[7,8],[["(\\\\d{4})(\\\\d{3})","$1 $2",["0"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[268]"]]]],"MP":["1","011","[58]\\\\d{9}|(?:67|90)0\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","670$1",0,"670"],"MQ":["596","00","596\\\\d{6}|(?:69|80|9\\\\d)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[569]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],"MR":["222","00","(?:[2-4]\\\\d\\\\d|800)\\\\d{5}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],"MS":["1","011","(?:[58]\\\\d\\\\d|664|900)\\\\d{7}",[10],0,"1",0,"([34]\\\\d{6})$|1","664$1",0,"664"],"MT":["356","00","3550\\\\d{4}|(?:[2579]\\\\d\\\\d|800)\\\\d{5}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[2357-9]"]]]],"MU":["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\\\d\\\\d)\\\\d{7}|[2-468]\\\\d{6}",[7,8,10],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[57]"]],["(\\\\d{5})(\\\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],"MV":["960","0(?:0|19)","(?:800|9[0-57-9]\\\\d)\\\\d{7}|[34679]\\\\d{6}",[7,10],[["(\\\\d{3})(\\\\d{4})","$1-$2",["[34679]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],"MW":["265","00","(?:[1289]\\\\d|31|77)\\\\d{7}|1\\\\d{6}",[7,9],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],"MX":["52","0[09]","1(?:(?:[27]2|44|87|99)[1-9]|65[0-689])\\\\d{7}|(?:1(?:[01]\\\\d|2[13-9]|[35][1-9]|4[0-35-9]|6[0-46-9]|7[013-9]|8[1-69]|9[1-8])|[2-9]\\\\d)\\\\d{8}",[10,11],[["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["33|5[56]|81"],0,1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2-9]"],0,1],["(\\\\d)(\\\\d{2})(\\\\d{4})(\\\\d{4})","$2 $3 $4",["1(?:33|5[56]|81)"],0,1],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{4})","$2 $3 $4",["1"],0,1]],"01",0,"0(?:[12]|4[45])|1",0,0,0,0,"00"],"MY":["60","00","1\\\\d{8,9}|(?:3\\\\d|[4-9])\\\\d{7}",[8,9,10],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{2})(\\\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],"MZ":["258","00","(?:2|8\\\\d)\\\\d{7}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["8"]]]],"NA":["264","00","[68]\\\\d{7,8}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],"NC":["687","00","(?:050|[2-57-9]\\\\d\\\\d)\\\\d{3}",[6],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1.$2.$3",["[02-57-9]"]]]],"NE":["227","00","[027-9]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["08"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[047]"]]]],"NF":["672","00","[13]\\\\d{5}",[6],[["(\\\\d{2})(\\\\d{4})","$1 $2",["1[0-3]"]],["(\\\\d)(\\\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\\\d{4})$","3$1"],"NG":["234","009","(?:[124-7]|9\\\\d{3})\\\\d{6}|[1-9]\\\\d{7}|[78]\\\\d{9,13}",[7,8,10,11,12,13,14],[["(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["78"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[12]|9(?:0[3-9]|[1-9])"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2,3})","$1 $2 $3",["[3-7]|8[2-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\\\d{3})(\\\\d{4})(\\\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\\\d{3})(\\\\d{5})(\\\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],"NI":["505","00","(?:1800|[25-8]\\\\d{3})\\\\d{4}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[125-8]"]]]],"NL":["31","00","(?:[124-7]\\\\d\\\\d|3(?:[02-9]\\\\d|1[0-8]))\\\\d{6}|8\\\\d{6,9}|9\\\\d{6,10}|1\\\\d{4,5}",[5,6,7,8,9,10,11],[["(\\\\d{3})(\\\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["66"],"0$1"],["(\\\\d)(\\\\d{8})","$1 $2",["6"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],"NO":["47","00","(?:0|[2-9]\\\\d{3})\\\\d{4}",[5,8],[["(\\\\d{3})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["8"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],"NP":["977","00","(?:1\\\\d|9)\\\\d{9}|[1-9]\\\\d{7}",[8,10,11],[["(\\\\d)(\\\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\\\d{2})(\\\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\\\d{3})(\\\\d{7})","$1-$2",["9"]]],"0"],"NR":["674","00","(?:444|(?:55|8\\\\d)\\\\d|666)\\\\d{4}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[4-68]"]]]],"NU":["683","00","(?:[4-7]|888\\\\d)\\\\d{3}",[4,7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["8"]]]],"NZ":["64","0(?:0|161)","[1289]\\\\d{9}|50\\\\d{5}(?:\\\\d{2,3})?|[27-9]\\\\d{7,8}|(?:[34]\\\\d|6[0-35-9])\\\\d{6}|8\\\\d{4,6}",[5,6,7,8,9,10],[["(\\\\d{2})(\\\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\\\d{3})(\\\\d{2})(\\\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\\\d{2})(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],"OM":["968","00","(?:1505|[279]\\\\d{3}|500)\\\\d{4}|800\\\\d{5,6}",[7,8,9],[["(\\\\d{3})(\\\\d{4,6})","$1 $2",["[58]"]],["(\\\\d{2})(\\\\d{6})","$1 $2",["2"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[179]"]]]],"PA":["507","00","(?:00800|8\\\\d{3})\\\\d{6}|[68]\\\\d{7}|[1-57-9]\\\\d{6}",[7,8,10,11],[["(\\\\d{3})(\\\\d{4})","$1-$2",["[1-57-9]"]],["(\\\\d{4})(\\\\d{4})","$1-$2",["[68]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"]]]],"PE":["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\\\d)\\\\d{7}",[8,9],[["(\\\\d{3})(\\\\d{5})","$1 $2",["80"],"(0$1)"],["(\\\\d)(\\\\d{7})","$1 $2",["1"],"(0$1)"],["(\\\\d{2})(\\\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],"PF":["689","00","4\\\\d{5}(?:\\\\d{2})?|8\\\\d{7,8}",[6,8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["44"]],["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"]]]],"PG":["675","00|140[1-3]","(?:180|[78]\\\\d{3})\\\\d{4}|(?:[2-589]\\\\d|64)\\\\d{5}",[7,8],[["(\\\\d{3})(\\\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],"PH":["63","00","(?:[2-7]|9\\\\d)\\\\d{8}|2\\\\d{5}|(?:1800|8)\\\\d{7,9}",[6,8,9,10,11,12,13],[["(\\\\d)(\\\\d{5})","$1 $2",["2"],"(0$1)"],["(\\\\d{4})(\\\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\\\d{5})(\\\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"]],["(\\\\d{4})(\\\\d{1,2})(\\\\d{3})(\\\\d{4})","$1 $2 $3 $4",["1"]]],"0"],"PK":["92","00","122\\\\d{6}|[24-8]\\\\d{10,11}|9(?:[013-9]\\\\d{8,10}|2(?:[01]\\\\d\\\\d|2(?:[06-8]\\\\d|1[01]))\\\\d{7})|(?:[2-8]\\\\d{3}|92(?:[0-7]\\\\d|8[1-9]))\\\\d{6}|[24-9]\\\\d{8}|[89]\\\\d{7}",[8,9,10,11,12],[["(\\\\d{3})(\\\\d{3})(\\\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\\\d{4})(\\\\d{5})","$1 $2",["1"]],["(\\\\d{3})(\\\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\\\d{2})(\\\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\\\d{5})(\\\\d{5})","$1 $2",["58"],"(0$1)"],["(\\\\d{3})(\\\\d{7})","$1 $2",["3"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],"PL":["48","00","(?:6|8\\\\d\\\\d)\\\\d{7}|[1-9]\\\\d{6}(?:\\\\d{2})?|[26]\\\\d{5}",[6,7,8,9,10],[["(\\\\d{5})","$1",["19"]],["(\\\\d{3})(\\\\d{3})","$1 $2",["11|20|64"]],["(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2,3})","$1 $2 $3",["64"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["8"]]]],"PM":["508","00","[45]\\\\d{5}|(?:708|80\\\\d)\\\\d{6}",[6,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["7"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],"PR":["1","011","(?:[589]\\\\d\\\\d|787)\\\\d{7}",[10],0,"1",0,0,0,0,"787|939"],"PS":["970","00","[2489]2\\\\d{6}|(?:1\\\\d|5)\\\\d{8}",[8,9,10],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1"]]],"0"],"PT":["351","00","1693\\\\d{5}|(?:[26-9]\\\\d|30)\\\\d{7}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["2[12]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["16|[236-9]"]]]],"PW":["680","01[12]","(?:[24-8]\\\\d\\\\d|345|900)\\\\d{4}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-9]"]]]],"PY":["595","00","59\\\\d{4,6}|9\\\\d{5,10}|(?:[2-46-8]\\\\d|5[0-8])\\\\d{4,7}",[6,7,8,9,10,11],[["(\\\\d{3})(\\\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\\\d{2})(\\\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\\\d{3})(\\\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["87"]],["(\\\\d{3})(\\\\d{6})","$1 $2",["9(?:[5-79]|8[1-6])"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["9"]]],"0"],"QA":["974","00","800\\\\d{4}|(?:2|800)\\\\d{6}|(?:0080|[3-7])\\\\d{7}",[7,8,9,11],[["(\\\\d{3})(\\\\d{4})","$1 $2",["2[16]|8"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[3-7]"]]]],"RE":["262","00","(?:26|[689]\\\\d)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2689]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\\\d\\\\d|3(?:0\\\\d|1[0-6]))\\\\d{4}"],["69(?:2\\\\d\\\\d|3(?:[06][0-6]|1[013]|2[0-2]|3[0-39]|4\\\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))\\\\d{4}"],["80\\\\d{7}"],["89[1-37-9]\\\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-5]|76(?:2[27]|3[0-37]))\\\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\\\d{6}"]]],"RO":["40","00","(?:[2378]\\\\d|62|90)\\\\d{7}|[23]\\\\d{5}",[6,9],[["(\\\\d{3})(\\\\d{3})","$1 $2",["2[3-6]","2[3-6]\\\\d9"],"0$1"],["(\\\\d{2})(\\\\d{4})","$1 $2",["219|31"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],"RS":["381","00","38[02-9]\\\\d{6,9}|6\\\\d{7,9}|90\\\\d{4,8}|38\\\\d{5,6}|(?:7\\\\d\\\\d|800)\\\\d{3,9}|(?:[12]\\\\d|3[0-79])\\\\d{5,10}",[6,7,8,9,10,11,12],[["(\\\\d{3})(\\\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\\\d{2})(\\\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],"RU":["7","810","8\\\\d{13}|[347-9]\\\\d{9}",[10,14],[["(\\\\d{4})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\\\d{5})(\\\\d)(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\\\d{4})(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,"3[04-689]|[489]",0,"8~10"],"RW":["250","00","(?:06|[27]\\\\d\\\\d|[89]00)\\\\d{6}",[8,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["0"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["2"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],"SA":["966","00","92\\\\d{7}|(?:[15]|8\\\\d)\\\\d{8}",[9,10],[["(\\\\d{4})(\\\\d{5})","$1 $2",["9"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["81"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"]]],"0"],"SB":["677","0[01]","(?:[1-6]|[7-9]\\\\d\\\\d)\\\\d{4}",[5,7],[["(\\\\d{2})(\\\\d{5})","$1 $2",["7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],"SC":["248","010|0[0-2]","800\\\\d{4}|(?:[249]\\\\d|64)\\\\d{5}",[7],[["(\\\\d)(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],"SD":["249","00","[19]\\\\d{8}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],"SE":["46","00","(?:[26]\\\\d\\\\d|9)\\\\d{9}|[1-9]\\\\d{8}|[1-689]\\\\d{7}|[1-4689]\\\\d{6}|2\\\\d{5}",[6,7,8,9,10],[["(\\\\d{2})(\\\\d{2,3})(\\\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\\\d{3})(\\\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\\\d)(\\\\d{2,3})(\\\\d{2})(\\\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d{3})(\\\\d{2,3})(\\\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\\\d{3})(\\\\d{2,3})(\\\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\\\d{2})(\\\\d{2,3})(\\\\d{2})(\\\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\\\d{3})(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],"SG":["65","0[0-3]\\\\d","(?:(?:1\\\\d|8)\\\\d\\\\d|7000)\\\\d{7}|[3689]\\\\d{7}",[8,10,11],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[369]|8(?:0[1-8]|[1-9])"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"]],["(\\\\d{4})(\\\\d{4})(\\\\d{3})","$1 $2 $3",["7"]],["(\\\\d{4})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["1"]]]],"SH":["290","00","(?:[256]\\\\d|8)\\\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],"SI":["386","00|10(?:22|66|88|99)","[1-7]\\\\d{7}|8\\\\d{4,7}|90\\\\d{4,6}",[5,6,7,8],[["(\\\\d{2})(\\\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\\\d{3})(\\\\d{5})","$1 $2",["59|8"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],"SJ":["47","00","0\\\\d{4}|(?:[489]\\\\d|79)\\\\d{6}",[5,8],0,0,0,0,0,0,"79"],"SK":["421","00","[2-689]\\\\d{8}|[2-59]\\\\d{6}|[2-5]\\\\d{5}",[6,7,9],[["(\\\\d)(\\\\d{2})(\\\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\\\d{2})(\\\\d{2})(\\\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{3})(\\\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],"SL":["232","00","(?:[237-9]\\\\d|66)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],"SM":["378","00","(?:0549|[5-7]\\\\d)\\\\d{6}",[8,10],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\\\d{4})(\\\\d{6})","$1 $2",["0"]]],0,0,"([89]\\\\d{5})$","0549$1"],"SN":["221","00","(?:[378]\\\\d|93)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"]],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[379]"]]]],"SO":["252","00","[346-9]\\\\d{8}|[12679]\\\\d{7}|[1-5]\\\\d{6}|[1348]\\\\d{5}",[6,7,8,9],[["(\\\\d{2})(\\\\d{4})","$1 $2",["8[125]"]],["(\\\\d{6})","$1",["[134]"]],["(\\\\d)(\\\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\\\d)(\\\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\\\d{2})(\\\\d{5,7})","$1 $2",["1|28|6[0-35-9]|77|9[2-9]"]]],"0"],"SR":["597","00","(?:[2-5]|68|[78]\\\\d)\\\\d{5}",[6,7],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1-$2-$3",["56"]],["(\\\\d{3})(\\\\d{3})","$1-$2",["[2-5]"]],["(\\\\d{3})(\\\\d{4})","$1-$2",["[6-8]"]]]],"SS":["211","00","[19]\\\\d{8}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],"ST":["239","00","(?:22|9\\\\d)\\\\d{5}",[7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[29]"]]]],"SV":["503","00","[267]\\\\d{7}|[89]00\\\\d{4}(?:\\\\d{4})?",[7,8,11],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[89]"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["[267]"]],["(\\\\d{3})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[89]"]]]],"SX":["1","011","7215\\\\d{6}|(?:[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"(5\\\\d{6})$|1","721$1",0,"721"],"SY":["963","00","[1-39]\\\\d{8}|[1-5]\\\\d{7}",[8,9],[["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[1-5]"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["9"],"0$1",1]],"0"],"SZ":["268","00","0800\\\\d{4}|(?:[237]\\\\d|900)\\\\d{6}",[8,9],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[0237]"]],["(\\\\d{5})(\\\\d{4})","$1 $2",["9"]]]],"TA":["290","00","8\\\\d{3}",[4],0,0,0,0,0,0,"8"],"TC":["1","011","(?:[58]\\\\d\\\\d|649|900)\\\\d{7}",[10],0,"1",0,"([2-479]\\\\d{6})$|1","649$1",0,"649"],"TD":["235","00|16","(?:22|[69]\\\\d|77)\\\\d{6}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[2679]"]]],0,0,0,0,0,0,0,"00"],"TG":["228","00","[279]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[279]"]]]],"TH":["66","00[1-9]","(?:001800|[2-57]|[689]\\\\d)\\\\d{7}|1\\\\d{7,9}",[8,9,10,13],[["(\\\\d)(\\\\d{3})(\\\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\\\d{4})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["1"]]],"0"],"TJ":["992","810","[0-57-9]\\\\d{8}",[9],[["(\\\\d{6})(\\\\d)(\\\\d{2})","$1 $2 $3",["331","3317"]],["(\\\\d{3})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\\\d{4})(\\\\d)(\\\\d{4})","$1 $2 $3",["3[1-5]"]],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],"TK":["690","00","[2-47]\\\\d{3,6}",[4,5,6,7]],"TL":["670","00","7\\\\d{7}|(?:[2-47]\\\\d|[89]0)\\\\d{5}",[7,8],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[2-489]|70"]],["(\\\\d{4})(\\\\d{4})","$1 $2",["7"]]]],"TM":["993","810","[1-6]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\\\d{3})(\\\\d)(\\\\d{2})(\\\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\\\d{2})(\\\\d{6})","$1 $2",["6"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],"TN":["216","00","[2-57-9]\\\\d{7}",[8],[["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2-57-9]"]]]],"TO":["676","00","(?:0800|(?:[5-8]\\\\d\\\\d|999)\\\\d)\\\\d{3}|[2-8]\\\\d{4}",[5,7],[["(\\\\d{2})(\\\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\\\d{4})(\\\\d{3})","$1 $2",["0"]],["(\\\\d{3})(\\\\d{4})","$1 $2",["[5-9]"]]]],"TR":["90","00","4\\\\d{6}|8\\\\d{11,12}|(?:[2-58]\\\\d\\\\d|900)\\\\d{7}",[7,10,12,13],[["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\\\d{3})(\\\\d{3})(\\\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],"TT":["1","011","(?:[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-46-8]\\\\d{6})$|1","868$1",0,"868"],"TV":["688","00","(?:2|7\\\\d\\\\d|90)\\\\d{4}",[5,6,7],[["(\\\\d{2})(\\\\d{3})","$1 $2",["2"]],["(\\\\d{2})(\\\\d{4})","$1 $2",["90"]],["(\\\\d{2})(\\\\d{5})","$1 $2",["7"]]]],"TW":["886","0(?:0[25-79]|19)","[2-689]\\\\d{8}|7\\\\d{9,10}|[2-8]\\\\d{7}|2\\\\d{6}",[7,8,9,10,11],[["(\\\\d{2})(\\\\d)(\\\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\\\d)(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\\\d{2})(\\\\d{4})(\\\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],"TZ":["255","00[056]","(?:[25-8]\\\\d|41|90)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["5"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],"UA":["380","00","[89]\\\\d{9}|[3-9]\\\\d{8}",[9,10],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\\\d{4})(\\\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],"UG":["256","00[057]","800\\\\d{6}|(?:[29]0|[347]\\\\d)\\\\d{7}",[9],[["(\\\\d{4})(\\\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\\\d{3})(\\\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],"US":["1","011","[2-9]\\\\d{9}|3\\\\d{6}",[10],[["(\\\\d{3})(\\\\d{4})","$1-$2",["310"],0,1],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["(?:5056(?:[0-35-9]\\\\d|4[468])|73020\\\\d)\\\\d{4}|(?:4722|505[2-57-9]|983[289])\\\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[149]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-57-9]|1[02-9]|2[013569]|3[0-24679]|4[167]|5[0-2]|6[0149]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-47-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|[34][016]|5[01679]|6[0-279]|78|8[0-29])|7(?:0[1-46-8]|1[2-9]|2[04-7]|3[1247]|4[037]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[068]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-389]|8[04-69]))[2-9]\\\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\\\d{6}"],["900[2-9]\\\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\\\d|5(?:[02-46-9]\\\\d|5[0-46-9]))|4(?:[2-478][02-9]\\\\d|5(?:[034]\\\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\\\d)|9(?:[05-9]\\\\d|2[0-5]|49)))\\\\d{4}|52[34][2-9]1[02-9]\\\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\\\d{6}"]]],"UY":["598","0(?:0|1[3-9]\\\\d)","0004\\\\d{2,9}|[1249]\\\\d{7}|(?:[49]\\\\d|80)\\\\d{5}",[6,7,8,9,10,11,12,13],[["(\\\\d{3})(\\\\d{3,4})","$1 $2",["0"]],["(\\\\d{3})(\\\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\\\d{4})(\\\\d{4})","$1 $2",["[124]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{2,4})","$1 $2 $3",["0"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})(\\\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],"UZ":["998","810","(?:20|33|[5-79]\\\\d|88)\\\\d{7}",[9],[["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["[235-9]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],"VA":["39","00","0\\\\d{5,10}|3[0-8]\\\\d{7,10}|55\\\\d{8}|8\\\\d{5}(?:\\\\d{2,4})?|(?:1\\\\d|39)\\\\d{7,8}",[6,7,8,9,10,11],0,0,0,0,0,0,"06698"],"VC":["1","011","(?:[58]\\\\d\\\\d|784|900)\\\\d{7}",[10],0,"1",0,"([2-7]\\\\d{6})$|1","784$1",0,"784"],"VE":["58","00","[68]00\\\\d{7}|(?:[24]\\\\d|[59]0)\\\\d{8}",[10],[["(\\\\d{3})(\\\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],"VG":["1","011","(?:284|[58]\\\\d\\\\d|900)\\\\d{7}",[10],0,"1",0,"([2-578]\\\\d{6})$|1","284$1",0,"284"],"VI":["1","011","[58]\\\\d{9}|(?:34|90)0\\\\d{7}",[10],0,"1",0,"([2-9]\\\\d{6})$|1","340$1",0,"340"],"VN":["84","00","[12]\\\\d{9}|[135-9]\\\\d{8}|[16]\\\\d{7}|[16-8]\\\\d{6}",[7,8,9,10],[["(\\\\d{2})(\\\\d{5})","$1 $2",["80"],"0$1",1],["(\\\\d{4})(\\\\d{4,6})","$1 $2",["1"],0,1],["(\\\\d{2})(\\\\d{3})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\\\d{3})(\\\\d{4})(\\\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],"VU":["678","00","[57-9]\\\\d{6}|(?:[238]\\\\d|48)\\\\d{3}",[5,7],[["(\\\\d{3})(\\\\d{4})","$1 $2",["[57-9]"]]]],"WF":["681","00","(?:40|72)\\\\d{4}|8\\\\d{5}(?:\\\\d{3})?",[6,9],[["(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3",["[478]"]],["(\\\\d{3})(\\\\d{2})(\\\\d{2})(\\\\d{2})","$1 $2 $3 $4",["8"]]]],"WS":["685","0","(?:[2-6]|8\\\\d{5})\\\\d{4}|[78]\\\\d{6}|[68]\\\\d{5}",[5,6,7,10],[["(\\\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\\\d{3})(\\\\d{3,7})","$1 $2",["[68]"]],["(\\\\d{2})(\\\\d{5})","$1 $2",["7"]]]],"XK":["383","00","[23]\\\\d{7,8}|(?:4\\\\d\\\\d|[89]00)\\\\d{5}",[8,9],[["(\\\\d{3})(\\\\d{5})","$1 $2",["[89]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[23]"],"0$1"]],"0"],"YE":["967","00","(?:1|7\\\\d)\\\\d{7}|[1-7]\\\\d{6}",[7,8,9],[["(\\\\d)(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],"YT":["262","00","(?:80|9\\\\d)\\\\d{7}|(?:26|63)9\\\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|5[0-4]|6\\\\d|[78]0)\\\\d{4}"],["639(?:0[0-79]|1[019]|[267]\\\\d|3[09]|40|5[05-9]|9[04-79])\\\\d{4}"],["80\\\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\\\d)\\\\d{4}"]]],"ZA":["27","00","[1-79]\\\\d{8}|8\\\\d{4,9}",[5,6,7,8,9,10],[["(\\\\d{2})(\\\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],"ZM":["260","00","800\\\\d{6}|(?:21|63|[79]\\\\d)\\\\d{7}",[9],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["[79]"],"0$1"]],"0"],"ZW":["263","00","2(?:[0-57-9]\\\\d{6,8}|6[0-24-9]\\\\d{6,7})|[38]\\\\d{9}|[35-8]\\\\d{8}|[3-6]\\\\d{7}|[1-689]\\\\d{6}|[1-3569]\\\\d{5}|[1356]\\\\d{4}",[5,6,7,8,9,10],[["(\\\\d{3})(\\\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\\\d)(\\\\d{3})(\\\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\\\d{3})(\\\\d{4})","$1 $2",["80"],"0$1"],["(\\\\d{2})(\\\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\\\d{2})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\\\d{3})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\\\d{4})(\\\\d{6})","$1 $2",["8"],"0$1"],["(\\\\d{2})(\\\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\\\d{2})(\\\\d{3})(\\\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\\\d{4})(\\\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},"nonGeographic":{"800":["800",0,"(?:00|[1-9]\\\\d)\\\\d{6}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["\\\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\\\d)\\\\d{6}"]]],"808":["808",0,"[1-9]\\\\d{7}",[8],[["(\\\\d{4})(\\\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\\\d{7}"]]],"870":["870",0,"7\\\\d{11}|[35-7]\\\\d{8}",[9,12],[["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["[35-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\\\d{8}|7[6-8]\\\\d{7}"]]],"878":["878",0,"10\\\\d{10}",[12],[["(\\\\d{2})(\\\\d{5})(\\\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\\\d{10}"]]],"881":["881",0,"6\\\\d{9}|[0-36-9]\\\\d{8}",[9,10],[["(\\\\d)(\\\\d{3})(\\\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\\\d)(\\\\d{3})(\\\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\\\d{9}|[0-36-9]\\\\d{8}"]]],"882":["882",0,"[13]\\\\d{6}(?:\\\\d{2,5})?|[19]\\\\d{7}|(?:[25]\\\\d\\\\d|4)\\\\d{7}(?:\\\\d{2})?",[7,8,9,10,11,12],[["(\\\\d{2})(\\\\d{5})","$1 $2",["16|342"]],["(\\\\d{2})(\\\\d{6})","$1 $2",["49"]],["(\\\\d{2})(\\\\d{2})(\\\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\\\d{2})(\\\\d{4})(\\\\d{3})","$1 $2 $3",["3[23]"]],["(\\\\d{2})(\\\\d{3,4})(\\\\d{4})","$1 $2 $3",["16"]],["(\\\\d{2})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\\\d{3})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["34"]],["(\\\\d{2})(\\\\d{4,5})(\\\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\\\d{4}|(?:337|49)\\\\d{6}|(?:3(?:2|47|7\\\\d{3})|50\\\\d{3})\\\\d{7}",[7,8,9,10,12]],0,0,0,0,0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\\\d{4}|6\\\\d{5,10})|(?:345\\\\d|9[89])\\\\d{6}|(?:10|2(?:3|85\\\\d)|3(?:[15]|[69]\\\\d\\\\d)|4[15-8]|51)\\\\d{8}"]]],"883":["883",0,"(?:[1-4]\\\\d|51)\\\\d{6,10}",[8,9,10,11,12],[["(\\\\d{3})(\\\\d{3})(\\\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3",["510"]],["(\\\\d{3})(\\\\d{3})(\\\\d{4})","$1 $2 $3",["21"]],["(\\\\d{4})(\\\\d{4})(\\\\d{4})","$1 $2 $3",["51[13]"]],["(\\\\d{3})(\\\\d{3})(\\\\d{3})(\\\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\\\d\\\\d|10)|(?:370[1-9]|51\\\\d0)\\\\d)\\\\d{7}|51(?:00\\\\d{5}|[24-9]0\\\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\\\d{5,9}"]]],"888":["888",0,"\\\\d{11}",[11],[["(\\\\d{3})(\\\\d{3})(\\\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\\\d{11}"]]],"979":["979",0,"[1359]\\\\d{8}",[9],[["(\\\\d)(\\\\d{4})(\\\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\\\d{8}"]]]}}')}}]);